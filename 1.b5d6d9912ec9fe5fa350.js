(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"7Ow8":function(e,t,n){"use strict";n.d(t,"a",function(){return B});var i=n("AytR"),o=n("W4rt"),r=n("eIep"),a=n("cp0P"),s=n("8J6U"),l=n("vdWK"),c=n("fXoL"),m=n("1kSV"),p=n("ev4g"),d=n("XAmU"),f=n("5eHb"),v=n("1bi4"),I=n("kmKP"),u=n("ofXK"),x=n("Jn3s"),g=n("f3yp"),D=n("mp/k"),S=n("SdWN"),C=n("lkLw");function h(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"h5",7),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" Feedback- ",null==e.panelMemberAnswer?null:e.panelMemberAnswer.presenterCompany," ")}}function y(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"h5",7),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.reviews[0].taskTitle," ")}}function w(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"h5",7),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.stageReview.companyName," - Review ")}}function b(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"p",11),c["\u0275\u0275elementStart"](1,"b"),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](3," reviewer(s), "),c["\u0275\u0275elementStart"](4,"b"),c["\u0275\u0275text"](5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](6," have responded "),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit,t=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.taskOwners.length),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](t.ownersResponded(e.taskOwners))}}function E(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"formatDate"),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,e.dateSentForSignOff)," ")}}function F(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span",23),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"number"),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" posted a score of ",c["\u0275\u0275pipeBind2"](2,1,e.formReviewPercentage,"1.2-2")," % ")}}function R(e,t){1&e&&c["\u0275\u0275element"](0,"app-spinner")}function O(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",24),c["\u0275\u0275elementStart"](1,"p",25),c["\u0275\u0275text"](2," No feedback yet. "),c["\u0275\u0275elementStart"](3,"a",26),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]().index,n=c["\u0275\u0275nextContext"]().index;return c["\u0275\u0275nextContext"]().sendReminder(n,t)}),c["\u0275\u0275template"](4,R,1,0,"app-spinner",6),c["\u0275\u0275text"](5," Send a reminder "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]().$implicit,t=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](3),c["\u0275\u0275classProp"]("disabled",e.sendingReminder||e.contactID===t.contactID),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.sendingReminder)}}function T(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",27),c["\u0275\u0275elementStart"](1,"app-form-review-feedback-limited",28),c["\u0275\u0275listener"]("activeSectionSelected",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).onActiveSectionSelect(t)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]().$implicit,t=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("formFieldAnswerCategoryID",1)("contactID",e.contactID)("formID",e.formID)("taskOwner",e)("limited",t.limited)("showScore",!1)("activeSection",t.activeSection)("form",t.form)("answerReferenceID",e.taskOwnerID)}}function k(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"span",29),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]().index,n=c["\u0275\u0275nextContext"]().index;return c["\u0275\u0275nextContext"]().preview(n,t)}),c["\u0275\u0275text"](1,"Read full review"),c["\u0275\u0275elementEnd"]()}}function P(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"div",12),c["\u0275\u0275elementStart"](2,"div",13),c["\u0275\u0275elementStart"](3,"span",14),c["\u0275\u0275element"](4,"img",15),c["\u0275\u0275pipe"](5,"avatar"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div",16),c["\u0275\u0275elementStart"](7,"h2",17),c["\u0275\u0275text"](8),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"div",18),c["\u0275\u0275template"](10,E,3,3,"span",6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](11,F,3,4,"span",19),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](12,O,6,3,"div",20),c["\u0275\u0275template"](13,T,2,9,"div",21),c["\u0275\u0275template"](14,k,2,0,"span",22),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("src",c["\u0275\u0275pipeBind1"](5,7,e.profilePhoto),c["\u0275\u0275sanitizeUrl"]),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](e.firstName+" "+e.surname),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",e.dateSentForSignOff),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.formReviewPercentage),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e&&3!==e.taskStatusID&&2!==e.formTypeID),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1!==e.taskStatusID),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.limited)}}function M(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",8),c["\u0275\u0275template"](1,b,7,2,"p",9),c["\u0275\u0275template"](2,P,15,9,"ng-container",10),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.taskOwners.length&&n.limited),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.taskOwners)}}function $(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span",23),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"percent"),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" posted a score of ",c["\u0275\u0275pipeBind1"](2,1,e.stageReview.totalScore/e.stageReview.maxFormScore||0)," ")}}function _(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span",34),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"formatDate"),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,e.stageReview.reviewDate)," ")}}function A(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"div",12),c["\u0275\u0275element"](2,"img",30),c["\u0275\u0275pipe"](3,"avatar"),c["\u0275\u0275elementStart"](4,"div",18),c["\u0275\u0275elementStart"](5,"span",31),c["\u0275\u0275text"](6),c["\u0275\u0275template"](7,$,3,3,"span",19),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](8,_,3,3,"span",32),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"div",27),c["\u0275\u0275elementStart"](10,"app-form-review-feedback-limited",33),c["\u0275\u0275listener"]("activeSectionSelected",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onActiveSectionSelect(t)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("src",c["\u0275\u0275pipeBind1"](3,12,e.stageReview.profilePhoto),c["\u0275\u0275sanitizeUrl"]),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",e.stageReview.firstName+" "+e.stageReview.surname," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.stageReview.totalScore),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.stageReview.reviewDate),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("formFieldAnswerCategoryID",1)("formID",e.stageReview.formID)("limited",e.limited)("activeSection",e.activeSection)("showScore",!1)("form",e.form)("contactID",0)("answerReferenceID",e.stageReview.taskOwnerID)}}let B=(()=>{class e{constructor(e,t,n,o,r,a,s){this.modal=e,this.taskService=t,this.discussionService=n,this.toastrService=o,this.distributionService=r,this.userService=a,this.activeModal=s,this.reviews=[],this.apiBlobUrl=i.a.apiBlobUrl,this.limited=!0,this.form=new l.c,this.contactID=this.userService.user.getValue().contactID}ngOnInit(){this.initTask()}initTask(){if(!this.limited||this.reviews.length)return;let e=15,t=0;this.panelMemberAnswer&&(e=16,t=this.panelMemberAnswer.taskReferenceID),this.loading=!0,this.taskService.getTask(0,e,t,0,0,0,0,0).subscribe(e=>{this.reviews=e,this.loading=!1},()=>{this.loading=!1})}ownersResponded(e){return e.filter(e=>3===e.taskStatusID).length}dismiss(){this.activeModal.dismiss()}sendReminder(e,t){const n=this.contactID,i=this.reviews[e].taskOwners[t],r=this.modal.open(o.a);r.componentInstance.title=`Reminder for ${i.firstName} ${i.surname}`,r.result.then(o=>{if(o&&o.hasOwnProperty("commentText")){const r={contactId:i.contactID,loggedInContactId:n};i.sendingReminder=!0,this.discussionService.getDiscussionByContact(r).subscribe(i=>{i&&i.discussionID?this.createDiscussion(i.discussionID,n,e,t,o):this.createChat(n,e,t,o)},()=>{i.sendingReminder=!0})}})}createChat(e,t,n,i){const o=this.reviews[t].taskOwners[n];let s=0;this.discussionService.insertDiscussion({discussionTopic:"DM",discussionCategoryID:1,isDirectMessage:!0,discussionCreatedByContactID:e,discussionBody:"DM"}).pipe(Object(r.a)(t=>{s=t.discussionID;const n={discussionID:t.discussionID,contactID:e,isAdmin:!0},i={discussionID:t.discussionID,contactID:o.contactID,isAdmin:!0};return Object(a.a)(this.discussionService.addMember(n),this.discussionService.addMember(i))})).subscribe(()=>{this.createDiscussion(s,e,t,n,i)},()=>{o.sendingReminder=!1})}createDiscussion(e,t,n,i,o){const r=this.reviews[n],a=r.taskOwners[i];this.discussionService.insertDiscussion({discussionTopic:"Task Query Request on - "+r.taskTitle,discussionCategoryID:26,isDirectMessage:!0,discussionCreatedByContactID:t,discussionBody:o.commentText,parentDiscussionID:e,referenceID:r.taskID}).subscribe(()=>{this.toastrService.success("Reminder send successfully!"),o.isSentMail&&this.sendEmail(e,"chat"+e,a.contactID,o.commentText),a.sendingReminder=!1},()=>{a.sendingReminder=!1})}sendEmail(e,t,n,i){const o=localStorage.getItem("firstName")+" "+localStorage.getItem("surname"),r=[n],a=Object(s.n)(e+"|"+r[0]+"|"+t),l={distributionTitle:"Chat with"+o,distributionCategoryID:2,referenceID:0,distributionDate:null,userID:this.contactID,emailBody:i,subjectLine:"Chat with"+o,senderEmail:localStorage.getItem("emailAddress"),senderName:o,replyTo:a+"@message.avnon.co",contacts:r};this.distributionService.create(l).subscribe(()=>{},()=>{})}preview(t,n){const i=Object(s.l)(this.reviews[t]);i.taskOwners=[i.taskOwners[n]];const o=this.modal.open(e,{size:"lg",backdrop:"static",scrollable:!0});o.componentInstance.reviews=[i],o.componentInstance.limited=!1,this.panelMemberAnswer&&(o.componentInstance.panelMemberAnswer=this.panelMemberAnswer),this.stageReview&&(o.componentInstance.stageReview=this.stageReview)}onActiveSectionSelect(t){const n=this.modal.open(e,{size:"lg",backdrop:"static",scrollable:!0});n.componentInstance.reviews=this.reviews,n.componentInstance.limited=!1,n.componentInstance.activeSection=t.section,n.componentInstance.form=t.form,this.panelMemberAnswer&&(n.componentInstance.panelMemberAnswer=this.panelMemberAnswer),this.stageReview&&(n.componentInstance.stageReview=this.stageReview)}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](m.p),c["\u0275\u0275directiveInject"](p.a),c["\u0275\u0275directiveInject"](d.a),c["\u0275\u0275directiveInject"](f.b),c["\u0275\u0275directiveInject"](v.a),c["\u0275\u0275directiveInject"](I.a),c["\u0275\u0275directiveInject"](m.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-reviewers-preview-dialog"]],decls:10,vars:6,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","d-flex","flex-column",3,"avnonLoader"],["class","float-left w-100 mb-4",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"modal-title"],[1,"float-left","w-100","mb-4"],["class","text-dark",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-dark"],[1,"float-left","w-100","pt-3","mb-2"],[1,"d-flex"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","Avatar",1,"img-fluid","img-48","cover",3,"src"],[1,"d-flex","flex-column"],[1,"mb-0"],[1,"meta"],["class","posted-score",4,"ngIf"],["class","float-left w-100 pt-3 no-response mb-2",4,"ngIf"],["class","float-left w-100 pt-3",4,"ngIf"],["class","text-primary full-review float-left cursor-pointer",3,"click",4,"ngIf"],[1,"posted-score"],[1,"float-left","w-100","pt-3","no-response","mb-2"],[1,"text-dark","m-0"],["href","javascript:void(0)",3,"click"],[1,"float-left","w-100","pt-3"],[3,"formFieldAnswerCategoryID","contactID","formID","taskOwner","limited","showScore","activeSection","form","answerReferenceID","activeSectionSelected"],[1,"text-primary","full-review","float-left","cursor-pointer",3,"click"],["alt","",1,"mr-2","img-fluid","avatar-rounded","avatar-60","float-left",3,"src"],[1,"meta-title"],["class","d-block",4,"ngIf"],[3,"formFieldAnswerCategoryID","formID","limited","activeSection","showScore","form","contactID","answerReferenceID","activeSectionSelected"],[1,"d-block"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275template"](1,h,2,1,"h5",1),c["\u0275\u0275template"](2,y,2,1,"h5",1),c["\u0275\u0275template"](3,w,2,1,"h5",1),c["\u0275\u0275elementStart"](4,"button",2),c["\u0275\u0275listener"]("click",function(){return t.dismiss()}),c["\u0275\u0275elementStart"](5,"span",3),c["\u0275\u0275text"](6,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",4),c["\u0275\u0275template"](8,M,3,2,"div",5),c["\u0275\u0275template"](9,A,11,14,"ng-container",6),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.panelMemberAnswer),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!t.panelMemberAnswer&&!t.stageReview),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.stageReview),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("avnonLoader",t.loading),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.reviews),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.stageReview))},directives:[u.n,x.a,u.m,g.a,D.a],pipes:[S.a,C.a,u.f,u.t],styles:[".modal-body[_ngcontent-%COMP%]{min-height:400px}a[_ngcontent-%COMP%]:disabled{opacity:.8;pointer-events:none}"]}),e})()},Ujtm:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("fXoL"),o=n("tk/3");let r=(()=>{class e{constructor(e){this.http=e,this.BaseURI="https://api.incubatorportal.com/api"}getOpportunityResponse(e,t,n,i,o,r){return this.http.get(this.BaseURI+"/report/opportunity/response?opportunityID="+e+"&masterCompanyID="+t+"&opportunityResponseID="+n+"&companyLocationID="+i+"&opportunityCategoryID="+o+"&formatNumber="+r,{observe:"response",responseType:"blob"})}getDiagnosticReport(e=0,t=0,n=0,i=0,o=1,r=0){return this.http.get(this.BaseURI+"/report/diagnosticReport?TaskOwnerID="+e+"&TaskReferenceID="+t+"&TaskCategoryID="+n+"&FormID="+i+"&CompanyID="+r+"&formatNumber="+o,{observe:"response",responseType:"blob"})}budgetImplementationReport(e=0,t=0,n=0,i="2000-01-01",o="2000-01-01",r=1,a=0,s=0,l=0,c=0,m=0,p=0,d=0){return this.http.get(this.BaseURI+"/Report/BudgetImplementation?CompanyID="+e+"&DivisionID="+t+"&DepartmentID="+n+"&StartDate="+i+"&EndDate="+o+"&formatNumber="+r+"&CourseID="+a+"&CourseCategoryID="+s+"&ProviderID="+l+"&ProvinceID="+c+"&PeromnesID="+m+"&DesignationID="+p+"&ContactID="+d,{observe:"response",responseType:"blob"})}trainingExecutiveSummary(e=0,t=0,n=0,i="2000-01-01",o="2000-01-01",r=1,a=0,s=0,l=0,c=0,m=0,p=0,d=0){return this.http.get(this.BaseURI+"/Report/TrainingExecutiveSummary?CompanyID="+e+"&DivisionID="+t+"&DepartmentID="+n+"&StartDate="+i+"&EndDate="+o+"&formatNumber="+r+"&CourseID="+a+"&CourseCategoryID="+s+"&ProviderID="+l+"&ProvinceID="+c+"&PeromnesID="+m+"&DesignationID="+p+"&ContactID="+d,{observe:"response",responseType:"blob"})}trainingDetailSummary(e=0,t=0,n=0,i="2000-01-01",o="2000-01-01",r=1,a=0,s=0,l=0,c=0,m=0,p=0,d=0){return this.http.get(this.BaseURI+"/Report/TrainingDetail?CompanyID="+e+"&DivisionID="+t+"&DepartmentID="+n+"&StartDate="+i+"&EndDate="+o+"&formatNumber="+r+"&CourseID="+a+"&CourseCategoryID="+s+"&ProviderID="+l+"&ProvinceID="+c+"&PeromnesID="+m+"&DesignationID="+p+"&ContactID="+d,{observe:"response",responseType:"blob"})}trainingIndividualSummary(e=0,t=0,n=0,i="2000-01-01",o="2000-01-01",r=1,a=0,s=0,l=0,c=0,m=0,p=0,d=0){return this.http.get(this.BaseURI+"/Report/IndividualTrainingSummary?CompanyID="+e+"&DivisionID="+t+"&DepartmentID="+n+"&StartDate="+i+"&EndDate="+o+"&formatNumber="+r+"&CourseID="+a+"&CourseCategoryID="+s+"&ProviderID="+l+"&ProvinceID="+c+"&PeromnesID="+m+"&DesignationID="+p+"&ContactID="+d,{observe:"response",responseType:"blob"})}diagnosticSummary(e=0,t=0,n=0,i=1,o=""){return this.http.get(this.BaseURI+"/Report/DiagnosticSummary?TaskOwnerID="+e+"&TaskCategoryID="+t+"&TaskReferenceID="+n+"&formatNumber="+i+"&fileName="+encodeURIComponent(o),{observe:"response",responseType:"blob"})}getAttendanceCertificates(e=0,t,n=1){return this.http.get(this.BaseURI+"/Report/AttendanceCertificate?EventID="+e+"&EventDelegateList="+t+"&formatNumber="+n,{observe:"response",responseType:"blob"})}getCompetenceCertificate(e=0,t,n,i,o=1){return this.http.get(this.BaseURI+"/Report/CompetenceCertificate?EventID="+e+"&EventDelegateList="+t+"&AssessmentDate="+n+"&ExpiryDate="+i+"&formatNumber="+o,{observe:"response",responseType:"blob"})}qstpApplicationReport(e=0,t=0,n=1){return this.http.get(this.BaseURI+"/Report/QSTPApplication?CompanyID="+e+"&ContactID="+t+"&formatNumber="+n,{observe:"response",responseType:"blob"})}projectProfileReport(e=0,t=0,n=0,i=1){return this.http.get(this.BaseURI+"/Report/ProjectProfile?CompanyID="+e+"&ContactID="+t+"&TaskID="+n+"&formatNumber="+i,{observe:"response",responseType:"blob"})}benificiariesTrained(e=0,t="",n="",i=1,o=0,r="0"){return this.http.get(this.BaseURI+"/Report/86319_51452_Bulk_Upload_2019_Beneficiaries_Completed_Training?CompanyID="+e+"&Divisions="+r+"&DepartmentID="+o+"&StartDate="+t+"&EndDate="+n+"&formatNumber="+i,{observe:"response",responseType:"blob"})}benificiariesCompleted(e=0,t="",n="",i=1,o=0,r="0"){return this.http.get(this.BaseURI+"/Report/86319_53500_Bulk_Upload_2019_Number_Actual_Beneficiaries_V1?CompanyID="+e+"&Divisions="+r+"&DepartmentID="+o+"&StartDate="+t+"&EndDate="+n+"&formatNumber="+i,{observe:"response",responseType:"blob"})}setaEmployee(e=0,t="",n="",i=1,o=0,r="0"){return this.http.get(this.BaseURI+"/Report/86319_27165_Bulk_Upload_2019_Employment_Summary_V1?CompanyID="+e+"&Divisions="+r+"&DepartmentID="+o+"&StartDate="+t+"&EndDate="+n+"&formatNumber="+i,{observe:"response",responseType:"blob"})}beeReport(e=0,t="",n="",i=1,o=0,r=0,a="0",s="0"){return this.http.get(this.BaseURI+"/Report/BEE?CompanyID="+e+"&DivisionID="+r+"&DepartmentID="+o+"&StartDate="+t+"&EndDate="+n+"&Division="+a+"&Department="+s+"&formatNumber="+i,{observe:"response",responseType:"blob"})}annualReport(e=0,t="",n="",i=0,o=0,r=0,a=1){return this.http.get(this.BaseURI+"/Report/AnnualReport?CompanyID="+e+"&MasterCompanyID="+i+"&StartDate="+t+"&EndDate="+n+"&InvestmentID="+r+"&ContactID="+o+"&formatNumber="+a,{observe:"response",responseType:"blob"})}monthlyExecutive(e=0,t="",n="",i=0,o=0,r=0,a=0,s=0,l=1){return this.http.get(this.BaseURI+"/Report/MonthlyExecutiveSummary?CompanyID="+e+"&MasterCompanyID="+i+"&ProgramID="+o+"&StartDate="+t+"&EndDate="+n+"&ProgramInstanceID="+r+"&InvestmentID="+a+"&CompanyLocationID="+s+"&formatNumber="+l,{observe:"response",responseType:"blob"})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](o.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},lkLw:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("fXoL");let o=(()=>{class e{transform(e,t){return t||(t="DD-MM-YYYY"),e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"formatDate",type:e,pure:!0}),e})()},"mp/k":function(e,t,n){"use strict";n.d(t,"a",function(){return ce});var i=n("fXoL"),o=n("vdWK"),r=n("xDUJ"),a=n("ofXK"),s=n("9F88"),l=n("1kSV"),c=n("FvYy");function m(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr",4),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"](3).filterPreview(n)}),i["\u0275\u0275elementStart"](1,"td"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.formSectionTitle," ")}}function p(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"table",2),i["\u0275\u0275template"](2,m,3,1,"tr",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.form.sections)}}function d(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"h2"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](null==e?null:e.formSectionTitle)}}function f(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",11),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"number"),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](6);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](2,1,100*e.activeSection.score,"1.2-2"),"% ")}}function v(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"h1",9),i["\u0275\u0275text"](1),i["\u0275\u0275template"](2,f,3,4,"span",10),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",null==e?null:e.formSectionTitle," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==t.activeSection?null:t.activeSection.score)}}function I(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",16),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldDetail)}}function u(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275elementStart"](1,"h3"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,I,2,1,"small",15),i["\u0275\u0275elementStart"](4,"p"),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldDetail),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.answer.formFieldValue)}}function x(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",16),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldDetail)}}function g(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275elementStart"](1,"h3"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,x,2,1,"small",15),i["\u0275\u0275element"](4,"app-documents-list",17),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldDetail),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("referenceID",(null==t.taskOwner?null:t.taskOwner.companyID)||0)("referenceID2",e.answer.formFieldAnswerID)("documentCategoryID",18)}}function D(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",16),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldDetail)}}function S(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",19),i["\u0275\u0275elementStart"](1,"p"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](4).$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.answer.formFieldValue)}}function C(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"p"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,S,3,1,"div",18),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldOptionText),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.commentRequired)}}function h(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275template"](1,C,4,2,"div",0),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.answer&&e.formFieldOptionID==n.answer.formFieldOptionID)}}function y(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275elementStart"](1,"h3"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,D,2,1,"small",15),i["\u0275\u0275template"](4,h,2,1,"div",6),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldDetail),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.options)}}function w(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",16),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldDetail)}}function b(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",19),i["\u0275\u0275elementStart"](1,"p"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.answer.formFieldValue)}}function E(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"p"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,b,3,1,"div",18),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldOptionText),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.commentRequired)}}function F(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275template"](1,E,4,2,"div",0),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.answer&&e.answer.formFieldAnswerID)}}function R(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275elementStart"](1,"h3"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,w,2,1,"small",15),i["\u0275\u0275template"](4,F,2,1,"div",6),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldDetail),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.options)}}function O(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",16),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldDetail)}}function T(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",21),i["\u0275\u0275text"](1,"\u2605"),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275classProp"]("filled",100===t.fill)}function k(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275elementStart"](1,"h3"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,O,2,1,"small",15),i["\u0275\u0275elementStart"](4,"ngb-rating",20),i["\u0275\u0275listener"]("rateChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().$implicit.answer.formFieldValue=t}),i["\u0275\u0275template"](5,T,2,2,"ng-template"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldDetail),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("rate",e.answer.formFieldValue)("max",e.formFieldScale)("readonly",!0)}}function P(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",16),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldDetail)}}function M(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275elementStart"](1,"h3"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,P,2,1,"small",15),i["\u0275\u0275element"](4,"app-banner",22),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldDetail),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("referenceID",e.answer.formFieldAnswerID)("documentCategoryID",36)}}function $(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"div",12),i["\u0275\u0275template"](2,u,6,3,"div",13),i["\u0275\u0275template"](3,g,5,5,"div",13),i["\u0275\u0275template"](4,y,5,3,"div",13),i["\u0275\u0275template"](5,R,5,3,"div",13),i["\u0275\u0275template"](6,k,6,5,"div",13),i["\u0275\u0275template"](7,M,5,4,"div",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",1==e.formFieldTypeID||4==e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",3==e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",6==e.formFieldTypeID||5==e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2==e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",9==e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",10===e.formFieldTypeID)}}function _(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",7),i["\u0275\u0275template"](2,d,2,1,"h2",0),i["\u0275\u0275template"](3,v,3,2,"h1",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,$,8,6,"div",6),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.activeSection),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.activeSection),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",null==e?null:e.fields)}}function A(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275template"](1,_,5,3,"ng-container",0),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.activeSection&&n.activeSection.formSectionID===e.formSectionID||!n.activeSection)}}function B(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",5),i["\u0275\u0275template"](1,A,2,1,"div",6),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.form.sections)}}function U(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,p,3,1,"ng-container",0),i["\u0275\u0275template"](2,B,2,1,"div",1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.limited),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.limited)}}function V(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",16),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldDetail)}}function N(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275elementStart"](1,"h3"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,V,2,1,"small",15),i["\u0275\u0275elementStart"](4,"p"),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldDetail),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.answer.formFieldValue)}}function j(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",16),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldDetail)}}function q(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275elementStart"](1,"h3"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,j,2,1,"small",15),i["\u0275\u0275element"](4,"app-documents-list",17),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldDetail),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("referenceID",(null==t.taskOwner?null:t.taskOwner.companyID)||0)("referenceID2",e.answer.formFieldAnswerID)("documentCategoryID",18)}}function L(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",16),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldDetail)}}function z(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",19),i["\u0275\u0275elementStart"](1,"p"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](5).$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.answer.formFieldValue)}}function X(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"p"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,z,3,1,"div",18),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldOptionText),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.commentRequired)}}function J(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275template"](1,X,4,2,"div",0),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.answer&&e.formFieldOptionID==n.answer.formFieldOptionID)}}function K(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275elementStart"](1,"h3"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,L,2,1,"small",15),i["\u0275\u0275template"](4,J,2,1,"div",6),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldDetail),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.options)}}function Q(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",16),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldDetail)}}function Y(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",19),i["\u0275\u0275elementStart"](1,"p"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.answer.formFieldValue)}}function W(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"p"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,Y,3,1,"div",18),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldOptionText),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.commentRequired)}}function H(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275template"](1,W,4,2,"div",0),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.answer&&e.answer.formFieldAnswerID)}}function G(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275elementStart"](1,"h3"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,Q,2,1,"small",15),i["\u0275\u0275template"](4,H,2,1,"div",6),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldDetail),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.options)}}function Z(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",16),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldDetail)}}function ee(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",21),i["\u0275\u0275text"](1,"\u2605"),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275classProp"]("filled",100===t.fill)}function te(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275elementStart"](1,"h3"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,Z,2,1,"small",15),i["\u0275\u0275elementStart"](4,"ngb-rating",20),i["\u0275\u0275listener"]("rateChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).$implicit.answer.formFieldValue=t}),i["\u0275\u0275template"](5,ee,2,2,"ng-template"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldDetail),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("rate",e.answer.formFieldValue)("max",e.formFieldScale)("readonly",!0)}}function ne(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",16),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldDetail)}}function ie(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275elementStart"](1,"h3"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,ne,2,1,"small",15),i["\u0275\u0275element"](4,"app-banner",22),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldDetail),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("referenceID",e.answer.formFieldAnswerID)("documentCategoryID",36)}}const oe=function(e){return{"pl-3 pr-3":e}};function re(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",25),i["\u0275\u0275template"](1,N,6,3,"div",13),i["\u0275\u0275template"](2,q,5,5,"div",13),i["\u0275\u0275template"](3,K,5,3,"div",13),i["\u0275\u0275template"](4,G,5,3,"div",13),i["\u0275\u0275template"](5,te,6,5,"div",13),i["\u0275\u0275template"](6,ie,5,4,"div",13),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](7,oe,t.showSummary)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1==e.formFieldTypeID||4==e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",3==e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",6==e.formFieldTypeID||5==e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2==e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",9==e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",10===e.formFieldTypeID)}}function ae(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275template"](1,re,7,9,"div",24),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.limited||e.summaryField||4283===e.formFieldID)}}function se(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"div",23),i["\u0275\u0275elementStart"](2,"h2"),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,ae,2,1,"div",6),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](3,oe,n.showSummary)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](null==e?null:e.formSectionTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",null==e?null:e.fields)}}function le(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",5),i["\u0275\u0275template"](2,se,5,5,"div",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.form.sections)}}let ce=(()=>{class e{constructor(e){this.formService=e,this.activeSectionSelected=new i.EventEmitter,this.showScore=!0,this.form=new o.c,this.formSection=[],this.totalScore=new i.EventEmitter,this.totalMaxScore=new i.EventEmitter}ngOnInit(){this.form.formID||this.populateForm()}populateForm(){console.log("populate with this",0,this.contactID,0,this.answerReferenceID,this.formFieldAnswerCategoryID,this.formID),this.formService.getFormFieldAnswers(0,this.contactID,0,this.answerReferenceID,this.formFieldAnswerCategoryID,this.formID).subscribe(e=>{this.markQuestionsAsReview(e),this.form=e,this.formSection=e.sections,this.calculatePointScores()}),this.companyID=+localStorage.getItem("CID"),3===this.formCategoryID&&(this.referenceID=this.eventID)}calculatePointScores(){if(this.formSection){this.formSection.forEach(e=>{let t=0,n=0,i=0;e.fields.forEach(e=>{if(e.pointsQuestion){const o=e.answer,r=e.options;o&&r&&r.forEach(e=>{e.points>t&&(t=e.points),e.formFieldOptionID===o.formFieldOptionID&&(i+=1,n+=e.points)})}}),e.score=i>0?n/i:0,e.maxScore=t});let e=0,t=0;this.formSection.forEach(n=>{e+=n.score,t+=n.maxScore}),this.totalScore.emit(e),this.totalMaxScore.emit(t)}}markQuestionsAsReview(e){e&&e.sections&&e.sections.length&&e.sections.forEach(e=>{e.fields&&e.fields.forEach(e=>{e.isPreviewMode=!0})})}filterPreview(e){this.activeSectionSelected.emit({section:e,form:this.form})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-form-review-feedback-limited"]],inputs:{referenceID:"referenceID",formCategoryID:"formCategoryID",answerReferenceID:"answerReferenceID",formID:"formID",formFieldAnswerCategoryID:"formFieldAnswerCategoryID",contactID:"contactID",showScore:"showScore",taskOwner:"taskOwner",limited:"limited",activeSection:"activeSection",showSummary:"showSummary",form:"form"},outputs:{activeSectionSelected:"activeSectionSelected",totalScore:"totalScore",totalMaxScore:"totalMaxScore"},decls:2,vars:2,consts:[[4,"ngIf"],["class","section section-questions",4,"ngIf"],[1,"table","sections-list"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"section","section-questions"],[4,"ngFor","ngForOf"],[1,"title-actions"],["class","pl-0 pr-0",4,"ngIf"],[1,"pl-0","pr-0"],["class","float-right ml-2",4,"ngIf"],[1,"float-right","ml-2"],[1,"section-overview"],["class","mb-2",4,"ngIf"],[1,"mb-2"],["class","form-text text-muted mb-2 fz14",4,"ngIf"],[1,"form-text","text-muted","mb-2","fz14"],[3,"referenceID","referenceID2","documentCategoryID"],["class","pt-1",4,"ngIf"],[1,"pt-1"],[1,"rating-input","w-100",3,"rate","max","readonly","rateChange"],[1,"star"],[1,"w-100","float-left",3,"referenceID","documentCategoryID"],[1,"title-actions",3,"ngClass"],["class","section-overview",3,"ngClass",4,"ngIf"],[1,"section-overview",3,"ngClass"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,U,3,2,"ng-container",0),i["\u0275\u0275template"](1,le,3,1,"ng-container",0)),2&e&&(i["\u0275\u0275property"]("ngIf",t.form&&2===t.form.formTypeID&&!t.showSummary),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.form&&2!==t.form.formTypeID||t.showSummary))},directives:[a.n,a.m,s.a,l.w,c.a,a.l],pipes:[a.f],styles:[".section-questions[_ngcontent-%COMP%]{position:relative}.section-questions[_ngcontent-%COMP%]   .score-review[_ngcontent-%COMP%]{position:absolute;right:0;top:-60px}.section-questions[_ngcontent-%COMP%]   .rating-input[_ngcontent-%COMP%]:focus{outline:none}.section-questions[_ngcontent-%COMP%]   .rating-input[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{font-size:1.5rem;color:#b0c4de}.section-questions[_ngcontent-%COMP%]   .rating-input[_ngcontent-%COMP%]   .filled[_ngcontent-%COMP%]{color:#1e90ff}.section-questions[_ngcontent-%COMP%]   .rating-input[_ngcontent-%COMP%]   .bad[_ngcontent-%COMP%], .section-questions[_ngcontent-%COMP%]   .rating-input[_ngcontent-%COMP%]   .filled.bad[_ngcontent-%COMP%]{color:#2a2a2a}.section-questions[_ngcontent-%COMP%]   .title-actions[_ngcontent-%COMP%]{padding-bottom:6px}.section-questions[_ngcontent-%COMP%]   .title-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-top:0;margin-bottom:0;font-size:22px}.section-questions[_ngcontent-%COMP%]   .section-overview[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:4px}.fz14[_ngcontent-%COMP%]{font-size:14px!important}.sections-list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:pointer}.sections-list[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem 1rem}.sections-list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#f0f3ff}"]}),e})()}}]);