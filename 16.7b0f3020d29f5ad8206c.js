(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"3DtY":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});const a={TRAINING_EVENT:1,INTERVIEW:2,ASSESSMENT:3,MEETING:4,LEARNERSHIP:5,PROJECT_MANAGEMENT:6,TRAVEL:7,CONSULTING:8,REPORT_WRITING:9,WORKPLACE:10,APPRENTICESHIPS:11},i={TRAINING_DELEGATE:1,PANEL_MEMBER:2,APPLICANT:3,MENTOR:4,MENTEE:5,GUEST_SPEAKER:6}},"6BoG":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n("eUP4"),i=n("2Vo4"),o=n("lJxs"),r=n("uYqz"),s=n("fXoL"),c=n("tk/3");let l=(()=>{class e{constructor(e){this.http=e,this.BaseURI="https://api.incubatorportal.com/api",this.eventObject=new i.a(""),this.eventObject$=this.eventObject.asObservable(),this._event=new i.a(null)}get eventDetail(){return this._event.asObservable()}loadEventDetail(e){this._event.next(e)}updateEventValue(e){this.eventObject.next({event:e})}selectEvents(e){e=Object.assign({CompanyID:0,ContactID:0,CourseID:0,ReferenceID:0,EventID:0,StartDate:"2000-01-01",EndDate:"2000-01-01",EventCategoryID:0,ScheduledByID:0,EventSubCategoryID:0},e);const t=Object.keys(e).map(t=>`${t}=${e[t]}`).join("&");return this.http.get(`${this.BaseURI}/event/full?${t}`).pipe(Object(o.a)(e=>e.map(e=>new a.a(e))))}selectEvent(e,t){return this.http.get(this.BaseURI+"/event/profile?contactID="+e+"&eventID="+t)}selectEventDate(e,t){return this.http.get(this.BaseURI+"/event/date?eventID="+e+"&eventGroupID="+t)}getEvent(e,t,n,a,i,o,r,s){return this.http.get(this.BaseURI+"/event?CompanyID="+e+"&ContactID="+t+"&PublicEvent="+n+"&ReferenceID="+a+"&CourseID="+i+"&ProgramInstanceID="+o+"&CompanyLocationID="+r+"&ProgramID="+s)}findDelegate(e){return this.http.get(`${this.BaseURI}/event/delegate/all/${e}`).pipe(Object(o.a)(e=>e.map(e=>new r.a(e))))}insertEvent(e){return this.http.post(this.BaseURI+"/event",e).pipe(Object(o.a)(e=>e))}updateEvent(e){return this.http.put(this.BaseURI+"/Event",e).pipe(Object(o.a)(e=>e))}insertEventDate(e){return this.http.post(this.BaseURI+"/event/date",e).pipe(Object(o.a)(e=>e))}updateEventDate(e){return this.http.put(this.BaseURI+"/event/date",e)}insertEventDelegateBatch(e){return this.http.post(this.BaseURI+"/Event/delegate/batch",e).pipe(Object(o.a)(e=>e))}insertEventDelegate(e){return this.http.post(this.BaseURI+"/Event/delegate",e).pipe(Object(o.a)(e=>e))}updateEventDelegate(e){return this.http.put(this.BaseURI+"/Event/delegate",e).pipe(Object(o.a)(e=>e))}deleteEventDelegate(e){return this.http.delete(`${this.BaseURI}/Event/delegate/${e}`).pipe(Object(o.a)(e=>e))}getEventDelegate(e){return this.http.get(`${this.BaseURI}/event/delegate/all/${e}`).pipe(Object(o.a)(e=>e))}getEventDelegates(e,t,n,a,i,r,s=0,c=0,l=0,p="2000-01-01",m="2000-01-01",d=0,u=0,h=0){return this.http.get(this.BaseURI+"/event/delegate?EventDelegateID="+e+"&CourseID="+t+"&EventID="+n+"&ContactID="+a+"&EventCategoryID="+i+"&ParentEventID="+r+"&CompanyID="+s+"&ReferenceID="+c+"&EventSubCategoryID="+l+"&EndDate="+p+"&StartDate="+m+"&DivisionID="+h+"&DepartmentID="+u+"&ScheduledbyContactID="+d).pipe(Object(o.a)(e=>e))}getEventDelegatesByDate(e,t,n,a,i,r,s=0,c=0,l=0,p="2000-01-01",m="2000-01-01",d=0,u=0,h=0){return this.http.get(this.BaseURI+"/event/delegate/bydate?EventDelegateID="+e+"&CourseID="+t+"&EventID="+n+"&ContactID="+a+"&EventCategoryID="+i+"&ParentEventID="+r+"&CompanyID="+s+"&ReferenceID="+c+"&EventSubCategoryID="+l+"&EndDate="+p+"&StartDate="+m+"&DivisionID="+h+"&DepartmentID="+u+"&ScheduledbyContactID="+d).pipe(Object(o.a)(e=>e))}insertEventDateDelegate(e){return this.http.post(this.BaseURI+"/Event/date/delegate",e).pipe(Object(o.a)(e=>e))}deleteEvent(e){return this.http.delete(`${this.BaseURI}/Event/${e}`).pipe(Object(o.a)(e=>e))}fetchEvents(e){e=Object.assign({CompanyID:0,ContactID:0,CourseID:0,ReferenceID:0,EventID:0,StartDate:"2000-01-01",EndDate:"2000-01-01"},e);const t=Object.keys(e).map(t=>`${t}=${e[t]}`).join("&");return this.http.get(`${this.BaseURI}/event/full?${t}`)}getEventDates(e){return this.http.get(`${this.BaseURI}/Event/date?EventID=${e}&EventDateGroupID=0`)}getDateDelegates(e){return this.http.get(`${this.BaseURI}/Event/date/delegate?EventID=${e}`)}updateDateDelegate(e){return this.http.put(this.BaseURI+"/Event/date/delegate",e)}deleteEventDate(e){return this.http.delete(`${this.BaseURI}/Event/date/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](c.b))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"D+TJ":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n("tk/3"),i=n("2Vo4"),o=n("AytR"),r=n("fXoL");const s=o.a.apiUrl+"/",c=localStorage.getItem("token");let l=(()=>{class e{constructor(e){this.http=e,this.cachedEnterpriseEventDetails=new i.a(null),this.httpOptions={headers:new a.f({"Content-Type":"application/json",Token:c})}}getJobCreation(e,t="2020-01-01",n="2020-01-01",a=0,i=0,o=0){return this.http.get(`${s}JobCreation?CompanyID=${e}&StartDate=${t}&EndDate=${n}&ProgramID=${a}&ProgramInstanceID=${i}&CompanyLocationID=${o}`,this.httpOptions)}getPortfolios(e,t,n,a,i,o="2020-01-01",r="2020-01-01"){return this.http.get(`${s}portfolio/stage/timeline?ProgramInstanceStageID=${a}&CompanyID=${t}&companyProgramInstanceStageID=${i}&StartDate=${o}&ProgramID=${e}&ProgramInstanceID=${n}&EndDate=${r}`,this.httpOptions)}getEnterpriseEventDetails(e,t,n,a,i,o,r,c,l,p,m,d){return this.http.get(`\n        ${s}Event/summary/byprogrammedetailenterprise?CompanyID=${e}&DivisionID=${t}&DepartmentID=${n}&CourseID=${a}&CourseCategoryID=${i}&ProviderID=${o}&StartDate=${r}&EndDate=${c}&ProvinceID=${l}&PeromnesID=${p}&DesignationID=${m}&ContactID=${d}\n    `)}getCachedEnterpriseEventDetails(){return this.cachedEnterpriseEventDetails.asObservable()}setCachedEnterpriseEventDetails(e){this.cachedEnterpriseEventDetails.next(e)}getApplications(e){return this.http.get(`${s}Application/all?CompanyID=${e}&MasterCompanyID=0&ProgramInstanceID=0&CompanyLocationID=0&ApplicationStatusID=0&ApplicationID=0`,this.httpOptions)}getApplicationsReview(e){return this.http.get(`${s}Application/Review?MasterCompanyID=${e}&ApplicationReviewID=0&ApplicationID=0`,this.httpOptions)}getEvents(e){return this.http.get(`${s}Event/full?CompanyID=${e}\n\t\t\t&ContactID=0\n\t\t\t&CourseID=0\n\t\t\t&ReferenceID=0\n\t\t\t&StartDate=''\n\t\t\t&EndDate=''\n\t\t\t&EventCategoryID=0\n\t\t\t&EventID=0`,this.httpOptions)}getFinancial(e,t){return this.http.get(`${s}Company/financial?CompanyID=${e}&FinancialCategoryID=0&MonthID=0&YearID=${t}`,this.httpOptions)}getBudget(e,t){return this.http.get(`${s}Company/budget?CompanyBudgetID=0&CompanyID=${e}&CompanyFinancialCategoryID=0&MonthID=0&YearID=${t}`,this.httpOptions)}getDelegates(){return this.http.get(s+"Event/delegate?EventDelegateID=0&CourseID=0&EventID=0&ContactID=0&EventCategoryID=0&ParentEventID=0",this.httpOptions)}getTransaction(){return this.http.get(s+"Transaction/event?CompanyAccountID=0&EventID=0",this.httpOptions)}getCompanyFinancialPortfolio(e,t,n=2020,a=0,i=0,o=0,r=0,c=0){return this.http.get(`${s}Company/financial/portfolio?CompanyID=${e}&FinancialCategoryID=${t}&MonthID=${a}&YearID=${n}&ProgramInstanceID=${i}&ProgramID=${o}&CompanyLocationID=${r}&MasterCompanyID=${c}`,this.httpOptions)}getDashboard(e=0,t=0,n=0,a=0){return this.http.get(`${s}dashboard?DashboardID=${e}&ContactID=${t}&DashboardCategoryID=${n}&ReferenceID=${a}`)}postDashboard(e){return this.http.post(s+"dashboard",e)}deleteDashboard(e){return this.http.delete(`${s}dashboard/${e}`)}getDashboardCard(e){return this.http.get(`${s}dashboard/card?DashboardID=${e}`)}postDashboardCard(e){return this.http.post(s+"dashboard/card",e)}deleteDashboardCard(e=0){return this.http.delete(`${s}dashboard/card/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](a.b))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})()},WX91:function(e,t,n){"use strict";n.r(t),n.d(t,"ExploreCompanyModule",function(){return Sa});var a=n("ofXK"),i=n("tyNb"),o=n("AytR"),r=n("n1y0"),s=n("XIp8"),c=n("XNiG"),l=n("cp0P"),p=n("9122"),m=n("fXoL"),d=n("8J6U"),u=n("LRne"),h=n("OzGw"),g=n("eIep"),I=n("frau"),v=n("SVtl"),y=n("kmKP"),f=n("f/iK"),D=n("XAmU"),b=n("Hu2X"),S=n("1kSV"),w=n("Jn3s"),x=n("SdWN"),k=n("0mlJ");function C(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"span",10),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().postPermissions()}),m["\u0275\u0275element"](1,"span",11),m["\u0275\u0275text"](2,"Manage Permissions "),m["\u0275\u0275elementEnd"]()}}function E(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",18),m["\u0275\u0275elementStart"](1,"button",19),m["\u0275\u0275element"](2,"i",20),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"div",21),m["\u0275\u0275elementStart"](4,"button",22),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"]().index;return m["\u0275\u0275nextContext"]().deletePermission(t)}),m["\u0275\u0275text"](5," Delete Permission "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}}function M(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",12),m["\u0275\u0275element"](1,"img",13),m["\u0275\u0275pipe"](2,"avatar"),m["\u0275\u0275elementStart"](3,"div",14),m["\u0275\u0275elementStart"](4,"div",15),m["\u0275\u0275elementStart"](5,"h3",16),m["\u0275\u0275text"](6),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](7,E,6,0,"div",17),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](8,"span"),m["\u0275\u0275text"](9),m["\u0275\u0275pipe"](10,"date"),m["\u0275\u0275pipe"](11,"dateObject"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("src",m["\u0275\u0275pipeBind1"](2,5,e.profilePhoto),m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](5),m["\u0275\u0275textInterpolate2"]("",e.firstName," ",e.surname,""),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",n.superAdmin),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind2"](10,7,m["\u0275\u0275pipeBind1"](11,10,e.dateGranted),"dd MMM, yyyy"))}}let O=(()=>{class e{constructor(e,t,n,a,i,o,r){this.networkService=e,this.userService=t,this.permissionService=n,this.discussionService=a,this.companyService=i,this.activeModal=o,this.modal=r,this.supportAdded=new m.EventEmitter,this.members=[],this.permissions=[],this.user=this.userService.user.getValue(),this.companyID=this.user.companyID,this.contactID=this.user.contactID,this.superAdmin=this.user.permissions.some(e=>p.b.Admin===e.permissionAreaID)}ngOnInit(){this.getPermissions(),this.getDiscussion()}getPermissions(){this.permissionLoading=!0,this.permissionService.getPermission(p.b.Startup_Supporter,this.networkMember.networkMemberID,0).subscribe(e=>{this.permissions=e,this.permissionLoading=!1})}getDiscussion(){this.discussionsLoading=!0,this.discussionService.fetchDiscussions(0,this.networkMember.networkMemberID,3,0,0,0).pipe(Object(g.a)(e=>(e.length&&(this.discussion=e[0]),e.length?this.discussionService.getAllMembers(e[0].discussionID):Object(u.a)([])))).subscribe(e=>{this.members=e,this.discussion?this.discussionsLoading=!1:this.createDiscussion()})}postPermissions(){const e=this.modal.open(I.a);e.componentInstance.selectedContacts=Object(d.l)(this.permissions),e.componentInstance.title="Contacts for granting permissions",e.result.then(e=>{const t=e.filter(e=>0===this.permissions.filter(t=>t.contactID===e.contactID).length),n=[];t.forEach(e=>{const t={permissionAreaID:p.b.Startup_Supporter,permissionTypeID:0,referenceID:this.networkMember.networkMemberID,contactID:e.contactID,companyID:this.companyID,grantedByContactID:this.contactID,dateGranted:Object(d.a)(new Date)};n.push(this.permissionService.create(t))}),n.length&&(this.loading=!0,Object(l.a)(n).subscribe(t=>{t.forEach(t=>{const n=e.find(e=>e.contactID===t.contactID);t.permissionID=t.inOut_PermissionID,t.firstName=n.firstName,t.surname=n.surname,t.profilePhoto=n.profilePhoto,this.discussion&&!this.members.filter(e=>e.contactID===t.contactID).length&&this.discussionService.addMember({discussionID:this.discussion.discussionID,contactID:t.contactID,isAdmin:!0,hasAccepted:!0}).subscribe(e=>{e.discussionMemberID=e.inOut_DiscussionMemberID,this.members.push(e)}),this.permissions.push(t)}),this.supportAdded.emit(this.permissions),this.loading=!1}))})}deletePermission(e){const t=this.permissions[e],n=this.modal.open(h.a);n.componentInstance.objectType="Permission",n.componentInstance.objectDetails=`${t.firstName} ${t.surname}`,n.result.then(n=>{"Yes"===n&&this.permissionService.delete(t.permissionID).subscribe(()=>{const n=this.members.find(e=>e.contactID===t.contactID);n&&this.discussionService.deleteMember(n.discussionID,n.contactID).subscribe(),this.permissions.splice(e,1)})})}createDiscussion(){this.discussionsLoading=!0,this.discussionService.insertDiscussion({discussionTopic:this.company.companyName+" support team",discussionCategoryID:3,isDirectMessage:!1,discussionCreatedByContactID:this.contactID,discussionBody:this.company.companyName+" support team",referenceID:this.networkMember.networkMemberID}).subscribe(e=>{if(this.discussionService.addMember({discussionID:e.discussionID,contactID:this.contactID,isAdmin:!0,hasAccepted:!0}).subscribe(e=>{e.discussionMemberID=e.inOut_DiscussionMemberID,this.members.push(e)}),this.company.companyOwnerContactID&&this.company.companyOwnerContactID!==this.contactID){const t={discussionID:e.discussionID,contactID:this.company.companyOwnerContactID,isAdmin:!0,hasAccepted:!0};this.members.push(t),this.discussionService.addMember(t).subscribe(e=>{e.discussionMemberID=e.inOut_DiscussionMemberID,this.members.push(e)})}this.discussion=e,this.discussionsLoading=!1})}dismiss(){this.activeModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](v.a),m["\u0275\u0275directiveInject"](y.a),m["\u0275\u0275directiveInject"](f.a),m["\u0275\u0275directiveInject"](D.a),m["\u0275\u0275directiveInject"](b.a),m["\u0275\u0275directiveInject"](S.a),m["\u0275\u0275directiveInject"](S.p))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-explore-company-supporters"]],outputs:{supportAdded:"supportAdded"},decls:13,vars:5,consts:[[1,"modal-header"],["id","postModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","p-0"],[1,"support-team-container","d-flex","flex-column",3,"avnonLoader"],[1,"filter-items","d-flex","align-items-center","pb-2","pt-2","float-left","w-100","pl-3","pr-3","border-bottom"],[1,"mr-4"],["class","ml-auto cursor-pointer",3,"click",4,"ngIf"],["class","common-list-item w-100 d-flex flex-row",4,"ngFor","ngForOf"],[1,"ml-auto","cursor-pointer",3,"click"],[1,"plus-ico-2"],[1,"common-list-item","w-100","d-flex","flex-row"],["alt","Avatar",1,"avatar-48","avatar",3,"src"],[1,"list-data","d-flex","flex-column","ml-2","flex-grow-1"],[1,"d-flex","w-100","align-items-center","mb-1"],[1,"mb-0"],["ngbDropdown","","container","body","class","ml-auto action-dropdown",4,"ngIf"],["ngbDropdown","","container","body",1,"ml-auto","action-dropdown"],["ngbDropdownToggle","","type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-sm","no-icon","icon-right"],[1,"fas","fa-ellipsis-h"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"h1",1),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"button",2),m["\u0275\u0275listener"]("click",function(){return t.dismiss()}),m["\u0275\u0275elementStart"](4,"span",3),m["\u0275\u0275text"](5,"\xd7"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"div",4),m["\u0275\u0275elementStart"](7,"div",5),m["\u0275\u0275elementStart"](8,"div",6),m["\u0275\u0275elementStart"](9,"span",7),m["\u0275\u0275text"](10),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](11,C,3,0,"span",8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](12,M,12,12,"div",9),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",t.company.companyName," support team "),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("avnonLoader",t.loading||t.permissionLoading||t.discussionsLoading),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"]("",t.permissions.length," contacts"),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.superAdmin&&t.networkMember),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",t.permissions))},directives:[w.a,a.n,a.m,S.i,S.m,S.k,S.j],pipes:[x.a,a.e,k.a],styles:[".support-team-container[_ngcontent-%COMP%]{max-height:80vh;overflow-x:hidden;overflow-y:auto}.filter-items[_ngcontent-%COMP%]{position:sticky;top:0;background:#fff;z-index:1}.modal-body[_ngcontent-%COMP%]{min-height:60vh}"]}),e})();var P=n("1G5W"),j=n("ntIU"),A=n("LFK6"),N=n("8CXc"),T=n("euQB"),L=n("WhH8"),R=n("FvYy"),B=n("sYmb");const $=function(e){return["/company",e,"team"]},V=function(){return{exact:!0}};function F(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"li",5),m["\u0275\u0275elementStart"](1,"a",6),m["\u0275\u0275text"](2),m["\u0275\u0275pipe"](3,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("routerLink",m["\u0275\u0275pureFunction1"](5,$,null!=e.lookup&&e.lookup.lookupName?e.lookup.lookupName:e.companyID))("routerLinkActiveOptions",m["\u0275\u0275pureFunction0"](7,V)),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](3,3,"COMPANY.EMPLOYEES")," ")}}function U(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"li",5),m["\u0275\u0275elementStart"](1,"a",6),m["\u0275\u0275text"](2),m["\u0275\u0275pipe"](3,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("routerLink",m["\u0275\u0275pureFunction1"](5,$,null!=e.lookup&&e.lookup.lookupName?e.lookup.lookupName:e.companyID))("routerLinkActiveOptions",m["\u0275\u0275pureFunction0"](7,V)),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](3,3,"COMPANY.TEAM")," ")}}const _=function(e){return["/company",e,"apply"]};function q(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"li",5),m["\u0275\u0275elementStart"](1,"a",6),m["\u0275\u0275text"](2),m["\u0275\u0275pipe"](3,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("routerLink",m["\u0275\u0275pureFunction1"](5,_,null!=e.lookup&&e.lookup.lookupName?e.lookup.lookupName:e.companyID))("routerLinkActiveOptions",m["\u0275\u0275pureFunction0"](7,V)),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](3,3,"COMPANY.APPLY")," ")}}const G=function(e){return["/company",e,"activities"]};function z(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"li",5),m["\u0275\u0275elementStart"](1,"a",6),m["\u0275\u0275text"](2),m["\u0275\u0275pipe"](3,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("routerLink",m["\u0275\u0275pureFunction1"](5,G,null!=e.lookup&&e.lookup.lookupName?e.lookup.lookupName:e.companyID))("routerLinkActiveOptions",m["\u0275\u0275pureFunction0"](7,V)),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](3,3,"COMPANY.ACTIVITIES")," ")}}const Y=function(e){return["/company",e,"mentoring"]};function H(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"li",5),m["\u0275\u0275elementStart"](1,"a",6),m["\u0275\u0275text"](2," Mentoring "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("routerLink",m["\u0275\u0275pureFunction1"](2,Y,e.companyID))("routerLinkActiveOptions",m["\u0275\u0275pureFunction0"](4,V))}}const J=function(e){return["/company",e,"dashboard"]};function X(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"li",5),m["\u0275\u0275elementStart"](1,"a",6),m["\u0275\u0275text"](2),m["\u0275\u0275pipe"](3,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("routerLink",m["\u0275\u0275pureFunction1"](5,J,null!=e.lookup&&e.lookup.lookupName?e.lookup.lookupName:e.companyID))("routerLinkActiveOptions",m["\u0275\u0275pureFunction0"](7,V)),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](3,3,"COMPANY.DASHBOARD")," ")}}const W=function(e){return["/company",e,"mentors"]};function K(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"li",5),m["\u0275\u0275elementStart"](1,"a",6),m["\u0275\u0275text"](2),m["\u0275\u0275pipe"](3,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("routerLink",m["\u0275\u0275pureFunction1"](5,W,null!=e.lookup&&e.lookup.lookupName?e.lookup.lookupName:e.companyID))("routerLinkActiveOptions",m["\u0275\u0275pureFunction0"](7,V)),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](3,3,"COMPANY.MENTORS")," ")}}const Z=function(e){return["/company",e,"startups"]};function Q(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"li",5),m["\u0275\u0275elementStart"](1,"a",6),m["\u0275\u0275text"](2),m["\u0275\u0275pipe"](3,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("routerLink",m["\u0275\u0275pureFunction1"](5,Z,null!=e.lookup&&e.lookup.lookupName?e.lookup.lookupName:e.companyID))("routerLinkActiveOptions",m["\u0275\u0275pureFunction0"](7,V)),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](3,3,"COMPANY.STARTUPS")," ")}}const ee=function(e){return["/company",e,"feed"]};function te(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275elementStart"](1,"li",5),m["\u0275\u0275elementStart"](2,"a",6),m["\u0275\u0275text"](3),m["\u0275\u0275pipe"](4,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](5,F,4,8,"li",22),m["\u0275\u0275template"](6,U,4,8,"ng-template",null,23,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275template"](8,q,4,8,"li",24),m["\u0275\u0275template"](9,z,4,8,"li",24),m["\u0275\u0275template"](10,H,3,5,"li",24),m["\u0275\u0275template"](11,X,4,8,"li",24),m["\u0275\u0275template"](12,K,4,8,"li",24),m["\u0275\u0275template"](13,Q,4,8,"li",24),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=m["\u0275\u0275reference"](7),t=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("routerLink",m["\u0275\u0275pureFunction1"](13,ee,null!=t.lookup&&t.lookup.lookupName?t.lookup.lookupName:t.companyID))("routerLinkActiveOptions",m["\u0275\u0275pureFunction0"](15,V)),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](4,11,"COMPANY.FEED")," "),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",4092===t.companyID)("ngIfElse",e),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",t.user.companyID!==t.companyID&&3===(null==t.company?null:t.company.companyTypeID)),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",(t.startupNetworkMember||t.programMember)&&t.superAdmin),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",(t.startupNetworkMember||t.programMember)&&t.superAdmin),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",(t.startupNetworkMember||t.programMember)&&t.superAdmin),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.mentorsTabAvailable&&4092!==t.companyID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.startupsTabAvailable&&4092!==t.companyID)}}const ne=function(){return["image/*"]};function ae(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"app-banner",25),m["\u0275\u0275listener"]("fileUploaded",function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().onBannerUploaded(t)}),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("referenceID",e.companyID)("documentCategoryID",2)("fileTypes",m["\u0275\u0275pureFunction0"](4,ne))("canEdit",(null==e.company?null:e.company.companyOwnerContactID)===e.contactID)}}function ie(e,t){if(1&e&&m["\u0275\u0275element"](0,"img",26),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("src",e.company.companyLogo?e.apiBlob+"256px/"+e.company.companyLogo:"assets/img/placeholder.jpg",m["\u0275\u0275sanitizeUrl"])}}function oe(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",27),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().editCompany()}),m["\u0275\u0275text"](1,"Edit Profile "),m["\u0275\u0275elementEnd"]()}}function re(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",28),m["\u0275\u0275elementStart"](1,"div",29),m["\u0275\u0275elementStart"](2,"button",30),m["\u0275\u0275element"](3,"span",31),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"ul",32),m["\u0275\u0275elementStart"](5,"li"),m["\u0275\u0275elementStart"](6,"a",33),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().supportGroupModal()}),m["\u0275\u0275text"](7),m["\u0275\u0275pipe"](8,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}2&e&&(m["\u0275\u0275advance"](7),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](8,1,"COMPANY.MANAGE-SUPPORT-TEAM")," "))}function se(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"span",34),m["\u0275\u0275element"](1,"i",35),m["\u0275\u0275elementStart"](2,"a",36),m["\u0275\u0275text"](3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275propertyInterpolate1"]("href","https://",e.companyLocation.googleMapURL,"",m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](null==e.companyLocation?null:e.companyLocation.city)}}function ce(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"span",34),m["\u0275\u0275element"](1,"i",37),m["\u0275\u0275elementStart"](2,"a",36),m["\u0275\u0275text"](3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275propertyInterpolate1"]("href","https://",e.company.website,"",m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](null==e.company?null:e.company.website)}}function le(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"span",38),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().moveToNextStage()}),m["\u0275\u0275element"](1,"i",39),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate2"](" ",null==e.companyStage?null:e.companyStage.currentStage,", ",e.companyStage.programTitle," ")}}const pe=function(e){return["/company",e]};let me=(()=>{class e{constructor(e,t,n,a,i,r,s,l,m,d){this.userService=e,this.activatedRoute=t,this.router=n,this.navigationService=a,this.modal=i,this.networkService=r,this.programsService=s,this.portfolioService=l,this.contactService=m,this.companyService=d,this.apiBlob=o.a.apiBlobUrl+"/",this.network=[],this.destroy$=new c.a,this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.superAdmin=this.user.permissions.some(e=>p.b.Admin===e.permissionAreaID)}ngOnInit(){this.userService.fullSearchWidth.next(!0),this.userService.filterToggle.pipe(Object(P.a)(this.destroy$)).subscribe(e=>{this.toggleFilter=!this.toggleFilter&&e}),this.isEdge=window.location.hostname.toLocaleLowerCase().includes("edgegrowth"),this.activatedRoute.params.subscribe(e=>{var t,n;this.lookup=this.activatedRoute.snapshot.data.lookup,this.company&&(this.network=null,this.startupNetworkMember=null,this.company=null,this.companyLocation=null,this.programMember=!1),this.taskOwnerID=null===(t=this.activatedRoute.snapshot.queryParams)||void 0===t?void 0:t.ownerID,this.taskSectionID=null===(n=this.activatedRoute.snapshot.queryParams)||void 0===n?void 0:n.sectionID,this.companyID=this.lookup.referenceID,this.getProfile(),this.getNetwork(),this.checkCompanyNetworks(),this.checkPartOfProgram()}),this.companyService.getNetworkMemberRx().pipe(Object(P.a)(this.destroy$)).subscribe(e=>{this.startupNetworkMember=e})}checkPartOfProgram(){this.portfolioService.getCompanyRoadmapInstance(this.companyID,0,this.user.companyID,0,0,0,0).subscribe(e=>{this.companyStage=e[0]||null,this.programMember=e.length>0})}moveToNextStage(){this.loading=!0,this.programsService.getProgramInstanceStages(this.companyStage.programInstanceID).subscribe(e=>{this.loading=!1,this.companyStage.programStageTitle=this.companyStage.programStageTitle||this.companyStage.currentStage,this.companyStage.programInstanceStageID=this.companyStage.programInstanceStageID||this.companyStage.programInstanceSTageID;const t=this.modal.open(j.a,{size:"lg",backdrop:"static",keyboard:!1});t.componentInstance.applicant=this.companyStage,t.componentInstance.programInstanceStages=e,t.componentInstance.programName=this.companyStage.programTitle,t.result.then(e=>{let t=[],n=[];e&&e.hasOwnProperty("stages")&&(n=e.stages),e&&e.hasOwnProperty("removed")&&(t=e.removed),n.length&&this.checkPartOfProgram(),t.forEach(e=>{e===this.companyStage.companyProgramInstanceStageID&&this.checkPartOfProgram()})})})}getProfile(){this.loading=!0,Object(l.a)(this.companyService.getCompanyProfile(this.companyID),this.companyService.getCompanyLocation(this.companyID)).pipe(Object(P.a)(this.destroy$)).subscribe(e=>{this.company=e[0],this.companyLocation=e[1][0]||null,this.companyLocation&&(this.company.companyLocation=this.companyLocation.companyLocation||this.companyLocation.city),this.companyService.setDetailCompany(this.company),this.loading=!1})}back(){this.navigationService.backToPrevious()}editCompany(){const e=this.modal.open(r.a,{size:"lg"});e.componentInstance.company=Object(s.a)(this.company),e.result.then(e=>{e&&e.companyID&&(this.company=e,this.companyService.getCompanyLocation(e.companyID).subscribe(e=>{var t,n;this.companyLocation=e[0]||null,this.companyLocation&&(this.company.companyLocation=(null===(t=this.companyLocation)||void 0===t?void 0:t.city)||(null===(n=this.companyLocation)||void 0===n?void 0:n.companyLocation)),this.companyService.setDetailCompany(this.company)}))})}getNetwork(){this.networkService.getNetwork(0,0,0,0,this.user.companyID,0,0).subscribe(e=>{this.network=e;const t=this.network.find(e=>1===e.networkTypeClassificationID);t&&this.checkStartupPending(t)})}checkCompanyNetworks(){this.networkService.getNetwork(0,0,0,0,this.companyID,0,0).subscribe(e=>{this.startupsTabAvailable=e.some(e=>1===e.networkTypeClassificationID),this.mentorsTabAvailable=e.some(e=>2===e.networkTypeClassificationID)})}checkStartupPending(e){this.networkService.getNetworkMember(e.networkID,2,0,this.companyID,0,0).subscribe(e=>{e[0]&&(this.startupNetworkMember=e[0])})}onBannerUploaded(e){this.company.companyBanner=e.documentPath,this.companyService.setDetailCompany(this.company)}supportGroupModal(){const e=this.modal.open(O,{size:"lg",backdrop:"static"});e.componentInstance.company=this.company,e.componentInstance.companyParamID=this.company.companyID,e.componentInstance.networkMember=this.startupNetworkMember,e.componentInstance.supportAdded.subscribe(e=>{this.companyService.supportTeamStoreRx(e)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.companyService.setDetailCompany(null),this.userService.fullSearchWidth.next(!1)}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](y.a),m["\u0275\u0275directiveInject"](i.a),m["\u0275\u0275directiveInject"](i.d),m["\u0275\u0275directiveInject"](A.a),m["\u0275\u0275directiveInject"](S.p),m["\u0275\u0275directiveInject"](v.a),m["\u0275\u0275directiveInject"](N.a),m["\u0275\u0275directiveInject"](T.a),m["\u0275\u0275directiveInject"](L.a),m["\u0275\u0275directiveInject"](b.a))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-explore-company"]],decls:31,vars:19,consts:[[1,"d-flex","w-100","min-full-height"],[1,"left-hand-filter","d-flex","flex-column","pt-4","pl-2","pr-2",3,"click"],[1,"d-flex","flex-column","w-100","inner-container",3,"click"],[1,"pl-3","pr-3","mt-4"],[1,"nav","flex-column","filter-menu",3,"click"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink","routerLinkActiveOptions"],[4,"ngIf"],[1,"d-flex","flex-column","flex-grow-1"],[1,"page-header"],[1,"profile-photos","img-bottom-border"],["class","w-100",3,"referenceID","documentCategoryID","fileTypes","canEdit","fileUploaded",4,"ngIf"],[1,"user-photo"],["alt","logo","class","img-fluid profile-user",3,"src",4,"ngIf"],[1,"bottom-actions","d-flex","justify-content-end","align-items-center"],["class","btn btn-sm btn-outline-primary mr-3 mt-3",3,"click",4,"ngIf"],["class","actions",4,"ngIf"],[1,"profile-overview"],[1,"meta"],[1,"icon-list","d-flex","flex-wrap"],["class","text-muted other mt-2 mr-4",4,"ngIf"],["class","text-muted other mt-2 mr-4 cursor-pointer",3,"click",4,"ngIf"],["class","nav-item",4,"ngIf","ngIfElse"],["nonEnterpriseCompanyTab",""],["class","nav-item",4,"ngIf"],[1,"w-100",3,"referenceID","documentCategoryID","fileTypes","canEdit","fileUploaded"],["alt","logo",1,"img-fluid","profile-user",3,"src"],[1,"btn","btn-sm","btn-outline-primary","mr-3","mt-3",3,"click"],[1,"actions"],[1,"dropdown"],["type","button","id","dd1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-30","mr-3","mt-3"],[1,"ico","dots-ico","dots-ico--gray"],["aria-labelledby","dd1",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"text-muted","other","mt-2","mr-4"],[1,"fas","fa-map-marker-alt"],["target","_blank",1,"text-muted","ml-1",3,"href"],[1,"fas","fa-link"],[1,"text-muted","other","mt-2","mr-4","cursor-pointer",3,"click"],[1,"fas","fa-list-alt"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"div",1),m["\u0275\u0275listener"]("click",function(){return t.toggleFilter=!1}),m["\u0275\u0275elementStart"](2,"div",2),m["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),m["\u0275\u0275elementStart"](3,"h3",3),m["\u0275\u0275text"](4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"ul",4),m["\u0275\u0275listener"]("click",function(){return t.toggleFilter=!1}),m["\u0275\u0275elementStart"](6,"li",5),m["\u0275\u0275elementStart"](7,"a",6),m["\u0275\u0275text"](8,"Profile"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](9,te,14,16,"ng-container",7),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](10,"div",8),m["\u0275\u0275elementStart"](11,"div",9),m["\u0275\u0275elementStart"](12,"div",10),m["\u0275\u0275template"](13,ae,1,5,"app-banner",11),m["\u0275\u0275elementStart"](14,"div",12),m["\u0275\u0275template"](15,ie,1,1,"img",13),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](16,"div",14),m["\u0275\u0275template"](17,oe,2,0,"button",15),m["\u0275\u0275template"](18,re,9,3,"div",16),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](19,"div",17),m["\u0275\u0275elementStart"](20,"h2"),m["\u0275\u0275text"](21),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](22,"span",18),m["\u0275\u0275text"](23),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](24,"p"),m["\u0275\u0275text"](25),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](26,"div",19),m["\u0275\u0275template"](27,se,4,2,"span",20),m["\u0275\u0275template"](28,ce,4,2,"span",20),m["\u0275\u0275template"](29,le,3,2,"span",21),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](30,"router-outlet"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275classProp"]("toggled",t.toggleFilter),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"](" ",null==t.company?null:t.company.companyName," "),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("routerLink",m["\u0275\u0275pureFunction1"](16,pe,null!=t.lookup&&t.lookup.lookupName?t.lookup.lookupName:t.companyID))("routerLinkActiveOptions",m["\u0275\u0275pureFunction0"](18,V)),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",!t.taskOwnerID&&!t.taskSectionID),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("ngIf",t.company),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",t.company),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",(null==t.company?null:t.company.companyOwnerContactID)===t.contactID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.superAdmin&&(t.startupNetworkMember&&2===t.startupNetworkMember.networkMemberStatusID||t.programMember)),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](null==t.company?null:t.company.companyName),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](null==t.company?null:t.company.industry),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](null==t.company?null:t.company.companyMission),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",null==t.companyLocation?null:t.companyLocation.city),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",null==t.company?null:t.company.website),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.companyStage))},directives:[i.g,i.f,a.n,i.i,R.a],pipes:[B.c],styles:[".join-toggle[_ngcontent-%COMP%]{background-image:none!important;background-size:0!important}.join-toggle[_ngcontent-%COMP%]:after, .join-toggle[_ngcontent-%COMP%]:before{display:none}.mentee-content[_ngcontent-%COMP%]{border-left:1px solid #d5d5d5;border-right:1px solid #d5d5d5;margin-top:55px;min-height:calc(100vh - 60px)}.company-menu[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{padding:0 .5rem}.company-menu[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.5rem}.profile-overview[_ngcontent-%COMP%]{margin-top:16px}"]}),e})();var de=n("SL35"),ue=n("MEae");function he(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"app-news-item",3),m["\u0275\u0275listener"]("delete",function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"](),n=t.$implicit,a=t.index;return m["\u0275\u0275nextContext"]().onDeleteDiscussionModal(n.discussionID,a)})("edit",function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"](),n=t.$implicit,a=t.index;return m["\u0275\u0275nextContext"]().onEditDiscussionModal(n,a)}),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]().$implicit;m["\u0275\u0275property"]("discussion",e)}}function ge(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275template"](1,he,1,1,"app-news-item",2),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.discussionID)}}let Ie=(()=>{class e{constructor(e,t,n){this.activatedRoute=e,this.discussionService=t,this.modal=n,this.discussions=[]}ngOnInit(){this.lookup=this.activatedRoute.parent.snapshot.data.lookup,this.companyID=this.lookup.referenceID,this.initDiscussion()}initDiscussion(){this.loading=!0,this.discussionService.fetchDiscussions(0,this.companyID,12,0,0,0).subscribe(e=>{this.discussions=e,this.loading=!1})}onDeleteDiscussionModal(e,t){this.modal.open(h.a,{}).result.then(()=>{this.discussionService.deleteDiscussion(e).subscribe(()=>{this.discussions.splice(t,1)})},()=>{})}onEditDiscussionModal(e,t){const n=this.modal.open(de.a,{backdrop:"static",size:"md"});n.componentInstance.discussion=Object(d.l)(e),n.result.then(e=>{this.discussions[t]=e},()=>{})}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](i.a),m["\u0275\u0275directiveInject"](D.a),m["\u0275\u0275directiveInject"](S.p))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-explore-company-feed"]],decls:2,vars:1,consts:[[1,"d-flex","flex-column","w-100"],[4,"ngFor","ngForOf"],[3,"discussion","delete","edit",4,"ngIf"],[3,"discussion","delete","edit"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275template"](1,ge,2,1,"ng-container",1),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",t.discussions))},directives:[a.m,a.n,ue.a],styles:[""]}),e})();var ve=n("w6ya"),ye=n("4CJs"),fe=n("ZlE8"),De=n("o+C+"),be=n("Fjb4"),Se=n("WchS"),we=n("MNGV"),xe=n("p+bo"),ke=n("/che"),Ce=n("BoU9"),Ee=n("Ay/5"),Me=n("FddC"),Oe=n("ev4g"),Pe=n("6BoG"),je=n("hpld"),Ae=n("9nlD"),Ne=n("f+9o"),Te=n("S2+F"),Le=n("3Pt+");function Re(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275elementStart"](1,"option",10),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngValue",e.programID),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",e.programTitle," ")}}function Be(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275elementStart"](1,"option",10),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngValue",e.programInstanceID),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",e.programInstanceTitle," ")}}function $e(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"select",23),m["\u0275\u0275listener"]("change",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().onGroupSelect()})("ngModelChange",function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().selectedGroup.programInstanceID=t}),m["\u0275\u0275elementStart"](1,"option",10),m["\u0275\u0275text"](2,"Select Group"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](3,Be,3,2,"ng-container",11),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("ngModel",e.selectedGroup.programInstanceID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngValue",null),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngForOf",e.instances)}}function Ve(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275elementStart"](1,"option",10),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngValue",e.programInstanceStageID),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",e.programStageTitle," ")}}function Fe(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"select",24),m["\u0275\u0275listener"]("change",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().onStageSelect()})("ngModelChange",function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().selectedStage.programInstanceStageID=t}),m["\u0275\u0275elementStart"](1,"option",10),m["\u0275\u0275text"](2,"Select Stage"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](3,Ve,3,2,"ng-container",11),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("ngModel",e.selectedStage.programInstanceStageID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngValue",null),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngForOf",e.stages)}}function Ue(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",25),m["\u0275\u0275element"](1,"i",26),m["\u0275\u0275text"](2," Add Supporters "),m["\u0275\u0275elementEnd"]())}function _e(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"span",28),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",e.firstName+" "+e.surname," ")}}function qe(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"span",25),m["\u0275\u0275template"](1,_e,2,1,"span",27),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",e.supporters)}}let Ge=(()=>{class e{constructor(e,t,n,a,i,o,r,s,c,l,p,m,d,u,h){this.networkService=e,this.modal=t,this.activeModal=n,this.portfolioService=a,this.permissionService=i,this.taskService=o,this.eventService=r,this.userService=s,this.companyService=c,this.courseService=l,this.notificationService=p,this.trainingPlanService=m,this.discussionService=d,this.signalRService=u,this.programsService=h,this.programs=[],this.instances=[],this.stages=[],this.selectedProgram=new be.a,this.selectedGroup=new De.a,this.selectedStage=new Se.a,this.tasks=[],this.events=[],this.courses=[],this.companyStage=new Ee.a,this.supporters=[],this.user=this.userService.user.getValue(),this.companyID=this.user.companyID,this.contactID=this.user.contactID}ngOnInit(){this.initPrograms(),this.initCompany()}initCompany(){this.companyLoading=!0,this.companyService.getCompanyProfile(this.networkMember.referenceID).subscribe(e=>{this.company=e,this.companyLoading=!1})}initPrograms(){this.programsLoading=!0,this.programsService.getPrograms(this.companyID).subscribe(e=>{this.programs=e,this.programsLoading=!1})}submit(){this.loading=!0;const e={companyID:this.networkMember.referenceID,dateAccepted:Object(d.a)(new Date),programInstanceID:this.selectedGroup.programInstanceID,contactID:this.company.companyOwnerContactID};this.portfolioService.addPortfolio(e).pipe(Object(g.a)(e=>{const t={programInstanceStageID:this.selectedStage.programInstanceStageID,companyProgramStageStartDate:Object(d.a)(new Date),companyProgramStageEndDate:this.selectedStage.programStageEndDate,companyProgramStageStatusID:2,companyLocationID:e.companyLocationID,companyProgramInstanceID:e.inOut_CompanyProgramInstanceID,companyProgramInstanceStageTypeID:this.selectedStage.programStageTypeID};return this.portfolioService.insertStage(t)})).subscribe(e=>{this.companyStage=e,this.companyStage.companyProgramInstanceStageID=e.inOut_CompanyProgramInstanceStageID,this.activate(),this.createSupportGroup(),this.baselineTask&&this.createReport(),3===this.selectedStage.programStageTypeID&&this.instanceChat(this.selectedGroup,this.company.companyOwnerContactID)})}onProgramSelect(){this.selectedGroup=new De.a,this.selectedStage=new Se.a,this.selectedProgram.programID&&(this.selectedProgram=this.programs.find(e=>e.programID===this.selectedProgram.programID),this.instances=this.programs.find(e=>e.programID===this.selectedProgram.programID).instances)}onGroupSelect(){this.selectedStage=new Se.a,this.selectedGroup.programInstanceID&&(this.selectedGroup=this.instances.find(e=>e.programInstanceID===this.selectedGroup.programInstanceID),this.stages=this.instances.find(e=>e.programInstanceID===this.selectedGroup.programInstanceID).stages)}onStageSelect(){this.selectedStage.programInstanceStageID&&(this.selectedStage=this.stages.find(e=>e.programInstanceStageID===this.selectedStage.programInstanceStageID),this.getCourses(),this.getEvents(),this.getTasks())}getTasks(){this.taskLoading=!0,this.taskService.getTask(0,17,this.selectedStage.programInstanceStageID,0,0,0,0,0).subscribe(e=>{this.tasks=e,this.taskLoading=!1},()=>this.taskLoading=!1)}getEvents(){this.eventsLoading=!0,this.eventService.selectEvents({EventCategoryID:1,ReferenceID:this.selectedStage.programInstanceStageID}).subscribe(e=>{this.events=Object(d.j)(e,"eventID"),this.eventsLoading=!1},()=>this.eventsLoading=!1)}getCourses(){this.courseLoading=!0,this.programsService.getProgramInstanceStageCourses(this.selectedStage.programInstanceStageID).subscribe(e=>{this.courses=e,this.courseLoading=!1},()=>this.courseLoading=!1)}activate(){const e={companyProgramInstanceStageID:this.companyStage.companyProgramInstanceStageID,companyProgramStageStartDate:this.companyStage.companyProgramStageStartDate,companyProgramStageEndDate:this.companyStage.companyProgramStageEndDate,companyProgramStageStatusID:this.companyStage.companyProgramStageStatusID,companyLocationID:this.companyStage.companyLocationID,companyProgramInstanceStageTypeID:this.companyStage.companyProgramInstanceStageTypeID,programInstanceStageID:this.companyStage.programInstanceStageID,companyProgramInstanceStageActivationStatusDate:Object(d.a)(new Date),companyProgramInstanceStageActivationStatusID:1,programInstanceStageStatusID:this.companyStage.programInstanceStageStatusID,companyProgramInstanceID:this.companyStage.companyProgramInstanceID};this.loading=!0;let t=0,n=0;this.portfolioService.updateStage(e).pipe(Object(g.a)(()=>{const e=[];return this.tasks.forEach(n=>{t=n.formID;const a=new xe.a;a.taskID=n.taskID,a.contactID=this.company.companyOwnerContactID,a.companyID=this.networkMember.referenceID,a.taskOwnerCategoryID=n.taskCategoryID,e.push(this.taskService.addTaskOwner(a))}),this.courses.forEach(t=>{e.push(this.trainingPlanService.insertTrainingPlan({masterCompanyID:0,periodID:0,companyID:this.networkMember.referenceID,contactID:this.company.companyOwnerContactID,courseID:t.courseID,trainingPlanCategoryID:2,referenceID:this.companyStage.programInstanceStageID,trainingPlanStatusID:0,budgetCost:0,budgetDuration:0,budgetDurationTypeID:0,addedby:0}))}),this.events.forEach(t=>{const n=new ke.a;n.eventID=t.eventID,n.contactID=this.company.companyOwnerContactID,n.eventDelegateTypeID=1,n.addedByID=this.contactID,n.companyID=this.networkMember.referenceID,n.eventDelegateStatusID=1,e.push(this.eventService.insertEventDelegate(n))}),e.length?Object(l.a)(e):Object(u.a)([])})).subscribe(e=>{e.forEach(e=>{if(e.hasOwnProperty("taskOwnerID")){n=e.taskOwnerID;const t=this.tasks.find(t=>t.taskID===e.taskID);if(t){const n={discussionTopic:t.taskTitle,discussionCategoryID:6,referenceID:e.taskOwnerID,isDirectMessage:!0,discussionCreatedByContactID:this.company.companyOwnerContactID,discussionBody:t.taskDescription,parentDiscussionID:0},a=[];t.taskSupporters.forEach(e=>{a.includes(e.contactID)||a.push(e.contactID)}),a.includes(t.submittedBy)||a.push(t.submittedBy),a.includes(this.company.companyOwnerContactID)||a.includes(this.company.companyOwnerContactID),this.discussionService.insertDiscussion(n).pipe(Object(g.a)(e=>{const t=[];return a.forEach(n=>{t.push(this.discussionService.addMember({discussionID:e.discussionID,contactID:n,isAdmin:!0}))}),t.length?Object(l.a)(t):Object(u.a)([])})).subscribe()}}}),this.loading=!1,this.activeModal.close(this.companyStage)},()=>{this.loading=!1})}createSupportGroup(){this.supporters.forEach(e=>{const t={permissionAreaID:p.b.Startup_Supporter,permissionTypeID:0,referenceID:this.networkMember.networkMemberID,contactID:e.contactID,companyID:this.companyID,grantedByContactID:this.contactID,dateGranted:Object(d.a)(new Date)};this.permissionService.create(t).subscribe()}),this.discussionService.insertDiscussion({discussionTopic:this.company.companyName+" support team",discussionCategoryID:3,isDirectMessage:!1,discussionCreatedByContactID:this.contactID,discussionBody:this.company.companyName+" support team",referenceID:this.networkMember.networkMemberID}).pipe(Object(g.a)(e=>{const t=[];return t.push(this.discussionService.addMember({discussionID:e.discussionID,contactID:this.contactID,isAdmin:!0,hasAccepted:!0})),this.company.companyOwnerContactID!==this.contactID&&t.push(this.discussionService.addMember({discussionID:e.discussionID,contactID:this.company.companyOwnerContactID,isAdmin:!0,hasAccepted:!0})),this.supporters.forEach(n=>{n.contactID!==this.contactID&&n.contactID!==this.company.companyOwnerContactID&&t.push(this.discussionService.addMember({discussionID:e.discussionID,contactID:n.contactID,isAdmin:!0,hasAccepted:!0}))}),Object(l.a)(t)})).subscribe()}openSupporterDialog(){const e=this.modal.open(I.a);e.componentInstance.selectedContacts=Object(d.l)(this.supporters),e.result.then(e=>{this.supporters=Object(d.j)(e,"contactID")})}dismiss(){this.activeModal.dismiss()}createReport(){const e=new we.a;let t;e.endDate=Object(d.a)(new Date),e.taskCategoryID=32,e.submittedBy=this.contactID,e.autoSignOff=!1,e.referenceID=this.companyID,e.companyID=this.company.companyID,e.taskTitle="Baseline Report Submission - "+this.company.companyName,this.taskService.addTask(e).pipe(Object(g.a)(n=>{t=n.inOut_TaskID;const a=[],i=new xe.a;return i.contactID=this.company.companyOwnerContactID,i.taskID=n.inOut_TaskID,i.deadline=e.endDate,i.companyID=this.company.companyID,this.supporters.forEach(e=>{if(e.contactID===this.company.companyOwnerContactID)return;const n=new Me.a;n.taskID=t,n.contactID=e.contactID,a.push(this.taskService.addTaskSupporter(n))}),a.push(this.taskService.addTaskOwner(i)),Object(l.a)(a)})).subscribe(e=>{const n=[];e.forEach(e=>{if(!e.taskOwnerID)return;const t=new xe.b;t.taskCategoryID=32,t.taskOwnerID=e.taskOwnerID,t.taskID=e.taskID,t.companyID=this.companyID,t.taskSectionReferenceID=0,n.push(this.taskService.addTaskOwnerSection(t))}),(n.length>0?Object(l.a)(n):Object(u.a)(n)).subscribe(()=>{this.noticeNotification(t,this.company.companyOwnerContactID)})})}noticeNotification(e,t){const n=Object(d.a)(new Date),a=this.user.companyName+" have assigned you a baseline report to complete",i={notificationCategoryID:ve.a.baseline_report_task_owner,referenceID:e,contactID:t,description:a,createdContact:this.contactID},o=n+"|"+e,r={date:n,body:a.replace("|",""),topic:a.replace("|",""),senderFullName:"",senderPhoto:"",notificationId:Math.floor(1e3*Math.random()),channel:"dashboard",reference:i.referenceID,notificationType:ye.a.applicantRequest,senderId:i.createdContact,receivers:[i.contactID],uniqueId:o,discussionId:0};this.notificationService.noticeNotification(i).subscribe(()=>{this.signalRService.transferMessage("dashboard",r)})}instanceChat(e,t){let n=new Ce.a;this.discussionService.fetchDiscussions(0,e.programInstanceID,4,0,0,0).pipe(Object(g.a)(e=>(e.length&&(n=e[0]),n.discussionID?this.discussionService.getAllMembers(n.discussionID):Object(u.a)([])))).subscribe(a=>{n.discussionID?a.find(e=>e.contactID===t)||this.discussionService.addMember({discussionID:n.discussionID,contactID:t,isAdmin:!0,hasAccepted:!0}).subscribe():(n.discussionTopic=e.programTitle+" Group",n.discussionBody=e.programTitle+" Group",n.referenceID=e.programInstanceID,n.discussionCategoryID=4,n.discussionCreatedByContactID=this.contactID,n.isDirectMessage=!1,this.discussionService.insertDiscussion(n).pipe(Object(g.a)(e=>{const n=[];return n.push(this.discussionService.addMember({discussionID:e.discussionID,contactID:this.contactID,isAdmin:!0,hasAccepted:!0})),this.contactID!==t&&n.push(this.discussionService.addMember({discussionID:e.discussionID,contactID:t,isAdmin:!0,hasAccepted:!0})),Object(l.a)(n)})).subscribe())})}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](v.a),m["\u0275\u0275directiveInject"](S.p),m["\u0275\u0275directiveInject"](S.a),m["\u0275\u0275directiveInject"](T.a),m["\u0275\u0275directiveInject"](f.a),m["\u0275\u0275directiveInject"](Oe.a),m["\u0275\u0275directiveInject"](Pe.a),m["\u0275\u0275directiveInject"](y.a),m["\u0275\u0275directiveInject"](b.a),m["\u0275\u0275directiveInject"](je.a),m["\u0275\u0275directiveInject"](Ae.a),m["\u0275\u0275directiveInject"](Ne.a),m["\u0275\u0275directiveInject"](D.a),m["\u0275\u0275directiveInject"](Te.a),m["\u0275\u0275directiveInject"](N.a))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-startup-accept-dialog"]],decls:31,vars:13,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","d-flex","flex-column",3,"avnonLoader"],[3,"submit"],["f","ngForm"],[1,"form-group","d-flex","flex-column"],["for","program"],["name","program","id","program","required","",1,"form-control",3,"ngModel","change","ngModelChange"],[3,"ngValue"],[4,"ngFor","ngForOf"],["name","group","id","group","class","form-control mt-1","required","",3,"ngModel","change","ngModelChange",4,"ngIf"],["name","stage","id","stage","class","form-control mt-1","required","",3,"ngModel","change","ngModelChange",4,"ngIf"],[1,"form-group"],["for","taskOwners"],["id","taskOwners",3,"click"],["class","title-sm",4,"ngIf"],[1,"form-group","form-check","m-0"],["type","checkbox","id","isSignOffRequired","name","submissionType","value","2",1,"form-check-input",3,"checked","change"],["for","isSignOffRequired",1,"form-check-label","font-weight-normal"],[1,"form-group","text-right"],[1,"btn","btn-primary",3,"disabled"],["name","group","id","group","required","",1,"form-control","mt-1",3,"ngModel","change","ngModelChange"],["name","stage","id","stage","required","",1,"form-control","mt-1",3,"ngModel","change","ngModelChange"],[1,"title-sm"],[1,"fas","fa-plus"],["class","badge badge-info p-2 m-1",4,"ngFor","ngForOf"],[1,"badge","badge-info","p-2","m-1"]],template:function(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"h5",1),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"button",2),m["\u0275\u0275listener"]("click",function(){return t.dismiss()}),m["\u0275\u0275elementStart"](4,"span",3),m["\u0275\u0275text"](5,"\xd7"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"div",4),m["\u0275\u0275elementStart"](7,"form",5,6),m["\u0275\u0275listener"]("submit",function(){return t.submit()}),m["\u0275\u0275elementStart"](9,"div",7),m["\u0275\u0275elementStart"](10,"label",8),m["\u0275\u0275text"](11),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"select",9),m["\u0275\u0275listener"]("change",function(){return t.onProgramSelect()})("ngModelChange",function(e){return t.selectedProgram.programID=e}),m["\u0275\u0275elementStart"](13,"option",10),m["\u0275\u0275text"](14,"Select Program"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](15,Re,3,2,"ng-container",11),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](16,$e,4,3,"select",12),m["\u0275\u0275template"](17,Fe,4,3,"select",13),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](18,"div",14),m["\u0275\u0275elementStart"](19,"label",15),m["\u0275\u0275text"](20),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](21,"div",16),m["\u0275\u0275listener"]("click",function(){return t.openSupporterDialog()}),m["\u0275\u0275template"](22,Ue,3,0,"span",17),m["\u0275\u0275template"](23,qe,2,1,"span",17),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](24,"div",18),m["\u0275\u0275elementStart"](25,"input",19),m["\u0275\u0275listener"]("change",function(e){return t.baselineTask=e.target.checked}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](26,"label",20),m["\u0275\u0275text"](27,"Create Baseline Task"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](28,"div",21),m["\u0275\u0275elementStart"](29,"button",22),m["\u0275\u0275text"](30," Confirm "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275reference"](8);m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" Accept ",t.networkMember.companyName," onto your Startup Network "),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("avnonLoader",t.loading||t.programsLoading||t.courseLoading||t.eventsLoading||t.taskLoading||t.companyLoading),m["\u0275\u0275advance"](5),m["\u0275\u0275textInterpolate1"]("Select the program ",t.networkMember.companyName," is part of:"),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngModel",t.selectedProgram.programID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngValue",null),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngForOf",t.programs),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.selectedProgram.programID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.selectedGroup.programInstanceID),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"]("Select the ",t.networkMember.companyName," Support team"),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",0===t.supporters.length),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.supporters.length>0),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("checked",t.baselineTask),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("disabled",t.loading||e.invalid||!t.supporters.length)}},directives:[w.a,Le.E,Le.r,Le.s,Le.B,Le.A,Le.q,Le.t,Le.v,Le.D,a.m,a.n],styles:[""]}),e})();var ze=n("Wgwc"),Ye=n("BN3N"),He=n("5eHb"),Je=n("2tam"),Xe=n("pAQ2"),We=n("f3yp");function Ke(e,t){1&e&&m["\u0275\u0275element"](0,"app-spinner")}function Ze(e,t){1&e&&m["\u0275\u0275element"](0,"app-spinner")}function Qe(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",10),m["\u0275\u0275elementStart"](1,"div",11),m["\u0275\u0275elementStart"](2,"div",12),m["\u0275\u0275elementStart"](3,"div",13),m["\u0275\u0275text"](4),m["\u0275\u0275pipe"](5,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"button",14),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().acceptMentorNetwork()}),m["\u0275\u0275template"](7,Ke,1,0,"app-spinner",15),m["\u0275\u0275text"](8),m["\u0275\u0275pipe"](9,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](10,"button",16),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().startUpVerification(!1)}),m["\u0275\u0275template"](11,Ze,1,0,"app-spinner",15),m["\u0275\u0275text"](12),m["\u0275\u0275pipe"](13,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate2"](" ",null==e.company?null:e.company.companyName," ",m["\u0275\u0275pipeBind1"](5,8,"COMPANY.STARTUP-JOINEE-REQUEST")," "),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("disabled",e.startupLoadingType),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.startupLoading&&"accept"===e.startupLoadingType),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](9,10,"COMMON.ACCEPT")," "),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("disabled",e.startupLoadingType),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.startupLoading&&"reject"===e.startupLoadingType),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](13,12,"COMMON.DECLINE")," ")}}function et(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",20),m["\u0275\u0275elementStart"](1,"div",11),m["\u0275\u0275elementStart"](2,"div",12),m["\u0275\u0275elementStart"](3,"p",21),m["\u0275\u0275text"](4," We're looking for mentors to help support our startups. "),m["\u0275\u0275element"](5,"br"),m["\u0275\u0275elementStart"](6,"span",22),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).joinMentorNetwork()}),m["\u0275\u0275text"](7,"Click Here"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](8," to join our mentor network "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}}function tt(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",20),m["\u0275\u0275elementStart"](1,"div",11),m["\u0275\u0275elementStart"](2,"div",12),m["\u0275\u0275elementStart"](3,"p",21),m["\u0275\u0275text"](4," Your request has been sent and pending verification. "),m["\u0275\u0275element"](5,"br"),m["\u0275\u0275elementStart"](6,"span",22),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).cancelRequest()}),m["\u0275\u0275text"](7,"Click Here"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](8," to cancel request "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}}function nt(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",20),m["\u0275\u0275elementStart"](1,"div",11),m["\u0275\u0275elementStart"](2,"div",12),m["\u0275\u0275elementStart"](3,"p",21),m["\u0275\u0275text"](4),m["\u0275\u0275pipe"](5,"date"),m["\u0275\u0275pipe"](6,"dateObject"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate1"](" Member of Mentor network since ",m["\u0275\u0275pipeBind2"](5,1,m["\u0275\u0275pipeBind1"](6,4,e.mentorNetworkMember.dateAdded),"dd MMM yyyy")," ")}}function at(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",17),m["\u0275\u0275elementStart"](1,"p",18),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](3,et,9,0,"div",19),m["\u0275\u0275template"](4,tt,9,0,"div",19),m["\u0275\u0275template"](5,nt,7,6,"div",19),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](null==e.company?null:e.company.companyProfile),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.mentorNetwork&&!e.mentorNetworkMember),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.mentorNetwork&&e.mentorNetworkMember&&2!==e.mentorNetworkMember.networkMemberStatusID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.mentorNetwork&&e.mentorNetworkMember&&2===e.mentorNetworkMember.networkMemberStatusID)}}function it(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",30),m["\u0275\u0275element"](1,"img",31),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2).$implicit,t=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("src",e.bannerImage?t.apiBlobUrl+"512px/"+e.bannerImage:"assets/img/program-banner.jpg",m["\u0275\u0275sanitizeUrl"])}}function ot(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",24),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"]().$implicit;return m["\u0275\u0275nextContext"]().navigateToOpportunity(t.programInstanceID)}),m["\u0275\u0275elementStart"](1,"span",25),m["\u0275\u0275element"](2,"img",26),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"h2"),m["\u0275\u0275text"](4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"div",27),m["\u0275\u0275elementStart"](6,"span"),m["\u0275\u0275text"](7),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](8,"div",28),m["\u0275\u0275elementStart"](9,"p"),m["\u0275\u0275text"](10),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](11,it,2,1,"div",29),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]().$implicit,t=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("src",e.companyLogo?t.apiBlobUrl+"256px/"+e.companyLogo:"assets/img/card-placeholder.jpg",m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.programTitle),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](e.programInstanceTitle),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](e.programOverview),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.bannerImage)}}function rt(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275template"](1,ot,12,5,"div",23),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",4!==(null==e?null:e.activationStatusID)||4===(null==e?null:e.activationStatusID)&&n.companyID===(null==e?null:e.companyID))}}function st(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"span",38),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).addProduct()}),m["\u0275\u0275element"](1,"span",39),m["\u0275\u0275text"](2),m["\u0275\u0275pipe"](3,"translate"),m["\u0275\u0275elementEnd"]()}2&e&&(m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](3,1,"COMMON.ADD")," "))}function ct(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"p",40),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](2,1,"COMPANY.ADD-PRODUCT-SERVICE")," "))}function lt(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",47),m["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),m["\u0275\u0275elementStart"](1,"button",48),m["\u0275\u0275element"](2,"i",49),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"div",50),m["\u0275\u0275elementStart"](4,"button",51),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"]().index;return m["\u0275\u0275nextContext"](2).editProduct(t)}),m["\u0275\u0275text"](5),m["\u0275\u0275pipe"](6,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"button",51),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"]().index;return m["\u0275\u0275nextContext"](2).deleteProduct(t)}),m["\u0275\u0275text"](8),m["\u0275\u0275pipe"](9,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}2&e&&(m["\u0275\u0275advance"](5),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](6,2,"COMMON.EDIT")," "),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](9,4,"COMMON.DELETE")," "))}function pt(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",41),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const n=t.$implicit;return m["\u0275\u0275nextContext"](2).navigateToProduct(n.companyProductID)}),m["\u0275\u0275elementStart"](1,"div",42),m["\u0275\u0275elementStart"](2,"div",43),m["\u0275\u0275elementStart"](3,"h3",44),m["\u0275\u0275text"](4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](5,lt,10,6,"div",45),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"span",46),m["\u0275\u0275text"](7),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](8,"p"),m["\u0275\u0275text"](9),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,a=m["\u0275\u0275nextContext"](2);m["\u0275\u0275classProp"]("border-bottom-0",n===a.products.length-1),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](e.productName),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",a.adminCheck),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](1===e.productTypeID?"Product":"Service"),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.productPitch)}}function mt(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",32),m["\u0275\u0275elementStart"](1,"div",33),m["\u0275\u0275elementStart"](2,"h1",4),m["\u0275\u0275text"](3,"Products and Services"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](4,st,4,3,"span",34),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](5,ct,3,3,"p",35),m["\u0275\u0275elementStart"](6,"div",36),m["\u0275\u0275template"](7,pt,10,6,"div",37),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("ngIf",!e.products.length&&e.adminCheck),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.products.length&&e.adminCheck),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngForOf",e.products)}}function dt(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"p",55),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" Your profile is incomplete. ",m["\u0275\u0275pipeBind1"](2,1,"COMPANY.YOUR-PROFILE-INCOMPLETE")," "))}function ut(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"p",55),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" Your profile is complete. ",m["\u0275\u0275pipeBind1"](2,1,"COMPANY.YOUR-PROFILE-COMPLETE")," "))}function ht(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",52),m["\u0275\u0275template"](1,dt,3,3,"p",53),m["\u0275\u0275template"](2,ut,3,3,"p",53),m["\u0275\u0275elementStart"](3,"button",54),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().businessProfileDone()}),m["\u0275\u0275text"](4,"Done "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.products.length||!e.company.companyLocation||!e.company.companyBanner),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.products.length&&e.company.companyLocation&&e.company.companyBanner),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("disabled",!e.products.length||!e.company.companyLocation||!e.company.companyBanner||e.loading)}}let gt=(()=>{class e{constructor(e,t,n,a,i,r,s,l,m,d,u,h,g,I,v){this.contactService=e,this.companyService=t,this.userService=n,this.modal=a,this.router=i,this.networkService=r,this.notificationService=s,this.signalRService=l,this.permissionService=m,this.toastrService=d,this.companyProductService=u,this.taskService=h,this.programsService=g,this.discussionService=I,this.activatedRoute=v,this.apiBlobUrl=o.a.apiBlobUrl+"/",this.adminCheck=!1,this.network=[],this.startupLoadingType="",this.products=[],this.instances=[],this.blobUrl=o.a.apiBlobUrl+"/",this.permissions=[],this.destroy$=new c.a,this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.superAdmin=this.user.permissions.some(e=>p.b.Admin===e.permissionAreaID)}ngOnInit(){this.companyLoading=!0,this.checkSkills(),this.activatedRoute.parent.params.subscribe(e=>{var t,n;this.lookup=this.activatedRoute.parent.snapshot.data.lookup,this.company&&this.company.companyID!==this.companyID&&(this.products=[],this.network=[],this.startupNetworkMember=null,this.taskOwnerSection=null,this.baselineOwner=null),this.companyID=this.lookup.referenceID,this.taskOwnerID=null===(t=this.activatedRoute.parent.snapshot.queryParams)||void 0===t?void 0:t.ownerID,this.taskSectionID=null===(n=this.activatedRoute.parent.snapshot.queryParams)||void 0===n?void 0:n.sectionID}),this.companyService.getDetailCompany().pipe(Object(P.a)(this.destroy$)).subscribe(e=>{if(e&&e.companyID===this.companyID){if(this.company)return this.company=e,this.company.bannerURL=e.companyBanner,void(this.adminCheck=this.company.companyOwnerContactID===this.contactID);this.company=e,this.company.bannerURL=e.companyBanner,this.adminCheck=this.company.companyOwnerContactID===this.contactID,this.getNetwork(),this.getProducts(),this.taskOwnerID&&this.taskSectionID&&this.getBaselineSection(),this.getPrograms(),this.initData(),this.companyLoading=!1}})}initData(){this.joinRequest=!0,this.networkService.getNetwork(0,0,0,0,this.company.companyID,0,2).pipe(Object(g.a)(e=>(this.mentorNetwork=e[0],this.networkService.getNetworkMentorGlobal(this.mentorNetwork.networkID,1,0,0,0,0)))).subscribe(e=>{const t=e.find(e=>e.contactID===this.contactID);t&&(this.mentorNetworkMember=t),this.getPermissions(),this.joinRequest=!1})}getPermissions(){this.permissionsLoading=!0,this.permissionService.getPermission(p.b.Mentor_Network,this.mentorNetwork.networkID,0).subscribe(e=>{this.permissions=Object(d.j)(e,"contactID"),this.permissionsLoading=!1})}acceptMentorNetwork(){const e=this.modal.open(Ge,{backdrop:"static",size:"lg"});e.componentInstance.networkMember=this.startupNetworkMember,e.result.then(e=>{e.companyProgramInstanceStageID&&this.startUpVerification(!0)})}getNetwork(){this.networkService.getNetwork(0,0,0,0,this.user.companyID,0,0).subscribe(e=>{this.network=e;const t=this.network.find(e=>1===e.networkTypeClassificationID);t&&this.checkStartupPending(t)})}checkStartupPending(e){this.permissionService.getPermission(10,e.networkID,0).pipe(Object(g.a)(t=>(this.permissionGranted=t.some(e=>e.contactID===this.contactID),t.length||(this.permissionGranted=this.contactID===this.company.companyOwnerContactID),this.networkService.getNetworkMember(e.networkID,2,0,this.companyID,0,0)))).subscribe(e=>{e[0]&&(this.startupNetworkMember=e[0])})}acceptStartupNetwork(){const e=this.modal.open(Ge,{backdrop:"static",size:"lg"});e.componentInstance.networkMember=this.startupNetworkMember,e.result.then(e=>{e.companyProgramInstanceStageID&&this.startUpVerification(!0)})}startUpVerification(e){this.startupLoading=!0,this.startupLoadingType=e?"accept":"reject",(e?this.networkService.updateNetworkMember({networkMemberID:this.startupNetworkMember.networkMemberID,networkID:this.startupNetworkMember.networkID,nEtworkMemberStatusID:2}):this.networkService.deleteNetworkMember(this.startupNetworkMember.networkMemberID)).subscribe(()=>{e?(this.startupNetworkMember.networkMemberStatusID=2,this.companyService.storeNetworkMemberRx(this.startupNetworkMember)):this.startupNetworkMember=null,this.startupLoading=!1,this.startupNotification(e)},()=>{this.startupLoading=!1,this.toastrService.warning("Cannot save changes")})}startupNotification(e){const t=this.user.firstName,n=this.user.surname,a=Object(d.a)(new Date);let i=`${t} ${n}| ${e?"accepted":"declined"} your Mentor Network connection request`;const o=this.user.companyName;i=e?`Congratulations, your ${o} Startup Network request has been accepted`:`Your ${o} Startup Network request has been declined`;const r={notificationCategoryID:e?ve.a.program_connect_approve:ve.a.program_connect_decline,referenceID:this.startupNetworkMember.networkMemberID,contactID:this.company.companyOwnerContactID,description:i,createdContact:this.contactID},s=a+"|"+this.startupNetworkMember.networkMemberID,c={date:a.replace("|",""),body:i.replace("|",""),topic:i,senderFullName:"",senderPhoto:"",channel:"dashboard",reference:r.referenceID,notificationType:ye.a.connectRequest,senderId:r.createdContact,receivers:[r.contactID],uniqueId:s,discussionId:0};(e?this.notificationService.noticeNotification(r):Object(u.a)([])).subscribe(()=>{e&&this.signalRService.transferMessage("dashboard",c),this.toastrService.success(e?o+" has been added to your Startup Network":o+"'s request to join your Startup Network declined")})}getProducts(){this.productsLoading=!0,this.companyProductService.getProduct(this.companyID,0).subscribe(e=>{this.products=e,this.productsLoading=!1})}getBaselineSection(){this.baselineLoading=!0,Object(l.a)(this.taskService.getTaskOwnerSection(this.taskOwnerID,this.taskSectionID),this.taskService.getTaskOwners(0,0,0,0,this.taskOwnerID)).subscribe(e=>{this.taskOwnerSection=e[0][0],this.baselineOwner=e[1][0],this.baselineLoading=!1})}editProduct(e){const t=this.modal.open(fe.a,{size:"lg",backdrop:"static"});t.componentInstance.companyProduct=Object(d.l)(this.products[e]),t.result.then(t=>{t&&t.companyProductID&&(this.products[e]=t)})}deleteProduct(e){const t=this.modal.open(h.a);t.componentInstance.objectType="product",t.componentInstance.objectDetails="product",t.result.then(t=>{t&&"Yes"===t&&this.companyProductService.deleteProduct(this.products[e].companyProductID).subscribe(()=>{this.products.splice(e,1)})})}addProduct(){const e=this.modal.open(fe.a,{size:"lg",backdrop:"static"});e.componentInstance.companyID=this.companyID,e.componentInstance.companyName=this.company.companyName,e.result.then(e=>{e&&e.companyProductID&&this.products.push(e)})}businessProfileDone(){this.loading=!0,this.taskOwnerSection.taskOwnerSectionStatusID=2,this.taskOwnerSection.taskOwnerID||(this.taskOwnerSection.taskOwnerID=this.baselineOwner.taskOwnerID),this.taskService.updateTaskOwnerSection(this.taskOwnerSection).subscribe(()=>{this.loading=!1,this.router.navigate(["/task",this.baselineOwner.taskID])})}navigateToProduct(e){this.router.navigate(["/product",e])}getPrograms(){this.programLoading=!1,this.programsService.getOpenInstances(0,this.companyID).pipe(Object(P.a)(this.destroy$)).subscribe(e=>{this.instances=e,this.programLoading=!1})}navigateToOpportunity(e){this.router.navigate(["/apply",e])}joinMentorNetwork(){this.joinRequest=!0,this.networkService.saveNetworkMember({networkID:this.mentorNetwork.networkID,networkMemberCategoryID:1,referenceID:this.contactID,addedByContactID:this.contactID,networkMemberStatusID:1}).subscribe(e=>{this.mentorNetworkMember=e,this.mentorNetworkMember.networkMemberID=e.inOut_NetworkMemberID;const t=[];this.permissions.forEach(e=>{t.push(e.contactID)}),t.length||t.push(this.company.companyOwnerContactID);let n=0;this.discussionService.insertDiscussion({discussionTopic:"Mentor Network Request",discussionCategoryID:115,isDirectMessage:!0,discussionCreatedByContactID:this.contactID,discussionBody:"I would like to join your Mentor Network",referenceID:this.companyID,discussionValue:22}).pipe(Object(g.a)(e=>{n=e.inOut_DiscussionID;const a=[];return t.forEach(t=>{a.push(this.discussionService.addMember({discussionID:e.discussionID,contactID:t,isAdmin:!0}))}),Object(l.a)(a)})).subscribe(()=>{const e={date:ze().format(Ye.c),body:this.user.firstName+" would like to join your Mentor Network",topic:this.user.firstName+" would like to join your Mentor Network",senderFullName:this.user.firstName+" "+this.user.surname,channel:"dashboard",reference:n,notificationType:ye.a.discussionNotification,senderId:this.companyID,receivers:t};this.signalRService.transferMessage("dashboard",e),this.toastrService.success("Request has been sent.")}),this.joinRequest=!1})}cancelRequest(){const e=this.modal.open(h.a);e.componentInstance.objectType="Cancel Request?",e.componentInstance.objectDetails="Do you want to cancel joining request?",e.componentInstance.customConfirm=!0,e.result.then(e=>{e&&"Yes"===e&&this.networkService.deleteNetworkMember(this.mentorNetworkMember.networkMemberID).subscribe(()=>{this.toastrService.success("Request has been canceled"),this.mentorNetworkMember=null})})}checkSkills(){this.skillsLoading=!0,this.contactService.getContactSpeciality(this.contactID,0).subscribe(e=>{this.hasSkills=e.length>0,this.skillsLoading=!1})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](L.a),m["\u0275\u0275directiveInject"](b.a),m["\u0275\u0275directiveInject"](y.a),m["\u0275\u0275directiveInject"](S.p),m["\u0275\u0275directiveInject"](i.d),m["\u0275\u0275directiveInject"](v.a),m["\u0275\u0275directiveInject"](Ae.a),m["\u0275\u0275directiveInject"](Te.a),m["\u0275\u0275directiveInject"](f.a),m["\u0275\u0275directiveInject"](He.b),m["\u0275\u0275directiveInject"](Je.a),m["\u0275\u0275directiveInject"](Oe.a),m["\u0275\u0275directiveInject"](N.a),m["\u0275\u0275directiveInject"](D.a),m["\u0275\u0275directiveInject"](i.a))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-explore-company-profile"]],decls:11,vars:11,consts:[[1,"d-flex","flex-column","w-100",3,"avnonLoader"],["class","attend-section w-100 update-invites",4,"ngIf"],["class","section section-alt alt-bordered pl-3 pr-3 pt-3 pb-3",4,"ngIf"],[1,"filter-actions","d-flex","w-100","align-items-center","pl-3","pr-3"],[1,"mr-auto","mb-0"],[4,"ngFor","ngForOf"],[1,"section","section-alt","pl-3","pr-3","pb-3","pt-3"],[3,"title","allowFilter","referenceID","documentCategoryID","canEdit"],["class","section section-alt pb-3 border-top",4,"ngIf"],["class","d-flex w-100 pl-3 pr-3 bg-white pt-2 pb-2 bottom-sticky border-top",4,"ngIf"],[1,"attend-section","w-100","update-invites"],[1,"w-100"],[1,"d-flex","align-items-center","w-100","pl-3","pr-3","bg-light","border","my-2","pt-2","pb-2","float-left"],[1,"mr-auto"],[1,"ml-2","btn-primary","btn-sm","btn","mr-2",3,"disabled","click"],[4,"ngIf"],[1,"btn-outline-primary","btn","btn-sm",3,"disabled","click"],[1,"section","section-alt","alt-bordered","pl-3","pr-3","pt-3","pb-3"],[1,"pre-wrap","mb-1"],["class","attend-section w-100 update-invites d-flex",4,"ngIf"],[1,"attend-section","w-100","update-invites","d-flex"],[1,"m-0"],[1,"cursor-pointer","text-primary",3,"click"],["class","entry",3,"click",4,"ngIf"],[1,"entry",3,"click"],[1,"media","avatar","avatar-48","avatar-48-square"],[1,"img-fluid","img-48",3,"src"],[1,"meta"],[1,"entry-content"],["class","entry-media",4,"ngIf"],[1,"entry-media"],[1,"img-fluid","img-border",3,"src"],[1,"section","section-alt","pb-3","border-top"],[1,"d-flex","w-100","align-items-center","pt-3","pb-3","pl-3","pr-3","border-bottom"],["class","text-dark d-flex align-items-center cursor-pointer",3,"click",4,"ngIf"],["class","mt-2 pl-3 pr-3",4,"ngIf"],[1,"d-flex","flex-column","w-100"],["class","common-list-item d-flex flex-row border-top-0",3,"border-bottom-0","click",4,"ngFor","ngForOf"],[1,"text-dark","d-flex","align-items-center","cursor-pointer",3,"click"],[1,"plus-ico-2"],[1,"mt-2","pl-3","pr-3"],[1,"common-list-item","d-flex","flex-row","border-top-0",3,"click"],[1,"network-data","d-flex","flex-column","w-100"],[1,"d-flex","w-100","mb-1"],[1,"mb-0"],["ngbDropdown","","container","body","class","action-dropdown ml-auto",3,"click",4,"ngIf"],[1,"meta","mb-2"],["ngbDropdown","","container","body",1,"action-dropdown","ml-auto",3,"click"],["ngbDropdownToggle","","type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","no-icon","icon-right"],[1,"fas","fa-ellipsis-h"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],[1,"d-flex","w-100","pl-3","pr-3","bg-white","pt-2","pb-2","bottom-sticky","border-top"],["class","mr-2 mb-0",4,"ngIf"],[1,"btn","btn-primary","ml-auto",3,"disabled","click"],[1,"mr-2","mb-0"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275template"](1,Qe,14,14,"div",1),m["\u0275\u0275template"](2,at,6,4,"div",2),m["\u0275\u0275elementStart"](3,"div",3),m["\u0275\u0275elementStart"](4,"h1",4),m["\u0275\u0275text"](5,"Apply to our programs"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](6,rt,2,1,"ng-container",5),m["\u0275\u0275elementStart"](7,"div",6),m["\u0275\u0275element"](8,"app-photos-videos",7),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](9,mt,8,3,"div",8),m["\u0275\u0275template"](10,ht,5,3,"div",9),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275property"]("avnonLoader",t.loading||t.programLoading||t.companyLoading||t.contactsLoading||t.permissionsLoading||t.joinRequest||t.skillsLoading),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.startupNetworkMember&&2!==t.startupNetworkMember.networkMemberStatusID&&(t.permissionGranted||t.superAdmin)),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",null==t.company?null:t.company.companyProfile),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("ngForOf",t.instances),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("title","Media")("allowFilter",!1)("referenceID",t.companyID)("documentCategoryID",37)("canEdit",t.adminCheck),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",3!==(null==t.company?null:t.company.companyTypeID)),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.baselineOwner&&t.taskOwnerSection&&t.baselineOwner.contactID===t.contactID))},directives:[w.a,a.n,a.m,Xe.a,We.a,S.i,S.m,S.k,S.j],pipes:[B.c,a.e,k.a],styles:["h3[_ngcontent-%COMP%]{font-size:15px}"]}),e})();var It=n("iKws");let vt=(()=>{class e{constructor(e,t,n){this.activatedRoute=e,this.companyService=t,this.userService=n,this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.superAdmin=this.user.permissions.some(e=>p.b.Admin===e.permissionAreaID)}ngOnInit(){this.activatedRoute.parent.params.subscribe(e=>{this.lookup=this.activatedRoute.parent.snapshot.data.lookup,this.companyID=this.lookup.referenceID,this.getCompany()})}getCompany(){this.loading=!0,this.companyService.getCompanyProfile(this.companyID).subscribe(e=>{this.company=e,this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](i.a),m["\u0275\u0275directiveInject"](b.a),m["\u0275\u0275directiveInject"](y.a))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-explore-company-team"]],decls:2,vars:5,consts:[[1,"d-flex","flex-column","w-100",3,"avnonLoader"],[1,"w-100",3,"companyID","companyName","canEdit","allowFilter"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275element"](1,"app-team",1),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275property"]("avnonLoader",t.loading),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("companyID",t.companyID)("companyName",null==t.company?null:t.company.companyName)("canEdit",(null==t.company?null:t.company.companyOwnerContactID)===t.contactID||t.superAdmin&&t.companyID===t.user.companyID)("allowFilter",(null==t.company?null:t.company.companyOwnerContactID)===t.contactID||t.superAdmin&&t.companyID===t.user.companyID))},directives:[w.a,It.a],styles:[""]}),e})();function yt(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"a",5),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().addProgram()}),m["\u0275\u0275element"](1,"span",6),m["\u0275\u0275text"](2),m["\u0275\u0275pipe"](3,"translate"),m["\u0275\u0275elementEnd"]()}2&e&&(m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](3,1,"COMMON.ADD")," "))}function ft(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",13),m["\u0275\u0275elementStart"](1,"p"),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"div",14),m["\u0275\u0275element"](4,"img",15),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]().$implicit,t=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.programOverview),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("src",e.programBanner?t.blobUrl+e.programBanner:"assets/img/program-banner.jpg",m["\u0275\u0275sanitizeUrl"])}}function Dt(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",7),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const n=t.$implicit;return m["\u0275\u0275nextContext"]().navigateToProfile(n.programID)}),m["\u0275\u0275elementStart"](1,"span",8),m["\u0275\u0275element"](2,"img",9),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"h2",10),m["\u0275\u0275text"](4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"div",11),m["\u0275\u0275elementStart"](6,"span"),m["\u0275\u0275text"](7),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](8,ft,5,2,"div",12),m["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("src",e.logo?n.blobUrl+"256px/"+e.logo:"assets/img/card-placeholder.jpg",m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.programTitle),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"](" Powered by ",e.companyName," "),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",null==e?null:e.programBanner)}}let bt=(()=>{class e{constructor(e,t,n,a){this.userService=e,this.activatedRoute=t,this.router=n,this.programsService=a,this.programs=[],this.blobUrl=o.a.apiBlobUrl+"/",this.user=this.userService.user.getValue()}ngOnInit(){this.lookup=this.activatedRoute.parent.snapshot.data.lookup,this.companyID=this.lookup.referenceID,this.getPrograms()}getPrograms(){this.loading=!1,this.programsService.getPrograms(this.companyID).subscribe(e=>{this.programs=e,this.loading=!1})}navigateToProfile(e){this.router.navigate(["/program/admin",e])}addProgram(){this.router.navigate(["/program/add"])}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](y.a),m["\u0275\u0275directiveInject"](i.a),m["\u0275\u0275directiveInject"](i.d),m["\u0275\u0275directiveInject"](N.a))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-explore-company-programs"]],decls:9,vars:10,consts:[[3,"avnonLoader"],[1,"w-100","d-flex","flex-column"],[1,"filter-actions","d-flex","w-100","align-items-center","pl-3","pr-3"],["class","cursor-pointer ml-auto",3,"click",4,"ngIf"],["class","entry",3,"click",4,"ngFor","ngForOf"],[1,"cursor-pointer","ml-auto",3,"click"],[1,"plus-ico-2"],[1,"entry",3,"click"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","network",1,"img-fluid","img-48",3,"src"],[1,"mb-1"],[1,"meta"],["class","entry-content",4,"ngIf"],[1,"entry-content"],[1,"entry-media"],["alt","",1,"img-fluid",3,"src"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"div",1),m["\u0275\u0275elementStart"](2,"div",2),m["\u0275\u0275elementStart"](3,"span"),m["\u0275\u0275text"](4),m["\u0275\u0275pipe"](5,"translate"),m["\u0275\u0275pipe"](6,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](7,yt,4,3,"a",3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](8,Dt,9,4,"div",4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275property"]("avnonLoader",t.loading),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate3"](" ",m["\u0275\u0275pipeBind1"](5,6,"COMPANY.THERE-ARE")," ",t.programs.length," ",m["\u0275\u0275pipeBind1"](6,8,"COMPANY.PROGRAM(S)")," "),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",t.companyID===t.user.companyID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",t.programs))},directives:[w.a,a.n,a.m],pipes:[B.c],styles:[".filter-actions[_ngcontent-%COMP%]{border-bottom:1px solid #dfdfdf}"]}),e})();var St=n("p0ro"),wt=n("VPdJ");let xt=(()=>{class e{constructor(e,t,n,a,i){this.taskService=e,this.userService=t,this.activatedRoute=n,this.router=a,this.modal=i,this.tasks=[],this.destroy$=new c.a,this.user=this.userService.user.getValue(),this.contactID=this.user.contactID}ngOnInit(){this.lookup=this.activatedRoute.parent.snapshot.data.lookup,this.companyID=this.lookup.referenceID,this.initTasks()}initTasks(){this.loading=!0,this.taskService.getTaskOwners(0,0,0,0,0,this.companyID).pipe(Object(P.a)(this.destroy$)).subscribe(e=>{e=Object(d.j)(e,"taskOwnerID");let t=Object(s.a)(e);const n=Object(s.a)(e);t=Object(d.j)(t,"taskID"),t=t.map(e=>{if(e.taskOwners=n.filter(t=>t.taskID===e.taskID),e.toDoCanUpdate=e.taskOwners.find(e=>e.contactID===this.contactID)||null,e.endDate){const t=new Date(e.endDate);e.endDateModel={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}}return e}),this.tasks=t,this.loading=!1})}openAddTaskModal(){const e=this.modal.open(St.a,{size:"lg"});e.componentInstance.taskOwners=[],e.componentInstance.taskSupporters=[],e.componentInstance.referenceId=0,e.componentInstance.masterCompanyID=this.companyID,e.componentInstance.teamMemberOwnerOnly=!0,e.result.then(e=>{e&&e.task&&this.tasks.push(e.task)},()=>{})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](Oe.a),m["\u0275\u0275directiveInject"](y.a),m["\u0275\u0275directiveInject"](i.a),m["\u0275\u0275directiveInject"](i.d),m["\u0275\u0275directiveInject"](S.p))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-explore-company-activities"]],decls:8,vars:10,consts:[[1,"d-flex","w-100","flex-column",3,"avnonLoader"],[1,"actions-header","d-flex","align-items-center","w-100","pl-3","pr-3"],[1,"d-flex","align-items-center","cursor-pointer","ml-auto",3,"click"],[1,"plus-ico-2"],[3,"disableAdd","tasks","user","showHeader","showStatus","showDate","companyID","contactID"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"div",1),m["\u0275\u0275elementStart"](2,"span"),m["\u0275\u0275text"](3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"a",2),m["\u0275\u0275listener"]("click",function(){return t.openAddTaskModal()}),m["\u0275\u0275element"](5,"span",3),m["\u0275\u0275text"](6,"Assign Task "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](7,"app-weekly-todo",4),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275property"]("avnonLoader",t.loading),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"]("",t.tasks.length," activities"),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("disableAdd",!0)("tasks",t.tasks)("user",t.user)("showHeader",!0)("showStatus",!0)("showDate",!0)("companyID",t.companyID)("contactID",t.contactID))},directives:[w.a,wt.a],styles:[".actions-header[_ngcontent-%COMP%]{padding-bottom:.75rem;padding-top:.25rem}.support-task-list[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{font-size:11px}"]}),e})();var kt=n("mOT8"),Ct=n("sSaZ"),Et=n("k9EJ");let Mt=(()=>{class e{transform(e){return e?(e/60).toFixed(2):0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=m["\u0275\u0275definePipe"]({name:"mentoringHours",type:e,pure:!0}),e})();var Ot=n("CEMh");function Pt(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275elementStart"](1,"div",8),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const n=t.$implicit;return m["\u0275\u0275nextContext"](2).navigateToAssignment(n)}),m["\u0275\u0275elementStart"](2,"span",9),m["\u0275\u0275element"](3,"img",10),m["\u0275\u0275pipe"](4,"avatar"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"h2"),m["\u0275\u0275text"](6),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"div",11),m["\u0275\u0275elementStart"](8,"span"),m["\u0275\u0275text"](9),m["\u0275\u0275pipe"](10,"mentoringHours"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](11,"div",12),m["\u0275\u0275elementStart"](12,"p"),m["\u0275\u0275text"](13),m["\u0275\u0275pipe"](14,"ellipsis"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.$implicit;m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("src",m["\u0275\u0275pipeBind1"](4,6,e.profilePhoto),m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate2"]("",e.assigneeFirstName," ",e.assigneeSurname,""),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate2"](" ",m["\u0275\u0275pipeBind1"](10,8,e.totalHours)," hours $",e.totalSpentAssignment||0," spent"),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind2"](14,10,null==e?null:e.contractAssignmentDetail,80))}}function jt(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275elementStart"](1,"div",2),m["\u0275\u0275elementStart"](2,"p",3),m["\u0275\u0275text"](3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"div",4),m["\u0275\u0275elementStart"](5,"a",5),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().assignmentDialog()}),m["\u0275\u0275element"](6,"span",6),m["\u0275\u0275text"](7,"Assign Mentor "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](8,Pt,15,13,"ng-container",7),m["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate4"](" ",e.company.companyName," has been assigned to ",e.assignments.length," mentor(s) and received ",e.totalHours," hour(s) of mentoring at a cost of $",e.totalSpent," "),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("ngForOf",e.assignments)}}let At=(()=>{class e{constructor(e,t,n,a,i,r){this.modal=e,this.contractService=t,this.companyService=n,this.activatedRoute=a,this.userService=i,this.router=r,this.apiBlobUrl=o.a.apiBlobUrl+"/",this.companyLogo="assets/img/card-placeholder.jpg",this.company=new kt.a,this.assignments=[],this.totalHours=0,this.totalSpent=0,this.user=this.userService.user.getValue()}ngOnInit(){this.contactID=this.user.contactID,this.companyID=this.user.companyID||0,this.activatedRoute.parent.params.subscribe(e=>{this.lookup=this.activatedRoute.parent.snapshot.data.lookup,this.companyParamID=this.lookup.referenceID,this.getCompany(),this.getAssignments()})}getCompany(){this.companyService.getDetailCompany().subscribe(e=>{this.company=e})}getAssignments(){this.loading=!0,this.contractService.getContractAssignment(0,0,0,0,0,this.companyParamID,0).subscribe(e=>{this.assignments=e,this.totalHours=this.assignments.reduce((e,t)=>e+(t.totalHours||0),0),this.totalSpent=this.assignments.reduce((e,t)=>e+(t.totalSpentAssignment||0),0),this.loading=!1})}navigateToAssignment(e){this.router.navigate(["/assignment",e.contractAssignmentID])}assignmentDialog(){const e=this.modal.open(Ct.a);e.componentInstance.masterCompanyID=this.companyParamID,e.result.then(e=>{e&&e.hasOwnProperty("status")&&this.getAssignments()})}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](S.p),m["\u0275\u0275directiveInject"](Et.a),m["\u0275\u0275directiveInject"](b.a),m["\u0275\u0275directiveInject"](i.a),m["\u0275\u0275directiveInject"](y.a),m["\u0275\u0275directiveInject"](i.d))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-explore-company-mentoring"]],decls:2,vars:2,consts:[[1,"d-flex","flex-column","w-100",3,"avnonLoader"],[4,"ngIf"],[1,"d-flex","align-items-center","summary-contract","pl-3","pr-3"],[1,"m-0"],[1,"d-flex","align-items-center","assignment-actions","pl-3","pr-3"],[1,"cursor-pointer","ml-auto",3,"click"],[1,"plus-ico-2"],[4,"ngFor","ngForOf"],[1,"entry",3,"click"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","Avatar",1,"img-fluid","img-48","cover",3,"src"],[1,"meta"],[1,"entry-content"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275template"](1,jt,9,5,"ng-container",1),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275property"]("avnonLoader",t.loading),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!t.loading&&t.company))},directives:[w.a,a.n,a.m],pipes:[x.a,Mt,Ot.a],styles:[".assignment-actions[_ngcontent-%COMP%]{padding-top:.7rem;padding-bottom:.75rem;border-bottom:1px solid #dfdfdf}.summary-contract[_ngcontent-%COMP%]{padding:.75rem;border-bottom:1px solid #dfdfdf}"]}),e})();function Nt(e,t){1&e&&m["\u0275\u0275element"](0,"app-spinner")}function Tt(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",6),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().joinMentorNetwork()}),m["\u0275\u0275template"](1,Nt,1,0,"app-spinner",7),m["\u0275\u0275text"](2," Join Network "),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("disabled",e.joinRequest),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.joinRequest)}}function Lt(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",8),m["\u0275\u0275elementStart"](1,"button",9),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"div",10),m["\u0275\u0275elementStart"](4,"button",11),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().cancelRequest()}),m["\u0275\u0275text"](5,"Leave Network"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",1===e.networkMember.networkMemberStatusID?"Request Pending":"Connected"," ")}}function Rt(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",19),m["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),m["\u0275\u0275elementStart"](1,"div",20),m["\u0275\u0275elementStart"](2,"button",21),m["\u0275\u0275element"](3,"span",22),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"ul",23),m["\u0275\u0275elementStart"](5,"li"),m["\u0275\u0275elementStart"](6,"a",24),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"]().index;return m["\u0275\u0275nextContext"]().deleteNetworkMember(t)}),m["\u0275\u0275text"](7,"Delete"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}}function Bt(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",12),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const n=t.$implicit;return m["\u0275\u0275nextContext"]().navigateToPeople(n.contactID)}),m["\u0275\u0275elementStart"](1,"span",13),m["\u0275\u0275element"](2,"img",14),m["\u0275\u0275pipe"](3,"avatar"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"div",15),m["\u0275\u0275elementStart"](5,"h2"),m["\u0275\u0275text"](6),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](7,Rt,8,0,"div",16),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](8,"div",17),m["\u0275\u0275elementStart"](9,"span"),m["\u0275\u0275text"](10),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](11,"div",18),m["\u0275\u0275elementStart"](12,"p"),m["\u0275\u0275text"](13),m["\u0275\u0275pipe"](14,"ellipsis"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("src",m["\u0275\u0275pipeBind1"](3,6,e.profilePhoto),m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate2"]("",e.firstName," ",e.surname,""),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",(n.superAdmin||n.networkAdmin)&&(null==n.company?null:n.company.companyID)===n.companyID),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](null==e?null:e.designation),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind2"](14,8,null==e?null:e.headline,80))}}let $t=(()=>{class e{constructor(e,t,n,a,i,r,s,l,m,d,u){this.networkService=e,this.companyService=t,this.contactService=n,this.activatedRoute=a,this.notificationService=i,this.signalRService=r,this.modal=s,this.toastrService=l,this.router=m,this.permissionService=d,this.userService=u,this.mentors=[],this.apiBlob=o.a.apiBlobUrl+"/",this.permissions=[],this.destroy$=new c.a,this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID,this.superAdmin=this.user.permissions.some(e=>p.b.Admin===e.permissionAreaID)}ngOnInit(){this.companyService.getDetailCompany().pipe(Object(P.a)(this.destroy$)).subscribe(e=>{e&&e.companyID&&(this.company=e,this.initData())})}initData(){this.loading=!0,this.networkService.getNetwork(0,0,0,0,this.company.companyID,0,2).pipe(Object(g.a)(e=>(this.network=e[0],this.networkService.getNetworkMentorGlobal(this.network.networkID,1,0,0,0,0)))).subscribe(e=>{this.mentors=e;const t=e.find(e=>e.contactID===this.contactID);t&&(this.networkMember=t),this.getPermissions(),this.loading=!1})}joinMentorNetwork(){this.joinRequest=!1,this.networkService.saveNetworkMember({networkID:this.network.networkID,networkMemberCategoryID:1,referenceID:this.contactID,addedByContactID:this.contactID,networkMemberStatusID:1}).subscribe(e=>{this.networkMember=e,this.networkMember.networkMemberID=e.inOut_NetworkMemberID,this.permissions.length?this.permissions.forEach(e=>{this.networkNotification(this.networkMember.networkMemberID,e.contactID)}):this.networkNotification(this.networkMember.networkMemberID,this.company.companyOwnerContactID),this.joinRequest=!1})}networkNotification(e,t){const n=localStorage.getItem("firstName"),i=localStorage.getItem("surname"),o=new Date,r=Object(a.y)(o,"yyyy-MM-dd HH:mm:ss","en-UK");let s=`${n} ${i}| would like to join your Mentor Network`;1===this.network.networkTypeClassificationID&&(s=`${this.user.companyName}| would like to join the ${this.company.companyName} startup network`);const c={notificationCategoryID:1===this.network.networkTypeClassificationID?ve.a.program_connect:ve.a.external_mentor_request,referenceID:e,contactID:t,description:s,createdContact:this.contactID},l=r+"|"+t,p={date:r,body:s.replace("|",""),topic:s.replace("|",""),senderFullName:"",senderPhoto:"",channel:"dashboard",reference:c.referenceID,notificationType:ye.a.connectRequest,senderId:c.createdContact,receivers:[c.contactID],uniqueId:l,discussionId:0};this.notificationService.noticeNotification(c).subscribe(()=>{this.signalRService.transferMessage("dashboard",p)})}cancelRequest(){const e=this.modal.open(h.a);e.componentInstance.objectType="Cancel Request?",e.componentInstance.objectDetails="Do you want to cancel joining request?",e.componentInstance.customConfirm=!0,e.result.then(e=>{e&&"Yes"===e&&this.networkService.deleteNetworkMember(this.networkMember.networkMemberID).subscribe(()=>{this.networkMember=null})})}navigateToPeople(e){this.router.navigate(["/explore/people",e])}getPermissions(){this.permissionsLoading=!0,this.permissionService.getPermission(p.b.Mentor_Network,this.network.networkID,0).subscribe(e=>{this.permissions=e,this.networkAdmin=e.some(e=>e.contactID===this.contactID),this.permissionsLoading=!1})}deleteNetworkMember(e){const t=this.modal.open(h.a);t.componentInstance.objectType="Mentor",t.componentInstance.objectDetails=`${this.mentors[e].firstName} ${this.mentors[e].surname} from Mentor Network`,t.result.then(t=>{"Yes"===t&&this.networkService.deleteNetworkMember(this.mentors[e].networkMemberID).subscribe(()=>{this.mentors.splice(e,1),this.toastrService.success("Mentor has been deleted")})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](v.a),m["\u0275\u0275directiveInject"](b.a),m["\u0275\u0275directiveInject"](L.a),m["\u0275\u0275directiveInject"](i.a),m["\u0275\u0275directiveInject"](Ae.a),m["\u0275\u0275directiveInject"](Te.a),m["\u0275\u0275directiveInject"](S.p),m["\u0275\u0275directiveInject"](He.b),m["\u0275\u0275directiveInject"](i.d),m["\u0275\u0275directiveInject"](f.a),m["\u0275\u0275directiveInject"](y.a))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-explore-company-mentors"]],decls:8,vars:5,consts:[[1,"col-12","d-flex","justify-content-between","align-items-center","filter-container","border-bottom",3,"avnonLoader"],[1,"post-count"],[1,"actions"],["class","btn btn-outline-primary btn-sm ml-auto",3,"disabled","click",4,"ngIf"],["ngbDropdown","","class","d-inline-block ml-auto",4,"ngIf"],["class","entry",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-outline-primary","btn-sm","ml-auto",3,"disabled","click"],[4,"ngIf"],["ngbDropdown","",1,"d-inline-block","ml-auto"],["id","cancel-join","ngbDropdownToggle","",1,"btn","btn-primary","join-toggle","btn-sm"],["ngbDropdownMenu","","aria-labelledby","cancel-join"],["ngbDropdownItem","",3,"click"],[1,"entry",3,"click"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","Avatar",1,"img-fluid","img-48","cover",3,"src"],[1,"d-flex"],["class","actions",3,"click",4,"ngIf"],[1,"meta"],[1,"entry-content"],[1,"actions",3,"click"],[1,"dropdown"],["type","button","id","dd1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["aria-labelledby","dd1",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"]],template:function(e,t){1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275elementStart"](1,"div",0),m["\u0275\u0275elementStart"](2,"span",1),m["\u0275\u0275text"](3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"div",2),m["\u0275\u0275template"](5,Tt,3,2,"button",3),m["\u0275\u0275template"](6,Lt,6,1,"div",4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](7,Bt,15,11,"div",5),m["\u0275\u0275elementContainerEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("avnonLoader",t.loading),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",t.mentors.length," network members "),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",t.network&&t.network.companyID!==t.companyID&&!t.networkMember),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.networkMember&&t.networkMember.networkMemberID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",t.mentors))},directives:[w.a,a.n,a.m,We.a,S.i,S.m,S.k,S.j],pipes:[x.a,Ot.a],styles:[".join-toggle[_ngcontent-%COMP%]{background-image:none!important;background-size:0!important}.join-toggle[_ngcontent-%COMP%]:after, .join-toggle[_ngcontent-%COMP%]:before{display:none}.actions-header[_ngcontent-%COMP%]{padding-bottom:.75rem;padding-top:.25rem}"]}),e})();function Vt(e,t){1&e&&m["\u0275\u0275element"](0,"app-spinner")}function Ft(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",5),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().joinStartupNetwork()}),m["\u0275\u0275template"](1,Vt,1,0,"app-spinner",6),m["\u0275\u0275text"](2," Join Network "),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("disabled",e.joinRequest),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.joinRequest)}}function Ut(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",7),m["\u0275\u0275elementStart"](1,"button",8),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"div",9),m["\u0275\u0275elementStart"](4,"button",10),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().cancelRequest()}),m["\u0275\u0275text"](5,"Leave Network"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",1===e.networkMember.networkMemberStatusID?"Request Pending":"Connected"," ")}}function _t(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",18),m["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),m["\u0275\u0275elementStart"](1,"div",19),m["\u0275\u0275elementStart"](2,"button",20),m["\u0275\u0275element"](3,"span",21),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"ul",22),m["\u0275\u0275elementStart"](5,"li"),m["\u0275\u0275elementStart"](6,"a",23),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"]().index;return m["\u0275\u0275nextContext"]().deleteNetworkMember(t)}),m["\u0275\u0275text"](7,"Delete"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}}function qt(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",24),m["\u0275\u0275elementStart"](1,"span"),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]().$implicit;m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.industry)}}function Gt(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",11),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const n=t.$implicit;return m["\u0275\u0275nextContext"]().navigateToCompany(n.companyID)}),m["\u0275\u0275elementStart"](1,"span",12),m["\u0275\u0275element"](2,"img",13),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"div",14),m["\u0275\u0275elementStart"](4,"h2"),m["\u0275\u0275text"](5),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](6,_t,8,0,"div",15),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](7,qt,3,1,"div",16),m["\u0275\u0275elementStart"](8,"div",17),m["\u0275\u0275elementStart"](9,"p"),m["\u0275\u0275text"](10),m["\u0275\u0275pipe"](11,"ellipsis"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("src",e.companyLogo?n.apiBlob+"256px/"+e.companyLogo:"assets/img/card-placeholder.jpg",m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](e.companyName),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",(n.superAdmin||n.networkAdmin)&&(null==n.company?null:n.company.companyID)===n.companyID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.industry),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind2"](11,5,e.companyMission,80))}}let zt=(()=>{class e{constructor(e,t,n,a,i,r,s,l,m,d,u){this.networkService=e,this.companyService=t,this.contactService=n,this.activatedRoute=a,this.notificationService=i,this.signalRService=r,this.modal=s,this.toastrService=l,this.router=m,this.permissionService=d,this.userService=u,this.startups=[],this.apiBlob=o.a.apiBlobUrl+"/",this.permissions=[],this.destroy$=new c.a,this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID,this.superAdmin=this.user.permissions.some(e=>p.b.Admin===e.permissionAreaID)}ngOnInit(){this.companyService.getDetailCompany().pipe(Object(P.a)(this.destroy$)).subscribe(e=>{e&&e.companyID&&(this.company=e,this.initData())})}initData(){this.loading=!0,this.networkService.getNetwork(0,0,0,0,this.company.companyID,0,1).pipe(Object(g.a)(e=>(this.network=e[0],this.networkService.getNetworkStartupGlobal(this.network.networkID,2,0,0,0,0)))).subscribe(e=>{this.startups=e;const t=e.find(e=>e.companyID===this.companyID);t&&(this.networkMember=t),this.getPermissions(),this.loading=!1})}joinStartupNetwork(){this.joinRequest=!1,this.networkService.saveNetworkMember({networkID:this.network.networkID,networkMemberCategoryID:2,referenceID:this.companyID,addedByContactID:this.contactID,networkMemberStatusID:1}).subscribe(e=>{this.networkMember=e,this.networkMember.networkMemberID=e.inOut_NetworkMemberID,this.permissions.length?this.permissions.forEach(e=>{this.networkNotification(this.networkMember.networkMemberID,e.contactID)}):this.networkNotification(this.networkMember.networkMemberID,this.company.companyOwnerContactID),this.joinRequest=!1})}networkNotification(e,t){const n=localStorage.getItem("firstName"),i=localStorage.getItem("surname"),o=new Date,r=Object(a.y)(o,"yyyy-MM-dd HH:mm:ss","en-UK");let s=`${n} ${i}| would like to join your Mentor Network`;1===this.network.networkTypeClassificationID&&(s=`${this.user.companyName}| would like to join the ${this.company.companyName} startup network`);const c={notificationCategoryID:1===this.network.networkTypeClassificationID?ve.a.program_connect:ve.a.external_mentor_request,referenceID:e,contactID:t,description:s,createdContact:this.contactID},l=r+"|"+t,p={date:r,body:s.replace("|",""),topic:s.replace("|",""),senderFullName:"",senderPhoto:"",channel:"dashboard",reference:c.referenceID,notificationType:ye.a.connectRequest,senderId:c.createdContact,receivers:[c.contactID],uniqueId:l,discussionId:0};this.notificationService.noticeNotification(c).subscribe(()=>{this.signalRService.transferMessage("dashboard",p)})}cancelRequest(){const e=this.modal.open(h.a);e.componentInstance.objectType="Cancel Request?",e.componentInstance.objectDetails="Do you want to cancel joining request?",e.componentInstance.customConfirm=!0,e.result.then(e=>{e&&"Yes"===e&&this.networkService.deleteNetworkMember(this.networkMember.networkMemberID).subscribe(()=>{this.networkMember=null})})}navigateToCompany(e){this.router.navigate(["/company",e])}getPermissions(){this.permissionsLoading=!0,this.permissionService.getPermission(p.b.Startup_Network,this.network.networkID,0).subscribe(e=>{this.permissions=e,this.networkAdmin=e.some(e=>e.contactID===this.contactID),this.permissionsLoading=!1})}deleteNetworkMember(e){const t=this.modal.open(h.a);t.componentInstance.objectType="Startup",t.componentInstance.objectDetails=this.startups[e].companyName+" from Startup Network",t.result.then(t=>{"Yes"===t&&this.networkService.deleteNetworkMember(this.startups[e].networkMemberID).subscribe(()=>{this.startups.splice(e,1),this.toastrService.success("Startup has been deleted")})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](v.a),m["\u0275\u0275directiveInject"](b.a),m["\u0275\u0275directiveInject"](L.a),m["\u0275\u0275directiveInject"](i.a),m["\u0275\u0275directiveInject"](Ae.a),m["\u0275\u0275directiveInject"](Te.a),m["\u0275\u0275directiveInject"](S.p),m["\u0275\u0275directiveInject"](He.b),m["\u0275\u0275directiveInject"](i.d),m["\u0275\u0275directiveInject"](f.a),m["\u0275\u0275directiveInject"](y.a))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-explore-company-startups"]],decls:7,vars:5,consts:[[1,"d-flex","flex-column","w-100",3,"avnonLoader"],[1,"actions-header","d-flex","align-items-center","w-100","pl-3","pr-3","border-bottom"],["class","btn btn-outline-primary btn-sm ml-auto",3,"disabled","click",4,"ngIf"],["ngbDropdown","","class","d-inline-block ml-auto",4,"ngIf"],["class","entry",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-outline-primary","btn-sm","ml-auto",3,"disabled","click"],[4,"ngIf"],["ngbDropdown","",1,"d-inline-block","ml-auto"],["id","cancel-join","ngbDropdownToggle","",1,"btn","btn-primary","join-toggle","btn-sm"],["ngbDropdownMenu","","aria-labelledby","cancel-join"],["ngbDropdownItem","",3,"click"],[1,"entry",3,"click"],[1,"media","avatar","avatar-48","avatar-48-square"],[1,"img-fluid","img-48",3,"src"],[1,"d-flex"],["class","actions",3,"click",4,"ngIf"],["class","meta",4,"ngIf"],[1,"entry-content"],[1,"actions",3,"click"],[1,"dropdown"],["type","button","id","dd1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["aria-labelledby","dd1",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"meta"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"div",1),m["\u0275\u0275elementStart"](2,"span"),m["\u0275\u0275text"](3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](4,Ft,3,2,"button",2),m["\u0275\u0275template"](5,Ut,6,1,"div",3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](6,Gt,12,8,"div",4),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275property"]("avnonLoader",t.loading||t.permissionsLoading),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"]("",t.startups.length," network members"),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.network&&!t.networkMember),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.networkMember&&t.networkMember.networkMemberID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",t.startups))},directives:[w.a,a.n,a.m,We.a,S.i,S.m,S.k,S.j],pipes:[Ot.a],styles:[".join-toggle[_ngcontent-%COMP%]{background-image:none!important;background-size:0!important}.join-toggle[_ngcontent-%COMP%]:after, .join-toggle[_ngcontent-%COMP%]:before{display:none}.actions-header[_ngcontent-%COMP%]{padding-bottom:.75rem;padding-top:.25rem}"]}),e})();function Yt(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",12),m["\u0275\u0275element"](1,"img",13),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]().$implicit,t=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("src",e.bannerImage?t.blobUrl+e.bannerImage:"assets/img/program-banner.jpg",m["\u0275\u0275sanitizeUrl"])}}function Ht(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",5),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const n=t.$implicit;return m["\u0275\u0275nextContext"]().navigateToProfile(n.programInstanceID)}),m["\u0275\u0275element"](1,"img",6),m["\u0275\u0275elementStart"](2,"div",7),m["\u0275\u0275elementStart"](3,"h3",8),m["\u0275\u0275text"](4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"span",9),m["\u0275\u0275text"](6),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"p",10),m["\u0275\u0275text"](8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](9,Yt,2,1,"div",11),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("src",e.companyLogo?n.blobUrl+"256px/"+e.companyLogo:"assets/img/card-placeholder.jpg",m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](e.programInstanceTitle),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.programTitle),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.programOverview),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.bannerImage)}}let Jt=(()=>{class e{constructor(e,t,n,a){this.userService=e,this.activatedRoute=t,this.router=n,this.programsService=a,this.instances=[],this.blobUrl=o.a.apiBlobUrl+"/",this.user=this.userService.user.getValue()}ngOnInit(){this.lookup=this.activatedRoute.parent.snapshot.data.lookup,this.companyID=this.lookup.referenceID,this.getPrograms()}getPrograms(){this.loading=!0,this.programsService.getOpenInstances(0,this.companyID).subscribe(e=>{this.instances=e,this.loading=!1})}navigateToProfile(e){this.router.navigate(["/apply",e])}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](y.a),m["\u0275\u0275directiveInject"](i.a),m["\u0275\u0275directiveInject"](i.d),m["\u0275\u0275directiveInject"](N.a))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-explore-company-programs-public"]],decls:7,vars:3,consts:[[1,"row","p-0"],[1,"col-12",3,"avnonLoader"],[1,"w-100","d-flex","flex-column"],[1,"filter-actions","d-flex","w-100","align-items-center","pl-3","pr-3"],["class","item-with-banner cursor-pointer d-flex w-100 pl-3 pr-3 pb-2 pt-2",3,"click",4,"ngFor","ngForOf"],[1,"item-with-banner","cursor-pointer","d-flex","w-100","pl-3","pr-3","pb-2","pt-2",3,"click"],["alt","network",1,"avatar","avatar-48",3,"src"],[1,"network-data","d-flex","flex-column","flex-grow-1","ml-2"],[1,"mb-1"],[1,"meta","mb-0"],[1,"mt-2"],["class","banner-holder d-flex justify-content-center w-100",4,"ngIf"],[1,"banner-holder","d-flex","justify-content-center","w-100"],["alt","banner",1,"img-fluid","banner-item","non-fit",3,"src"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"div",1),m["\u0275\u0275elementStart"](2,"div",2),m["\u0275\u0275elementStart"](3,"div",3),m["\u0275\u0275elementStart"](4,"span"),m["\u0275\u0275text"](5),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](6,Ht,10,5,"div",4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("avnonLoader",t.loading),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate1"]("There are ",t.instances.length," programs you can apply to"),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",t.instances))},directives:[w.a,a.m,a.n],styles:[".filter-actions[_ngcontent-%COMP%]{border-bottom:1px solid #dfdfdf}"]}),e})();var Xt=n("4uGG"),Wt=n("m+qv");function Kt(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"span",13),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",e.investor," ")}}function Zt(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"date"),m["\u0275\u0275pipe"](3,"dateObject"),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]().$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind2"](2,1,m["\u0275\u0275pipeBind1"](3,4,e.investmentDate),"dd MMM yyyy")," ")}}function Qt(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"tr"),m["\u0275\u0275elementStart"](1,"td"),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"td"),m["\u0275\u0275elementStart"](4,"div",11),m["\u0275\u0275template"](5,Kt,2,1,"span",12),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"td"),m["\u0275\u0275template"](7,Zt,4,6,"ng-container",8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](8,"td"),m["\u0275\u0275text"](9),m["\u0275\u0275pipe"](10,"userCurrency"),m["\u0275\u0275pipe"](11,"number"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",e.investmentRound," "),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngForOf",e.investors),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",e.investmentDate),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate2"]("",m["\u0275\u0275pipeBind1"](10,5,""),"",m["\u0275\u0275pipeBind2"](11,7,e.investmentAmount,"1.2-2"),"")}}function en(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"tr"),m["\u0275\u0275elementStart"](1,"td",14),m["\u0275\u0275text"](2,"No Data"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]())}let tn=(()=>{class e{constructor(e,t){this.activeModal=e,this.router=t,this.investments=[],this.totalRaised=0,this.limited=!0}ngOnInit(){}viewDetails(){this.router.navigate(["/company/investment",this.company.companyID]),this.dismiss()}dismiss(){this.activeModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](S.a),m["\u0275\u0275directiveInject"](i.d))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-company-investment-dialog"]],decls:32,vars:10,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","d-flex","flex-column","pb-4","pt-0","pl-0","pr-0"],[1,"table","table-hover","w-100"],[1,"border-top-0","border-bottom"],[4,"ngFor","ngForOf"],[4,"ngIf"],["colspan","3"],[1,"btn","btn-outline-primary","ml-auto","mr-3",3,"click"],[1,"d-flex","flex-column"],["class","text-muted",4,"ngFor","ngForOf"],[1,"text-muted"],["colspan","4",1,"text-danger"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"h5",1),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"button",2),m["\u0275\u0275listener"]("click",function(){return t.dismiss()}),m["\u0275\u0275elementStart"](4,"span",3),m["\u0275\u0275text"](5,"\xd7"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"div",4),m["\u0275\u0275elementStart"](7,"table",5),m["\u0275\u0275elementStart"](8,"thead"),m["\u0275\u0275elementStart"](9,"tr"),m["\u0275\u0275elementStart"](10,"th",6),m["\u0275\u0275text"](11,"Round"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"th",6),m["\u0275\u0275text"](13,"Investors"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](14,"th",6),m["\u0275\u0275text"](15,"Date"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](16,"th",6),m["\u0275\u0275text"](17,"Amount"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](18,"tbody"),m["\u0275\u0275template"](19,Qt,12,10,"tr",7),m["\u0275\u0275template"](20,en,3,0,"tr",8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](21,"tfoot"),m["\u0275\u0275elementStart"](22,"tr"),m["\u0275\u0275elementStart"](23,"td",9),m["\u0275\u0275elementStart"](24,"span"),m["\u0275\u0275text"](25,"Total Raised"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](26,"td"),m["\u0275\u0275text"](27),m["\u0275\u0275pipe"](28,"userCurrency"),m["\u0275\u0275pipe"](29,"number"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](30,"button",10),m["\u0275\u0275listener"]("click",function(){return t.viewDetails()}),m["\u0275\u0275text"](31,"View Details"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",t.company.companyName,"'s Investments "),m["\u0275\u0275advance"](17),m["\u0275\u0275property"]("ngForOf",t.investments),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!t.investments.length),m["\u0275\u0275advance"](7),m["\u0275\u0275textInterpolate2"](" ",m["\u0275\u0275pipeBind1"](28,5,""),"",m["\u0275\u0275pipeBind2"](29,7,t.totalRaised,"1.2-2")," "))},directives:[a.m,a.n],pipes:[Wt.a,a.f,a.e,k.a],styles:[".modal-body[_ngcontent-%COMP%]{max-height:86vh;overflow-x:hidden;overflow-y:auto;min-height:80vh}"]}),e})();function nn(e,t){1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275text"](1,"Full Time - Permanent"),m["\u0275\u0275elementContainerEnd"]())}function an(e,t){1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275text"](1,"Full Time - Contract"),m["\u0275\u0275elementContainerEnd"]())}function on(e,t){1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275text"](1,"Part Time / Freelancer"),m["\u0275\u0275elementContainerEnd"]())}function rn(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"tr"),m["\u0275\u0275elementStart"](1,"td",11),m["\u0275\u0275elementStart"](2,"div",12),m["\u0275\u0275elementStart"](3,"span",13),m["\u0275\u0275element"](4,"img",14),m["\u0275\u0275pipe"](5,"avatar"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"span"),m["\u0275\u0275text"](7),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](8,"td",11),m["\u0275\u0275text"](9),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](10,"td",11),m["\u0275\u0275text"](11),m["\u0275\u0275pipe"](12,"date"),m["\u0275\u0275pipe"](13,"dateObject"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](14,"td",11),m["\u0275\u0275template"](15,nn,2,0,"ng-container",9),m["\u0275\u0275template"](16,an,2,0,"ng-container",9),m["\u0275\u0275template"](17,on,2,0,"ng-container",9),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("src",m["\u0275\u0275pipeBind1"](5,8,e.profilePhoto),m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate2"]("",e.firstName," ",e.surname,""),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",e.designation," "),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind2"](12,10,m["\u0275\u0275pipeBind1"](13,13,e.dateEmployed),"dd MMM yyyy")," "),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("ngIf",1===e.employmentTypeID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",2===e.employmentTypeID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",3===e.employmentTypeID)}}function sn(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"tr"),m["\u0275\u0275elementStart"](1,"td",15),m["\u0275\u0275text"](2,"No Data"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]())}let cn=(()=>{class e{constructor(e,t){this.activeModal=e,this.router=t,this.contacts=[]}ngOnInit(){}viewTeam(){this.router.navigate(["/company",this.company.companyID,"team"]),this.dismiss()}dismiss(){this.activeModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](S.a),m["\u0275\u0275directiveInject"](i.d))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-company-job-dialog"]],decls:26,vars:3,consts:[[1,"modal-header"],[1,"mb-0"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","d-flex","flex-column","pb-4","pt-0","pl-0","pr-0"],[1,"d-flex","pl-3","pr-3","pt-2","pb-2"],[1,"table","table-hover","w-100"],[1,"border-bottom","pl-3","pr-3"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","btn-outline-primary","ml-auto","mr-3",3,"click"],[1,"pt-1","pb-1","align-middle","pl-3","pr-3"],[1,"d-flex","align-items-center"],[1,"media","avatar","avatar-40","avatar-40-rounded"],["alt","Avatar",1,"img-fluid","img-40",3,"src"],["colspan","4",1,"text-danger"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"h1",1),m["\u0275\u0275text"](2," Job Creation "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"button",2),m["\u0275\u0275listener"]("click",function(){return t.dismiss()}),m["\u0275\u0275elementStart"](4,"span",3),m["\u0275\u0275text"](5,"\xd7"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"div",4),m["\u0275\u0275elementStart"](7,"div",5),m["\u0275\u0275elementStart"](8,"span"),m["\u0275\u0275text"](9),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](10,"table",6),m["\u0275\u0275elementStart"](11,"thead"),m["\u0275\u0275elementStart"](12,"tr"),m["\u0275\u0275elementStart"](13,"th",7),m["\u0275\u0275text"](14,"Full Name"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](15,"th",7),m["\u0275\u0275text"](16,"Job Title"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](17,"th",7),m["\u0275\u0275text"](18,"Date Employed"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](19,"th",7),m["\u0275\u0275text"](20,"Employment Type"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](21,"tbody"),m["\u0275\u0275template"](22,rn,18,15,"tr",8),m["\u0275\u0275template"](23,sn,3,0,"tr",9),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](24,"button",10),m["\u0275\u0275listener"]("click",function(){return t.viewTeam()}),m["\u0275\u0275text"](25,"View Team"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](9),m["\u0275\u0275textInterpolate1"]("",t.contacts.length," Job Created"),m["\u0275\u0275advance"](13),m["\u0275\u0275property"]("ngForOf",t.contacts),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!t.contacts.length))},directives:[a.m,a.n],pipes:[x.a,a.e,k.a],styles:[".modal-body[_ngcontent-%COMP%]{max-height:86vh;overflow-x:hidden;overflow-y:auto;min-height:80vh}h1[_ngcontent-%COMP%]{font-size:23px!important}"]}),e})();var ln=n("8ZIy");function pn(e,t){1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275text"](1,"Legal Services"),m["\u0275\u0275elementContainerEnd"]())}function mn(e,t){1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275text"](1,"Basic Accounting Services"),m["\u0275\u0275elementContainerEnd"]())}function dn(e,t){1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275text"](1,"Financial Audit"),m["\u0275\u0275elementContainerEnd"]())}function un(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"tr"),m["\u0275\u0275elementStart"](1,"td"),m["\u0275\u0275text"](2),m["\u0275\u0275pipe"](3,"dayAgo"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"td"),m["\u0275\u0275text"](5),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"td"),m["\u0275\u0275template"](7,pn,2,0,"ng-container",8),m["\u0275\u0275template"](8,mn,2,0,"ng-container",8),m["\u0275\u0275template"](9,dn,2,0,"ng-container",8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](10,"td"),m["\u0275\u0275text"](11),m["\u0275\u0275pipe"](12,"userCurrency"),m["\u0275\u0275pipe"](13,"number"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](3,7,e.endDate)," "),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"](" ",e.taskTitle," "),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",1===e.taskClassificationID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",2===e.taskClassificationID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",3===e.taskClassificationID),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate2"]("",m["\u0275\u0275pipeBind1"](12,9,""),"",m["\u0275\u0275pipeBind2"](13,11,e.taskBudget||e.taskValue,"1.2-2"),"")}}function hn(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"tr"),m["\u0275\u0275elementStart"](1,"td",11),m["\u0275\u0275text"](2,"No Data"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]())}let gn=(()=>{class e{constructor(e,t){this.activeModal=e,this.router=t,this.subsidyTasks=[]}ngOnInit(){}navigateToList(){this.dismiss(),this.router.navigate(["/support"])}dismiss(){this.activeModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](S.a),m["\u0275\u0275directiveInject"](i.d))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-company-subsidies-dialog"]],decls:32,vars:10,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","d-flex","flex-column","pb-4","pt-0","pl-0","pr-0"],[1,"table","table-hover","w-100"],[1,"border-top-0","border-bottom"],[4,"ngFor","ngForOf"],[4,"ngIf"],["colspan","3"],[1,"btn","btn-outline-primary","ml-auto","mr-3",3,"click"],["colspan","4",1,"text-danger"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"h5",1),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"button",2),m["\u0275\u0275listener"]("click",function(){return t.dismiss()}),m["\u0275\u0275elementStart"](4,"span",3),m["\u0275\u0275text"](5,"\xd7"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"div",4),m["\u0275\u0275elementStart"](7,"table",5),m["\u0275\u0275elementStart"](8,"thead"),m["\u0275\u0275elementStart"](9,"tr"),m["\u0275\u0275elementStart"](10,"th",6),m["\u0275\u0275text"](11,"Date"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"th",6),m["\u0275\u0275text"](13,"Request"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](14,"th",6),m["\u0275\u0275text"](15,"Category"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](16,"th",6),m["\u0275\u0275text"](17,"Amount"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](18,"tbody"),m["\u0275\u0275template"](19,un,14,14,"tr",7),m["\u0275\u0275template"](20,hn,3,0,"tr",8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](21,"tfoot"),m["\u0275\u0275elementStart"](22,"tr"),m["\u0275\u0275elementStart"](23,"td",9),m["\u0275\u0275elementStart"](24,"span"),m["\u0275\u0275text"](25,"Total"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](26,"td"),m["\u0275\u0275text"](27),m["\u0275\u0275pipe"](28,"userCurrency"),m["\u0275\u0275pipe"](29,"number"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](30,"button",10),m["\u0275\u0275listener"]("click",function(){return t.navigateToList()}),m["\u0275\u0275text"](31,"View Details"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",t.company.companyName,"'s Subsidies "),m["\u0275\u0275advance"](17),m["\u0275\u0275property"]("ngForOf",t.subsidyTasks),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!t.subsidyTasks.length),m["\u0275\u0275advance"](7),m["\u0275\u0275textInterpolate2"](" ",m["\u0275\u0275pipeBind1"](28,5,""),"",m["\u0275\u0275pipeBind2"](29,7,t.subsidyAmount,"1.2-2")," "))},directives:[a.m,a.n],pipes:[Wt.a,a.f,ln.a],styles:[""]}),e})();var In=n("SCsZ"),vn=n("D+TJ"),yn=n("zmD5"),fn=n("5Jv4"),Dn=n("A63E"),bn=n("GXd7"),Sn=n("6n/F"),wn=n("nFnv"),xn=n("5eqV");function kn(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",20),m["\u0275\u0275text"](1,"Very Good"),m["\u0275\u0275elementEnd"]())}function Cn(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",20),m["\u0275\u0275text"](1,"Good"),m["\u0275\u0275elementEnd"]())}function En(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",21),m["\u0275\u0275text"](1,"Bad"),m["\u0275\u0275elementEnd"]())}function Mn(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",22),m["\u0275\u0275text"](1,"Very Bad"),m["\u0275\u0275elementEnd"]())}function On(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",16),m["\u0275\u0275template"](1,kn,2,0,"span",17),m["\u0275\u0275template"](2,Cn,2,0,"span",17),m["\u0275\u0275template"](3,En,2,0,"span",18),m["\u0275\u0275template"](4,Mn,2,0,"span",19),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",4===e.reviews[0].discussionValue),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",3===e.reviews[0].discussionValue),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",2===e.reviews[0].discussionValue),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",1===e.reviews[0].discussionValue)}}function Pn(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"p",23),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"number"),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" Average customer satisfaction this month: ",m["\u0275\u0275pipeBind2"](2,1,e.customerSatisfactionAvg,"1.2-2"),"% ")}}function jn(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"p",23),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" Prospects this month: ",e.prospectsThisMonth," ")}}function An(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"p",23),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"userCurrency"),m["\u0275\u0275pipe"](3,"number"),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate2"](" Sales this month: ",m["\u0275\u0275pipeBind1"](2,2,"")," ",m["\u0275\u0275pipeBind2"](3,4,e.salesMonth,"1.2-2")," ")}}function Nn(e,t){1&e&&m["\u0275\u0275element"](0,"div",24)}function Tn(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",27),m["\u0275\u0275elementStart"](1,"span",28),m["\u0275\u0275element"](2,"img",29),m["\u0275\u0275pipe"](3,"avatar"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"div",30),m["\u0275\u0275elementStart"](5,"h2"),m["\u0275\u0275text"](6),m["\u0275\u0275elementStart"](7,"span",31),m["\u0275\u0275text"](8),m["\u0275\u0275pipe"](9,"date"),m["\u0275\u0275pipe"](10,"dateObject"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](11,"div",31),m["\u0275\u0275element"](12,"ngb-rating",32),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](13,"div",33),m["\u0275\u0275elementStart"](14,"p"),m["\u0275\u0275text"](15),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=m["\u0275\u0275nextContext"](2);m["\u0275\u0275classProp"]("border-0",1===n.customerSatisfaction.length),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("src",m["\u0275\u0275pipeBind1"](3,9,e.profilePhoto),m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate2"](" ",e.firstname," ",e.surname," "),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind2"](9,11,m["\u0275\u0275pipeBind1"](10,14,e.datePosted),"dd MMM, yyyy")),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("max",4)("rate",e.sentimentRatingID),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](e.comment)}}function Ln(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275elementStart"](1,"p",25),m["\u0275\u0275text"](2," Latest Customer Reviews "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](3,Tn,16,16,"div",26),m["\u0275\u0275pipe"](4,"slice"),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngForOf",m["\u0275\u0275pipeBind3"](4,1,e.customerSatisfaction,0,2))}}function Rn(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",27),m["\u0275\u0275elementStart"](1,"span",34),m["\u0275\u0275element"](2,"img",35),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"div",30),m["\u0275\u0275elementStart"](4,"h2"),m["\u0275\u0275text"](5),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"div",31),m["\u0275\u0275elementStart"](7,"span"),m["\u0275\u0275text"](8),m["\u0275\u0275pipe"](9,"date"),m["\u0275\u0275pipe"](10,"dateObject"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](11,"div",33),m["\u0275\u0275elementStart"](12,"p"),m["\u0275\u0275text"](13),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=m["\u0275\u0275nextContext"](2);m["\u0275\u0275classProp"]("border-0",1===n.prospects.length),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("src",e.companyLogo?n.blobUrl+e.companyLogo:"assets/img/card-placeholder.jpg",m["\u0275\u0275sanitizeUrl"]),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](e.companyName),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind2"](9,6,m["\u0275\u0275pipeBind1"](10,9,e.dateAssociated),"dd MMM, yyyy")),m["\u0275\u0275advance"](5),m["\u0275\u0275textInterpolate"](e.companyMission)}}function Bn(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275elementStart"](1,"p",25),m["\u0275\u0275text"](2," Latest Prospects "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](3,Rn,14,11,"div",26),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngForOf",e.prospects)}}const $n=function(){return{standalone:!0}};function Vn(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",36),m["\u0275\u0275elementStart"](1,"textarea",37),m["\u0275\u0275listener"]("ngModelChange",function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().comment=t})("keyup.enter",function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().postSectionComment(t.target.value)}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngModel",e.comment)("ngModelOptions",m["\u0275\u0275pureFunction0"](2,$n))}}function Fn(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",38),m["\u0275\u0275elementStart"](1,"span",39),m["\u0275\u0275text"](2),m["\u0275\u0275elementStart"](3,"span",31),m["\u0275\u0275text"](4),m["\u0275\u0275pipe"](5,"date"),m["\u0275\u0275pipe"](6,"dateObject"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"p",40),m["\u0275\u0275text"](8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate2"](" ",e.firstName," ",e.surname,""),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" - ",m["\u0275\u0275pipeBind2"](5,4,m["\u0275\u0275pipeBind1"](6,7,e.dateCreated),"dd MMM yyyy"),""),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](e.discussionBody)}}function Un(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"span",41),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().viewMoreReviews()}),m["\u0275\u0275text"](1,"Read More"),m["\u0275\u0275elementEnd"]()}}const _n=n("2BfV"),qn=n("Tos5"),Gn=n("M8aS"),zn=n("zF3M");_n(Sn),qn(Sn),Gn(Sn),zn(Sn);let Yn=(()=>{class e{constructor(e,t,n,a,i,r,s,l){this.taskService=e,this.indicatorService=t,this.sentimentService=n,this.modal=a,this.financialService=i,this.discussionService=r,this.companyService=s,this.userService=l,this.closed=new m.EventEmitter,this.reviews=[],this.yearID=(new Date).getFullYear(),this.monthID=(new Date).getMonth()+1,this.years=[],this.months=bn.a.create(),this.customerSatisfaction=[],this.customerSatisfactionAvg=0,this.prospectsThisMonth=0,this.prospects=[],this.financial=[],this.budget=[],this.salesMonth=0,this.blobUrl=o.a.apiBlobUrl+"/256px/",this.comment="",this.destroy$=new c.a,this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID}set Data(e){this.indicator=e,28===this.indicator.indicatorID&&this.getCustomerSatisfactions(),22===this.indicator.indicatorID&&this.getFinancials(),25===this.indicator.indicatorID&&this.getProspects()}ngOnInit(){}getCustomerSatisfactions(){this.customerSatisfactionLoading=!0,this.sentimentService.getSentiments(0,0,0,0,2,0,this.indicator.companyID,0).pipe(Object(P.a)(this.destroy$)).subscribe(e=>{this.customerSatisfaction=e,this.customerSatisfactionChart()})}customerSatisfactionChart(){const e={chart:{type:"column",height:250},xAxis:{categories:this.months.map(e=>Object(d.a)(new Date(this.yearID,e.value-1,1),"MMM"))},yAxis:{title:!1,labels:{enabled:!1}},title:{text:""},series:[],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{align:"center",verticalAlign:"bottom",layout:"horizontal"},yAxis:{labels:{align:"left",x:0,y:-5},title:{text:null}},subtitle:{text:null},credits:{enabled:!1}}}]}},t=this,n={name:"Average Satisfaction",type:"column",data:[0,0,0,0,0,0,0,0,0,0,0,0],color:"#accafc",tooltip:{valueSuffix:"%"},showInLegend:!1,legend:{enabled:!1},point:{events:{click(){t.openReview(this.category)}}}};this.months.forEach(e=>{const t=this.customerSatisfaction.filter(t=>{const n=new Date(t.datePosted);return this.yearID===n.getFullYear()&&e.value===n.getMonth()+1});let a=0;t.forEach(e=>{switch(e.sentimentRatingID){case 1:a+=25;break;case 2:a+=50;break;case 3:a+=75;break;default:a+=100}});const i=+(a/t.length).toFixed(2)||0;n.data[e.value-1]=i,this.monthID===e.value&&(this.customerSatisfactionAvg=i)}),e.series.push(n),this.chart=Sn.chart("chart",e),this.customerSatisfactionLoading=!1}openReview(e){const t=this.months.find(t=>Object(d.a)(new Date(this.yearID,t.value-1,1),"MMM")===e).value,n=this.customerSatisfaction.filter(e=>{const n=new Date(e.datePosted);return this.yearID===n.getFullYear()&&t===n.getMonth()+1}),a=this.modal.open(wn.a,{backdrop:"static",size:"lg"});a.componentInstance.monthID=t,a.componentInstance.yearID=this.yearID,a.componentInstance.sentiments=n}getFinancials(){this.financialLoading=!0;const e={companyID:this.indicator.companyID,financialCategoryID:0,monthID:0,yearID:this.yearID},t={companyBudgetID:0,companyID:this.indicator.companyID,companyFinancialCategoryID:0,monthID:0,yearID:this.yearID,companyAccountID:0};Object(l.a)(this.financialService.getFinancial(e),this.financialService.getBudgets(t)).pipe(Object(P.a)(this.destroy$)).subscribe(e=>{this.financial=e[0],this.budget=e[1],this.generateFinancialChart()})}generateFinancialChart(){const e={chart:{type:"column",height:250},title:{text:""},xAxis:{categories:this.months.map(e=>Object(d.a)(new Date(this.yearID,e.value-1,1),"MMM")),gridLineWidth:0},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},series:[],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{align:"center",verticalAlign:"bottom",layout:"horizontal"},yAxis:{labels:{align:"left",x:0,y:-5},title:{text:null}},subtitle:{text:null},credits:{enabled:!1}}}]}},t={type:"column",name:"Income",data:[],showInLegend:!1,color:"#accafc",legend:{enabled:!1}},n={type:"column",name:"Profit",data:[],color:"rgb(144, 237, 125)",showInLegend:!1,legend:{enabled:!1}},a={type:"spline",name:"Budget",data:[],showInLegend:!1,legend:{enabled:!1},marker:{enabled:!1},lineWidth:1};this.months.forEach(e=>{const i=this.financial.filter(t=>t.yearID===this.yearID&&t.monthID===e.value&&1===t.financialCategoryTypeID),o=this.financial.filter(t=>t.yearID===this.yearID&&t.monthID===e.value&&2===t.financialCategoryTypeID),r=this.budget.filter(t=>t.yearID===this.yearID&&t.monthID===e.value&&1===t.financialCategoryTypeID),s=i.reduce((e,t)=>e+t.actualAmount||0,0),c=o.reduce((e,t)=>e+t.actualAmount||0,0),l=r.reduce((e,t)=>e+(t.budgetAmount||0),0),p=s-c;t.data.push(s>=c?s:{y:s,color:"#f44336"}),a.data.push(l),n.data.push(p)});const i=this.financial.filter(e=>e.monthID===this.monthID&&1===e.financialCategoryTypeID);this.salesMonth=i.reduce((e,t)=>e+(t.actualAmount||0),0),e.series.push(a),e.series.push(t),e.series.push(n),this.chart=Sn.chart("chart",e),this.financialLoading=!1}getProspects(){this.prospectsLoading=!0,this.companyService.getCompanyConnect(this.indicator.companyID,3,0).pipe(Object(P.a)(this.destroy$)).subscribe(e=>{this.prospects=e.sort((e,t)=>new Date(t.dateAssociated).getTime()-new Date(e.dateAssociated).getTime()),this.prospectsChart()})}prospectsChart(){const e={chart:{type:"column",height:250},xAxis:{categories:this.months.map(e=>Object(d.a)(new Date(this.yearID,e.value-1,1),"MMM"))},yAxis:{title:!1,labels:{enabled:!1}},title:{text:""},series:[],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{align:"center",verticalAlign:"bottom",layout:"horizontal"},yAxis:{labels:{align:"left",x:0,y:-5},title:{text:null}},subtitle:{text:null},credits:{enabled:!1}}}]}},t={name:"Prospects",type:"column",data:[0,0,0,0,0,0,0,0,0,0,0,0],color:"#accafc",showInLegend:!1,legend:{enabled:!1}};this.months.forEach((e,n)=>{const a=this.prospects.filter(t=>{const n=new Date(t.dateAssociated).getMonth()+1;return new Date(t.dateAssociated).getFullYear()===this.yearID&&n===e.value});this.monthID===e.value&&(this.prospectsThisMonth=a.length),t.data[e.value-1]=a.length}),e.series.push(t),this.chart=Sn.chart("chart",e),this.prospectsLoading=!1}onClose(){this.closed.emit(!0)}viewMoreReviews(){const e=this.modal.open(wn.a,{backdrop:"static",size:"lg"});e.componentInstance.reviews=this.reviews,e.componentInstance.companyIndicator=this.indicator}postSectionComment(e){let t=Ce.b.overallStabilityReview;if(22===this.indicator.indicatorID?t=Ce.b.salesReview:25===this.indicator.indicatorID?t=Ce.b.demandReview:28===this.indicator.indicatorID&&(t=Ce.b.customerSatisfactionReview),!e)return;const n=new Ce.a;n.parentDiscussionID=this.supportGroupDiscussion.discussionID,n.discussionTopic=e,n.discussionBody=e,n.discussionCategoryID=t,n.discussionCreatedByContactID=this.contactID,n.referenceID=0,n.surname=this.user.surname,n.firstName=this.user.surname,n.dateCreated=Object(d.a)(new Date),this.comment="",this.reviews.unshift(n),this.discussionService.insertDiscussion(n).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](Oe.a),m["\u0275\u0275directiveInject"](yn.a),m["\u0275\u0275directiveInject"](In.a),m["\u0275\u0275directiveInject"](S.p),m["\u0275\u0275directiveInject"](Dn.a),m["\u0275\u0275directiveInject"](D.a),m["\u0275\u0275directiveInject"](b.a),m["\u0275\u0275directiveInject"](y.a))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-indicator-right-panel"]],inputs:{Data:["companyIndicator","Data"],reviews:"reviews",supportGroupDiscussion:"supportGroupDiscussion"},outputs:{closed:"closed"},decls:25,vars:17,consts:[[1,"d-flex","flex-column","task-right-panel"],[1,"d-flex","flex-column","full-height",3,"avnonLoader"],[1,"page-title","d-flex"],[1,"display-inline","mb-0","mr-2"],[1,"cursor-pointer","ml-auto",3,"click"],[1,"fas","fa-times"],[1,"d-flex","flex-column","align-items-start","pl-3","pr-3","pt-2","pb-2","border-bottom"],["class","d-flex w-100",4,"ngIf"],[1,"p23-text","mb-2","mt-2"],["class","mt-2",4,"ngIf"],["class","chart w-100","id","chart",4,"ngIf"],[4,"ngIf"],[1,"mt-4"],["class","comment-input mb-4 w-100",4,"ngIf"],["class","comment-card mb-1",4,"ngFor","ngForOf"],["class","cursor-pointer text-primary ml-auto mr-auto mt-2",3,"click",4,"ngIf"],[1,"d-flex","w-100"],["class","tag tag-green tag-filled",4,"ngIf"],["class","tag tag-orange tag-filled",4,"ngIf"],["class","tag tag-red tag-filled",4,"ngIf"],[1,"tag","tag-green","tag-filled"],[1,"tag","tag-orange","tag-filled"],[1,"tag","tag-red","tag-filled"],[1,"mt-2"],["id","chart",1,"chart","w-100"],[1,"font-weight-bold","mt-2","mb-2"],["class","entry pl-0 pr-0",3,"border-0",4,"ngFor","ngForOf"],[1,"entry","pl-0","pr-0"],[1,"media","avatar","avatar-48","avatar-48-rounded"],["alt","Avatar",1,"img-fluid","img-48","cover",3,"src"],[1,"d-flex"],[1,"meta"],["readonly","",3,"max","rate"],[1,"entry-content"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","Avatar",1,"img-fluid","img-48",3,"src"],[1,"comment-input","mb-4","w-100"],["autosize","","placeholder","Write a comment",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],[1,"comment-card","mb-1"],[1,"full-name"],[1,"mb-0","pre-line"],[1,"cursor-pointer","text-primary","ml-auto","mr-auto","mt-2",3,"click"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"div",1),m["\u0275\u0275elementStart"](2,"div",2),m["\u0275\u0275elementStart"](3,"h1",3),m["\u0275\u0275text"](4," Indicator "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"span",4),m["\u0275\u0275listener"]("click",function(){return t.onClose()}),m["\u0275\u0275element"](6,"i",5),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"div",6),m["\u0275\u0275template"](8,On,5,4,"div",7),m["\u0275\u0275elementStart"](9,"p",8),m["\u0275\u0275text"](10),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](11,"p"),m["\u0275\u0275text"](12),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](13,Pn,3,4,"p",9),m["\u0275\u0275template"](14,jn,2,1,"p",9),m["\u0275\u0275template"](15,An,4,7,"p",9),m["\u0275\u0275template"](16,Nn,1,0,"div",10),m["\u0275\u0275template"](17,Ln,5,5,"ng-container",11),m["\u0275\u0275template"](18,Bn,4,1,"ng-container",11),m["\u0275\u0275elementStart"](19,"h3",12),m["\u0275\u0275text"](20,"Indicator Reviews"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](21,Vn,2,3,"div",13),m["\u0275\u0275template"](22,Fn,9,9,"div",14),m["\u0275\u0275pipe"](23,"slice"),m["\u0275\u0275template"](24,Un,2,0,"span",15),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("avnonLoader",t.loading||t.customerSatisfactionLoading||t.prospectsLoading||t.financialLoading),m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("ngIf",null==t.reviews?null:t.reviews.length),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",t.indicator.indicator," "),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",t.indicator.indicatorDescription," "),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",28===t.indicator.indicatorID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",25===t.indicator.indicatorID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",22===t.indicator.indicatorID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.indicator.companyID!==t.indicator.indicatorID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",28===t.indicator.indicatorID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",25===t.indicator.indicatorID),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",t.supportGroupDiscussion),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",m["\u0275\u0275pipeBind3"](23,13,t.reviews,0,6)),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",(null==t.reviews?null:t.reviews.length)>6))},directives:[w.a,a.n,a.m,S.w,Le.b,xn.a,Le.q,Le.t],pipes:[a.v,a.f,Wt.a,x.a,a.e,k.a],styles:[""]}),e})();function Hn(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"p",11),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"dayAgo"),m["\u0275\u0275elementStart"](3,"span",12),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().showJobDialog()}),m["\u0275\u0275text"](4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](5," and generated "),m["\u0275\u0275elementStart"](6,"span",13),m["\u0275\u0275text"](7),m["\u0275\u0275pipe"](8,"userCurrency"),m["\u0275\u0275pipe"](9,"number"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](10," revenue. "),m["\u0275\u0275elementStart"](11,"span",12),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().investmentSummary()}),m["\u0275\u0275text"](12),m["\u0275\u0275pipe"](13,"userCurrency"),m["\u0275\u0275pipe"](14,"number"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](15," in funding raised and "),m["\u0275\u0275elementStart"](16,"span",12),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().openSubsidies()}),m["\u0275\u0275text"](17),m["\u0275\u0275pipe"](18,"userCurrency"),m["\u0275\u0275pipe"](19,"number"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](20," in subsidies received "),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate2"](" ",null==e.company?null:e.company.companyName," joined ",m["\u0275\u0275pipeBind1"](2,9,e.networkMember.dateAdded)," and has created "),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"](" ",e.jobsCount," jobs "),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate2"]("",m["\u0275\u0275pipeBind1"](8,11,""),"",m["\u0275\u0275pipeBind2"](9,13,e.salesCount,"1.2-2"),""),m["\u0275\u0275advance"](5),m["\u0275\u0275textInterpolate2"]("",m["\u0275\u0275pipeBind1"](13,16,""),"",m["\u0275\u0275pipeBind2"](14,18,e.fundingCount,"1.2-2"),""),m["\u0275\u0275advance"](5),m["\u0275\u0275textInterpolate2"]("",m["\u0275\u0275pipeBind1"](18,21,""),"",m["\u0275\u0275pipeBind2"](19,23,e.subsidyAmount,"1.2-2"),"")}}function Jn(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"p",14),m["\u0275\u0275text"](1," Their success quotient score is "),m["\u0275\u0275elementStart"](2,"span",15),m["\u0275\u0275text"](3),m["\u0275\u0275pipe"](4,"number"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](5),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"]("",m["\u0275\u0275pipeBind2"](4,2,e.overAllRating,"1.2-2"),"%"),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" based on ",e.overallReview.length," reviews. ")}}function Xn(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"p",14),m["\u0275\u0275text"](1," No performance reviews have been submitted yet "),m["\u0275\u0275elementEnd"]())}function Wn(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",16),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"]();return t.openIndicator(t.overAllIndicator)}),m["\u0275\u0275elementStart"](1,"span",17),m["\u0275\u0275text"](2),m["\u0275\u0275elementStart"](3,"span",18),m["\u0275\u0275text"](4),m["\u0275\u0275pipe"](5,"date"),m["\u0275\u0275pipe"](6,"dateObject"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"p",19),m["\u0275\u0275text"](8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate2"](" ",e.firstName," ",e.surname," "),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" - ",m["\u0275\u0275pipeBind2"](5,4,m["\u0275\u0275pipeBind1"](6,7,e.dateCreated),"dd MMM yyyy"),""),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](e.discussionBody)}}function Kn(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275elementStart"](1,"p",29),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=m["\u0275\u0275nextContext"](2).$implicit;m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.reviews[0].discussionTopic)}}const Zn=function(){return[3,4]},Qn=function(e,t,n,a){return{"border-0":e,"tag-green":t,"tag-orange":n,"tag-red":a}};function ea(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"tr",21),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"]().$implicit;return m["\u0275\u0275nextContext"]().openIndicator(t)}),m["\u0275\u0275elementStart"](1,"td",22),m["\u0275\u0275elementStart"](2,"span",23),m["\u0275\u0275text"](3," \xa0 "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"span",24),m["\u0275\u0275text"](5),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"td",25),m["\u0275\u0275elementStart"](7,"div",26),m["\u0275\u0275template"](8,Kn,3,1,"ng-container",27),m["\u0275\u0275element"](9,"i",28),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]().$implicit,t=m["\u0275\u0275nextContext"]();m["\u0275\u0275classProp"]("active",e.companyProgramInstanceIndicatorID===(null==t.companyIndicator?null:t.companyIndicator.companyProgramInstanceIndicatorID)),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction4"](6,Qn,!e.reviews,(null==e?null:e.reviews)&&m["\u0275\u0275pureFunction0"](5,Zn).includes(null==e.reviews[0]?null:e.reviews[0].discussionValue),(null==e?null:e.reviews)&&2===(null==e.reviews[0]?null:e.reviews[0].discussionValue),(null==e?null:e.reviews)&&1===(null==e.reviews[0]?null:e.reviews[0].discussionValue))),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"](" ",e.indicator," "),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",null==e||null==e.reviews?null:e.reviews.length)}}function ta(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275template"](1,ea,10,11,"tr",20),m["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",24!==e.indicatorID)}}function na(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",34),m["\u0275\u0275text"](1,"Underway"),m["\u0275\u0275elementEnd"]())}function aa(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",35),m["\u0275\u0275text"](1,"Completed"),m["\u0275\u0275elementEnd"]())}function ia(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",36),m["\u0275\u0275text"](1,"Pending"),m["\u0275\u0275elementEnd"]())}function oa(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"tr",21),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const n=t.$implicit;return m["\u0275\u0275nextContext"]().navigateToGoal(n)}),m["\u0275\u0275elementStart"](1,"td"),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"td",30),m["\u0275\u0275template"](4,na,2,0,"span",31),m["\u0275\u0275template"](5,aa,2,0,"span",32),m["\u0275\u0275template"](6,ia,2,0,"span",33),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",e.taskTitle," "),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",1===e.taskStatusID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",3===e.taskStatusID),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",2===e.taskStatusID)}}function ra(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"app-indicator-right-panel",37),m["\u0275\u0275listener"]("closed",function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().companyIndicator=null}),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("reviews",e.companyIndicator.reviews)("supportGroupDiscussion",e.supportGroupDiscussion)("companyIndicator",e.companyIndicator)}}const sa=[{path:"",component:me,children:[{path:"",component:gt},{path:"feed",component:Ie},{path:"team",component:vt},{path:"programs",component:bt},{path:"activities",component:xt},{path:"mentoring",component:At},{path:"mentors",component:$t},{path:"startups",component:zt},{path:"apply",component:Jt},{path:"dashboard",component:(()=>{class e{constructor(e,t,n,a,i,o,r,s,l,p,m,d,u,h,g){this.modal=e,this.companyService=t,this.activatedRoute=n,this.userService=a,this.companyProductService=i,this.router=o,this.taskService=r,this.contactService=s,this.networkService=l,this.sentimentService=p,this.dashboardService=m,this.indicatorService=d,this.investmentService=u,this.financialService=h,this.discussionService=g,this.products=[],this.goals=[],this.companyIndicators=[],this.customerIndicatorReview=[],this.prospectIndicatorReview=[],this.salesIndicatorReview=[],this.overallReview=[],this.overAllIndicator=new Xt.a,this.jobsCount=0,this.salesCount=0,this.overAllRating=0,this.contacts=[],this.financial=[],this.investments=[],this.fundingCount=0,this.subsidyTasks=[],this.subsidyAmount=0,this.destroy$=new c.a,this.user=this.userService.user.getValue()}ngOnInit(){this.contactID=this.user.contactID,this.companyID=this.user.companyID||0,this.lookup=this.activatedRoute.parent.snapshot.data.lookup,this.companyParamID=this.lookup.referenceID,this.getCompany(),this.initProducts(),this.getNetworkMember(),this.getInvestments(),this.getSubsidy()}getCompany(){this.companyService.getDetailCompany().pipe(Object(P.a)(this.destroy$)).subscribe(e=>{e&&e.companyID&&(this.company=e)})}initProducts(){this.productsLoading=!0,this.companyProductService.getProduct(this.companyParamID,0).pipe(Object(P.a)(this.destroy$)).subscribe(e=>{this.products=e,this.products[0]&&this.getGoals(),this.productsLoading=!1})}getGoals(){this.loading=!0,this.taskService.getTask(0,6,this.products[0].companyProductID,0,0,0,0,0,!0).pipe(Object(P.a)(this.destroy$)).subscribe(e=>{this.goals=e,this.loading=!1})}getIndicators(){this.indicatorsLoading=!0,this.indicatorService.getCompanyProgramInstanceIndicator(0,0,0,0,0,this.companyParamID).subscribe(e=>{this.companyIndicators=e,this.initIndicatorReview(),this.indicatorsLoading=!1})}navigateToGoal(e){this.companyIndicator=null,[23,24].includes(e.taskCategoryID)&&e.referenceID?this.router.navigate(["/event",e.referenceID,"meeting-feedback"]):18===e.taskCategoryID&&e.referenceID?this.router.navigate(["/event",e.referenceID,"feedback"]):15===e.taskCategoryID&&e.referenceID?this.router.navigate(["review/stage",e.referenceID]):[4,32,38].includes(e.taskCategoryID)?this.router.navigate(["/task",e.taskID]):this.taskService.storeActiveTaskRx(Object(d.l)(e))}openIndicator(e){this.taskService.storeActiveTaskRx(null),this.companyIndicator=e}initIndicatorReview(){this.indicatorsLoading=!0,this.discussionService.fetchDiscussions(0,this.networkMember.networkMemberID,3,0,0,0).pipe(Object(g.a)(e=>(this.supportGroupDiscussion=e[0]||null,e.length?Object(l.a)(this.discussionService.fetchDiscussions(0,0,Ce.b.overallStabilityReview,e[0].discussionID),this.discussionService.fetchDiscussions(0,0,Ce.b.salesReview,e[0].discussionID),this.discussionService.fetchDiscussions(0,0,Ce.b.demandReview,e[0].discussionID),this.discussionService.fetchDiscussions(0,0,Ce.b.customerSatisfactionReview,e[0].discussionID)):Object(u.a)([]))),Object(P.a)(this.destroy$)).subscribe(e=>{this.overallReview=e[0].sort((e,t)=>new Date(t.dateCreated).getTime()-new Date(e.dateCreated).getTime()).sort((e,t)=>e.discussionValue-t.discussionValue),this.salesIndicatorReview=e[1].sort((e,t)=>new Date(t.dateCreated).getTime()-new Date(e.dateCreated).getTime()).sort((e,t)=>e.discussionValue-t.discussionValue);const t=this.companyIndicators.findIndex(e=>22===e.indicatorID);-1!==t&&(this.companyIndicators[t].reviews=this.salesIndicatorReview),this.prospectIndicatorReview=e[2].sort((e,t)=>new Date(t.dateCreated).getTime()-new Date(e.dateCreated).getTime()).sort((e,t)=>e.discussionValue-t.discussionValue);const n=this.companyIndicators.findIndex(e=>25===e.indicatorID);-1!==n&&(this.companyIndicators[n].reviews=this.prospectIndicatorReview),this.customerIndicatorReview=e[3].sort((e,t)=>new Date(t.dateCreated).getTime()-new Date(e.dateCreated).getTime()).sort((e,t)=>e.discussionValue-t.discussionValue);const a=this.companyIndicators.findIndex(e=>28===e.indicatorID);-1!==a&&(this.companyIndicators[a].reviews=this.customerIndicatorReview),this.overAllIndicator.indicatorID=this.companyParamID,this.overAllIndicator.companyID=this.companyParamID,this.overAllIndicator.indicator="Overall Stability",this.overAllIndicator.reviews=this.overallReview,this.overAllRating=this.overallReview.reduce((e,t)=>{let n=0;switch(t.discussionValue){case 1:n=25;break;case 2:n=50;break;case 3:n=75;break;default:n=100}return e+n},0)/this.overallReview.length,this.indicatorsLoading=!1})}getNetworkMember(){this.networkLoading=!0,this.networkService.getNetwork(0,0,0,0,this.user.companyID,0,1).pipe(Object(g.a)(e=>e.length?this.networkService.getNetworkMember(e[0].networkID,2,0,this.companyParamID,0,0):Object(u.a)())).subscribe(e=>{this.networkMember=e[0]||null,this.networkLoading=!1,this.getIndicators(),this.getJobsCreated(),this.getFinancials()})}getJobsCreated(){this.dashboardService.getJobCreation(this.companyParamID).subscribe(),this.contactService.getContacts(this.companyParamID).subscribe(e=>{this.contacts=e.filter(e=>{var t;if((null===(t=this.networkMember)||void 0===t?void 0:t.dateAdded)&&e.dateEmployed){const t=new Date(this.networkMember.dateAdded),n=new Date(e.dateEmployed);return t.getFullYear()<=n.getFullYear()&&t.getMonth()<=n.getMonth()}return!1}),this.jobsCount=this.contacts.length,this.loading=!1},()=>{this.loading=!1})}getFinancials(){const e=new Date(this.networkMember.dateAdded),t={companyID:this.companyParamID,financialCategoryID:0,monthID:0,yearID:e.getFullYear()};this.financialService.getFinancial(t).subscribe(t=>{this.financial=t.filter(t=>t.monthID>=e.getMonth()+1&&1===t.financialCategoryTypeID),this.salesCount=this.financial.reduce((e,t)=>e+(t.actualAmount||0),0)})}getInvestments(){this.fundingLoading=!0,this.investmentService.getInvestments(this.companyParamID,0,0,"","").subscribe(e=>{const t=Object(d.j)(e,"investmentID");this.fundingCount=e.reduce((e,t)=>e+t.investmentAmount,0),this.investments=t.map(t=>(t.investmentAmount=e.filter(e=>e.investmentID===t.investmentID).reduce((e,t)=>e+(t.investmentAmount||0),0),t)),this.fundingLoading=!1})}investmentSummary(){const e=this.modal.open(tn,{size:"lg"});e.componentInstance.investments=this.investments,e.componentInstance.company=this.company,e.componentInstance.totalRaised=this.fundingCount}showJobDialog(){const e=this.modal.open(cn,{size:"lg"});e.componentInstance.contacts=this.contacts,e.componentInstance.company=this.company}getSubsidy(){this.subsidyLoading=!0,this.taskService.getTask(0,39,0,0,this.companyID,0,0,0).pipe(Object(P.a)(this.destroy$)).subscribe(e=>{this.subsidyTasks=e.filter(e=>e.subReferenceID===this.companyParamID),this.subsidyAmount=this.subsidyTasks.reduce((e,t)=>e+(t.taskBudget||t.taskValue||0),0),this.subsidyLoading=!1})}openSubsidies(){const e=this.modal.open(gn,{size:"lg"});e.componentInstance.subsidyTasks=this.subsidyTasks,e.componentInstance.company=this.company,e.componentInstance.subsidyAmount=this.subsidyAmount}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.taskService.storeActiveTaskRx(null)}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](S.p),m["\u0275\u0275directiveInject"](b.a),m["\u0275\u0275directiveInject"](i.a),m["\u0275\u0275directiveInject"](y.a),m["\u0275\u0275directiveInject"](Je.a),m["\u0275\u0275directiveInject"](i.d),m["\u0275\u0275directiveInject"](Oe.a),m["\u0275\u0275directiveInject"](L.a),m["\u0275\u0275directiveInject"](v.a),m["\u0275\u0275directiveInject"](In.a),m["\u0275\u0275directiveInject"](vn.a),m["\u0275\u0275directiveInject"](yn.a),m["\u0275\u0275directiveInject"](fn.a),m["\u0275\u0275directiveInject"](Dn.a),m["\u0275\u0275directiveInject"](D.a))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-explore-company-dashboard"]],decls:19,vars:14,consts:[[1,"d-flex","flex-column","w-100",3,"avnonLoader"],["class","pl-3 pr-3 mt-2",4,"ngIf"],["class","pl-3 pr-3 mb-3 mt-1",4,"ngIf"],["class","comment-card mb-1 ml-3 mr-3",3,"click",4,"ngFor","ngForOf"],[1,"col-12","d-flex","justify-content-between","align-items-center","filter-container","border-bottom"],[1,"mb-0"],[1,"table","goal-table"],[4,"ngFor","ngForOf"],[1,"col-12","d-flex","justify-content-between","align-items-center","filter-container","border-bottom","mt-4"],[3,"click",4,"ngFor","ngForOf"],[3,"reviews","supportGroupDiscussion","companyIndicator","closed",4,"ngIf"],[1,"pl-3","pr-3","mt-2"],[1,"cursor-pointer","text-primary",3,"click"],[1,"cursor-pointer","text-primary"],[1,"pl-3","pr-3","mb-3","mt-1"],[1,"text-decoration-underline"],[1,"comment-card","mb-1","ml-3","mr-3",3,"click"],[1,"full-name"],[1,"meta"],[1,"mb-0","pre-line"],[3,"active","click",4,"ngIf"],[3,"click"],[1,"border-0","td-max-width"],[1,"tag","mr-2","tag-circle","tag-filled",3,"ngClass"],[1,"font-weight-bold"],[1,"border-0"],[1,"d-flex"],[4,"ngIf"],[1,"fas","fa-chevron-right","ml-auto","text-muted"],[1,"mb-0","mr-2"],[1,"text-right"],["class","tag tag-blue tag-filled",4,"ngIf"],["class","tag tag-green tag-filled",4,"ngIf"],["class","tag tag-orange tag-filled",4,"ngIf"],[1,"tag","tag-blue","tag-filled"],[1,"tag","tag-green","tag-filled"],[1,"tag","tag-orange","tag-filled"],[3,"reviews","supportGroupDiscussion","companyIndicator","closed"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275template"](1,Hn,21,26,"p",1),m["\u0275\u0275template"](2,Jn,6,5,"p",2),m["\u0275\u0275template"](3,Xn,2,0,"p",2),m["\u0275\u0275template"](4,Wn,9,9,"div",3),m["\u0275\u0275pipe"](5,"slice"),m["\u0275\u0275elementStart"](6,"div",4),m["\u0275\u0275elementStart"](7,"h1",5),m["\u0275\u0275text"](8," Key Performance Indicators "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"table",6),m["\u0275\u0275elementStart"](10,"tbody"),m["\u0275\u0275template"](11,ta,2,1,"ng-container",7),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"div",8),m["\u0275\u0275elementStart"](13,"h1",5),m["\u0275\u0275text"](14," Goals we're working towards "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](15,"table",6),m["\u0275\u0275elementStart"](16,"tbody"),m["\u0275\u0275template"](17,oa,7,4,"tr",9),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](18,ra,1,3,"app-indicator-right-panel",10)),2&e&&(m["\u0275\u0275property"]("avnonLoader",t.subsidyLoading||t.productsLoading||t.loading||t.reviewsLoading||t.indicatorsLoading||t.networkLoading||t.fundingLoading),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.networkMember),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.overallReview.length),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!t.overallReview.length),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",m["\u0275\u0275pipeBind3"](5,10,t.overallReview,0,1)),m["\u0275\u0275advance"](2),m["\u0275\u0275classProp"]("mt-3",t.overallReview.length),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("ngForOf",t.companyIndicators),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("ngForOf",t.goals),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.companyIndicator))},directives:[w.a,a.n,a.m,a.l,Yn],pipes:[a.v,ln.a,Wt.a,a.f,a.e,k.a],styles:[".goal-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem 1rem;border-top:0;border-bottom:1px solid #ebeef0}.goal-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{border-top:0!important}.goal-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#f0f3ff!important}.goal-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#f0f3ff}.goal-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:pointer}.goal-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.35rem 1rem;border-top-color:#ebeef0;font-size:14px!important;vertical-align:middle}.td-max-width[_ngcontent-%COMP%]{max-width:180px}"]}),e})()}]}];let ca=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.h.forChild(sa)],i.h]}),e})();var la=n("j4PG"),pa=n("4Ptv"),ma=n("ZLSo"),da=n("tkyS"),ua=n("pr+S"),ha=n("GKkB"),ga=n("qgjj"),Ia=n("oAWB"),va=n("pRyc"),ya=n("zemM");let fa=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.c]]}),e})();var Da=n("PCNd"),ba=n("hXeK");let Sa=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[vn.a],imports:[[a.c,ca,la.a,Da.a,pa.a,Le.l,Le.z,S.q,ma.a,ga.a,Ia.a,va.a,da.NewsFeedModule,ua.a,S.l,ha.a,ya.a,da.NewsFeedModule,fa,S.D,ba.a,B.b,S.x]]}),e})()},WchS:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o});class a{constructor(e){if(this.programInstanceStageID=null,this.programInstanceID=null,this.programStageTypeID=null,this.programStageTitle=null,this.programStageOverview=null,this.programStageStartDate=null,this.programStageEndDate=null,this.programStageOrderID=null,this.programStageMaxDurationTypeID=null,this.programStageMaxDuration=null,this.active=!1,this.rollingIntake=null,this.programInstanceTitle=null,this.activatedByContactID=null,this.activationStatusDate=null,this.activationStatusID=null,this.companyName=null,e){const t=this;for(const n of Object.keys(e))t.hasOwnProperty(n)&&(t[n]=e[n])}}}class i{constructor(){this.programInstanceStageID=null,this.programInstanceStageCriteriaCategoryID=null,this.programInstanceStageCriteria=null,this.programInstanceStageMetric=null,this.programInstanceStageCriteriaID=null,this.checkCount=null,this.label=null}}const o=[{programInstanceStageCriteria:"Achieve minimum sales",programInstanceStageCriteriaCategoryID:1,label:"Achieve minimum sales per month"},{programInstanceStageCriteria:"Achieve minimum customer satisfaction",programInstanceStageCriteriaCategoryID:2},{programInstanceStageCriteria:"Achieve minimum hires",programInstanceStageCriteriaCategoryID:3},{programInstanceStageCriteria:"Minimum prospect conversion",programInstanceStageCriteriaCategoryID:4},{programInstanceStageCriteria:"Minimum demand level",programInstanceStageCriteriaCategoryID:5,label:"Minimum number of new qualified enquiries per month"},{programInstanceStageCriteria:"Complete a Task",programInstanceStageCriteriaCategoryID:6},{programInstanceStageCriteria:"Attend a course / workshop",programInstanceStageCriteriaCategoryID:7}]},ZlE8:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n("+i8e"),i=n("fXoL"),o=n("2tam"),r=n("1kSV"),s=n("Jn3s"),c=n("ofXK"),l=n("3Pt+");function p(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"p",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("Please complete the form below to add a product or service to the ",e.companyName,". ")}}function m(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",17),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.companyProductStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.companyProductStatus," ")}}let d=(()=>{class e{constructor(e,t){this.companyProductService=e,this.ngbActiveModal=t,this.companyProduct=new a.a,this.productStatuses=[]}ngOnInit(){this.companyProduct.companyProductID&&this.onTypeChange()}onSubmit(){this.loading=!0,this.companyProduct.companyProductID?this.companyProductService.updateProduct(this.companyProduct).subscribe(e=>{this.ngbActiveModal.close(this.companyProduct)}):(this.companyProduct.companyID=this.companyID,this.companyProductService.addProduct(this.companyProduct).subscribe(e=>{this.companyProduct.companyProductStatusID&&(this.companyProduct.companyProductStatus=this.productStatuses.find(e=>e.companyProductStatusID===this.companyProduct.companyProductStatusID).companyProductStatus),this.companyProduct.companyProductID=e.inOut_CompanyProductID,this.ngbActiveModal.close(this.companyProduct)}))}getStatuses(){this.statusLoading=!0,this.productStatuses=[],this.companyProductService.getStatuses(this.companyProduct.productCategoryID).subscribe(e=>{this.productStatuses=e,this.statusLoading=!1})}onTypeChange(){this.companyProduct.productCategoryID&&(this.companyProduct.companyProductID||(this.companyProduct.companyProductStatusID=null),this.getStatuses())}onCancel(){this.ngbActiveModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.a),i["\u0275\u0275directiveInject"](r.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-product-add"]],decls:53,vars:15,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","pl-0","pr-0"],[1,"form-page","pl-3","pr-3",3,"avnonLoader"],["class","lead",4,"ngIf"],[1,"row"],[1,"form-block","pb-0"],["f","ngForm"],[1,"form-group"],["for","productName"],["type","text","id","productName","name","productName","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","productPitch"],["type","text","name","productPitch","id","productPitch","placeholder","","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","productCategoryID"],["name","productCategoryID","id","productCategoryID","required","",1,"form-control",3,"ngModel","change","ngModelChange"],[3,"ngValue"],["for","companyProductStatusID"],["name","companyProductStatusID","id","companyProductStatusID","required","",1,"form-control",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["for","backgroundStory"],["rows","4","placeholder","Please provide us with a brief history","required","","name","backgroundStory","id","backgroundStory",1,"form-control",3,"ngModel","ngModelChange"],["for","developmentMonths"],["type","number","name","developmentMonths","id","developmentMonths","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","form-group-block","text-right"],[1,"action-row"],[1,"btn","btn-outline-primary",3,"click"],[1,"btn","btn-primary",3,"disabled","click"],[1,"lead"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h5",1),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",2),i["\u0275\u0275listener"]("click",function(){return t.onCancel()}),i["\u0275\u0275elementStart"](4,"span",3),i["\u0275\u0275text"](5,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275template"](8,p,2,1,"p",6),i["\u0275\u0275elementStart"](9,"div",7),i["\u0275\u0275elementStart"](10,"form",8,9),i["\u0275\u0275elementStart"](12,"div",10),i["\u0275\u0275elementStart"](13,"label",11),i["\u0275\u0275text"](14,"Name of product / service"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"input",12),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.companyProduct.productName=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",10),i["\u0275\u0275elementStart"](17,"div",10),i["\u0275\u0275elementStart"](18,"label",13),i["\u0275\u0275text"](19,"Short summary of the product / service (1 line)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"input",14),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.companyProduct.productPitch=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"div",10),i["\u0275\u0275elementStart"](22,"label",15),i["\u0275\u0275text"](23,"Category"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"select",16),i["\u0275\u0275listener"]("change",function(){return t.onTypeChange()})("ngModelChange",function(e){return t.companyProduct.productCategoryID=e}),i["\u0275\u0275elementStart"](25,"option",17),i["\u0275\u0275text"](26,"--"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](27,"option",17),i["\u0275\u0275text"](28,"Product"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](29,"option",17),i["\u0275\u0275text"](30,"Service"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](31,"div",10),i["\u0275\u0275elementStart"](32,"label",18),i["\u0275\u0275text"](33,"Status"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"select",19),i["\u0275\u0275listener"]("change",function(){return t.onTypeChange()})("ngModelChange",function(e){return t.companyProduct.companyProductStatusID=e}),i["\u0275\u0275elementStart"](35,"option",17),i["\u0275\u0275text"](36,"--"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](37,m,2,2,"option",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](38,"div",10),i["\u0275\u0275elementStart"](39,"label",21),i["\u0275\u0275text"](40,"How did you come up with the idea for this"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](41,"textarea",22),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.companyProduct.backgroundStory=e}),i["\u0275\u0275text"](42,"            "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](43,"div",10),i["\u0275\u0275elementStart"](44,"label",23),i["\u0275\u0275text"](45,"How long have you been working on the product / service (months) "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](46,"input",24),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.companyProduct.developmentMonths=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](47,"div",25),i["\u0275\u0275elementStart"](48,"div",26),i["\u0275\u0275elementStart"](49,"button",27),i["\u0275\u0275listener"]("click",function(){return t.onCancel()}),i["\u0275\u0275text"](50,"Cancel"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](51,"button",28),i["\u0275\u0275listener"]("click",function(){return t.onSubmit()}),i["\u0275\u0275text"](52,"Submit "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275reference"](11);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.companyProduct.companyProductID?"Edit":"Add"," Product / Service "),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("avnonLoader",t.loading||t.statusLoading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.companyProduct.companyProductID),i["\u0275\u0275advance"](7),i["\u0275\u0275property"]("ngModel",t.companyProduct.productName),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.companyProduct.productPitch),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",t.companyProduct.productCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",2),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.companyProduct.companyProductStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.productStatuses),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",t.companyProduct.backgroundStory),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.companyProduct.developmentMonths),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("disabled",e.invalid)}},directives:[s.a,c.n,l.E,l.r,l.s,l.b,l.A,l.q,l.t,l.B,l.v,l.D,c.m,l.w],styles:["input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#f44336;outline:0;box-shadow:0 0 0 .2rem rgba(244,67,54,.25)}.form-page[_ngcontent-%COMP%]{max-height:80vh;overflow-x:hidden;overflow-y:auto}"]}),e})()},dmN6:function(e,t,n){"use strict";n.d(t,"a",function(){return a});class a{constructor(){this.formID=null,this.referenceID=null,this.formCategoryID=null,this.deadlineDays=null}}},eUP4:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("fujP"),i=n("OZf9"),o=n("AytR"),r=n("3DtY");class s{constructor(e){if(this.eventID=null,this.eventDateID=null,this.companyLocationID=null,this.courseClassificationID=null,this.courseID=null,this.confirmed=null,this.eventCategoryID=null,this.eventCategory=null,this.eventSubCategoryID=null,this.eventTitle=null,this.eventType=null,this.eventProfile=null,this.eventPitch=null,this.eventBanner=null,this.eventCost=null,this.courseTitle=null,this.startTime=null,this.endTime=null,this.endDate=null,this.provider=null,this.providerLogo=null,this.emailAddress=null,this.trainerEmail=null,this.bookingCheck=null,this.publicEvent=null,this.targetAudience=null,this.venueID=null,this.venueName=null,this.venueAddress=null,this.venueCity=null,this.latitude=null,this.longitude=null,this.googleURL=null,this.eventBannerUrl=null,this.providerID=null,this.maxScore=0,this.minimumScore=0,this.awardCredits=null,this.companyID=null,this.referenceCompanyID=null,this.companyName=null,this.contactID=null,this.firstName=null,this.surname=null,this.eventDelegateTypeID=null,this.scheduledbyID=null,this.startDate=null,this.referenceID=null,this.eventFormatID=null,this.eventInstructions=null,this.delegates=[],this.dates=[],this.eventDelegateStatusID=null,this.coordinatedBy=null,this.eventDelegateID=null,this.eventDelegateStatus=null,this.eventDelegateStatusDate=null,this.delegatePhoto=null,this.delegatesForCalendar=[],this.eventTime=null,this.taskID=null,this.inOut_EventID=null,this.color=null,this.categoryId=null,this.tasks=[],this.logo=null,this.offsetTop=null,this.offsetLeft=null,this.offsetHeight=null,this.offsetRange=[],!a.a(e)){let t=this;i.a(e,function(e,n){t.hasOwnProperty(n)&&(t[n]=e)}),e.inOut_EventID&&!this.eventID&&(this.eventID=e.inOut_EventID)}switch(this.eventBanner&&(this.eventBannerUrl=o.a.apiBlobUrl+"/"+this.eventBanner),this.delegatePhoto=this.delegatePhoto?o.a.apiBlobUrl+"/128px/"+this.delegatePhoto:"http://identicon.org?t="+this.firstName+"&s=256",this.eventSubCategoryID){case r.a.TRAINING_EVENT:this.eventType="Traning Calendar";case r.a.MEETING:this.eventType="Mentoring Calendar";case r.a.CONSULTING:this.eventType="Suppoprt Calendar";case r.a.TRAVEL:this.eventType="Travel Calendar"}}getEventType(){switch(this.eventSubCategoryID){case r.a.TRAINING_EVENT:return"Traning Calendar";case r.a.MEETING:return"Mentoring Calendar";case r.a.CONSULTING:return"Suppoprt Calendar";case r.a.TRAVEL:return"Travel Calendar"}}}},hXeK:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("ofXK"),i=n("3Pt+"),o=n("1kSV"),r=n("j4PG"),s=n("fXoL");let c=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.c,i.l,i.z,o.q,r.a]]}),e})()},hpld:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("tk/3"),i=n("lJxs"),o=n("2Vo4"),r=n("fXoL");let s=(()=>{class e{constructor(e){this.http=e,this.BaseURI="https://api.incubatorportal.com/api",this.activeCourse=new o.a(null)}formUrl(e){return this.BaseURI+e}saveCourse(e){return this.http.post(this.BaseURI+"/Course",e).pipe(Object(i.a)(e=>e))}getCourseCategory(){return this.http.get(this.BaseURI+"/course/category/all")}getCourseClassification(){return this.http.get(this.BaseURI+"/course/classification")}getCourses(e,t=0){return this.http.get(this.BaseURI+"/course?CompanyID="+e+"&courseID="+t)}getCoursesByCompanyId(e,t=0){const n={CompanyID:String(e),CourseID:String(t)},i=new a.g({fromObject:n});return this.http.get(this.formUrl("/Course"),{params:i})}updateCourse(e){return this.http.put(this.formUrl("/Course"),e)}deleteCourse(e){return this.http.delete(this.formUrl("/Course/"+e))}generateScormImportUrl(e){return this.http.get(this.formUrl("/Course/scorm/importurl/"+e))}uploadPackageToScorm(e,t){return this.http.post(e,t,{responseType:"text"})}updateScormTitle(e){return this.http.put(this.formUrl("/Course/scorm"),e)}getScormLaunchUrl(e){const t=new a.g({fromObject:e});return this.http.get(this.formUrl("/Course/scorm/launchurl"),{params:t})}getScormLaunchResult(e){const t=new a.g({fromObject:e});return this.http.get(this.formUrl("/Course/scorm/launchresult"),{params:t})}getScormLaunchHistory(e){const t=new a.g({fromObject:e});return this.http.get(this.formUrl("/Course/scorm/launchHistory"),{params:t})}setActiveCourse(e){this.activeCourse.next(e)}getActiveCourse(){return this.activeCourse.asObservable()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](a.b))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},k9EJ:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("tk/3"),i=n("2Vo4"),o=n("fXoL");let r=(()=>{class e{constructor(e){this.http=e,this.BaseURI="https://api.incubatorportal.com/api",this.activeAssignment=new i.a(null),this.activeAssignments=new i.a([])}addContract(e){return this.http.post(this.BaseURI+"/contract",e)}addContractMember(e){return this.http.post(this.BaseURI+"/contract/member",e)}addContractAssignment(e){return this.http.post(this.BaseURI+"/contract/assignment",e)}updateContract(e){return this.http.put(this.BaseURI+"/contract",e)}updateContractMember(e){return this.http.put(this.BaseURI+"/contract/member",e)}updateContractAssignment(e){return this.http.put(this.BaseURI+"/contract/assignment",e)}deleteContract(e){const t={headers:new a.f({"Content-Type":"application/json"}),body:{contractID:e}};return this.http.delete(this.BaseURI+"/contract",t)}deleteContractMember(e){return this.http.delete(`${this.BaseURI}/contract/${e}`)}deleteContractAssignment(e){const t={headers:new a.f({"Content-Type":"application/json"}),body:{contractAssignmentID:e}};return this.http.delete(this.BaseURI+"/contract/assignment",t)}getContractMember(e,t){return this.http.get(this.BaseURI+"/contract/member?contractMemberID="+e+"&contractID="+t)}getContractAssignment(e,t,n,a,i,o,r,s=0){return this.http.get(this.BaseURI+"/contract/assignment?contractID="+e+"&contractAssignmentID="+t+"&contractCategoryID="+n+"&contactID="+a+"&contractAssignmentContactID="+i+"&contractAssignmentCompanyID="+o+"&contractMemberCategoryID="+r+"&companyID="+s)}getContract(e,t,n,a,i,o,r,s,c){return this.http.get(this.BaseURI+"/contract?CompanyID="+e+"&companyLocationID="+t+"&contractID="+n+"&contactID="+a+"&contractCategoryID="+i+"&contractMemberTypeID="+o+"&referenceID="+r+"&contractMemberID="+s+"&masterCompanyID="+c)}setActiveAssignment(e){this.activeAssignment.next(e)}getActiveAssignment(){return this.activeAssignment.asObservable()}setActiveAassignments(e){this.activeAssignments.next(e)}getActiveAssignments(){return this.activeAssignments.asObservable()}getAssignmentImpact(e=0,t=0,n=0,a=0){return this.http.get(`${this.BaseURI}/contract/assignment/impact?ContractID=${e}\n\t\t&ContractAssignmentID=${t}\n\t\t&MenteeCompanyID=${n}\n\t\t&ContactID=${a}\n\t\t`)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](a.b))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"o+C+":function(e,t,n){"use strict";n.d(t,"a",function(){return a});class a{constructor(e){if(this.programInstanceID=null,this.programInstanceTitle=null,this.programID=null,this.programInstanceBanner=null,this.programInstanceStartDate=null,this.programInstanceEndDate=null,this.rollingIntake=null,this.programTitle=null,this.programInstanceManagerContactID=null,this.active=!1,this.companyLogo=null,this.bannerImage=null,this.logo=null,this.programOverview=null,this.stages=[],this.companyName=null,this.companyID=null,this.programProfile=null,this.targetAudience=null,this.entryRequirements=null,this.totalApplicants=null,this.activeApplicants=null,e){const t=this;for(const n of Object.keys(e))t.hasOwnProperty(n)&&(t[n]=e[n])}}}},pAQ2:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var a=n("rOaL"),i=n("OzGw"),o=n("HewK"),r=n("fXoL"),s=n("1kSV"),c=n("esnG"),l=n("kmKP"),p=n("ofXK"),m=n("nNlV"),d=n("pqhe"),u=n("Xdyb"),h=n("sYmb");function g(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"a",7),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onUploadDocument()}),r["\u0275\u0275element"](1,"span",8),r["\u0275\u0275text"](2),r["\u0275\u0275pipe"](3,"translate"),r["\u0275\u0275elementEnd"]()}2&e&&(r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](3,1,"COMMON.UPLOAD")," "))}const I=function(e){return{"mb-3":e}};function v(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",4),r["\u0275\u0275elementStart"](1,"h1",5),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](3,g,4,3,"a",6),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](3,I,0!==(null==e.documentsFilted?null:e.documentsFilted.length))),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.title),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.canEdit)}}function y(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"a",16),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onUploadDocument()}),r["\u0275\u0275element"](1,"span",8),r["\u0275\u0275text"](2),r["\u0275\u0275pipe"](3,"translate"),r["\u0275\u0275elementEnd"]()}2&e&&(r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](3,1,"COMMON.UPLOAD-PHOTOS-VIDEOS")," "))}const f=function(e){return{active:e}};function D(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",17),r["\u0275\u0275elementStart"](1,"button",18),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onSwitchViewMode(1)}),r["\u0275\u0275element"](2,"img",19),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"button",20),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onSwitchViewMode(2)}),r["\u0275\u0275element"](4,"img",21),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](2,f,1===e.viewMode)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](4,f,2===e.viewMode))}}function b(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",9),r["\u0275\u0275elementStart"](1,"div",10),r["\u0275\u0275elementStart"](2,"div",11),r["\u0275\u0275elementStart"](3,"a",12),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onFilterDocument(2)}),r["\u0275\u0275text"](4),r["\u0275\u0275pipe"](5,"translate"),r["\u0275\u0275elementStart"](6,"span",13),r["\u0275\u0275text"](7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"a",12),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onFilterDocument(3)}),r["\u0275\u0275text"](9),r["\u0275\u0275pipe"](10,"translate"),r["\u0275\u0275elementStart"](11,"span",13),r["\u0275\u0275text"](12),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](13,y,4,3,"a",14),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](14,D,5,6,"div",15),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](12,f,2===e.tabActive)),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](5,8,"COMMON.PHOTOS")," "),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](e.numberPhotos),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](14,f,3===e.tabActive)),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](10,10,"COMMON.VIDEOS")," "),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](e.numberVideos),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.disableAdd),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",2===e.tabActive)}}function S(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"app-preview-file-upload",23),r["\u0275\u0275listener"]("removeFile",function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onDeleteDocument(t)}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("documents",e.documentsFilted)}}function w(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",30),r["\u0275\u0275element"](1,"button",31),r["\u0275\u0275elementStart"](2,"div",32),r["\u0275\u0275elementStart"](3,"button",33),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]().$implicit;return r["\u0275\u0275nextContext"](3).onDeleteDocument(t)}),r["\u0275\u0275text"](4," Delete "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}}function x(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275elementStart"](1,"td",27),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"](3).onPreviewImage(n)}),r["\u0275\u0275element"](2,"app-document-thumbnail",28),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"td"),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"td",25),r["\u0275\u0275template"](6,w,5,0,"div",29),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("linkName",e.documentTitle)("isImage",e.documentType.includes("image"))("document",e)("isVideo",e.documentType.includes("video")||e.documentType.includes("application/octet-stream"))("documentPath",e.documentPath),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.dateUploaded),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",n.contactID===e.documentUploadedByID)}}function k(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"table",24),r["\u0275\u0275elementStart"](1,"thead"),r["\u0275\u0275elementStart"](2,"tr"),r["\u0275\u0275elementStart"](3,"td"),r["\u0275\u0275elementStart"](4,"span"),r["\u0275\u0275text"](5,"Name"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"td"),r["\u0275\u0275elementStart"](7,"span"),r["\u0275\u0275text"](8,"Modified"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"td",25),r["\u0275\u0275text"](10,"Options"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"tbody"),r["\u0275\u0275template"](12,x,7,7,"tr",26),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](12),r["\u0275\u0275property"]("ngForOf",e.documentsFilted)}}function C(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275template"](1,S,2,1,"ng-container",2),r["\u0275\u0275template"](2,k,13,1,"ng-template",null,22,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=r["\u0275\u0275reference"](3),t=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",1===t.viewMode)("ngIfElse",e)}}function E(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",35),r["\u0275\u0275element"](1,"media-player",36),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("document",e)}}function M(e,t){if(1&e&&r["\u0275\u0275template"](0,E,2,1,"div",34),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("ngForOf",e.documentsFilted)}}let O=(()=>{class e{constructor(e,t,n){var a;this.modal=e,this.documentsService=t,this.userService=n,this.allowFilter=!0,this.title="",this.canEdit=!1,this.disableAdd=!1,this.isProcessing=!1,this.viewMode=1,this.tabActive=2,this.documentsFilted=[],this.allDocuments=[],this.TIME_RELOAD_DATA=60,this.numberPhotos=0,this.numberVideos=0,this.user=this.userService.user.getValue(),this.contactID=(null===(a=this.user)||void 0===a?void 0:a.contactID)||0}ngOnChanges(e){e.referenceID.currentValue&&!e.referenceID.isFirstChange()&&this.getDocuments()}ngOnInit(){this.getDocuments(),this.timerSub=setInterval(()=>{this.getDocuments()},1e3*this.TIME_RELOAD_DATA)}getDocuments(){this.referenceID&&this.documentsService.getDocuments(this.documentCategoryID,this.referenceID,0,0,0).subscribe(e=>{this.documentsFilted=e,this.allDocuments=[...this.documentsFilted],this.calculateDocuments(),this.onFilterDocument(this.tabActive)})}calculateDocuments(){this.numberPhotos=this.filterImages().length,this.numberVideos=this.filterVideos().length}onUploadDocument(){const e=this.modal.open(o.a,{size:"xl"});e.componentInstance.documents=[],e.componentInstance.referenceID=this.referenceID,e.componentInstance.reference2ID=0,e.componentInstance.documentCategoryID=this.documentCategoryID,e.componentInstance.documentFolderID=0,e.result.then(e=>{e&&this.getDocuments()},()=>{})}onFilterDocument(e){switch(this.tabActive=e,this.tabActive){case 1:this.documentsFilted=this.filterFiles();break;case 2:this.documentsFilted=this.filterImages();break;case 3:this.documentsFilted=this.filterVideos()}}filterVideos(){return this.allDocuments.filter(e=>e.documentType.includes("video"))}filterImages(){return this.allDocuments.filter(e=>e.documentType.includes("image"))}filterFiles(){return this.allDocuments.filter(e=>!e.documentType.includes("image")&&!e.documentType.includes("video"))}onPreviewImage(e){if(e.documentType.includes("image")&&2===this.tabActive){const t=this.modal.open(a.a,{size:"gallery",centered:!0});t.componentInstance.documents=this.documentsFilted,t.componentInstance.documentActive=e}}onDeleteDocument(e){const t=this.modal.open(i.a);t.componentInstance.objectType="Delete Document",t.componentInstance.objectDetails="document "+e.documentTitle,t.result.then(t=>{"Yes"===t&&this.deleteDocument(e)},()=>{})}deleteDocument(e){this.documentsService.deleteDocument(e.documentID).subscribe(()=>{this.documentsFilted=this.documentsFilted.filter(t=>t.documentID!==e.documentID),this.allDocuments=this.documentsFilted})}onSwitchViewMode(e){this.viewMode=e}ngOnDestroy(){this.timerSub&&clearInterval(this.timerSub)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](s.p),r["\u0275\u0275directiveInject"](c.a),r["\u0275\u0275directiveInject"](l.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-photos-videos"]],inputs:{referenceID:"referenceID",documentCategoryID:"documentCategoryID",allowFilter:"allowFilter",title:"title",canEdit:"canEdit",disableAdd:"disableAdd"},features:[r["\u0275\u0275NgOnChangesFeature"]],decls:5,vars:4,consts:[["class","d-flex align-items-center",3,"ngClass",4,"ngIf"],["class","tabs-action-row delegate-filters border-bottom",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseDisplayVideo",""],[1,"d-flex","align-items-center",3,"ngClass"],[1,"mr-auto","mb-0"],["class","text-dark d-flex align-items-center",3,"click",4,"ngIf"],[1,"text-dark","d-flex","align-items-center",3,"click"],[1,"plus-ico-2"],[1,"tabs-action-row","delegate-filters","border-bottom"],[1,"d-flex","filter-documents","pb-2"],[1,"mr-auto"],[1,"btn","btn-rounded","btn-rounded-32","ml-2",3,"ngClass","click"],[1,"count-documents"],["class","action-main btn btn-rounded btn-rounded-link btn-rounded-32 btn-np",3,"click",4,"ngIf"],["class","switch-layout",4,"ngIf"],[1,"action-main","btn","btn-rounded","btn-rounded-link","btn-rounded-32","btn-np",3,"click"],[1,"switch-layout"],[1,"btn","btn-sm","border-0","btn-grid",3,"ngClass","click"],["src","assets/img/view-grid.svg","alt",""],[1,"btn","btn-sm","border-0","btn-list",3,"ngClass","click"],["src","assets/img/view-list.svg","alt",""],["elseTemplateList",""],[3,"documents","removeFile"],[1,"table","m-0"],[1,"text-right"],[4,"ngFor","ngForOf"],[3,"click"],[3,"linkName","isImage","document","isVideo","documentPath"],["ngbDropdown","","container","body",4,"ngIf"],["ngbDropdown","","container","body"],["ngbDropdownToggle","","type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-sm","no-icon","icon-right"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],["class","mb-3",4,"ngFor","ngForOf"],[1,"mb-3"],[3,"document"]],template:function(e,t){if(1&e&&(r["\u0275\u0275template"](0,v,4,5,"div",0),r["\u0275\u0275template"](1,b,15,16,"div",1),r["\u0275\u0275template"](2,C,4,2,"ng-container",2),r["\u0275\u0275template"](3,M,1,1,"ng-template",null,3,r["\u0275\u0275templateRefExtractor"])),2&e){const e=r["\u0275\u0275reference"](4);r["\u0275\u0275property"]("ngIf",t.title),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.allowFilter),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",3!==t.tabActive)("ngIfElse",e)}},directives:[p.n,p.l,m.a,p.m,d.a,s.i,s.m,s.k,s.j,u.a],pipes:[h.c],styles:[".event-documents-tab[_ngcontent-%COMP%]   .table-photos-videos[_ngcontent-%COMP%]{width:100%;background:#fff;min-height:180px}.event-documents-tab[_ngcontent-%COMP%]   .table-photos-videos[_ngcontent-%COMP%]   .dropdown-toggle.no-icon[_ngcontent-%COMP%]:after{content:none}.event-documents-tab[_ngcontent-%COMP%]   .table-photos-videos[_ngcontent-%COMP%]   .icon-right[_ngcontent-%COMP%]{background-position:100%}.switch-layout[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:.5rem;padding:0!important}.switch-layout[_ngcontent-%COMP%]   .btn.btn-list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px}.switch-layout[_ngcontent-%COMP%]   .btn.btn-grid[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px}.switch-layout[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #406fe4}.filter-documents[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:relative}.filter-documents[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .count-documents[_ngcontent-%COMP%]{position:absolute;background:#406fe4;border-radius:50%;line-height:normal;padding:1px 6px;color:#fff;font-size:11px;top:-6px;right:-5px}"]}),e})()},qgjj:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n("ofXK"),i=n("3Pt+"),o=n("/ogr"),r=n("iv3V"),s=n("V6Zj"),c=n("1kSV"),l=n("Grqx"),p=n("sYmb"),m=n("fXoL");let d=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.c,i.l,c.l,o.a,r.a,s.a,l.a,p.b]]}),e})()},rdQE:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("AytR"),i=n("fXoL"),o=n("tk/3");let r=(()=>{class e{constructor(e){this.http=e,this.BaseURI=a.a.apiUrl}getCompanyAccount(e,t,n,a=0,i=0){return this.http.get(`${this.BaseURI}/company/account?companyID=${e}&companyAccountID=${t}&companyLocationID=${n}&companyAccountCategoryID=${a}&referenceID=${i}`)}addCompanyAccount(e){return this.http.post(this.BaseURI+"/company/account",e)}updateCompanyAccount(e){return this.http.put(this.BaseURI+"/company/account",e)}deleteCompanyAccount(e){return this.http.delete(`${this.BaseURI}/company/account/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](o.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},uYqz:function(e,t,n){"use strict";n.d(t,"a",function(){return a});class a{constructor(e){this.eventDelegateID=null,this.eventDelegateTypeID=null,this.contactID=null,this.scormRegistrationID=null,this.companyID=null,this.firstName=null,this.surname=null,this.emailAddress=null,this.profilePhoto=null,this.profileImage=null,this.delegateName=null,this.imagePathFull=null,this.confirmed=null,this.confirmStatus="",this.companyName="",this.courseTitle="",this.venueName="",this.startDate="",this.endDate="",this.startTime="",this.endTime="",this.provider="",this.eventDateDelegateID=null,this.attendancestatusID=null,this.nonAttendanceReason="",this.assessmentScore=0,this.eventDelegateStatusID=null,this.totalCreditsAchieved=0,this.totalCreditsRequired=0,this.interviewScore=null,this.color=null,this.checked=!1,this.distributionItem=null,this.companyLogo=null,this.eventCategoryID=null,this.designation=null,this.department=null}getDelegateStatus(){return 1==this.eventDelegateStatusID?"Underway":2==this.eventDelegateStatusID?"Completed":3==this.eventDelegateStatusID?"Terminated":"Underway"}getConfirmedLabel(){}}},z3iz:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o});class a{constructor(){this.contractID=null,this.contractCategoryID=null,this.companyID=null,this.companyLocationID=null,this.referenceID=null,this.contractNumber=null,this.purchaseOrderNumber=null,this.contractStartDate=null,this.contractEndDate=null,this.contractStatusID=null,this.contractDetail=null,this.contractValue=null,this.contractMaxHoursMonth=null,this.contractMinHoursMonth=null,this.contractRate=null,this.contractRatePeriodID=null}}class i{constructor(){this.contractMemberID=null,this.contractID=null,this.contactID=null,this.companyID=null,this.contractMemberTypeID=null,this.firstName=null,this.headline=null,this.profilePhoto=null,this.surname=null}}class o{constructor(){this.contractAssignmentID=null,this.contractID=null,this.contractAssignmentDetail=null,this.contractAssignmentCategoryID=null,this.referenceID=null,this.contactID=null,this.companyID=null,this.assignmentStartDate=null,this.assignmentEndDate=null,this.minHours=null,this.maxHours=null,this.hourlyRate=null,this.assignedByID=null,this.companyAccountID=null}}}}]);