(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"+kYu":function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n("ofXK"),a=n("1kSV"),o=n("3Pt+"),r=n("ZLSo"),c=n("j4PG"),l=n("sYmb"),s=n("fXoL");let p=(()=>{class t{}return t.\u0275mod=s["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[i.c,o.l,o.z,r.a,a.q,c.a,l.b]]}),t})(),d=(()=>{class t{}return t.\u0275mod=s["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[i.c,a.q,a.l,p,l.b]]}),t})()},"3ue2":function(t,e,n){"use strict";n.d(e,"a",function(){return A});var i=n("fXoL"),a=n("1kSV"),o=n("WhH8"),r=n("ofXK"),c=n("Jn3s"),l=n("3Pt+"),s=n("f3yp"),p=n("sYmb");function d(t,e){if(1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementStart"](3,"b"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementContainerEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,3,"PEOPLE.DESCRIBE-YOUR")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](t.contactSpeciality.speciality),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](6,5,"PEOPLE.EXPERIENCE")," ")}}function m(t,e){1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementContainerEnd"]()),2&t&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"PEOPLE.SELECT-AN-AREA-OF-EXPERTISE")," "))}function u(t,e){1&t&&i["\u0275\u0275element"](0,"i",13)}function f(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"li",11),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](t);const n=e.$implicit;return i["\u0275\u0275nextContext"](3).selectArea(n)}),i["\u0275\u0275text"](1),i["\u0275\u0275template"](2,u,1,0,"i",12),i["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.speciality," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.ticked)}}function h(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"ul",9),i["\u0275\u0275template"](1,f,3,2,"li",10),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.areas)}}function g(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275elementStart"](1,"p",15),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",16),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"](2).done()}),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&t){const t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](t.countAreas),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](5,2,"COMMON.DONE")," ")}}function y(t,e){1&t&&i["\u0275\u0275element"](0,"app-spinner")}function v(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"form",17,18),i["\u0275\u0275listener"]("ngSubmit",function(){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"](2).onSubmit()}),i["\u0275\u0275elementStart"](2,"div",19),i["\u0275\u0275elementStart"](3,"textarea",20),i["\u0275\u0275listener"]("ngModelChange",function(e){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"](2).contactSpeciality.achievements=e}),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275text"](5,"\t\t\t"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",21),i["\u0275\u0275elementStart"](7,"label",22),i["\u0275\u0275text"](8),i["\u0275\u0275pipe"](9,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"input",23),i["\u0275\u0275listener"]("ngModelChange",function(e){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"](2).contactSpeciality.yearsExperience=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",24),i["\u0275\u0275elementStart"](12,"button",25),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"](2).contactSpeciality=null}),i["\u0275\u0275text"](13),i["\u0275\u0275pipe"](14,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"button",26),i["\u0275\u0275template"](16,y,1,0,"app-spinner",2),i["\u0275\u0275text"](17),i["\u0275\u0275pipe"](18,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&t){const t=i["\u0275\u0275reference"](1),e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("placeholder",i["\u0275\u0275pipeBind1"](4,8,"PEOPLE.EXPERIENCE-ACHIEVEMENTS-DESCRIPTION"))("ngModel",e.contactSpeciality.achievements),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](9,10,"PEOPLE.YEAR-OF-EXPERIENCE")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.contactSpeciality.yearsExperience),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](14,12,"PEOPLE.BACK-TO-AREA-SELECT")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",!t.valid||e.loading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.loading),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](18,14,"COMMON.SUBMIT")," ")}}function I(t,e){if(1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,h,2,1,"ul",6),i["\u0275\u0275template"](2,g,6,4,"div",7),i["\u0275\u0275template"](3,v,19,16,"form",8),i["\u0275\u0275elementContainerEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.contactSpeciality),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.contactSpeciality),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.contactSpeciality)}}let x=(()=>{class t{constructor(t,e){this.activeModal=t,this.contactService=e,this.areas=[],this.selectedSpecialities=[]}ngOnInit(){this.fillSkills()}onSubmit(){let t;this.loading=!0,t=this.contactSpeciality&&this.contactSpeciality.contactSpecialityID?this.contactService.updateContactSpeciality({contactSpecialityID:this.contactSpeciality.contactSpecialityID,specialityID:this.contactSpeciality.specialityID,yearsExperience:this.contactSpeciality.yearsExperience,achievements:this.contactSpeciality.achievements}):this.contactService.addContactSpeciality({contactID:this.contact.contactID,specialityID:this.contactSpeciality.specialityID,yearsExperience:this.contactSpeciality.yearsExperience,achievements:this.contactSpeciality.achievements}),t.subscribe(t=>{this.loading=!1,this.contactSpeciality.contactSpecialityID&&this.close(),this.selectedSpecialities.push({achievements:this.contactSpeciality.achievements,specialityID:this.contactSpeciality.specialityID,yearsExperience:this.contactSpeciality.yearsExperience,contactSpecialityID:t.inOut_ContactSpecialityID,contactID:this.contact.contactID}),this.areas=this.areas.map(t=>(t.ticked=this.selectedSpecialities.some(e=>e.specialityID===t.specialityID),t)),this.hasNewData=!0,this.contactSpeciality=null},()=>{this.loading=!1})}selectArea(t){const e={achievements:"",yearsExperience:0,speciality:t.speciality,specialityID:t.specialityID},n=this.selectedSpecialities.find(t=>t.specialityID===e.specialityID);n&&(e.contactSpecialityID=n.contactSpecialityID,e.achievements=n.achievements,e.yearsExperience=n.yearsExperience),this.contactSpeciality=e}fillSkills(){this.areaLoading=!0,this.contactService.getSpeciality().subscribe(t=>{this.areas=t.map(t=>(t.ticked=this.selectedSpecialities.some(e=>e.specialityID===t.specialityID),t)),this.areaLoading=!1})}get countAreas(){return`You've selected ${this.areas.filter(t=>t.ticked).length} area(s)`}dismiss(){this.activeModal.dismiss()}close(){this.activeModal.close({status:"updated"})}done(){this.hasNewData?this.close():this.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](a.a),i["\u0275\u0275directiveInject"](o.a))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["app-expertise-selector-dialog"]],decls:9,vars:4,consts:[[1,"modal-header"],["id","postModalLabel",1,"modal-title"],[4,"ngIf"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",3,"avnonLoader"],["class","nav flex-column mb-4",4,"ngIf"],["class","d-flex w-100 align-items-center justify-content-between border-top pt-2",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[1,"nav","flex-column","mb-4"],["class","nav-link cursor-pointer d-flex align-items-center",3,"click",4,"ngFor","ngForOf"],[1,"nav-link","cursor-pointer","d-flex","align-items-center",3,"click"],["class","fas fa-check ml-auto",4,"ngIf"],[1,"fas","fa-check","ml-auto"],[1,"d-flex","w-100","align-items-center","justify-content-between","border-top","pt-2"],[1,"selected-areas"],["type","button",1,"btn","btn-outline-primary",3,"click"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["name","achievements","id","achievements","required","",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"form-group","col-6","pl-0"],["for","yearsExperience"],["type","number","name","yearsExperience","placeholder","0","id","yearsExperience","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"w-100","d-flex","justify-content-between"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h5",1),i["\u0275\u0275template"](2,d,7,7,"ng-container",2),i["\u0275\u0275template"](3,m,3,3,"ng-container",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",3),i["\u0275\u0275listener"]("click",function(){return e.dismiss()}),i["\u0275\u0275elementStart"](5,"span",4),i["\u0275\u0275text"](6,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275template"](8,I,4,3,"ng-container",2),i["\u0275\u0275elementEnd"]()),2&t&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.contactSpeciality),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.contactSpeciality),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("avnonLoader",e.areaLoading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.areaLoading))},directives:[r.n,c.a,r.m,l.E,l.r,l.s,l.b,l.A,l.q,l.t,l.w,s.a],pipes:[p.c],styles:[".form-control.ng-touched.ng-invalid[_ngcontent-%COMP%]{border-color:#ed0012}.nav-link[_ngcontent-%COMP%]{border-bottom:1px dashed #eaeaea}.nav-link[_ngcontent-%COMP%]:hover{opacity:.8}textarea.form-control[_ngcontent-%COMP%]{min-height:140px!important}.selected-areas[_ngcontent-%COMP%]{font-size:16px}"]}),t})();var S=n("XIp8"),E=n("OzGw"),b=n("kmKP");function C(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"a",5),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"](2).updateSkills()}),i["\u0275\u0275element"](1,"span",6),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"]()}2&t&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,1,"COMMON.ADD")," Add "))}function D(t,e){if(1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"h1",3),i["\u0275\u0275text"](4,"Areas of Expertise"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,C,4,3,"a",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",t.contact&&t.contact.contactID===t.contactID)}}function w(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",9),i["\u0275\u0275elementStart"](1,"div",10),i["\u0275\u0275elementStart"](2,"a",11),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"](2).updateSkills()}),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"span",12),i["\u0275\u0275text"](6),i["\u0275\u0275pipe"](7,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&t&&(i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](4,2,"COMMON.CLICK-HERE")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](7,4,"PEOPLE.TO-ADD-AREAS-OF-EXPERTISE")," "))}function O(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",16),i["\u0275\u0275elementStart"](1,"div",17),i["\u0275\u0275listener"]("click",function(t){return t.stopPropagation()}),i["\u0275\u0275elementStart"](2,"button",18),i["\u0275\u0275element"](3,"span",19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"ul",20),i["\u0275\u0275elementStart"](5,"li"),i["\u0275\u0275elementStart"](6,"a",21),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](t);const e=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](2).updateSkills(e)}),i["\u0275\u0275text"](7),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"li"),i["\u0275\u0275elementStart"](10,"a",21),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](t);const e=i["\u0275\u0275nextContext"](),n=e.$implicit,a=e.index;return i["\u0275\u0275nextContext"](2).onDeleteSkill(n,a)}),i["\u0275\u0275text"](11),i["\u0275\u0275pipe"](12,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&t&&(i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](8,2,"COMMON.EDIT")," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](12,4,"COMMON.DELETE")," "))}function k(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"div",22),i["\u0275\u0275elementStart"](1,"span"),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",t.yearsExperience>1?t.yearsExperience+" years":"A year"," ",i["\u0275\u0275pipeBind1"](3,2,"PEOPLE.OF-EXPERIENCE"),"")}}function M(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"div",22),i["\u0275\u0275elementStart"](1,"span"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](t.achievements)}}function P(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"div",13),i["\u0275\u0275elementStart"](1,"div",10),i["\u0275\u0275elementStart"](2,"h2"),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,O,13,6,"div",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,k,4,4,"div",15),i["\u0275\u0275template"](6,M,3,1,"div",15),i["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit,n=e.index,a=i["\u0275\u0275nextContext"](2);i["\u0275\u0275classProp"]("border-0",0===n||a.userSpecialities.length-1===n),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](t.speciality),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",a.contact&&a.contact.contactID===a.contactID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.yearsExperience&&t.yearsExperience>0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.achievements)}}function N(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275template"](1,w,8,6,"div",7),i["\u0275\u0275template"](2,P,7,6,"div",8),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.userSpecialities.length&&t.contact&&t.contact.contactID===t.contactID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.userSpecialities)}}let A=(()=>{class t{constructor(t,e,n){this.contactService=t,this.userService=e,this.modal=n,this.userSpecialities=[],this.user=this.userService.user.getValue(),this.contactID=this.user.contactID}ngOnInit(){this.contact?this.fillUserSkills():this.fillContact()}fillContact(){this.contactService.getContactProfile(this.masterContactID).subscribe(t=>{this.contact=t[0],this.fillUserSkills()})}fillUserSkills(){this.contactService.getContactSpeciality(this.contact.contactID,0).subscribe(t=>{this.userSpecialities=t})}updateSkills(t=null){const e=this.modal.open(x,{keyboard:!1,backdrop:"static"});e.componentInstance.contact=this.contact,e.componentInstance.selectedSpecialities=this.userSpecialities,t&&(e.componentInstance.contactSpeciality=Object(S.a)(t)),e.result.then(t=>{t.hasOwnProperty("status")&&this.fillUserSkills()})}onDeleteSkill(t,e){const n=this.modal.open(E.a,{backdrop:"static"});n.componentInstance.objectType="Area Expertise",n.componentInstance.objectDetails=t.speciality,n.result.then(n=>{n&&"Yes"===n&&this.deleteSkill(t,e)})}deleteSkill(t,e){this.contactService.deleteContactSpeciality({contactID:t.contactID,specialityID:t.specialityID}).subscribe(()=>{this.userSpecialities.splice(e,1)})}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](o.a),i["\u0275\u0275directiveInject"](b.a),i["\u0275\u0275directiveInject"](a.p))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["app-contact-skills"]],inputs:{contact:"contact",masterContactID:"masterContactID"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"section","section-alt","alt-bordered","filter-container"],[1,"d-flex","align-items-center"],[1,"mr-auto","mb-0"],["class","text-dark d-flex align-items-center",3,"click",4,"ngIf"],[1,"text-dark","d-flex","align-items-center",3,"click"],[1,"plus-ico-2"],["class","entry pb-3 border-0",4,"ngIf"],["class","entry pb-3",3,"border-0",4,"ngFor","ngForOf"],[1,"entry","pb-3","border-0"],[1,"d-flex"],[1,"text-primary","d-flex","align-items-center",3,"click"],[1,"meta","ml-1"],[1,"entry","pb-3"],["class","actions",4,"ngIf"],["class","meta",4,"ngIf"],[1,"actions"],[1,"dropdown","ml-2",3,"click"],["type","button","id","dd1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["aria-labelledby","dd1",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"meta"]],template:function(t,e){1&t&&(i["\u0275\u0275template"](0,D,6,1,"ng-container",0),i["\u0275\u0275template"](1,N,3,2,"div",0)),2&t&&(i["\u0275\u0275property"]("ngIf",e.contact&&e.contact.contactID===e.contactID||e.userSpecialities.length>0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.contact&&e.contact.contactID===e.contactID||e.userSpecialities.length>0))},directives:[r.n,r.m],pipes:[p.c],styles:[""]}),t})()},"7QSv":function(t,e,n){"use strict";n.d(e,"a",function(){return $t});var i=n("fXoL"),a=n("OzGw");class o{constructor(){this.contactID=null,this.qualificationTitle=null,this.qualificationDetail=null,this.qualificationLevelID=null,this.qualificationCategoryID=null,this.qualificationSubCategoryID=null,this.companyID=null,this.dateGraduated=null}}var r=n("XNiG"),c=n("LRne"),l=n("cp0P"),s=n("Kj3r"),p=n("/uUt"),d=n("pLZG"),m=n("lJxs"),u=n("1G5W"),f=n("eIep"),h=n("mOT8"),g=n("zs7b"),y=n("8J6U"),v=n("QF1F"),I=n("6lqT"),x=n("myoa"),S=n("AytR"),E=n("tk/3"),b=n("WhH8"),C=n("kmKP"),D=n("1kSV"),w=n("FhWM"),O=n("Hu2X"),k=n("esnG"),M=n("ofXK"),P=n("Jn3s"),N=n("3Pt+"),A=n("sYmb"),T=n("Rarl");function L(t,e){if(1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementContainerEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate2"](" ",i["\u0275\u0275pipeBind1"](2,2,"COMMON.UPDATE")," ",1===t.qualificationLevelCategoryID?"HighSchool":"Qualification"," ")}}function q(t,e){if(1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementContainerEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate2"](" ",i["\u0275\u0275pipeBind1"](2,2,"COMMON.ADD")," ",1===t.qualificationLevelCategoryID?"High School":"Qualification"," ")}}function j(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",8),i["\u0275\u0275elementStart"](1,"label",31),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"input",32),i["\u0275\u0275listener"]("ngModelChange",function(e){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"]().qualification.qualificationTitle=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](3,2,"PEOPLE.QUALFICATION-TITLE")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.qualification.qualificationTitle)}}function F(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"option",12),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;i["\u0275\u0275property"]("ngValue",t.qualificationLevelID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",t.qualificationLevel," ")}}function B(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"option",12),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;i["\u0275\u0275property"]("ngValue",t.qualificationCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.qualificationCategory," ")}}function V(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",8),i["\u0275\u0275elementStart"](1,"label",33),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"select",34),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"]().onCategoryChange()})("ngModelChange",function(e){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"]().qualification.qualificationCategoryID=e}),i["\u0275\u0275elementStart"](5,"option",12),i["\u0275\u0275text"](6,"Please Select"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](7,B,2,2,"option",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,4,"PEOPLE.CATEGORY")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.qualification.qualificationCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.qualifications)}}function R(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"option",12),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;i["\u0275\u0275property"]("ngValue",t.qualificationSubCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.qualificationSubCategory,"")}}function $(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",8),i["\u0275\u0275elementStart"](1,"label",35),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"select",36),i["\u0275\u0275listener"]("ngModelChange",function(e){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"]().qualification.qualificationSubCategoryID=e}),i["\u0275\u0275elementStart"](5,"option",12),i["\u0275\u0275text"](6),i["\u0275\u0275pipe"](7,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,R,2,2,"option",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,5,"PEOPLE.SUB-CATEGORY")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.qualification.qualificationSubCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](7,7,"COMMON.PLEASE-SELECT")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.subQualifications)}}function U(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"span",37),i["\u0275\u0275element"](1,"img",38),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"div",39),i["\u0275\u0275element"](3,"ngb-highlight",40),i["\u0275\u0275element"](4,"ngb-highlight",40),i["\u0275\u0275elementEnd"]()),2&t){const t=e.result,n=e.term,a=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("src",t.companyLogo?a.blobUrl+t.companyLogo:a.defaultLogo,i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("result",t.companyName)("term",n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("result",t.city)("term",n)}}function Q(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"option",12),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;i["\u0275\u0275property"]("ngValue",t.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.name," ")}}function G(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"select",41),i["\u0275\u0275listener"]("ngModelChange",function(e){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"]().dateGraduated.month=e}),i["\u0275\u0275elementStart"](1,"option",12),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,Q,2,2,"option",13),i["\u0275\u0275elementEnd"]()}if(2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngModel",t.dateGraduated.month),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](3,4,"PEOPLE.MONTH")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.months)}}function _(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"option",12),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;i["\u0275\u0275property"]("ngValue",t),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](t)}}function H(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"video",53),i["\u0275\u0275element"](1,"source",54),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]().index,e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("src",null==e.images[t]||null==e.images[t].data?null:e.images[t].data.videoUrl,i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,2,"COMMON.BROWSER-NOT-SUPPORTED")," ")}}function z(t,e){if(1&t&&i["\u0275\u0275element"](0,"img",55),2&t){const t=i["\u0275\u0275nextContext"]().index,e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("src",e.images[t].data.imageUrl,i["\u0275\u0275sanitizeUrl"])}}function W(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"span",56),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](t.data.name)}}function Y(t,e){if(1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"fileSize"),i["\u0275\u0275elementContainerEnd"]()),2&t){const t=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,t.data.size)," ")}}function X(t,e){if(1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&t){const t=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.data.name.split(".").pop()," ")}}function K(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"span",57),i["\u0275\u0275template"](1,Y,3,3,"ng-container",2),i["\u0275\u0275template"](2,X,2,1,"ng-container",2),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.data.size),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.data.name)}}function J(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"span",56),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](t.documentTitle)}}function Z(t,e){if(1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&t){const t=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.documentTitle.split(".").pop()," ")}}function tt(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"span",57),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"fileSize"),i["\u0275\u0275template"](3,Z,2,1,"ng-container",2),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,2,+t.documentSize)," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.documentTitle)}}function et(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",44),i["\u0275\u0275elementStart"](1,"div",45),i["\u0275\u0275template"](2,H,4,4,"video",46),i["\u0275\u0275template"](3,z,1,1,"img",47),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",48),i["\u0275\u0275template"](5,W,2,1,"span",49),i["\u0275\u0275template"](6,K,3,2,"span",50),i["\u0275\u0275template"](7,J,2,1,"span",49),i["\u0275\u0275template"](8,tt,4,4,"span",50),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",51),i["\u0275\u0275listener"]("click",function(t){return t.stopPropagation()}),i["\u0275\u0275elementStart"](10,"i",52),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](t);const n=e.$implicit;return i["\u0275\u0275nextContext"](2).removeFile(n)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit,n=e.index,a=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",null==a.images[n]||null==a.images[n].data?null:a.images[n].data.videoUrl),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!(null!=a.images[n]&&null!=a.images[n].data&&a.images[n].data.videoUrl)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",(null==t||null==t.data?null:t.data.name)&&!t.documentTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(null==t.data?null:t.data.size)&&!t.documentSize),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.documentTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.documentSize)}}function nt(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"video",53),i["\u0275\u0275element"](1,"source",54),i["\u0275\u0275text"](2," Browser not supported "),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("src",null==t.data?null:t.data.videoUrl,i["\u0275\u0275sanitizeUrl"])}}function it(t,e){if(1&t&&i["\u0275\u0275element"](0,"img",55),2&t){const t=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("src",t.data.imageUrl,i["\u0275\u0275sanitizeUrl"])}}function at(t,e){1&t&&i["\u0275\u0275element"](0,"img",62)}function ot(t,e){1&t&&i["\u0275\u0275element"](0,"span",63)}function rt(t,e){1&t&&i["\u0275\u0275element"](0,"span",64)}function ct(t,e){1&t&&i["\u0275\u0275element"](0,"span",65)}function lt(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"span",56),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](t.data.name)}}function st(t,e){if(1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"fileSize"),i["\u0275\u0275elementContainerEnd"]()),2&t){const t=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,t.data.size)," ")}}function pt(t,e){if(1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&t){const t=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.data.name.split(".").pop()," ")}}function dt(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"span",57),i["\u0275\u0275template"](1,st,3,3,"ng-container",2),i["\u0275\u0275template"](2,pt,2,1,"ng-container",2),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.data.size),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.data.name)}}function mt(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"span",56),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](t.documentTitle)}}function ut(t,e){if(1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&t){const t=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.documentTitle.split(".").pop()," ")}}function ft(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"span",57),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"fileSize"),i["\u0275\u0275template"](3,ut,2,1,"ng-container",2),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,2,+t.documentSize)," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.documentTitle)}}function ht(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",44),i["\u0275\u0275elementStart"](1,"div",45),i["\u0275\u0275template"](2,nt,3,1,"video",46),i["\u0275\u0275template"](3,it,1,1,"img",47),i["\u0275\u0275template"](4,at,1,0,"img",58),i["\u0275\u0275template"](5,ot,1,0,"span",59),i["\u0275\u0275template"](6,rt,1,0,"span",60),i["\u0275\u0275template"](7,ct,1,0,"span",61),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",48),i["\u0275\u0275template"](9,lt,2,1,"span",49),i["\u0275\u0275template"](10,dt,3,2,"span",50),i["\u0275\u0275template"](11,mt,2,1,"span",49),i["\u0275\u0275template"](12,ft,4,4,"span",50),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",51),i["\u0275\u0275listener"]("click",function(t){return t.stopPropagation()}),i["\u0275\u0275elementStart"](14,"i",52),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](t);const n=e.$implicit;return i["\u0275\u0275nextContext"](2).removeFile(n)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",(null==t||null==t.data?null:t.data.videoUrl)&&!n.powerPointMimeType.includes((null==t||null==t.data?null:t.data.type)||(null==t?null:t.documentType))&&!n.excelMimeType.includes((null==t||null==t.data?null:t.data.type)||(null==t?null:t.documentType))&&!n.pdfMimeType.includes((null==t||null==t.data?null:t.data.type)||(null==t?null:t.documentType))),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!(null!=t&&null!=t.data&&t.data.videoUrl||n.powerPointMimeType.includes((null==t||null==t.data?null:t.data.type)||(null==t?null:t.documentType))||n.excelMimeType.includes((null==t||null==t.data?null:t.data.type)||(null==t?null:t.documentType))||n.pdfMimeType.includes((null==t||null==t.data?null:t.data.type)||(null==t?null:t.documentType))||n.textMimeType.includes((null==t||null==t.data?null:t.data.type)||(null==t?null:t.documentType)))),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.textMimeType.includes((null==t||null==t.data?null:t.data.type)||(null==t?null:t.documentType))),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.pdfMimeType.includes((null==t||null==t.data?null:t.data.type)||(null==t?null:t.documentType))),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.excelMimeType.includes((null==t||null==t.data?null:t.data.type)||(null==t?null:t.documentType))),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.powerPointMimeType.includes((null==t||null==t.data?null:t.data.type)||(null==t?null:t.documentType))),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",(null==t||null==t.data?null:t.data.name)&&!t.documentTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(null==t.data?null:t.data.size)&&!t.documentSize),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.documentTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.documentSize)}}function gt(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"div",42),i["\u0275\u0275template"](1,et,11,6,"div",43),i["\u0275\u0275template"](2,ht,15,10,"div",43),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.images),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.files)}}let yt=(()=>{class t{constructor(t,e,n,i,a,c){this.contactService=t,this.userService=e,this.ngbActiveModal=n,this.listService=i,this.companyService=a,this.documentsService=c,this.pdfMimeType=["application/pdf","pdf"],this.excelMimeType=["application/vnd.ms-excel","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.binary.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.openxmlformats-officedocument.spre","xls","xlsx"],this.powerPointMimeType=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint.addin.macroenabled.12","application/vnd.ms-powerpoint.slide.macroenabled.12","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],this.textMimeType=["text/plain"],this.files=[],this.images=[],this.documents=[],this.fakeId=0,this.unsubscribe=[],this.documentsWillRemove=[],this.qualification=new o,this.company=new h.a,this.newCompanyName="",this.qualifications=[],this.subQualifications=[],this.levels=[],this.qualificationLevelCategoryID=1,this.dateGraduated={year:null,month:null},this.years=[],this.months=g.a.create(),this.companies=[],this.blobUrl=S.a.apiBlobUrl+"/256px/",this.defaultLogo="/assets/img/card-placeholder.jpg",this.companyFormatter=t=>t.companyName,this.destroy$=new r.a,this.companySearch=t=>t.pipe(Object(s.a)(300),Object(p.a)(),Object(d.a)(t=>t.length>1),Object(m.a)(t=>{let e=[];return""===t?[]:(e=this.companies.filter(e=>e.companyName.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1),e)})),this.user=this.userService.user.getValue(),this.companyID=this.user.companyID||0,this.setDefaultForValueForDateControl()}ngOnInit(){if(this.companyService.getCachedCompanies().pipe(Object(u.a)(this.destroy$)).subscribe(t=>{this.companies=t}),this.getQualification(),this.levelFill(),this.qualification.contactQualificationID){if(this.qualification.dateGraduated){const t=new Date(this.qualification.dateGraduated);this.dateGraduated.year=t.getFullYear(),this.dateGraduated.month=t.getMonth()+1}this.company.companyID=this.qualification.companyID,this.company.companyName=this.qualification.companyName,this.newCompanyName=this.qualification.companyName,this.onCategoryChange(),this.getDocuments()}}getQualification(){this.loading=!0,this.listService.getQualificationList().subscribe(t=>{this.qualifications=t,this.loading=!1})}onSubmit(){var t,e;if(!(null===(t=this.company)||void 0===t?void 0:t.companyID))return this.loading=!0,void this.onAddNewCompany();this.loading||(this.loading=!0);const n=new Date(this.dateGraduated.year,(null===(e=this.dateGraduated)||void 0===e?void 0:e.month)-1||0,1,0,0);1===this.qualificationLevelCategoryID&&(this.qualification.qualificationCategoryID=0,this.qualification.qualificationSubCategoryID=0,this.qualification.qualificationTitle=this.company.companyName),this.qualification.contactID=this.user.contactID,this.qualification.companyID=this.company.companyID,this.qualification.dateGraduated=Object(y.a)(n),this.qualification.contactQualificationID?this.updateQualifications(this.qualification):this.addNewQualification(this.qualification)}addNewQualification(t){this.contactService.addQualification(t).pipe(Object(f.a)(t=>{this.qualification.contactQualificationID=t.inOut_ContactQualificationID;const e=this.documentsWillRemove.map(t=>this.documentsService.deleteDocument(t)),n=e&&e.length?e:Object(c.a)([]),i=Object(l.a)(n),a=this.documents.filter(t=>!t.documentID);return Object(l.a)([this.saveDocuments(this.qualification.contactQualificationID,a),i])})).subscribe(t=>{const e=this.levels.find(t=>t.qualificationLevelID===this.qualification.qualificationLevelID);e&&(this.qualification.qualificationLevel=e.qualificationLevel),this.qualification.companyName=this.company.companyName,this.ngbActiveModal.close(this.qualification)})}updateQualifications(t){this.contactService.updateQualification(t).pipe(Object(f.a)(()=>{const t=this.documentsWillRemove.map(t=>this.documentsService.deleteDocument(t)),e=t&&t.length?t:Object(c.a)([]),n=Object(l.a)(e),i=this.documents.filter(t=>!t.documentID);return Object(l.a)([this.saveDocuments(this.qualification.contactQualificationID,i),n])})).subscribe(t=>{const e=this.levels.find(t=>t.qualificationLevelID===this.qualification.qualificationLevelID);e&&(this.qualification.qualificationLevel=e.qualificationLevel),this.qualification.companyName=this.company.companyName,this.ngbActiveModal.close(this.qualification)})}onAddNewCompany(){const t=new h.a;t.companyName=this.newCompanyName,t.companyOwnerContactID=this.user.contactID,this.companyService.addCompany(t).subscribe(e=>{t.companyID=e.inOut_CompanyID,this.company=t,this.companies.push(t),this.companyService.setCachedCompanies(this.companies),this.onSubmit()})}setDefaultForValueForDateControl(){const t=(new Date).getFullYear();for(let e=t-40;e<=t;++e)this.years.push(e);this.years=this.years.reverse()}onCategoryChange(){this.qualification.qualificationCategoryID&&(this.subQualifications=[],this.qualification.contactQualificationID||(this.qualification.qualificationSubCategoryID=null),this.listService.getQualificationSubList(this.qualification.qualificationCategoryID).subscribe(t=>{this.subQualifications=t}))}levelFill(){this.listService.getLevelList(this.qualificationLevelCategoryID).subscribe(t=>{this.levels=t})}removeFile(t){const e=this.documents.findIndex(e=>e.file?e.file.fakeId===t.fakeId:e.documentID===t.id);-1!==e&&this.documents[e].documentID&&this.documentsWillRemove.push(this.documents[e].documentID),this.documents.splice(e,1),this.files=this.getNoneGalleryFiles(this.documents),this.images=this.getGalleryFiles(this.documents)}onFileSelect(t){const e=t.target.files;for(let n=0;n<e.length;n++){const t=e.item(n);if(t.type&&/^image\//.test(t.type)){const e=new FileReader;e.readAsDataURL(t),e.onload=()=>{t.imageUrl=e.result}}else if(t.type&&/^video\//.test(t.type)){const e=15,n=new FileReader;n.readAsDataURL(t),n.onload=n=>{t.videoUrl=n.target.result;const i=document.createElement("video");i.setAttribute("src",n.target.result),i.addEventListener("loadedmetadata",function(){this.currentTime=i.duration<e?i.duration/2:e},!1),i.addEventListener("loadeddata",()=>{setTimeout(()=>{const e=document.createElement("canvas");e.getContext("2d").drawImage(i,0,0,i.videoWidth,i.videoHeight),t.imageUrl=e.toDataURL()},300)},!1)}}const i=new v.a;i.data=t,i.progress=0;const a=new I.a;i.fakeId=this.fakeId++,a.file=i,this.documents.push(a),this.files=this.getNoneGalleryFiles(this.documents),this.images=this.getGalleryFiles(this.documents)}}getGalleryFiles(t){return t?t.filter(t=>x.b.isImage(t)).map(t=>this.getFile(t)):[]}getNoneGalleryFiles(t){return t?t.filter(t=>!x.b.isImage(t)).map(t=>this.getFile(t)):[]}getFile(t){return t.file?t.file:Object.assign({id:t.documentID,documentPath:t.documentPath,data:Object.assign({name:t.documentTitle},"video/mp4"===t.documentType?{videoUrl:S.a.apiBlobUrl+"/"+t.documentPath}:{imageUrl:`${S.a.apiBlobUrl}/1024px/${t.documentPath}`}),type:t.documentType,progress:100,fakeId:this.fakeId++},t)}saveDocuments(t,e){return e&&0!==e.length?Object(l.a)(e.map((e,n)=>{const i=new FormData;return i.append("file",e.file.data),this.unsubscribe.push({id:e.file.fakeId,sub:new r.a}),this.documentsService.insertDocument(i,38,t,this.user.contactID,0,0).pipe(Object(u.a)(this.unsubscribe[n].sub),Object(m.a)(t=>{switch(t.type){case E.e.UploadProgress:e.file.progress=Math.round(100*t.loaded/t.total);break;case E.e.Response:return t.body[0]}}))})):Object(c.a)([])}dismiss(){this.ngbActiveModal.dismiss()}getDocuments(){this.loading=!0,this.documentsService.getDocument(this.qualification.contactQualificationID,38,0,0,0).subscribe(t=>{this.documents=t.map(t=>(t.file=this.getFile(t),t)),this.files=this.getNoneGalleryFiles(this.documents),this.images=this.getGalleryFiles(this.documents),this.loading=!1})}onCompanyInput(t){this.newCompanyName=t}ngOnDestroy(){this.unsubscribe.map(t=>{t&&t.sub&&!t.sub.closed&&(t.sub.next(),t.sub.complete())}),this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](b.a),i["\u0275\u0275directiveInject"](C.a),i["\u0275\u0275directiveInject"](D.a),i["\u0275\u0275directiveInject"](w.a),i["\u0275\u0275directiveInject"](O.a),i["\u0275\u0275directiveInject"](k.a))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["app-add-contact-qualification"]],decls:52,vars:34,consts:[[1,"modal-header"],["id","postModalLabel",1,"modal-title"],[4,"ngIf"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","qualification-body",3,"avnonLoader"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["class","form-group",4,"ngIf"],["for","qualificationLevelID"],["name","qualificationLevelID","required","","id","qualificationLevelID",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-group","position-relative"],["for","company"],["trainingProviderResults",""],["type","text","name","company","id","company","required","",1,"form-control","form-control-material",3,"placeholder","ngModel","ngbTypeahead","resultTemplate","inputFormatter","keyup","ngModelChange"],["for","startMonth"],[1,"input-group"],["name","startMonth","id","startMonth","class","form-control mr-1","required","",3,"ngModel","ngModelChange",4,"ngIf"],["name","startYear","id","startYear","required","",1,"form-control","ml-1",3,"ngModel","ngModelChange"],[1,"form-group","d-flex","flex-column"],["for","attachments"],["id","attachments",1,"attachment-cursor",3,"click"],[1,"fas","fa-upload"],["class","files-layout-container",4,"ngIf"],["type","file","multiple","","onclick","this.value = null",1,"d-none",3,"change"],["fileInput",""],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled"],["for","qualificationTitle"],["type","text","name","qualificationTitle","id","qualificationTitle","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","qualificationCategoryID"],["name","qualificationCategoryID","id","qualificationCategoryID","required","",1,"form-control",3,"ngModel","change","ngModelChange"],["for","qualificationSubCategoryID"],["name","qualificationSubCategoryID","id","qualificationSubCategoryID","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"logo"],["alt","Text",1,"img-fluid",3,"src"],[1,"meta-data","d-flex","flex-column"],[3,"result","term"],["name","startMonth","id","startMonth","required","",1,"form-control","mr-1",3,"ngModel","ngModelChange"],[1,"files-layout-container"],["class","file-item p-1 mb-1 entry-media",4,"ngFor","ngForOf"],[1,"file-item","p-1","mb-1","entry-media"],[1,"file-preview"],["class","video w-100 h-100",4,"ngIf"],["class","img-fluid previewAble",3,"src",4,"ngIf"],[1,"file-info","d-flex","flex-column","ml-2","mr-2"],["class","file-name",4,"ngIf"],["class","meta",4,"ngIf"],[1,"file-actions","pl-2","pt-1","pb-1","pr-2","d-flex","align-items-center","justify-content-center",3,"click"],[1,"fas","fa-trash-alt",3,"click"],[1,"video","w-100","h-100"],["type","video/mp4",3,"src"],[1,"img-fluid","previewAble",3,"src"],[1,"file-name"],[1,"meta"],["src","/assets/img/file-icon.svg","class","img-fluid",4,"ngIf"],["class","icon fiv-viv fiv-icon-pdf",4,"ngIf"],["class","icon fiv-viv fiv-icon-xlsx",4,"ngIf"],["class","icon fiv-viv fiv-icon-pptx",4,"ngIf"],["src","/assets/img/file-icon.svg",1,"img-fluid"],[1,"icon","fiv-viv","fiv-icon-pdf"],[1,"icon","fiv-viv","fiv-icon-xlsx"],[1,"icon","fiv-viv","fiv-icon-pptx"]],template:function(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h5",1),i["\u0275\u0275template"](2,L,3,4,"ng-container",2),i["\u0275\u0275template"](3,q,3,4,"ng-container",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",3),i["\u0275\u0275listener"]("click",function(){return e.dismiss()}),i["\u0275\u0275elementStart"](5,"span",4),i["\u0275\u0275text"](6,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275elementStart"](8,"form",6,7),i["\u0275\u0275listener"]("ngSubmit",function(){return e.onSubmit()}),i["\u0275\u0275elementStart"](10,"div",8),i["\u0275\u0275template"](11,j,5,4,"div",9),i["\u0275\u0275elementStart"](12,"div",8),i["\u0275\u0275elementStart"](13,"label",10),i["\u0275\u0275text"](14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"select",11),i["\u0275\u0275listener"]("ngModelChange",function(t){return e.qualification.qualificationLevelID=t}),i["\u0275\u0275elementStart"](16,"option",12),i["\u0275\u0275text"](17,"Please Select"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](18,F,2,2,"option",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](19,V,8,6,"div",9),i["\u0275\u0275template"](20,$,9,9,"div",9),i["\u0275\u0275elementStart"](21,"div",14),i["\u0275\u0275elementStart"](22,"label",15),i["\u0275\u0275text"](23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](24,U,5,5,"ng-template",null,16,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementStart"](26,"input",17),i["\u0275\u0275listener"]("keyup",function(t){return e.onCompanyInput(t.target.value)})("ngModelChange",function(t){return e.company=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](27,"div",8),i["\u0275\u0275elementStart"](28,"label",18),i["\u0275\u0275text"](29),i["\u0275\u0275pipe"](30,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](31,"div",19),i["\u0275\u0275template"](32,G,5,6,"select",20),i["\u0275\u0275elementStart"](33,"select",21),i["\u0275\u0275listener"]("ngModelChange",function(t){return e.dateGraduated.year=t}),i["\u0275\u0275elementStart"](34,"option",12),i["\u0275\u0275text"](35),i["\u0275\u0275pipe"](36,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](37,_,2,2,"option",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](38,"div",22),i["\u0275\u0275elementStart"](39,"label",23),i["\u0275\u0275text"](40),i["\u0275\u0275pipe"](41,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](42,"span",24),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275reference"](48).click()}),i["\u0275\u0275element"](43,"i",25),i["\u0275\u0275text"](44),i["\u0275\u0275pipe"](45,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](46,gt,3,2,"div",26),i["\u0275\u0275elementStart"](47,"input",27,28),i["\u0275\u0275listener"]("change",function(t){return e.onFileSelect(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](49,"div",29),i["\u0275\u0275elementStart"](50,"button",30),i["\u0275\u0275text"](51," Submit "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&t){const t=i["\u0275\u0275reference"](9),n=i["\u0275\u0275reference"](25);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",null==e.qualification?null:e.qualification.contactQualificationID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!(null!=e.qualification&&e.qualification.contactQualificationID)),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("avnonLoader",e.loading),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",2===e.qualificationLevelCategoryID),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",1===e.qualificationLevelCategoryID?"Highest Grade Passed":"Level"," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.qualification.qualificationLevelID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.levels),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===e.qualificationLevelCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===e.qualificationLevelCategoryID),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",2===e.qualificationLevelCategoryID?"University or College":"High School"," "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("placeholder",1===e.qualificationLevelCategoryID?"Name Of High School":"Where did you study")("ngModel",e.company)("ngbTypeahead",e.companySearch)("resultTemplate",n)("inputFormatter",e.companyFormatter),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](30,26,"PEOPLE.DATE-GRADUATED")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",2===e.qualificationLevelCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.dateGraduated.year),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](36,28,"PEOPLE.YEAR")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.years),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](41,30,"COMMON.UPLOADS")," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](45,32,"PEOPLE.SCANNED-QUALIFICATIONS-INFO")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.files.length>0||e.images.length>0),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("disabled",t.invalid||e.loading||!e.newCompanyName.length)}},directives:[M.n,P.a,N.E,N.r,N.s,N.B,N.A,N.q,N.t,N.v,N.D,M.m,N.b,D.E,D.n],pipes:[A.c,T.a],styles:["ngb-typeahead-window{width:100%;overflow-y:auto;max-height:200px}  ngb-typeahead-window .dropdown-item{display:flex;align-items:center}  ngb-typeahead-window .dropdown-item .logo{width:64px;height:64px;display:flex;align-items:center}  ngb-typeahead-window .dropdown-item img{max-width:64px;max-height:64px}  ngb-typeahead-window .dropdown-item .meta-data{display:flex;flex-direction:column;margin-left:12px}.qualification-body[_ngcontent-%COMP%]{max-height:80vh;overflow-x:hidden;overflow-y:auto}.files-layout-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0}.files-layout-container[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]{background:#fff;border:1px solid #d5d5d5;border-radius:6px;display:flex;flex:0 0 100%;width:100%;max-width:100%;cursor:pointer}.files-layout-container[_ngcontent-%COMP%]   .file-item.full-size[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]{max-width:calc(100% - 60px)!important}.files-layout-container[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]{width:38px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:4px;min-width:38px}.files-layout-container[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:38px;height:38px;border-radius:4px}.files-layout-container[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-preview.previewAble[_ngcontent-%COMP%]{object-fit:cover}.files-layout-container[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:4px}.files-layout-container[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]{flex:1;overflow:hidden;max-width:calc(100% - 94px)}.files-layout-container[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.files-layout-container[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{overflow:hidden;font-size:15px;font-weight:600;line-height:1;white-space:nowrap;text-overflow:ellipsis}.files-layout-container[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-actions[_ngcontent-%COMP%]{border:1px solid #d5d5d5;border-radius:6px}.files-layout-container[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px;color:#54606a;cursor:pointer}.files-layout-container[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{opacity:.7}"]}),t})();var vt=n("cxbk"),It=n("9122"),xt=n("mwbx"),St=n("rOaL"),Et=n("Xdyb"),bt=n("0mlJ"),Ct=n("CEMh");function Dt(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",8),i["\u0275\u0275elementStart"](1,"div",9),i["\u0275\u0275listener"]("click",function(t){return t.stopPropagation()}),i["\u0275\u0275elementStart"](2,"button",10),i["\u0275\u0275element"](3,"span",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"ul",12),i["\u0275\u0275elementStart"](5,"li"),i["\u0275\u0275elementStart"](6,"a",13),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"]().updateQualifications()}),i["\u0275\u0275text"](7,"Edit"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"li"),i["\u0275\u0275elementStart"](9,"a",13),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"]().onDeleteQualification()}),i["\u0275\u0275text"](10,"Delete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function wt(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](t.qualification.companyName)}}function Ot(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](t.qualification.qualificationLevel)}}function kt(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"date"),i["\u0275\u0275pipe"](3,"dateObject"),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](2,1,i["\u0275\u0275pipeBind1"](3,4,t.qualification.dateGraduated),"YYYY")," ")}}function Mt(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"date"),i["\u0275\u0275pipe"](3,"dateObject"),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](2,1,i["\u0275\u0275pipeBind1"](3,4,t.qualification.dateGraduated),"MMM YYYY")," ")}}function Pt(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"a",16),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](t);const n=e.$implicit;return i["\u0275\u0275nextContext"](2).onClickDocument(n)}),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"ellipsis"),i["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](2,1,t.documentTitle,40)," ")}}function Nt(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275listener"]("click",function(t){return t.stopPropagation()}),i["\u0275\u0275template"](1,Pt,3,4,"a",15),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.documents)}}let At=(()=>{class t{constructor(t,e){this.documentsService=t,this.modal=e,this.updateQualification=new i.EventEmitter,this.deleteQualification=new i.EventEmitter,this.blobURL=vt.a.apiBlobUrl+"/256px/",this.apiBlobUrl=vt.a.apiBlobUrl+"/",this.documents=[]}ngOnInit(){this.superAdmin=this.user.permissions.some(t=>It.b.Admin===t.permissionAreaID),this.documentsService.getDocument(this.qualification.contactQualificationID,38,0,0,0).subscribe(t=>{this.documents=t})}updateQualifications(){this.updateQualification.emit(!0)}onDeleteQualification(){this.deleteQualification.emit(!0)}onClickDocument(t){t.documentType.includes("image")?this.showGallery(t):t.documentType.includes("video")||t.documentType.includes("application/octet-stream")?t.ampLink&&this.showVideo(t):this.openDocumentPreviewModal(t)}openDocumentPreviewModal(t){t.documentPath&&(t.documentPath.includes(this.apiBlobUrl)||(t.documentPath=this.apiBlobUrl+t.documentPath),this.modal.open(xt.a,{size:"xl"}).componentInstance.document=t)}showGallery(t){const e=this.modal.open(St.a,{size:"gallery",centered:!0});e.componentInstance.documents=[t],e.componentInstance.documentActive=t,e.componentInstance.disableAction=!0,e.result.then(t=>{},()=>{})}showVideo(t){const e=this.modal.open(Et.a,{size:"lg"});e.componentInstance.document=t,e.componentInstance.showTitle=!1,e.componentInstance.downloadAvailable=!0}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](k.a),i["\u0275\u0275directiveInject"](D.p))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["app-qualification-list"]],inputs:{qualification:"qualification",contactID:"contactID",contact:"contact",user:"user"},outputs:{updateQualification:"updateQualification",deleteQualification:"deleteQualification"},decls:14,vars:8,consts:[[1,"entry","pb-3"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","Avatar",1,"img-fluid","img-48",3,"src"],[1,"d-flex"],["class","actions",4,"ngIf"],[1,"meta"],[4,"ngIf"],["class","d-flex flex-column mt-1 file-holder",3,"click",4,"ngIf"],[1,"actions"],[1,"dropdown","ml-2",3,"click"],["type","button","id","dd1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["aria-labelledby","dd1",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"d-flex","flex-column","mt-1","file-holder",3,"click"],["class","text-primary",3,"click",4,"ngFor","ngForOf"],[1,"text-primary",3,"click"]],template:function(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"span",1),i["\u0275\u0275element"](2,"img",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"h2"),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,Dt,11,0,"div",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275template"](8,wt,2,1,"span",6),i["\u0275\u0275template"](9,Ot,2,1,"span",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"div",5),i["\u0275\u0275template"](11,kt,4,6,"span",6),i["\u0275\u0275template"](12,Mt,4,6,"span",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](13,Nt,2,1,"div",7),i["\u0275\u0275elementEnd"]()),2&t&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",e.qualification.companyLogo?e.blobURL+e.qualification.companyLogo:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.qualification.qualificationTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.contactID&&e.contact.contactID===e.contactID),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",0!==e.qualification.qualificationCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",0===e.qualification.qualificationCategoryID),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",0===e.qualification.qualificationCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",0!==e.qualification.qualificationCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.superAdmin))},directives:[M.n,M.m],pipes:[M.e,bt.a,Ct.a],styles:[".file-holder[_ngcontent-%COMP%]{padding-left:60px}"]}),t})();function Tt(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"a",6),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"](2).addQualification()}),i["\u0275\u0275element"](1,"span",7),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"]()}2&t&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,1,"COMMON.ADD")," Add "))}function Lt(t,e){if(1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",2),i["\u0275\u0275elementStart"](2,"div",3),i["\u0275\u0275elementStart"](3,"h1",4),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,Tt,4,3,"a",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](5,2,"PEOPLE.EDUCATION-HISTORY")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.contact&&t.contact.contactID===t.contactID&&t.userQualifications.length>1)}}function qt(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"app-qualification-list",10),i["\u0275\u0275listener"]("updateQualification",function(){i["\u0275\u0275restoreView"](t);const n=e.$implicit,a=e.index;return i["\u0275\u0275nextContext"](2).updateQualifications(n,a)})("deleteQualification",function(){i["\u0275\u0275restoreView"](t);const n=e.$implicit,a=e.index;return i["\u0275\u0275nextContext"](2).onDeleteQualification(n,a)}),i["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("qualification",t)("user",n.user)("contactID",n.contactID)("contact",n.contact)}}function jt(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",13),i["\u0275\u0275elementStart"](1,"div",14),i["\u0275\u0275elementStart"](2,"h2"),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",14),i["\u0275\u0275elementStart"](6,"a",15),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"](3).addQualification(1)}),i["\u0275\u0275text"](7),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"span",16),i["\u0275\u0275text"](10),i["\u0275\u0275pipe"](11,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&t&&(i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](4,3,"PEOPLE.HIGH-SCHOOL")),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](8,5,"COMMON.CLICK-HERE")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](11,7,"PEOPLE.ADD-HIGH-SCHOOL-INFORMATION")))}const Ft=function(t,e){return{"border-0":t,"border-bottom-0 border-top":e}};function Bt(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",17),i["\u0275\u0275elementStart"](1,"div",14),i["\u0275\u0275elementStart"](2,"h2"),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",14),i["\u0275\u0275elementStart"](6,"a",18),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"](3).addQualification()}),i["\u0275\u0275text"](7),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"span",16),i["\u0275\u0275text"](10),i["\u0275\u0275pipe"](11,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&t){const t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction2"](10,Ft,t.postSchoolEmpty,!t.postSchoolEmpty)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](4,4,"PEOPLE.POST-SCHOOL-QUALIFICATION")),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](8,6,"COMMON.CLICK-HERE")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](11,8,"PEOPLE.ADD-POST-SCHOOL-INFORMATION"))}}function Vt(t,e){if(1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,jt,12,9,"div",11),i["\u0275\u0275template"](2,Bt,12,13,"div",12),i["\u0275\u0275elementContainerEnd"]()),2&t){const t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.highSchoolEmpty),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.postSchoolEmpty)}}function Rt(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"div",8),i["\u0275\u0275template"](1,qt,1,4,"app-qualification-list",9),i["\u0275\u0275template"](2,Vt,3,2,"ng-container",0),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.userQualifications),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.contact&&t.contact.contactID===t.contactID&&(t.highSchoolEmpty||t.postSchoolEmpty))}}let $t=(()=>{class t{constructor(t,e,n){this.contactService=t,this.userService=e,this.modal=n,this.qualificationAdded=new i.EventEmitter,this.userQualifications=[],this.user=this.userService.user.getValue(),this.contactID=this.user.contactID}ngOnInit(){this.contact?this.fillUserQualifications():this.fillContact()}fillContact(){this.contactService.getContactProfile(this.masterContactID).subscribe(t=>{this.contact=t[0],this.fillUserQualifications()})}fillUserQualifications(){this.contactService.getContactQualification(this.contact.contactID,0).subscribe(t=>{this.userQualifications=t,this.highSchoolEmpty=0===this.userQualifications.filter(t=>!t.qualificationCategoryID).length,this.postSchoolEmpty=0===this.userQualifications.filter(t=>t.qualificationCategoryID).length,this.qualificationAdded.emit(t)})}addQualification(t=2){const e=this.modal.open(yt);e.componentInstance.contact=this.contact,e.componentInstance.qualificationLevelCategoryID=t,e.result.then(t=>{t&&(this.userQualifications.push(t),this.highSchoolEmpty=0===this.userQualifications.filter(t=>!t.qualificationCategoryID).length,this.postSchoolEmpty=0===this.userQualifications.filter(t=>t.qualificationCategoryID).length,this.qualificationAdded.emit(this.userQualifications))})}updateQualifications(t,e){const n=this.modal.open(yt);n.componentInstance.contact=this.contact,n.componentInstance.qualification=Object(y.l)(t),n.componentInstance.qualificationLevelCategoryID=0===t.qualificationCategoryID?1:2,n.result.then(t=>{t&&(this.userQualifications[e]=t,this.highSchoolEmpty=0===this.userQualifications.filter(t=>!t.qualificationCategoryID).length,this.postSchoolEmpty=0===this.userQualifications.filter(t=>t.qualificationCategoryID).length)})}onDeleteQualification(t,e){const n=this.modal.open(a.a,{backdrop:"static"});n.componentInstance.objectType="Qualification",n.componentInstance.objectDetails=t.qualificationTitle,n.result.then(n=>{n&&"Yes"===n&&this.deleteQualification(t,e)})}deleteQualification(t,e){this.contactService.deleteQualification(t.contactQualificationID).subscribe(()=>{this.userQualifications.splice(e,1),this.highSchoolEmpty=0===this.userQualifications.filter(t=>!t.qualificationCategoryID).length,this.postSchoolEmpty=0===this.userQualifications.filter(t=>t.qualificationCategoryID).length,this.qualificationAdded.emit(this.userQualifications)})}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](b.a),i["\u0275\u0275directiveInject"](C.a),i["\u0275\u0275directiveInject"](D.p))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["app-contact-qualification-component"]],inputs:{contact:"contact",masterContactID:"masterContactID"},outputs:{qualificationAdded:"qualificationAdded"},decls:2,vars:2,consts:[[4,"ngIf"],["class","mb-4",4,"ngIf"],[1,"section","section-alt","alt-bordered","filter-container"],[1,"d-flex","align-items-center"],[1,"mr-auto","mb-0"],["class","text-dark d-flex align-items-center",3,"click",4,"ngIf"],[1,"text-dark","d-flex","align-items-center",3,"click"],[1,"plus-ico-2"],[1,"mb-4"],[3,"qualification","user","contactID","contact","updateQualification","deleteQualification",4,"ngFor","ngForOf"],[3,"qualification","user","contactID","contact","updateQualification","deleteQualification"],["class","entry pb-3",4,"ngIf"],["class","entry pb-3",3,"ngClass",4,"ngIf"],[1,"entry","pb-3"],[1,"d-flex"],[1,"text-primary","d-flex","align-items-center",3,"click"],[1,"meta","ml-1"],[1,"entry","pb-3",3,"ngClass"],[1,"d-flex","align-items-center","text-primary",3,"click"]],template:function(t,e){1&t&&(i["\u0275\u0275template"](0,Lt,7,4,"ng-container",0),i["\u0275\u0275template"](1,Rt,3,2,"div",1)),2&t&&(i["\u0275\u0275property"]("ngIf",e.contact&&e.contact.contactID===e.contactID||e.userQualifications.length>0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.contact&&e.contact.contactID===e.contactID||e.userQualifications.length>0))},directives:[M.n,M.m,At,M.l],pipes:[A.c],styles:[""]}),t})()},GTGJ:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n("ofXK"),a=n("3Pt+"),o=n("ZLSo"),r=n("1kSV"),c=n("sYmb"),l=n("fXoL");let s=(()=>{class t{}return t.\u0275mod=l["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[i.c,a.l,a.z,o.a,r.q,r.F,c.b]]}),t})();var p=n("GKkB");let d=(()=>{class t{}return t.\u0275mod=l["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[i.c,s,r.q,r.l,p.a,c.b]]}),t})()},L7Ou:function(t,e,n){"use strict";n.d(e,"a",function(){return G});var i=n("fXoL"),a=n("cxbk"),o=n("OzGw");class r{constructor(){this.contactAffiliationTypeID=null,this.contactID=null,this.affiliation=null,this.companyID=null,this.affiliationNumber=null,this.affiliationDate=null,this.affiliationExpiryDate=null,this.affiliationDetails=null,this.contactAffiliationStatusID=1,this.companyLogo=null,this.companyName=null,this.contactAffiliationID=null}}const c=[{contactAffiliationTypeID:1,contactAffiliationType:"Professional Accreditation"},{contactAffiliationTypeID:2,contactAffiliationType:"Professional Certification"},{contactAffiliationTypeID:3,contactAffiliationType:"Professional Licensing"}];var l=n("mOT8"),s=n("XNiG"),p=n("Kj3r"),d=n("/uUt"),m=n("pLZG"),u=n("lJxs"),f=n("1G5W"),h=n("AytR"),g=n("1kSV"),y=n("WhH8"),v=n("Hu2X"),I=n("kmKP"),x=n("Jn3s"),S=n("3Pt+"),E=n("ofXK"),b=n("sYmb");function C(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"option",11),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;i["\u0275\u0275property"]("ngValue",t.contactAffiliationTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](t.contactAffiliationType)}}function D(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"small",26),i["\u0275\u0275element"](1,"i",27),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"]()),2&t&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,1,"PEOPLE.PROFESSIONAL-ACCREDITATION-INFO")," "))}function w(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"small",26),i["\u0275\u0275element"](1,"i",27),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"]()),2&t&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,1,"PEOPLE.PROFESSIONAL-CERTIFICATION-INFO")," "))}function O(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"small",26),i["\u0275\u0275element"](1,"i",27),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"]()),2&t&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,1,"PEOPLE.LICENSING-LICENSING-INFO")," "))}function k(t,e){1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementContainerEnd"]()),2&t&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"PEOPLE.NAME-OF-ORGANISATION-INSTITUTION-BODY-CERTIFIED-WITH")," "))}function M(t,e){1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementContainerEnd"]()),2&t&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"PEOPLE.NAME-OF-ORGANISATION-INSTITUTION-BODY-AFFILIATED-WITH")," "))}function P(t,e){if(1&t&&i["\u0275\u0275element"](0,"ngb-highlight",28),2&t){const t=e.term;i["\u0275\u0275property"]("result",e.result.companyName)("term",t)}}function N(t,e){1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1," What is your Affiliation number(only specify if applicable) "),i["\u0275\u0275elementContainerEnd"]())}function A(t,e){1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementContainerEnd"]()),2&t&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"PEOPLE.WHAT-IS-YOUR-LICENSING-NUMBER")," "))}const T=function(){return[1,3]},L=function(){return[1,2]};let q=(()=>{class t{constructor(t,e,n,i){this.activeModal=t,this.contactService=e,this.companyService=n,this.userService=i,this.affiliation=new r,this.types=c,this.company=new l.a,this.newCompanyName="",this.companies=[],this.blobUrl=h.a.apiBlobUrl+"/256px/",this.defaultLogo="/assets/img/card-placeholder.jpg",this.companyFormatter=t=>t.companyName,this.destroy$=new s.a,this.companySearch=t=>t.pipe(Object(p.a)(300),Object(d.a)(),Object(m.a)(t=>t.length>1),Object(u.a)(t=>{let e=[];return""===t?[]:(e=this.companies.filter(e=>e.companyName.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1),e)})),this.user=this.userService.user.getValue(),this.contactID=this.user.contactID}ngOnInit(){this.companyService.getCachedCompanies().pipe(Object(f.a)(this.destroy$)).subscribe(t=>{this.companies=t}),this.affiliation.contactAffiliationID&&(this.company.companyID=this.affiliation.companyID,this.company.companyName=this.affiliation.companyName,this.newCompanyName=this.affiliation.companyName)}onSubmit(){var t;if(!(null===(t=this.company)||void 0===t?void 0:t.companyID))return this.loading=!0,void this.onAddNewCompany();this.loading||(this.loading=!0),this.affiliation.contactID=this.user.contactID,this.affiliation.companyID=this.company.companyID,this.affiliation.affiliation=this.company.companyName,this.affiliation.affiliationDate="2000-01-01",this.affiliation.affiliationExpiryDate="2000-01-01",this.affiliation.contactAffiliationID?this.contactService.updateAffiliation(this.affiliation).subscribe(t=>{this.loading=!1,this.affiliation.companyName=this.company.companyName,this.affiliation.companyLogo=this.company.companyLogo,this.activeModal.close(this.affiliation)}):this.contactService.postAffiliation(this.affiliation).subscribe(t=>{this.loading=!1,this.affiliation.companyName=this.company.companyName,this.affiliation.companyLogo=this.company.companyLogo,this.affiliation.contactAffiliationID=t.inOut_ContactAffiliationID,this.activeModal.close(this.affiliation)})}onAddNewCompany(){const t=new l.a;t.companyName=this.newCompanyName,t.companyOwnerContactID=this.user.contactID,this.companyService.addCompany(t).subscribe(e=>{t.companyID=e.inOut_CompanyID,this.company=t,this.companies.push(this.company),this.companyService.setCachedCompanies(this.companies),this.onSubmit()})}onCompanyInput(t){this.newCompanyName=t}dismiss(){this.activeModal.dismiss()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](g.a),i["\u0275\u0275directiveInject"](y.a),i["\u0275\u0275directiveInject"](v.a),i["\u0275\u0275directiveInject"](I.a))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["app-add-contact-affiliation"]],decls:54,vars:46,consts:[[1,"modal-header"],["id","postModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","affiliation-body",3,"avnonLoader"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group"],[1,"form-group","d-flex","flex-column"],["for","contactAffiliationTypeID"],["required","","name","contactAffiliationTypeID","id","contactAffiliationTypeID",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","mb-0 mt-1 twitter-fill p-2",4,"ngIf"],["for","company"],[4,"ngIf"],["trainingProviderResults",""],["type","text","name","company","id","company","required","",1,"form-control","form-control-material",3,"ngModel","ngbTypeahead","resultTemplate","inputFormatter","keyup","ngModelChange"],["for","contactAffiliationStatusID"],["name","contactAffiliationStatusID","id","contactAffiliationStatusID","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","affiliationNumber"],["name","affiliationNumber","id","affiliationNumber","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","affiliationDetails"],["name","affiliationDetails","id","affiliationDetails",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"mb-0","mt-1","twitter-fill","p-2"],[1,"fas","fa-info-circle","text-primary"],[3,"result","term"]],template:function(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h5",1),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",2),i["\u0275\u0275listener"]("click",function(){return e.dismiss()}),i["\u0275\u0275elementStart"](4,"span",3),i["\u0275\u0275text"](5,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"form",5,6),i["\u0275\u0275listener"]("ngSubmit",function(){return e.onSubmit()}),i["\u0275\u0275elementStart"](9,"div",7),i["\u0275\u0275elementStart"](10,"div",8),i["\u0275\u0275elementStart"](11,"label",9),i["\u0275\u0275text"](12),i["\u0275\u0275pipe"](13,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"select",10),i["\u0275\u0275listener"]("ngModelChange",function(t){return e.affiliation.contactAffiliationTypeID=t}),i["\u0275\u0275elementStart"](15,"option",11),i["\u0275\u0275text"](16),i["\u0275\u0275pipe"](17,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](18,C,2,2,"option",12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](19,D,4,3,"small",13),i["\u0275\u0275template"](20,w,4,3,"small",13),i["\u0275\u0275template"](21,O,4,3,"small",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"div",7),i["\u0275\u0275elementStart"](23,"label",14),i["\u0275\u0275template"](24,k,3,3,"ng-container",15),i["\u0275\u0275template"](25,M,3,3,"ng-container",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](26,P,1,2,"ng-template",null,16,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementStart"](28,"input",17),i["\u0275\u0275listener"]("keyup",function(t){return e.onCompanyInput(t.target.value)})("ngModelChange",function(t){return e.company=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](29,"div",7),i["\u0275\u0275elementStart"](30,"label",18),i["\u0275\u0275text"](31),i["\u0275\u0275pipe"](32,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](33,"select",19),i["\u0275\u0275listener"]("ngModelChange",function(t){return e.affiliation.contactAffiliationStatusID=t}),i["\u0275\u0275elementStart"](34,"option",11),i["\u0275\u0275text"](35),i["\u0275\u0275pipe"](36,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"option",11),i["\u0275\u0275text"](38),i["\u0275\u0275pipe"](39,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](40,"div",7),i["\u0275\u0275elementStart"](41,"label",20),i["\u0275\u0275template"](42,N,2,0,"ng-container",15),i["\u0275\u0275template"](43,A,3,3,"ng-container",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](44,"input",21),i["\u0275\u0275listener"]("ngModelChange",function(t){return e.affiliation.affiliationNumber=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](45,"div",7),i["\u0275\u0275elementStart"](46,"label",22),i["\u0275\u0275text"](47),i["\u0275\u0275pipe"](48,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](49,"textarea",23),i["\u0275\u0275listener"]("ngModelChange",function(t){return e.affiliation.affiliationDetails=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](50,"div",24),i["\u0275\u0275elementStart"](51,"button",25),i["\u0275\u0275text"](52),i["\u0275\u0275pipe"](53,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275reference"](8),n=i["\u0275\u0275reference"](27);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"](" ",e.affiliation.contactAffiliationID?"Update":"Add"," ","PEOPLE.AFFILIATION"," "),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("avnonLoader",e.loading),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](13,30,"PEOPLE.AFFILIATION-TYPE")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.affiliation.contactAffiliationTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](17,32,"COMMON.PLEASE-SELECT")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.types),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===(null==e.affiliation?null:e.affiliation.contactAffiliationTypeID)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===(null==e.affiliation?null:e.affiliation.contactAffiliationTypeID)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",3===(null==e.affiliation?null:e.affiliation.contactAffiliationTypeID)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",!e.affiliation.contactAffiliationTypeID||i["\u0275\u0275pureFunction0"](44,T).includes(e.affiliation.contactAffiliationTypeID)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===e.affiliation.contactAffiliationTypeID),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",e.company)("ngbTypeahead",e.companySearch)("resultTemplate",n)("inputFormatter",e.companyFormatter),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](32,34,"PEOPLE.PLEASE-SELECT-MEMBERSHIP-STATUS")," *"),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.affiliation.contactAffiliationStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",1),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](36,36,"COMMON.ACTIVE")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](39,38,"COMMON.NOT-ACTIVE")),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",!e.affiliation.contactAffiliationTypeID||i["\u0275\u0275pureFunction0"](45,L).includes(e.affiliation.contactAffiliationTypeID)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",3===e.affiliation.contactAffiliationTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.affiliation.affiliationNumber),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](48,40,"PEOPLE.STATE-CATEGORY-SUB-CATEGORY-AFFILIATED-TO")," with"),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.affiliation.affiliationDetails),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",t.invalid||e.loading||!e.newCompanyName.length),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](53,42,"COMMON.SUBMIT")," ")}},directives:[x.a,S.E,S.r,S.s,S.B,S.A,S.q,S.t,S.v,S.D,E.m,E.n,S.b,g.E,g.n],pipes:[b.c],styles:["ngb-typeahead-window{width:100%;overflow-y:auto;max-height:200px}  ngb-typeahead-window .dropdown-item{display:flex;align-items:center}  ngb-typeahead-window .dropdown-item .logo{width:64px;height:64px;display:flex;align-items:center}  ngb-typeahead-window .dropdown-item img{max-width:64px;max-height:64px}  ngb-typeahead-window .dropdown-item .meta-data{display:flex;flex-direction:column;margin-left:12px}.affiliation-body[_ngcontent-%COMP%]{max-height:80vh;overflow-x:hidden;overflow-y:auto}"]}),t})();var j=n("8J6U");function F(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"a",6),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"](2).addAffiliation()}),i["\u0275\u0275element"](1,"span",7),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"]()}2&t&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,1,"COMMON.ADD")," "))}function B(t,e){if(1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",2),i["\u0275\u0275elementStart"](2,"div",3),i["\u0275\u0275elementStart"](3,"h1",4),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,F,4,3,"a",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](5,2,"PEOPLE.AFFILIATIONS")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.contact&&t.contact.contactID===t.contactID)}}function V(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",18),i["\u0275\u0275elementStart"](1,"div",19),i["\u0275\u0275listener"]("click",function(t){return t.stopPropagation()}),i["\u0275\u0275elementStart"](2,"button",20),i["\u0275\u0275element"](3,"span",21),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"ul",22),i["\u0275\u0275elementStart"](5,"li"),i["\u0275\u0275elementStart"](6,"a",23),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](t);const e=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](2).updateAffiliation(e)}),i["\u0275\u0275text"](7),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"li"),i["\u0275\u0275elementStart"](10,"a",23),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](t);const e=i["\u0275\u0275nextContext"](),n=e.$implicit,a=e.index;return i["\u0275\u0275nextContext"](2).onDeleteAffiliation(n,a)}),i["\u0275\u0275text"](11),i["\u0275\u0275pipe"](12,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&t&&(i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](8,2,"COMMON.EDIT")," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](12,4,"COMMON.DELETE")," "))}function R(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"p",24),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](t.affiliationDetails)}}function $(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"span",12),i["\u0275\u0275element"](2,"img",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",14),i["\u0275\u0275elementStart"](4,"h2"),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,V,13,6,"div",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",16),i["\u0275\u0275elementStart"](8,"span"),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"div"),i["\u0275\u0275template"](11,R,2,1,"p",17),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit,n=e.index,a=i["\u0275\u0275nextContext"](2);i["\u0275\u0275classProp"]("border-0",0===n||a.affiliations.length-1===n),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",t.companyLogo?a.blobURL+t.companyLogo:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](t.affiliation),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",a.contactID&&a.contact.contactID===a.contactID),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](null==t?null:t.affiliationNumber),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.affiliationDetails)}}function U(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",25),i["\u0275\u0275elementStart"](1,"p"),i["\u0275\u0275elementStart"](2,"a",26),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"](2).addAffiliation()}),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"span",16),i["\u0275\u0275text"](6),i["\u0275\u0275pipe"](7,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&t&&(i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](4,2,"COMMON.CLICK-HERE")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](7,4,"PEOPLE.TO-ADD-PROFESSIONAL-CERT-LICENSING")," "))}function Q(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"div",8),i["\u0275\u0275template"](1,$,12,7,"div",9),i["\u0275\u0275template"](2,U,8,6,"div",10),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.affiliations),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.affiliations.length&&t.contact&&t.contact.contactID===t.contactID)}}let G=(()=>{class t{constructor(t,e,n){this.contactService=t,this.userService=e,this.modal=n,this.affiliationAdded=new i.EventEmitter,this.affiliations=[],this.blobURL=a.a.apiBlobUrl+"/256px/",this.user=this.userService.user.getValue(),this.contactID=this.user.contactID}ngOnInit(){this.contact?this.fillAffiliaion():this.fillContact()}fillContact(){this.contactService.getContactProfile(this.masterContactID).subscribe(t=>{this.contact=t[0],this.fillAffiliaion()})}fillAffiliaion(){this.contactService.getAffiliation(this.contact.contactID,0,0).subscribe(t=>{this.affiliations=t,this.affiliationAdded.emit(this.affiliations)})}addAffiliation(){this.modal.open(q).result.then(t=>{t&&(this.affiliations.push(t),this.affiliationAdded.emit(this.affiliations))})}updateAffiliation(t){const e=this.modal.open(q);e.componentInstance.affiliation=Object(j.l)(this.affiliations[t]),e.result.then(e=>{e&&(this.affiliations[t]=e)})}onDeleteAffiliation(t,e){const n=this.modal.open(o.a,{backdrop:"static"});n.componentInstance.objectType="Affiliation",n.componentInstance.objectDetails=t.affiliation,n.result.then(n=>{n&&"Yes"===n&&this.deleteAffiliation(t,e)})}deleteAffiliation(t,e){this.contactService.deleteAffiliation(t.contactAffiliationID).subscribe(()=>{this.affiliations.splice(e,1),this.affiliationAdded.emit(this.affiliations)})}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](y.a),i["\u0275\u0275directiveInject"](I.a),i["\u0275\u0275directiveInject"](g.p))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["app-contact-affiliation"]],inputs:{contact:"contact",masterContactID:"masterContactID"},outputs:{affiliationAdded:"affiliationAdded"},decls:2,vars:2,consts:[[4,"ngIf"],["class","mb-4",4,"ngIf"],[1,"section","section-alt","alt-bordered","filter-container"],[1,"d-flex","align-items-center"],[1,"mr-auto","mb-0"],["class","text-dark d-flex align-items-center",3,"click",4,"ngIf"],[1,"text-dark","d-flex","align-items-center",3,"click"],[1,"plus-ico-2"],[1,"mb-4"],["class","entry pb-3",3,"border-0",4,"ngFor","ngForOf"],["class","entry pb-3 border-0",4,"ngIf"],[1,"entry","pb-3"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","Avatar",1,"img-fluid","img-48",3,"src"],[1,"d-flex"],["class","actions",4,"ngIf"],[1,"meta"],["class","mb-0",4,"ngIf"],[1,"actions"],[1,"dropdown","ml-2",3,"click"],["type","button","id","dd1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["aria-labelledby","dd1",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"mb-0"],[1,"entry","pb-3","border-0"],[1,"text-primary",3,"click"]],template:function(t,e){1&t&&(i["\u0275\u0275template"](0,B,7,4,"ng-container",0),i["\u0275\u0275template"](1,Q,3,2,"div",1)),2&t&&(i["\u0275\u0275property"]("ngIf",e.contact&&e.contact.contactID===e.contactID||e.affiliations.length>0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.contact&&e.contact.contactID===e.contactID||e.affiliations.length>0))},directives:[E.n,E.m],pipes:[b.c],styles:[""]}),t})()},N8qd:function(t,e,n){"use strict";n.d(e,"a",function(){return ge});var i=n("ofXK"),a=n("3Pt+"),o=n("+kYu"),r=n("oAWB"),c=n("6pDZ"),l=n("j4PG"),s=n("pr+S"),p=n("GKkB"),d=n("4Ptv"),m=n("ZLSo"),u=n("1kSV"),f=n("GTGJ"),h=n("tyNb"),g=n("AytR"),y=n("8stm"),v=n("1G5W"),I=n("eIep"),x=n("XNiG"),S=n("LRne"),E=n("cp0P"),b=n("tk/3"),C=n("8J6U"),D=n("4CJs"),w=n("w6ya"),O=n("VgRj"),k=n("3DXX"),M=n("fXoL"),P=n("WhH8"),N=n("5eHb");const A=function(){return{standalone:!0}};let T=(()=>{class t{constructor(t,e,n){this.ngbActiveModal=t,this.contactService=e,this.toastrService=n,this.assessorRegistrationNumber="",this.contactCompanyID=0}ngOnInit(){this.contact.assessorRegistrationNumber&&(this.assessorRegistrationNumber=this.contact.assessorRegistrationNumber)}dismiss(){this.ngbActiveModal.dismiss()}onSubmit(){this.contactService.updateAssessorRegistrationNumber({contactCompanyID:15933,assessorRegistrationNumber:this.assessorRegistrationNumber}).subscribe(()=>{this.toastrService.success("Assessor registraction number updated")})}}return t.\u0275fac=function(e){return new(e||t)(M["\u0275\u0275directiveInject"](u.a),M["\u0275\u0275directiveInject"](P.a),M["\u0275\u0275directiveInject"](N.b))},t.\u0275cmp=M["\u0275\u0275defineComponent"]({type:t,selectors:[["app-edit-assessor-reg-number"]],decls:15,vars:4,consts:[[1,"modal-header"],["id","postModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],["for","certicateSelected"],["type","text","required","","placeholder","Assessor number",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,e){1&t&&(M["\u0275\u0275elementStart"](0,"div",0),M["\u0275\u0275elementStart"](1,"h5",1),M["\u0275\u0275text"](2," Edit Assessor Registration Number "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"button",2),M["\u0275\u0275listener"]("click",function(){return e.dismiss()}),M["\u0275\u0275elementStart"](4,"span",3),M["\u0275\u0275text"](5,"\xd7"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"div",4),M["\u0275\u0275elementStart"](7,"form"),M["\u0275\u0275elementStart"](8,"div",5),M["\u0275\u0275elementStart"](9,"label",6),M["\u0275\u0275text"](10,"Assessor Number"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"input",7),M["\u0275\u0275listener"]("ngModelChange",function(t){return e.assessorRegistrationNumber=t}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"div",8),M["\u0275\u0275elementStart"](13,"button",9),M["\u0275\u0275listener"]("click",function(){return e.onSubmit()}),M["\u0275\u0275text"](14," Update "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&t&&(M["\u0275\u0275advance"](11),M["\u0275\u0275property"]("ngModel",e.assessorRegistrationNumber)("ngModelOptions",M["\u0275\u0275pureFunction0"](3,A)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("disabled",0===e.assessorRegistrationNumber.length))},directives:[a.E,a.r,a.s,a.b,a.A,a.q,a.t],styles:[""]}),t})();var L=n("Dhwl"),q=n("Wgwc"),j=n("BN3N"),F=n("kmKP"),B=n("esnG"),V=n("SVtl"),R=n("S2+F"),$=n("1bi4"),U=n("9nlD"),Q=n("XAmU"),G=n("FvYy"),_=n("f3yp"),H=n("SdWN"),z=n("CEMh"),W=n("sYmb");const Y=["fileInput"];function X(t,e){if(1&t&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275text"](1),M["\u0275\u0275elementContainerEnd"]()),2&t){const t=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" @",null==t.contact?null:t.contact.firstName," ")}}function K(t,e){1&t&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275text"](1," Settings "),M["\u0275\u0275elementContainerEnd"]())}const J=function(t){return["/explore/people",t,"mentoring"]},Z=function(){return{exact:!0}};function tt(t,e){if(1&t&&(M["\u0275\u0275elementStart"](0,"li",24),M["\u0275\u0275elementStart"](1,"a",27),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&t){const t=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("routerLink",M["\u0275\u0275pureFunction1"](5,J,t.paramContactID))("routerLinkActiveOptions",M["\u0275\u0275pureFunction0"](7,Z)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,3,"PEOPLE.MENTORING")," ")}}const et=function(t){return["/explore/people",t]};function nt(t,e){if(1&t&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"li",24),M["\u0275\u0275elementStart"](2,"a",25),M["\u0275\u0275text"](3," Profile "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](4,tt,4,8,"li",26),M["\u0275\u0275elementContainerEnd"]()),2&t){const t=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("routerLinkActiveOptions",M["\u0275\u0275pureFunction0"](3,Z))("routerLink",M["\u0275\u0275pureFunction1"](4,et,t.paramContactID)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",t.mentoringAvailable&&1===t.user.userGroupID)}}const it=function(t){return["/explore/people",t,"reset-password"]};function at(t,e){if(1&t&&(M["\u0275\u0275elementStart"](0,"li",24),M["\u0275\u0275elementStart"](1,"a",27),M["\u0275\u0275text"](2," Reset Password "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&t){const t=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("routerLink",M["\u0275\u0275pureFunction1"](2,it,t.paramContactID))("routerLinkActiveOptions",M["\u0275\u0275pureFunction0"](4,Z))}}const ot=function(t){return["/explore/people",t,"preferences"]};function rt(t,e){if(1&t&&(M["\u0275\u0275elementStart"](0,"li",24),M["\u0275\u0275elementStart"](1,"a",27),M["\u0275\u0275text"](2," Preferences "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&t){const t=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("routerLink",M["\u0275\u0275pureFunction1"](2,ot,t.paramContactID))("routerLinkActiveOptions",M["\u0275\u0275pureFunction0"](4,Z))}}function ct(t,e){if(1&t&&(M["\u0275\u0275elementStart"](0,"li",24),M["\u0275\u0275elementStart"](1,"a",27),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&t){const t=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("routerLink",M["\u0275\u0275pureFunction1"](5,J,t.paramContactID))("routerLinkActiveOptions",M["\u0275\u0275pureFunction0"](7,Z)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,3,"PEOPLE.MENTORING")," ")}}function lt(t,e){if(1&t&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"li",24),M["\u0275\u0275elementStart"](2,"a",25),M["\u0275\u0275text"](3," My Profile "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](4,at,3,5,"li",26),M["\u0275\u0275template"](5,rt,3,5,"li",26),M["\u0275\u0275template"](6,ct,4,8,"li",26),M["\u0275\u0275elementContainerEnd"]()),2&t){const t=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("routerLinkActiveOptions",M["\u0275\u0275pureFunction0"](5,Z))("routerLink",M["\u0275\u0275pureFunction1"](6,et,t.paramContactID)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",t.mentoringAvailable&&1===t.user.userGroupID),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.mentoringAvailable&&1===t.user.userGroupID),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.mentoringAvailable&&1===t.user.userGroupID)}}function st(t,e){if(1&t){const t=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",28),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](t),M["\u0275\u0275nextContext"]().invite()}),M["\u0275\u0275text"](1," Invite "),M["\u0275\u0275elementEnd"]()}}function pt(t,e){if(1&t){const t=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",28),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](t),M["\u0275\u0275nextContext"]().editProfile()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}2&t&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"PEOPLE.EDIT-PROFILE")," "))}function dt(t,e){1&t&&M["\u0275\u0275element"](0,"app-spinner")}function mt(t,e){if(1&t){const t=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",29),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](t),M["\u0275\u0275nextContext"]().follow()}),M["\u0275\u0275template"](1,dt,1,0,"app-spinner",4),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"]()}if(2&t){const t=M["\u0275\u0275nextContext"]();M["\u0275\u0275property"]("disabled",t.followRequest),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.followRequest),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,3,"PEOPLE.FOLLOW")," ")}}function ut(t,e){1&t&&M["\u0275\u0275element"](0,"app-spinner")}function ft(t,e){if(1&t){const t=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",30),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](t),M["\u0275\u0275nextContext"]().unFollow()}),M["\u0275\u0275template"](1,ut,1,0,"app-spinner",4),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"]()}if(2&t){const t=M["\u0275\u0275nextContext"]();M["\u0275\u0275property"]("disabled",t.followRequest),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.followRequest),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,3,"PEOPLE.FOLLOWING")," ")}}function ht(t,e){if(1&t){const t=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",31),M["\u0275\u0275elementStart"](1,"div",32),M["\u0275\u0275listener"]("click",function(t){return t.stopPropagation()}),M["\u0275\u0275elementStart"](2,"button",33),M["\u0275\u0275element"](3,"span",34),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"ul",35),M["\u0275\u0275elementStart"](5,"li"),M["\u0275\u0275elementStart"](6,"a",36),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](t),M["\u0275\u0275nextContext"]().editAssessorNumber()}),M["\u0275\u0275text"](7),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}2&t&&(M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](8,1,"PEOPLE.EDIT-ASSESSOR-REG-NO")," "))}function gt(t,e){if(1&t&&(M["\u0275\u0275elementStart"](0,"span",22),M["\u0275\u0275element"](1,"i",23),M["\u0275\u0275text"](2),M["\u0275\u0275elementEnd"]()),2&t){const t=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",null==t.contact?null:t.contact.city," ")}}const yt=function(){return["image/*"]};let vt=(()=>{class t{constructor(t,e,n,i,a,o,r,c,l,s,p,d,m,u){this.userService=t,this.activatedRoute=e,this.router=n,this.documentsService=i,this.modal=a,this.networkService=o,this.signalRService=r,this.distributionService=c,this.notificationService=l,this.toastrService=s,this.contactService=p,this.location=d,this.discussionService=m,this.changeDetectorRef=u,this.skills=[],this.apiBlob=g.a.apiBlobUrl+"/",this.followers=[],this.destroy$=new x.a,this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID}ngOnInit(){this.hideContactData=this.router.url.includes("preferences")||this.router.url.includes("reset-password"),this.userService.ecosystemNavigation.next(!0),this.userService.fullSearchWidth.next(!0),this.activatedRoute.params.subscribe(t=>{this.paramContactID=+t.contactID,this.contact&&(this.mentoringAvailable=!1,this.contact=null,this.skills=[]),this.initContact(),this.fillSkills(),this.mentoringTabCheck(),this.contactID!==this.paramContactID&&this.checkFollowing()}),this.router.events.pipe(Object(v.a)(this.destroy$)).subscribe(t=>{t instanceof h.b&&(this.hideContactData=this.router.url.includes("preferences")||this.router.url.includes("reset-password"))}),this.userService.filterToggle.pipe(Object(v.a)(this.destroy$)).subscribe(t=>{this.toggleFilter=!this.toggleFilter&&t})}initContact(){this.loading=!0,this.contactService.getContactList("0",this.paramContactID,0).subscribe(t=>{this.contact=t[0],this.contactService.loadContactDetail(this.contact),this.loading=!1})}fillSkills(){this.contactService.getContactSpeciality(this.paramContactID,0).subscribe(t=>{this.skills=t})}back(){this.location.back()}editProfile(){const t=this.modal.open(y.a,{size:"lg"});t.componentInstance.contact=this.contact,t.componentInstance.contactType=4,t.componentInstance.actionType="Edit",t.componentInstance.hideCompany=!0,t.result.then(t=>{t&&(this.contact=t,this.user.contactID===this.contact.contactID&&(this.user.profilePhoto=this.contact.profilePhoto,this.user.surname=this.contact.surname,this.user.firstName=this.contact.firstName,this.user.emailAddress=this.contact.emailAddress,this.userService.user.next(this.user)),this.contactService.loadContactDetail(this.contact),this.changeDetectorRef.detectChanges())},()=>{})}editAssessorNumber(){this.modal.open(T,{size:"lg"}).componentInstance.contact=this.contact}mentoringTabCheck(){let t=[];this.networkService.getNetwork(0,0,0,0,this.companyID,0,2).pipe(Object(I.a)(e=>(t=e,e.length>0?this.networkService.getNetworkMember(e[0].networkID,1,0,this.paramContactID,0):Object(S.a)([])))).subscribe(e=>{this.mentoringAvailable=e.length>0,this.mentorNetworkAvailable=t.length>0,this.mentorNetwork=t[0]||null})}fileChangeEvent(t){t.target.files[0]&&(this.profileFile=t.target.files[0],this.insertDocument())}insertDocument(){this.profileProcessing=!0;const t=new FormData;t.append("image",this.profileFile,this.profileFile.name),this.documentsService.insertDocument(t,3,this.contact.contactID,this.companyID,1,0).subscribe(t=>{if(t.type===b.e.Response){console.log(t);const e=t.body[0];e.documentID&&(this.contact.profilePhoto=e.documentPath,this.contactService.loadContactDetail(this.contact),this.user.profilePhoto=e.documentPath,this.userService.user.next(this.user),this.profileProcessing=!1,this.fileInput.nativeElement.value="")}},()=>{this.fileInput.nativeElement.value="",this.toastrService.warning("Cannot update profile photo"),this.profileProcessing=!1})}follow(){this.followRequest=!0;const t={contactID:this.paramContactID,companyID:this.companyID,submittedByContactID:this.contactID,referenceID:0,contactConnectCategoryID:1,dateConnected:Object(C.a)(new Date),connectUntil:"",contactConnectDetail:"Follow",contactConnectStatusID:1};this.contactService.createContactConnected(t).subscribe(t=>{t.contactConnectID=t.inOut_Output,this.followStatus=t,this.notifyFollow(),this.followRequest=!1})}unFollow(){this.followRequest=!0,this.contactService.deleteContactConnect(this.followStatus.contactID).subscribe(()=>{this.followStatus=null,this.followRequest=!1})}notifyFollow(){const t=`${this.user.firstName} ${this.user.surname}| is following you.`,e={notificationCategoryID:w.a.follow_request,referenceID:this.contactID,contactID:this.paramContactID,description:t,createdContact:this.contactID},n={date:Object(C.a)(new Date),body:t.replace("|",""),topic:t.replace("|",""),senderFullName:"",senderPhoto:"",notificationId:Math.floor(1e3*Math.random()),channel:"dashboard",reference:e.referenceID,notificationType:D.a.other,senderId:e.createdContact,receivers:[e.contactID],uniqueId:"0",discussionId:0},i=O.a.fullDomain()+"/explore/people",a={distributionTitle:"You have a new follower!",distributionCategoryID:16,referenceID:this.contactID,distributionDate:null,userID:this.contactID,emailBody:k.a.template(`\n\t\t\t<p>Hi ${this.contact.firstName}</p>\n\t\t\t<p>You have a new follower! </p>\n\t\t\t<p>Click on Ecosystem > People > My Followers to find out more.</p>\n\t\t\t<p><span class="btn btn-primary" style="margin: 0; padding: 0"><a href="${i}">Read More</a></span></p>\n\t\t\t<br>\n\t\t\t<br>\n\t\t`),subjectLine:"You have a new follower!",senderEmail:"info@incubatorportal.com",senderName:this.user.firstName,replyTo:null,contacts:[this.paramContactID]};this.distributionService.create(a).subscribe(),this.notificationService.noticeNotification(e).subscribe(()=>{this.signalRService.transferMessage("dashboard",n)})}checkFollowing(){this.followLoading=!0,this.contactService.contactFollowers(this.paramContactID).subscribe(t=>{this.followers=t,this.followStatus=t.find(t=>t.contactID===this.contactID),this.followLoading=!1})}invite(){const t=this.modal.open(L.a);t.componentInstance.isRequired=!1,t.componentInstance.label="Comment",t.componentInstance.header="Invite to mentor network",t.result.then(t=>{this.mentorNetworkEmail(t)})}mentorNetworkEmail(t){this.loading=!0;const e=O.a.fullDomain()+"/company/"+this.companyID,n={distributionTitle:this.user.companyName+" mentor network invitation",distributionCategoryID:20,referenceID:this.companyID,distributionDate:null,userID:this.user.contactID,emailBody:k.a.template(`\n\t\t\t\t\t\t<p>Hi ${this.contact.firstName}</p>\n\t\t\t\t\t\t<p>We've like to invite you to be part of our Mentor Network</p>\n\t\t\t\t\t\t<p>${t||"<br/>"}</p>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<p>About Us</p>\n\t\t\t\t\t\t<p>We're working with a range of startups from the tech industry and think your skills and experience can add a lot of value.</p>\n\t\t\t\t\t\t<p><span class="btn btn-primary" style="margin: 0; padding: 0"><a href="${e}">Learn More</a></span></p>\n\t\t\t\t\t`),subjectLine:this.user.companyName+" mentor network invitation",senderEmail:"info@incubatorportal.com",senderName:this.user.firstName,replyTo:this.user.emailAddress,contacts:[this.contact.contactID]};this.distributionService.create(n).subscribe(),this.toastrService.success("Invite has been sent"),this.createMentorChat(t)}createMentorChat(t){let e=0;this.discussionService.insertDiscussion({discussionTopic:"Mentor Network Invite",discussionCategoryID:115,isDirectMessage:!0,discussionCreatedByContactID:this.contactID,discussionBody:`<p>Hi ${this.contact.firstName}</p><p><br></p><p>We've like to invite you to be part of our Mentor Network</p><p>${t||"<br>"}</p><p><br></p><p>About Us</p><p>We're working with a range of startups from the tech industry and think your skills and experience can add a lot of value.</p>`,referenceID:this.companyID,discussionValue:20}).pipe(Object(I.a)(t=>{e=t.inOut_DiscussionID;const n={discussionID:t.discussionID,contactID:this.contactID,isAdmin:!0},i={discussionID:t.discussionID,contactID:this.contact.contactID,isAdmin:!0};return Object(E.a)(this.discussionService.addMember(n),this.discussionService.addMember(i))})).subscribe(()=>{const t={date:q().format(j.c),body:"We've like to invite you to be part of our Mentor Network",topic:"We've like to invite you to be part of our Mentor Network",senderFullName:this.user.firstName+" "+this.user.surname,channel:"dashboard",reference:e,notificationType:D.a.discussionNotification,senderId:this.companyID,receivers:[this.contact.contactID]};this.signalRService.transferMessage("dashboard",t),this.loading=!1})}ngOnDestroy(){this.contactService.loadContactDetail(null),this.userService.ecosystemNavigation.next(!1),this.userService.fullSearchWidth.next(!1),this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(M["\u0275\u0275directiveInject"](F.a),M["\u0275\u0275directiveInject"](h.a),M["\u0275\u0275directiveInject"](h.d),M["\u0275\u0275directiveInject"](B.a),M["\u0275\u0275directiveInject"](u.p),M["\u0275\u0275directiveInject"](V.a),M["\u0275\u0275directiveInject"](R.a),M["\u0275\u0275directiveInject"]($.a),M["\u0275\u0275directiveInject"](U.a),M["\u0275\u0275directiveInject"](N.b),M["\u0275\u0275directiveInject"](P.a),M["\u0275\u0275directiveInject"](i.j),M["\u0275\u0275directiveInject"](Q.a),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef))},t.\u0275cmp=M["\u0275\u0275defineComponent"]({type:t,selectors:[["app-people-detail"]],viewQuery:function(t,e){if(1&t&&M["\u0275\u0275viewQuery"](Y,!0),2&t){let t;M["\u0275\u0275queryRefresh"](t=M["\u0275\u0275loadQuery"]())&&(e.fileInput=t.first)}},decls:37,vars:33,consts:[[1,"d-flex","w-100","min-full-height"],[1,"left-hand-filter","d-flex","flex-column","pt-4","pl-2","pr-2",3,"click"],[1,"d-flex","flex-column","w-100","inner-container",3,"click"],[1,"pl-3","pr-3","mt-4"],[4,"ngIf"],[1,"nav","flex-column","filter-menu"],[1,"d-flex","flex-column","flex-grow-1"],[1,"page-header","border-bottom",3,"hidden"],[1,"profile-photos","img-bottom-border"],[1,"w-100",3,"referenceID","documentCategoryID","fileTypes","canEdit"],[1,"user-photo"],["alt","logo",1,"img-fluid","profile-user","cover",3,"src"],[1,"bottom-actions","d-flex","justify-content-end","align-items-center"],["class","btn btn-sm btn-outline-primary mr-3 mt-3",3,"click",4,"ngIf"],["class","btn btn-primary btn-sm mr-3 mt-3",3,"disabled","click",4,"ngIf"],["class","btn btn-outline-primary btn-sm mr-3 mt-3",3,"disabled","click",4,"ngIf"],["class","actions mr-3 mt-3",4,"ngIf"],[1,"profile-overview"],[1,"meta","mb-2"],[1,"mb-0"],[1,"icon-list"],["class","text-muted other mt-2 mr-4",4,"ngIf"],[1,"text-muted","other","mt-2","mr-4"],[1,"fas","fa-map-marker-alt"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link","cursor-pointer",3,"routerLinkActiveOptions","routerLink"],["class","nav-item",4,"ngIf"],["routerLinkActive","active",1,"nav-link",3,"routerLink","routerLinkActiveOptions"],[1,"btn","btn-sm","btn-outline-primary","mr-3","mt-3",3,"click"],[1,"btn","btn-primary","btn-sm","mr-3","mt-3",3,"disabled","click"],[1,"btn","btn-outline-primary","btn-sm","mr-3","mt-3",3,"disabled","click"],[1,"actions","mr-3","mt-3"],[1,"dropdown","ml-2",3,"click"],["type","button","id","dd1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["aria-labelledby","dd1",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"]],template:function(t,e){1&t&&(M["\u0275\u0275elementStart"](0,"div",0),M["\u0275\u0275elementStart"](1,"div",1),M["\u0275\u0275listener"]("click",function(){return e.toggleFilter=!1}),M["\u0275\u0275elementStart"](2,"div",2),M["\u0275\u0275listener"]("click",function(t){return t.stopPropagation()}),M["\u0275\u0275elementStart"](3,"h3",3),M["\u0275\u0275template"](4,X,2,1,"ng-container",4),M["\u0275\u0275template"](5,K,2,0,"ng-container",4),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"ul",5),M["\u0275\u0275template"](7,nt,5,6,"ng-container",4),M["\u0275\u0275template"](8,lt,7,8,"ng-container",4),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"div",6),M["\u0275\u0275elementStart"](10,"div",7),M["\u0275\u0275elementStart"](11,"div",8),M["\u0275\u0275element"](12,"app-banner",9),M["\u0275\u0275elementStart"](13,"div",10),M["\u0275\u0275element"](14,"img",11),M["\u0275\u0275pipe"](15,"avatar"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"div",12),M["\u0275\u0275template"](17,st,2,0,"button",13),M["\u0275\u0275template"](18,pt,3,3,"button",13),M["\u0275\u0275template"](19,mt,4,5,"button",14),M["\u0275\u0275template"](20,ft,4,5,"button",15),M["\u0275\u0275template"](21,ht,9,3,"div",16),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](22,"div",17),M["\u0275\u0275elementStart"](23,"h2"),M["\u0275\u0275text"](24),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](25,"span",18),M["\u0275\u0275text"](26),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](27,"p",19),M["\u0275\u0275text"](28),M["\u0275\u0275pipe"](29,"ellipsis"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](30,"div",20),M["\u0275\u0275template"](31,gt,3,1,"span",21),M["\u0275\u0275elementStart"](32,"span",22),M["\u0275\u0275element"](33,"i",23),M["\u0275\u0275text"](34),M["\u0275\u0275pipe"](35,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](36,"router-outlet"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&t&&(M["\u0275\u0275advance"](1),M["\u0275\u0275classProp"]("toggled",e.toggleFilter),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",e.paramContactID!==e.contactID),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",e.paramContactID===e.contactID),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",e.paramContactID!==e.contactID),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",e.paramContactID===e.contactID),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("hidden",e.hideContactData),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("referenceID",e.paramContactID)("documentCategoryID",32)("fileTypes",M["\u0275\u0275pureFunction0"](32,yt))("canEdit",(null==e.contact?null:e.contact.contactID)===e.contactID),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("src",M["\u0275\u0275pipeBind1"](15,25,null==e.contact?null:e.contact.profilePhoto),M["\u0275\u0275sanitizeUrl"]),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",(null==e.contact?null:e.contact.contactID)!==e.contactID&&!e.mentoringAvailable&&e.mentorNetworkAvailable),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",(null==e.contact?null:e.contact.contactID)===e.contactID),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",e.contact&&e.contact.contactID!==e.contactID&&!e.followStatus),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",e.contact&&e.contact.contactID!==e.contactID&&e.followStatus),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",4092===e.companyID),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate2"]("",null==e.contact?null:e.contact.firstName," ",null==e.contact?null:e.contact.surname,""),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate2"]("@",null==e.contact?null:e.contact.firstName," ",null==e.contact?null:e.contact.surname,""),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind2"](29,27,null==e.contact?null:e.contact.headline,150)),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",null==e.contact?null:e.contact.city),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate2"](" ",e.followers.length," ",M["\u0275\u0275pipeBind1"](35,30,"PEOPLE.FOLLOWERS")," "))},directives:[i.n,G.a,h.i,h.g,h.f,_.a],pipes:[H.a,z.a,W.c],styles:[".join-toggle[_ngcontent-%COMP%]{background-image:none!important;background-size:0!important}.join-toggle[_ngcontent-%COMP%]:after, .join-toggle[_ngcontent-%COMP%]:before{display:none}.people-profile-container[_ngcontent-%COMP%]{max-width:600px;width:100%;flex:1;min-height:calc(100vh - 55px)}"]}),t})();var It=n("ev4g"),xt=n("Hu2X"),St=n("Jn3s"),Et=n("rHmi"),bt=n("3ue2"),Ct=n("7QSv"),Dt=n("L7Ou");function wt(t,e){if(1&t){const t=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"app-contact-work-history",8),M["\u0275\u0275listener"]("workAdded",function(e){return M["\u0275\u0275restoreView"](t),M["\u0275\u0275nextContext"]().onWorkAdded(e)}),M["\u0275\u0275elementEnd"]()}if(2&t){const t=M["\u0275\u0275nextContext"]();M["\u0275\u0275property"]("contact",t.contact)}}function Ot(t,e){if(1&t&&M["\u0275\u0275element"](0,"app-contact-skills",9),2&t){const t=M["\u0275\u0275nextContext"]();M["\u0275\u0275property"]("contact",t.contact)}}function kt(t,e){if(1&t){const t=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"app-contact-qualification-component",10),M["\u0275\u0275listener"]("qualificationAdded",function(e){return M["\u0275\u0275restoreView"](t),M["\u0275\u0275nextContext"]().onQualificationAdd(e)}),M["\u0275\u0275elementEnd"]()}if(2&t){const t=M["\u0275\u0275nextContext"]();M["\u0275\u0275property"]("contact",t.contact)}}function Mt(t,e){if(1&t){const t=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"app-contact-affiliation",11),M["\u0275\u0275listener"]("affiliationAdded",function(e){return M["\u0275\u0275restoreView"](t),M["\u0275\u0275nextContext"]().onAffiliationAdd(e)}),M["\u0275\u0275elementEnd"]()}if(2&t){const t=M["\u0275\u0275nextContext"]();M["\u0275\u0275property"]("contact",t.contact)}}function Pt(t,e){1&t&&M["\u0275\u0275element"](0,"i",18)}function Nt(t,e){if(1&t&&(M["\u0275\u0275elementStart"](0,"p",16),M["\u0275\u0275template"](1,Pt,1,0,"i",17),M["\u0275\u0275text"](2),M["\u0275\u0275elementEnd"]()),2&t){const t=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.boardTaskStatus),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" Your profile is ",t.boardTaskStatus?"complete, please click Done":"incomplete",". ")}}function At(t,e){if(1&t){const t=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",19),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](t),M["\u0275\u0275nextContext"](2).boardTaskVerification()}),M["\u0275\u0275text"](1,"Done "),M["\u0275\u0275elementEnd"]()}if(2&t){const t=M["\u0275\u0275nextContext"](2);M["\u0275\u0275property"]("disabled",!t.boardTaskStatus||t.loading)}}function Tt(t,e){1&t&&M["\u0275\u0275element"](0,"i",18)}function Lt(t,e){if(1&t){const t=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"p",16),M["\u0275\u0275template"](2,Tt,1,0,"i",17),M["\u0275\u0275text"](3),M["\u0275\u0275pipe"](4,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"button",20),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](t),M["\u0275\u0275nextContext"](2).boardTaskComplete()}),M["\u0275\u0275text"](6),M["\u0275\u0275pipe"](7,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&t){const t=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",t.boardTaskStatus),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](4,4,"PEOPLE.CONFIRMING-INFO-CORRECT")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("disabled",t.loading),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](7,6,"COMMON.VERIFIED")," ")}}function qt(t,e){1&t&&M["\u0275\u0275element"](0,"i",18)}function jt(t,e){if(1&t&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"p"),M["\u0275\u0275template"](2,qt,1,0,"i",17),M["\u0275\u0275text"](3," Profile completed. "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()),2&t){const t=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",t.boardTaskStatus)}}function Ft(t,e){if(1&t&&(M["\u0275\u0275elementStart"](0,"div",12),M["\u0275\u0275template"](1,Nt,3,2,"p",13),M["\u0275\u0275template"](2,At,2,1,"button",14),M["\u0275\u0275template"](3,Lt,8,8,"ng-container",15),M["\u0275\u0275template"](4,jt,4,1,"ng-container",15),M["\u0275\u0275elementEnd"]()),2&t){const t=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.taskOwner&&t.taskOwner.contactID===t.contactID),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.taskOwner&&t.taskOwner.contactID===t.contactID&&t.contactID===t.user.contactID&&1===t.taskOwner.taskStatusID),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.taskOwner&&2===t.taskOwner.taskStatusID&&(t.task.submittedBy===t.contactID||(null==t.supporter?null:t.supporter.contactID)===t.contactID)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.taskOwner&&3===t.taskOwner.taskStatusID)}}let Bt=(()=>{class t{constructor(t,e,n,i,a,o,r,c,l,s){this.userService=t,this.activatedRoute=e,this.contactService=n,this.taskService=i,this.notificationService=a,this.signalRService=o,this.discussionService=r,this.companyService=c,this.distributionService=l,this.toastrService=s,this.workExperiences=[],this.userQualifications=[],this.affiliations=[],this.enviroserv=window.location.hostname.toLowerCase().includes("enviroserv"),this.destroy$=new x.a,this.user=this.userService.user.getValue(),this.companyID=this.user.companyID}ngOnInit(){var t;this.getCompanies(),this.taskID=+(null===(t=this.activatedRoute.parent.snapshot.queryParams)||void 0===t?void 0:t.taskID),this.activatedRoute.parent.params.subscribe(t=>{this.contactID=+t.contactID,this.taskID&&this.initTask(),this.loading=!0}),this.initContact()}initContact(){this.contactService.contactDetail.pipe(Object(v.a)(this.destroy$)).subscribe(t=>{t&&t.contactID&&(this.contact=t,this.checkBoardStatus(),this.loading=!1)})}initTask(){this.taskService.getTaskOwners(this.taskID,0,0,this.contactID).pipe(Object(I.a)(t=>(this.taskOwner=t[0]||null,this.taskOwner&&this.contactService.getContactList("0",this.taskOwner.submittedBy,0).subscribe(t=>{this.supporter=t[0]}),this.task=t[0]||null,this.task?this.discussionService.fetchDiscussions(0,0,116,0,this.task.referenceID,0):Object(S.a)([])))).subscribe(t=>{this.discussion=t[0]})}onWorkAdded(t){this.workExperiences=t,this.checkBoardStatus()}onQualificationAdd(t){this.userQualifications=t,this.checkBoardStatus()}onAffiliationAdd(t){this.affiliations=t,this.checkBoardStatus()}getCompanies(){this.companyService.getCompanyList("",0).subscribe(t=>{this.companyService.setCachedCompanies(t)})}boardTaskVerification(){this.loading=!0;const t=Object(C.l)(this.taskOwner);t.taskStatusID=2,t.dateSentForSignOff=Object(C.a)(new Date),this.taskService.updateTaskOwner(t).subscribe(()=>{this.loading=!1,this.taskOwner.taskStatusID=2,this.toastrService.success("Thanks, your profile has been submitted for verification"),this.notifyAdmin()})}notifyAdmin(){const t=`${this.taskOwner.firstName} ${this.taskOwner.surname} has completed their profile and it's ready for verification`,e=O.a.fullDomain()+"/home?discussionID="+this.discussion.discussionID+"&contactID="+this.contactID,n=`\n\t\t\t<p>Hi ${this.supporter.firstName}</p>\n\t\t\t<p>${t.replace("|","")}</p>\n\t\t\t<br>\n\t\t\t<p><span class="btn btn-primary" style="margin: 0; padding: 0"><a href="${e}">See Details</a></span></p>\n\t\t\t<br>\n\t\t`,i={distributionTitle:"Task Status Update",distributionCategoryID:null,referenceID:null,distributionDate:null,userID:this.contactID,emailBody:k.a.template(n),subjectLine:"Task Status Update",senderEmail:"info@incubatorportal.com",senderName:`${this.user.firstName} ${this.user.surname}`,replyTo:null,contacts:[this.supporter.contactID]};this.distributionService.create(i).subscribe(),this.sendAdminNotification()}sendAdminNotification(){let t,e=0;this.discussionService.insertDiscussion({discussionTopic:"Requested Sign Off",discussionCategoryID:116,isDirectMessage:!0,discussionCreatedByContactID:this.contactID,discussionBody:"Profile completed and ready for verification",referenceID:this.taskOwner.contactID,discussionValue:37,parentDiscussionID:this.discussion.discussionID}).pipe(Object(I.a)(n=>(n.discussionID=n.inOut_DiscussionID,e=n.inOut_DiscussionID,t=n,t.firstName=this.user.firstName,t.surname=this.user.surname,t.profilePhoto=this.user.profilePhoto,t.dateCreated=q().utc().format(j.c),this.discussionService.addMember({discussionID:n.discussionID,contactID:this.supporter.contactID,isAdmin:!0})))).subscribe(()=>{const t={date:q().format(j.c),body:`${this.taskOwner.firstName} ${this.taskOwner.surname} has completed their profile and it's ready for verification`,topic:`${this.taskOwner.firstName} ${this.taskOwner.surname} has completed their profile and it's ready for verification`,senderFullName:this.user.firstName+" "+this.user.surname,channel:"dashboard",reference:e,notificationType:D.a.discussionNotification,senderId:this.companyID,receivers:[this.supporter.contactID]};this.signalRService.transferMessage("dashboard",t)})}sendOwnerNotification(){let t,e=0;this.discussionService.insertDiscussion({discussionTopic:"Accepted Sign Off",discussionCategoryID:116,isDirectMessage:!0,discussionCreatedByContactID:this.contactID,discussionBody:`${this.taskOwner.firstName} ${this.taskOwner.surname}'s profile verified`,referenceID:this.taskOwner.contactID,discussionValue:38,parentDiscussionID:this.discussion.discussionID}).pipe(Object(I.a)(n=>(n.discussionID=n.inOut_DiscussionID,e=n.inOut_DiscussionID,t=n,t.firstName=this.user.firstName,t.surname=this.user.surname,t.profilePhoto=this.user.profilePhoto,t.dateCreated=q().utc().format(j.c),this.discussionService.addMember({discussionID:n.discussionID,contactID:this.taskOwner.contactID,isAdmin:!0})))).subscribe(()=>{const t={date:q().format(j.c),body:`${this.user.firstName} ${this.user.surname} has verified your profile`,topic:`${this.user.firstName} ${this.user.surname} has verified your profile`,senderFullName:this.user.firstName+" "+this.user.surname,channel:"dashboard",reference:e,notificationType:D.a.discussionNotification,senderId:this.companyID,receivers:[this.taskOwner.contactID]};this.signalRService.transferMessage("dashboard",t)})}boardTaskComplete(){this.taskOwner.taskStatusID=3,this.taskService.updateTaskOwner(this.taskOwner).subscribe(()=>{this.taskOwner.taskStatusID=3}),this.sendOwnerNotification()}checkBoardStatus(){var t,e,n;this.boardTaskStatus=!!((null===(t=this.contact)||void 0===t?void 0:t.countryID)&&(null===(e=this.contact)||void 0===e?void 0:e.city)&&(null===(n=this.contact)||void 0===n?void 0:n.profilePhoto)&&this.workExperiences.length)&&!!this.userQualifications.filter(t=>0===t.qualificationCategoryID).length}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(M["\u0275\u0275directiveInject"](F.a),M["\u0275\u0275directiveInject"](h.a),M["\u0275\u0275directiveInject"](P.a),M["\u0275\u0275directiveInject"](It.a),M["\u0275\u0275directiveInject"](U.a),M["\u0275\u0275directiveInject"](R.a),M["\u0275\u0275directiveInject"](Q.a),M["\u0275\u0275directiveInject"](xt.a),M["\u0275\u0275directiveInject"]($.a),M["\u0275\u0275directiveInject"](N.b))},t.\u0275cmp=M["\u0275\u0275defineComponent"]({type:t,selectors:[["app-people-profile"]],decls:9,vars:7,consts:[[1,"d-flex","flex-column","w-100",3,"avnonLoader"],[1,"section","section-alt","filter-container"],[1,"pre-wrap","mb-1"],[3,"contact","workAdded",4,"ngIf"],[3,"contact",4,"ngIf"],[3,"contact","qualificationAdded",4,"ngIf"],[3,"contact","affiliationAdded",4,"ngIf"],["class","d-flex w-100 pl-3 pr-3 twitter-fill pt-2 pb-2 bottom-sticky border-top",4,"ngIf"],[3,"contact","workAdded"],[3,"contact"],[3,"contact","qualificationAdded"],[3,"contact","affiliationAdded"],[1,"d-flex","w-100","pl-3","pr-3","twitter-fill","pt-2","pb-2","bottom-sticky","border-top"],["class","mr-2 mb-0",4,"ngIf"],["class","btn btn-primary ml-auto",3,"disabled","click",4,"ngIf"],[4,"ngIf"],[1,"mr-2","mb-0"],["class","fas fa-check-circle text-success mr-1 profile-complete",4,"ngIf"],[1,"fas","fa-check-circle","text-success","mr-1","profile-complete"],[1,"btn","btn-primary","ml-auto",3,"disabled","click"],[1,"ml-auto","btn-primary","btn-sm","btn","mr-2",3,"disabled","click"]],template:function(t,e){1&t&&(M["\u0275\u0275elementStart"](0,"div",0),M["\u0275\u0275elementStart"](1,"div",1),M["\u0275\u0275elementStart"](2,"p",2),M["\u0275\u0275text"](3),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](4,wt,1,1,"app-contact-work-history",3),M["\u0275\u0275template"](5,Ot,1,1,"app-contact-skills",4),M["\u0275\u0275template"](6,kt,1,1,"app-contact-qualification-component",5),M["\u0275\u0275template"](7,Mt,1,1,"app-contact-affiliation",6),M["\u0275\u0275template"](8,Ft,5,4,"div",7),M["\u0275\u0275elementEnd"]()),2&t&&(M["\u0275\u0275property"]("avnonLoader",e.loading),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](null==e.contact?null:e.contact.personalProfile),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",e.contact&&e.contact.contactID&&!e.loading),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",e.contact&&e.contact.contactID&&!e.loading),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",e.contact&&e.contact.contactID&&!e.loading),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",e.contact&&e.contact.contactID&&!e.loading&&(e.enviroserv||4092===e.user.companyID)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",e.task))},directives:[St.a,i.n,Et.a,bt.a,Ct.a,Dt.a],pipes:[W.c],styles:[".review-item[_ngcontent-%COMP%]{border-bottom:1px dotted #d5d5d5}.review-item[_ngcontent-%COMP%]:last-child{border-bottom:0}.review-item[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:48px;min-width:48px;object-fit:cover}.review-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;margin-bottom:2px;font-weight:400}.review-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.review-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}h3[_ngcontent-%COMP%]{font-size:15px}.profile-complete[_ngcontent-%COMP%]{font-size:20px!important}"]}),t})();var Vt=n("sSaZ"),Rt=n("k9EJ"),$t=n("0mlJ");const Ut=function(t,e,n,i){return{firstName:t,contractEndDate:e,totalHours:n,totalSpent:i}},Qt=function(t){return["/contract/edit",t]};function Gt(t,e){if(1&t&&(M["\u0275\u0275elementStart"](0,"div",8),M["\u0275\u0275elementStart"](1,"p",9),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275pipe"](4,"date"),M["\u0275\u0275pipe"](5,"dateObject"),M["\u0275\u0275elementStart"](6,"a",10),M["\u0275\u0275text"](7),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&t){const t=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind2"](3,3,"PEOPLE.MENTORING-STATUS",M["\u0275\u0275pureFunction4"](13,Ut,t.contract.members[0].firstName,M["\u0275\u0275pipeBind2"](4,6,M["\u0275\u0275pipeBind1"](5,9,t.contract.contractEndDate),"dd MMM yyyy"),t.contract.totalHours,t.contract.totalSpent))," "),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("routerLink",M["\u0275\u0275pureFunction1"](18,Qt,t.contract.contractID)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](8,11,"PEOPLE.EDIT-CONTRACT")," ")}}const _t=function(t,e){return{totalHours:t,totalSpentAssignment:e}};function Ht(t,e){if(1&t){const t=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"div",11),M["\u0275\u0275listener"]("click",function(){M["\u0275\u0275restoreView"](t);const n=e.$implicit;return M["\u0275\u0275nextContext"](2).navigateToAssignment(n)}),M["\u0275\u0275elementStart"](2,"span",12),M["\u0275\u0275element"](3,"img",13),M["\u0275\u0275pipe"](4,"avatar"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"h2"),M["\u0275\u0275text"](6),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"div",14),M["\u0275\u0275elementStart"](8,"span"),M["\u0275\u0275text"](9),M["\u0275\u0275pipe"](10,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"div",15),M["\u0275\u0275elementStart"](12,"p"),M["\u0275\u0275text"](13),M["\u0275\u0275pipe"](14,"ellipsis"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&t){const t=e.$implicit;M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("src",M["\u0275\u0275pipeBind1"](4,4,t.companyLogo),M["\u0275\u0275sanitizeUrl"]),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](t.companyName),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind2"](10,6,"PEOPLE.MENTORING-HOURS-SUMMARY",M["\u0275\u0275pureFunction2"](12,_t,t.totalHours||0,t.totalSpentAssignment||0))," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind2"](14,9,null==t?null:t.contractAssignmentDetail,80))}}const zt=function(t,e){return{firstName:t,length:e}};function Wt(t,e){if(1&t){const t=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275template"](1,Gt,9,20,"div",2),M["\u0275\u0275elementStart"](2,"div",3),M["\u0275\u0275elementStart"](3,"p",4),M["\u0275\u0275text"](4),M["\u0275\u0275pipe"](5,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"a",5),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](t),M["\u0275\u0275nextContext"]().assignmentDialog()}),M["\u0275\u0275element"](7,"span",6),M["\u0275\u0275text"](8),M["\u0275\u0275pipe"](9,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](10,Ht,15,15,"ng-container",7),M["\u0275\u0275elementContainerEnd"]()}if(2&t){const t=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.contract),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind2"](5,4,"PEOPLE.MENTEE-ASSIGNMENT-INFO",M["\u0275\u0275pureFunction2"](9,zt,t.contact.firstName,t.assignments.length))," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](9,7,"PEOPLE.ASSIGN-COMPANY")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngForOf",t.assignments)}}const Yt=function(t){return{firstName:t}};function Xt(t,e){if(1&t){const t=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"div",16),M["\u0275\u0275elementStart"](2,"p"),M["\u0275\u0275text"](3),M["\u0275\u0275pipe"](4,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"a",17),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](t),M["\u0275\u0275nextContext"]().addContract()}),M["\u0275\u0275text"](6),M["\u0275\u0275pipe"](7,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&t){const t=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind2"](4,2,"PEOPLE.NO-ACTIVE-MENTORING",M["\u0275\u0275pureFunction1"](7,Yt,t.contact.firstName))," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" + ",M["\u0275\u0275pipeBind1"](7,5,"PEOPLE.ADD-CONTRACT")," ")}}let Kt=(()=>{class t{constructor(t,e,n,i,a){this.contactService=t,this.contractService=e,this.modal=n,this.router=i,this.userService=a,this.assignments=[],this.apiBlobUrl=g.a.apiBlobUrl+"/",this.companyLogo="assets/img/card-placeholder.jpg",this.destroy$=new x.a,this.user=this.userService.user.getValue()}ngOnInit(){this.companyID=this.user.companyID||0,this.loading=!0,this.getContact()}getContact(){this.contactService.contactDetail.pipe(Object(v.a)(this.destroy$)).subscribe(t=>{t&&t.contactID&&(this.contact=t,this.getContracts())})}getContracts(){this.contractService.getContract(0,0,0,this.contact.contactID,0,0,0,0,this.companyID).pipe(Object(I.a)(t=>(this.contract=t[0]||null,t.length>0?this.contractService.getContractAssignment(t[0].contractID,0,0,0,0,0,0):Object(S.a)([])))).subscribe(t=>{this.assignments=Object(C.j)(t,"contractAssignmentID"),this.loading=!1})}assignmentDialog(){const t=this.modal.open(Vt.a);t.componentInstance.mentor=this.contract.members[0],t.componentInstance.contract=this.contract,t.result.then(t=>{t&&t.hasOwnProperty("status")&&this.fillAssignments()})}fillAssignments(){this.contractService.getContractAssignment(this.contract.contractID,0,0,0,0,0,0).subscribe(t=>{this.assignments=t})}navigateToAssignment(t){this.router.navigate(["/assignment",t.contractAssignmentID])}addContract(){console.log("Contact to be prepopulated: ",this.contact.contactID),this.router.navigate(["/contract/add",this.contact.contactID])}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(M["\u0275\u0275directiveInject"](P.a),M["\u0275\u0275directiveInject"](Rt.a),M["\u0275\u0275directiveInject"](u.p),M["\u0275\u0275directiveInject"](h.d),M["\u0275\u0275directiveInject"](F.a))},t.\u0275cmp=M["\u0275\u0275defineComponent"]({type:t,selectors:[["app-people-mentees"]],decls:3,vars:3,consts:[[1,"d-flex","flex-column","w-100",3,"avnonLoader"],[4,"ngIf"],["class","summary-contract d-flex w-100 pl-3 pr-3",4,"ngIf"],[1,"assignment-actions","d-flex","w-100","pl-3","pr-3"],[1,"mr-2","mb-0"],[1,"cursor-pointer","ml-auto",3,"click"],[1,"plus-ico-2"],[4,"ngFor","ngForOf"],[1,"summary-contract","d-flex","w-100","pl-3","pr-3"],[1,"mb-0"],[3,"routerLink"],[1,"entry",3,"click"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","network",1,"img-fluid","img-48",3,"src"],[1,"meta"],[1,"entry-content"],[1,"section","section-alt","filter-container"],[3,"click"]],template:function(t,e){1&t&&(M["\u0275\u0275elementStart"](0,"div",0),M["\u0275\u0275template"](1,Wt,11,12,"ng-container",1),M["\u0275\u0275template"](2,Xt,8,9,"ng-container",1),M["\u0275\u0275elementEnd"]()),2&t&&(M["\u0275\u0275property"]("avnonLoader",e.loading),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",!e.loading&&e.contract),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",!e.loading&&!e.contract))},directives:[St.a,i.n,i.m,h.g],pipes:[W.c,i.e,$t.a,H.a,z.a],styles:[".assignment-actions[_ngcontent-%COMP%]{padding-top:.7rem;padding-bottom:.75rem;border-bottom:1px solid #dfdfdf}.summary-contract[_ngcontent-%COMP%]{padding:.75rem;border-bottom:1px solid #dfdfdf}.avatar-48-square[_ngcontent-%COMP%]{height:48px}"]}),t})(),Jt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=M["\u0275\u0275defineComponent"]({type:t,selectors:[["app-people-journal"]],decls:2,vars:0,template:function(t,e){1&t&&(M["\u0275\u0275elementStart"](0,"p"),M["\u0275\u0275text"](1,"people-journal works!"),M["\u0275\u0275elementEnd"]())},styles:[""]}),t})();var Zt=n("yxZ3");function te(t,e){1&t&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275text"](1," Password field is required. "),M["\u0275\u0275elementContainerEnd"]())}function ee(t,e){1&t&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275text"](1," Minimum 8 characters is required. "),M["\u0275\u0275elementContainerEnd"]())}function ne(t,e){if(1&t&&(M["\u0275\u0275elementStart"](0,"small",15),M["\u0275\u0275template"](1,te,2,0,"ng-container",16),M["\u0275\u0275template"](2,ee,2,0,"ng-container",16),M["\u0275\u0275elementEnd"]()),2&t){const t=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==t.form.controls.password.errors?null:t.form.controls.password.errors.hasOwnProperty("required")),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==t.form.controls.password.errors?null:t.form.controls.password.errors.hasOwnProperty("minlength"))}}function ie(t,e){1&t&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275text"](1," Password field is required. "),M["\u0275\u0275elementContainerEnd"]())}function ae(t,e){1&t&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275text"](1," Minimum 8 characters is required. "),M["\u0275\u0275elementContainerEnd"]())}function oe(t,e){1&t&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275text"](1," Confirm password must match password. "),M["\u0275\u0275elementContainerEnd"]())}function re(t,e){if(1&t&&(M["\u0275\u0275elementStart"](0,"small",17),M["\u0275\u0275template"](1,ie,2,0,"ng-container",16),M["\u0275\u0275template"](2,ae,2,0,"ng-container",16),M["\u0275\u0275template"](3,oe,2,0,"ng-container",16),M["\u0275\u0275elementEnd"]()),2&t){const t=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==t.form.controls.passwordConfirm.errors?null:t.form.controls.passwordConfirm.errors.hasOwnProperty("required")),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==t.form.controls.passwordConfirm.errors?null:t.form.controls.passwordConfirm.errors.hasOwnProperty("minlength")),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==t.form.controls.passwordConfirm.errors?null:t.form.controls.passwordConfirm.errors.hasOwnProperty("mustMatch"))}}function ce(t,e){1&t&&M["\u0275\u0275element"](0,"span",18)}let le=(()=>{class t{constructor(t,e,n){this.formBuilder=t,this.toastrService=e,this.userService=n,this.user=this.userService.user.getValue(),this.userID=this.user.userID}ngOnInit(){this.initForm()}initForm(){this.form=this.formBuilder.group({password:["",[a.C.required,a.C.minLength(8)]],passwordConfirm:["",[a.C.required,a.C.minLength(8)]],userID:[this.userID]},{validators:Zt.a.mustMatch("password","passwordConfirm")})}onSubmit(){if(this.form.invalid)return;const t=this.form.value;delete t.passwordConfirm,this.loading=!0,this.userService.updatePassword(t).subscribe(()=>{this.loading=!1,this.toastrService.success("Password has been changed")},()=>{this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(M["\u0275\u0275directiveInject"](a.e),M["\u0275\u0275directiveInject"](N.b),M["\u0275\u0275directiveInject"](F.a))},t.\u0275cmp=M["\u0275\u0275defineComponent"]({type:t,selectors:[["app-people-reset-password"]],decls:21,vars:6,consts:[[1,"page-title"],[1,"display-inline"],[1,"form-page",3,"avnonLoader"],[1,"p-3",3,"formGroup","submit"],[1,"row","p-0","m-0"],[1,"form-block","p-0"],[1,"form-group"],[1,"w-100"],["type","password","name","password","formControlName","password",1,"form-control"],["id","passwordHelp","class","form-text text-danger text-left",4,"ngIf"],["type","password","name","passwordConfirm","formControlName","passwordConfirm",1,"form-control"],["id","passwordConfirmHelp","class","form-text text-danger text-left",4,"ngIf"],[1,"text-right"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["id","passwordHelp",1,"form-text","text-danger","text-left"],[4,"ngIf"],["id","passwordConfirmHelp",1,"form-text","text-danger","text-left"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&(M["\u0275\u0275elementStart"](0,"div",0),M["\u0275\u0275elementStart"](1,"h1",1),M["\u0275\u0275text"](2," Password Reset "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"div",2),M["\u0275\u0275elementStart"](4,"form",3),M["\u0275\u0275listener"]("submit",function(){return e.onSubmit()}),M["\u0275\u0275elementStart"](5,"div",4),M["\u0275\u0275elementStart"](6,"div",5),M["\u0275\u0275elementStart"](7,"div",6),M["\u0275\u0275elementStart"](8,"label",7),M["\u0275\u0275text"](9,"Password"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](10,"input",8),M["\u0275\u0275template"](11,ne,3,2,"small",9),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"div",6),M["\u0275\u0275elementStart"](13,"label",7),M["\u0275\u0275text"](14,"Confirm password"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](15,"input",10),M["\u0275\u0275template"](16,re,4,3,"small",11),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"div",12),M["\u0275\u0275elementStart"](18,"button",13),M["\u0275\u0275template"](19,ce,1,0,"span",14),M["\u0275\u0275text"](20," Submit "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&t&&(M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("avnonLoader",e.loading),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("formGroup",e.form),M["\u0275\u0275advance"](7),M["\u0275\u0275property"]("ngIf",e.form.controls.password.invalid&&e.form.controls.password.touched),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf",e.form.controls.passwordConfirm.invalid&&e.form.controls.passwordConfirm.touched),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("disabled",e.form.invalid),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",e.loading))},directives:[St.a,a.E,a.r,a.j,a.b,a.q,a.h,i.n],styles:[""]}),t})();var se=n("FhWM");function pe(t,e){if(1&t&&(M["\u0275\u0275elementStart"](0,"option",13),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;M["\u0275\u0275property"]("ngValue",t.id),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",t.title," ")}}function de(t,e){if(1&t&&(M["\u0275\u0275elementStart"](0,"option",13),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;M["\u0275\u0275property"]("ngValue",t.currencyID),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate2"](" ",t.currency,"(",t.currencySymbol,") ")}}function me(t,e){if(1&t&&(M["\u0275\u0275elementStart"](0,"option",13),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;M["\u0275\u0275property"]("ngValue",t.timezoneID),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",t.timezone," ")}}const ue=[{path:"",component:vt,children:[{path:"",component:Bt},{path:"journal",component:Jt},{path:"mentoring",component:Kt},{path:"reset-password",component:le},{path:"preferences",component:(()=>{class t{constructor(t,e,n,i,a,o,r){this.userService=t,this.formBuilder=e,this.listService=n,this.toastrService=i,this.ngbModal=a,this.location=o,this.translateService=r,this.languages=j.b,this.timezones=[],this.currencies=[],this.destroy$=new x.a,this.user=this.userService.user.getValue(),this.userID=this.user.userID,this.currencyID=this.user.currencyID||0,this.timezoneID=this.user.timeZoneID||0,this.languageID=this.user.languageID||0,this.UserGroupID=this.user.userGroupID||0}ngOnInit(){this.initData(),this.initForm(),-1!==this.languages.findIndex(t=>t.id===this.languageID)&&this.form.controls.languageID.setValue(this.languageID)}initForm(){this.form=this.formBuilder.group({languageID:["",[a.C.required]],userID:[this.userID],currencyID:[this.currencyID||"",[a.C.required]],timezoneID:[this.timezoneID||"",[a.C.required]],UserGroupID:[this.UserGroupID],disabled:[0],onboarding:[this.user.onboarding],publicProfile:[this.user.publicProfile]})}onSubmit(){this.form.invalid||(this.loading=!0,this.userService.updateUser(this.form.value).subscribe(t=>{const{languageID:e,currencyID:n,timezoneID:i}=this.form.value;localStorage.setItem("languageID",e.toString()),localStorage.setItem("currencyID",n.toString()),localStorage.setItem("timezoneID",i.toString());const a=this.languages.filter(t=>t.id===Number(e));this.translateService.use(a[0].lang),a[0]&&(this.translateService.use(a[0].lang),a[0].lang.includes("ar-SA")),this.toastrService.success("Settings updated!"),this.loading=!1},()=>{this.loading=!1,this.toastrService.error("Failed!")}))}initData(){Object(E.a)(this.listService.getTimezoneList(),this.listService.getCurrencyList()).pipe(Object(v.a)(this.destroy$)).subscribe(t=>{this.timezones=t[0]||[],this.currencies=t[1]||[]})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(M["\u0275\u0275directiveInject"](F.a),M["\u0275\u0275directiveInject"](a.e),M["\u0275\u0275directiveInject"](se.a),M["\u0275\u0275directiveInject"](N.b),M["\u0275\u0275directiveInject"](u.p),M["\u0275\u0275directiveInject"](i.j),M["\u0275\u0275directiveInject"](W.d))},t.\u0275cmp=M["\u0275\u0275defineComponent"]({type:t,selectors:[["app-people-preferences"]],decls:40,vars:22,consts:[[1,"page-title"],[1,"display-inline"],[1,"form-page",3,"avnonLoader"],[1,"p-3",3,"formGroup","submit"],[1,"row","p-0","m-0"],[1,"form-block","p-0"],[1,"form-group"],["for","languageID"],["formControlName","languageID","id","languageID",1,"form-control"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["for","currencyID"],["formControlName","currencyID","id","currencyID",1,"form-control"],[3,"ngValue"],["formControlName","timezoneID","id","timezoneID",1,"form-control"],[1,"form-group","form-group-block"],[1,"d-flex","justify-content-end"],[1,"btn","btn-primary",3,"disabled"]],template:function(t,e){1&t&&(M["\u0275\u0275elementStart"](0,"div",0),M["\u0275\u0275elementStart"](1,"h1",1),M["\u0275\u0275text"](2," Preferences "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"div",2),M["\u0275\u0275elementStart"](4,"form",3),M["\u0275\u0275listener"]("submit",function(){return e.onSubmit()}),M["\u0275\u0275elementStart"](5,"div",4),M["\u0275\u0275elementStart"](6,"div",5),M["\u0275\u0275elementStart"](7,"div",6),M["\u0275\u0275elementStart"](8,"label",7),M["\u0275\u0275text"](9),M["\u0275\u0275pipe"](10,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"select",8),M["\u0275\u0275elementStart"](12,"option",9),M["\u0275\u0275text"](13,"Select language"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](14,pe,2,2,"option",10),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](15,"div",6),M["\u0275\u0275elementStart"](16,"label",11),M["\u0275\u0275text"](17),M["\u0275\u0275pipe"](18,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"select",12),M["\u0275\u0275elementStart"](20,"option",13),M["\u0275\u0275text"](21,"Select currency"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](22,"option",13),M["\u0275\u0275text"](23,"Not Applicable"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](24,de,2,3,"option",10),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](25,"div",6),M["\u0275\u0275elementStart"](26,"label",11),M["\u0275\u0275text"](27),M["\u0275\u0275pipe"](28,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](29,"select",14),M["\u0275\u0275elementStart"](30,"option",13),M["\u0275\u0275text"](31,"Select timezone"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](32,"option",13),M["\u0275\u0275text"](33,"Not Applicable"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](34,me,2,2,"option",10),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](35,"div",15),M["\u0275\u0275elementStart"](36,"div",16),M["\u0275\u0275elementStart"](37,"button",17),M["\u0275\u0275text"](38),M["\u0275\u0275pipe"](39,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&t&&(M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("avnonLoader",e.loading),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("formGroup",e.form),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](10,14,"USER-SETTINGS.LANGUAGE")),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngForOf",e.languages),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](18,16,"USER-SETTINGS.CURRENCY")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngValue",null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngValue",0),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngForOf",e.currencies),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](28,18,"USER-SETTINGS.TIMEZONE")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngValue",null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngValue",0),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngForOf",e.timezones),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("disabled",e.loading||e.form.invalid),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](39,20,"USER-SETTINGS.SUBMIT")," "))},directives:[St.a,a.E,a.r,a.j,a.B,a.q,a.h,a.v,a.D,i.m],pipes:[W.c],styles:[""]}),t})()},{path:"support",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=M["\u0275\u0275defineComponent"]({type:t,selectors:[["app-people-support"]],decls:2,vars:0,template:function(t,e){1&t&&(M["\u0275\u0275elementStart"](0,"p"),M["\u0275\u0275text"](1,"people-support works!"),M["\u0275\u0275elementEnd"]())},styles:[""]}),t})()}]}];let fe=(()=>{class t{}return t.\u0275mod=M["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=M["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[h.h.forChild(ue)],h.h]}),t})();var he=n("PCNd");let ge=(()=>{class t{}return t.\u0275mod=M["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=M["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[i.c,a.l,a.z,fe,l.a,m.a,d.a,p.a,s.a,u.x,r.a,o.a,f.a,c.a,u.F,he.a,W.b]]}),t})()},rHmi:function(t,e,n){"use strict";n.d(e,"a",function(){return G});var i=n("fXoL"),a=n("mOT8"),o=n("HNxE"),r=n("zs7b"),c=n("ofXK"),l=n("AytR"),s=n("LRne"),p=n("Kj3r"),d=n("/uUt"),m=n("eIep"),u=n("JIr8"),f=n("n1y0"),h=n("w6ya"),g=n("4CJs"),y=n("XIp8"),v=n("WhH8"),I=n("1kSV"),x=n("5eHb"),S=n("9nlD"),E=n("S2+F"),b=n("Hu2X"),C=n("3Pt+"),D=n("f3yp"),w=n("sYmb");function O(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"span",33),i["\u0275\u0275element"](1,"img",34),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"div",35),i["\u0275\u0275element"](3,"ngb-highlight",36),i["\u0275\u0275element"](4,"ngb-highlight",36),i["\u0275\u0275elementEnd"]()),2&t){const t=e.result,n=e.term,a=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("src",t.companyLogo?a.blobUrl+"256px/"+t.companyLogo:a.defaultLogo,i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("result",t.companyName)("term",n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("result",t.city)("term",n)}}function k(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",37),i["\u0275\u0275elementStart"](1,"span"),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"a",38),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"]().onAddCompany()}),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&t&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](3,2,"COMMON.NO-RESULTS"),"? - "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](6,4,"COMMON.ADD-A-NEW-COMPANY")))}function M(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"option",16),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;i["\u0275\u0275property"]("ngValue",t.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.name," ")}}function P(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"option",16),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;i["\u0275\u0275property"]("ngValue",t),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](t)}}function N(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"option",16),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;i["\u0275\u0275property"]("ngValue",t.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.name," ")}}function A(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"option",16),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;i["\u0275\u0275property"]("ngValue",t),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](t)}}function T(t,e){1&t&&i["\u0275\u0275element"](0,"app-spinner")}let L=(()=>{class t{constructor(t,e,n,i,c,f,h){this.contactService=t,this.modal=e,this.activeModal=n,this.toastrService=i,this.notificationService=c,this.signalRService=f,this.companyService=h,this.contactCompany=new o.b,this.dateEmployed={year:null,month:null},this.dateTerminated={year:null,month:null},this.years=[],this.months=r.a.create(),this.companyModel=new a.a,this.addNewCompany=!1,this.newCompanyName="",this.blobUrl=l.a.apiBlobUrl+"/",this.defaultLogo="/assets/img/card-placeholder.jpg",this.companyFormatter=t=>t.companyName,this.companySearch=t=>t.pipe(Object(p.a)(300),Object(d.a)(),Object(m.a)(t=>{const e=this.companyService.getCompanyList(t,0).pipe(Object(u.a)(()=>Object(s.a)([])));return e.subscribe(e=>{this.addNewCompany=!1,e&&0===e.length&&(this.addNewCompany=!0,this.newCompanyName=t)}),e})),this.setDefaultForValueForDateControl()}ngOnInit(){this.contactCompany.contactCompanyID&&this.fillProfile()}onSubmit(){const t=Object(y.a)(this.contactCompany),e="en-UK",n="yyyy-MM-dd HH:mm:ss",i=new Date(this.dateEmployed.year,this.dateEmployed.month-1,1,0,0);if(this.contactCompany.dateEmployed=Object(c.y)(i,n,e),this.currentlyWorkHere)this.contactCompany.dateExit=null;else{const t=new Date(this.dateTerminated.year,this.dateTerminated.month-1,1,0,0);this.contactCompany.employmentStatusID=2,this.contactCompany.dateExit=Object(c.y)(t,n,e)}if(this.contactCompany.companyID=this.companyModel.companyID,this.companyModel.companyOwnerContactID===this.contact.contactID){const t=new Date;this.contactCompany.verified=!0,this.contactCompany.verifiedByContactID=this.contact.contactID,this.contactCompany.verifiedDate=Object(c.y)(t,n,e)}this.loading=!0,this.contactCompany.contactCompanyID?this.contactService.updateContactCompany(this.contactCompany).subscribe(()=>{this.loading=!1,this.contactCompany.companyID===t.companyID?this.sendConnectInvitation():(this.toastrService.success("Successfully updated"),this.activeModal.close({status:"updated"}))},()=>{this.toastrService.warning("Cannot update"),this.loading=!1}):(this.contactCompany.contactID=this.contact.contactID,this.contactService.addContactCompany(this.contactCompany).subscribe(()=>{this.companyModel.companyOwnerContactID===this.contact.contactID?(this.loading=!1,this.toastrService.success("Successfully added"),this.activeModal.close({status:"updated"})):this.sendConnectInvitation()},()=>{this.toastrService.warning("Cannot add"),this.loading=!1}))}dismiss(){this.activeModal.dismiss()}setDefaultForValueForDateControl(){const t=(new Date).getFullYear();for(let e=t-40;e<=t;++e)this.years.push(e);this.years=this.years.reverse()}onWorkHereCheck(t){this.currentlyWorkHere=t.target.checked}fillProfile(){if(this.contactCompany.dateEmployed){const t=new Date(this.contactCompany.dateEmployed);this.dateEmployed.year=t.getFullYear(),this.dateEmployed.month=t.getMonth()+1}if(this.contactCompany.dateExit){const t=new Date(this.contactCompany.dateExit);this.dateTerminated.year=t.getFullYear(),this.dateTerminated.month=t.getMonth()+1}else this.currentlyWorkHere=!0;this.companyModel.companyName=this.contactCompany.companyName,this.companyModel.companyID=this.contactCompany.companyID}onAddCompany(){const t=this.modal.open(f.a,{size:"lg"}),e=new a.a;e.companyName=this.newCompanyName,t.componentInstance.company=e,t.result.then(t=>{t&&t.companyID&&(this.companyModel=e,this.companyModel.companyOwnerContactID=this.contact.contactID,this.newCompanyName="",this.addNewCompany=!1)})}sendConnectInvitation(){const t=localStorage.getItem("firstName"),e=localStorage.getItem("surname"),n=this.companyModel.companyOwnerContactID,i=new Date,a=Object(c.y)(i,"yyyy-MM-dd HH:mm:ss","en-UK"),o=`${t} ${e}`,r={notificationCategoryID:h.a.connect_request_employment,referenceID:this.companyModel.companyID,contactID:n,description:`${o}| joined your team as ${this.contactCompany.designation}`,createdContact:this.contact.contactID},l={date:a,body:`${o} joined your team as ${this.contactCompany.designation}`,topic:`${o} joined your team as ${this.contactCompany.designation}`,senderFullName:"",senderPhoto:"",channel:"dashboard",reference:r.referenceID,notificationType:g.a.connectRequest,senderId:r.createdContact,receivers:[r.contactID],uniqueId:a+"|"+n,discussionId:0};this.notificationService.noticeNotification(r).subscribe(()=>{this.signalRService.transferMessage("dashboard",l),this.loading=!1,this.toastrService.success("Successfully added"),this.activeModal.close({status:"updated"})})}onCompanyInput(t){this.companyModel&&this.companyModel.companyName?(this.newCompanyName="",this.addNewCompany=!1):(this.newCompanyName=t,this.addNewCompany=!0)}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](v.a),i["\u0275\u0275directiveInject"](I.p),i["\u0275\u0275directiveInject"](I.a),i["\u0275\u0275directiveInject"](x.b),i["\u0275\u0275directiveInject"](S.a),i["\u0275\u0275directiveInject"](E.a),i["\u0275\u0275directiveInject"](b.a))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["app-work-experience-dialog"]],decls:85,vars:82,consts:[[1,"modal-header"],["id","postModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group","position-relative"],["trainingProviderResults",""],["type","text","name","company","required","",1,"form-control",3,"placeholder","ngModel","ngbTypeahead","resultTemplate","inputFormatter","ngModelChange"],["class","w-100",4,"ngIf"],[1,"form-group"],["for","designation"],["type","text","name","designation","id","designation","required","",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","employmentTypeID"],["id","employmentTypeID","name","employmentTypeID","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],["for","startMonth"],[1,"input-group"],["name","startMonth","id","startMonth","required","",1,"form-control","mr-1",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["name","startYear","id","startYear","required","",1,"form-control","ml-1",3,"ngModel","ngModelChange"],["for","endMonth"],["name","endMonth","id","endMonth","required","",1,"form-control","mr-1",3,"disabled","ngModel","ngModelChange"],["name","endYear","id","endYear","required","",1,"form-control","ml-1",3,"disabled","ngModel","ngModelChange"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","workHere",1,"custom-control-input",3,"checked","change"],["for","workHere",1,"custom-control-label"],["for","responsibilities"],["name","responsibilities","id","responsibilities","required","",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"w-100","d-flex","align-items-center"],["type","submit",1,"btn","btn-primary","ml-auto",3,"disabled"],[4,"ngIf"],[1,"logo"],["alt","Text",1,"img-fluid",3,"src"],[1,"meta-data","d-flex","flex-column"],[3,"result","term"],[1,"w-100"],[1,"text-primary","cursor-pointer",3,"click"]],template:function(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h5",1),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",2),i["\u0275\u0275listener"]("click",function(){return e.dismiss()}),i["\u0275\u0275elementStart"](5,"span",3),i["\u0275\u0275text"](6,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",4),i["\u0275\u0275elementStart"](8,"form",5,6),i["\u0275\u0275listener"]("ngSubmit",function(){return e.onSubmit()}),i["\u0275\u0275elementStart"](10,"div",7),i["\u0275\u0275template"](11,O,5,5,"ng-template",null,8,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementStart"](13,"input",9),i["\u0275\u0275listener"]("ngModelChange",function(t){return e.companyModel=t})("ngModelChange",function(t){return e.onCompanyInput(t)}),i["\u0275\u0275pipe"](14,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](15,k,7,6,"div",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",11),i["\u0275\u0275elementStart"](17,"label",12),i["\u0275\u0275text"](18),i["\u0275\u0275pipe"](19,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"input",13),i["\u0275\u0275listener"]("ngModelChange",function(t){return e.contactCompany.designation=t}),i["\u0275\u0275pipe"](21,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"div",11),i["\u0275\u0275elementStart"](23,"label",14),i["\u0275\u0275text"](24,"Employment Type"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](25,"select",15),i["\u0275\u0275listener"]("ngModelChange",function(t){return e.contactCompany.employmentTypeID=t}),i["\u0275\u0275elementStart"](26,"option",16),i["\u0275\u0275text"](27),i["\u0275\u0275pipe"](28,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](29,"option",16),i["\u0275\u0275text"](30),i["\u0275\u0275pipe"](31,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](32,"option",16),i["\u0275\u0275text"](33),i["\u0275\u0275pipe"](34,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](35,"option",16),i["\u0275\u0275text"](36),i["\u0275\u0275pipe"](37,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](38,"div",11),i["\u0275\u0275elementStart"](39,"label",17),i["\u0275\u0275text"](40),i["\u0275\u0275pipe"](41,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](42,"div",18),i["\u0275\u0275elementStart"](43,"select",19),i["\u0275\u0275listener"]("ngModelChange",function(t){return e.dateEmployed.month=t}),i["\u0275\u0275elementStart"](44,"option",16),i["\u0275\u0275text"](45),i["\u0275\u0275pipe"](46,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](47,M,2,2,"option",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](48,"select",21),i["\u0275\u0275listener"]("ngModelChange",function(t){return e.dateEmployed.year=t}),i["\u0275\u0275elementStart"](49,"option",16),i["\u0275\u0275text"](50),i["\u0275\u0275pipe"](51,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](52,P,2,2,"option",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](53,"div",11),i["\u0275\u0275elementStart"](54,"label",22),i["\u0275\u0275text"](55),i["\u0275\u0275pipe"](56,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](57,"div",18),i["\u0275\u0275elementStart"](58,"select",23),i["\u0275\u0275listener"]("ngModelChange",function(t){return e.dateTerminated.month=t}),i["\u0275\u0275elementStart"](59,"option",16),i["\u0275\u0275text"](60),i["\u0275\u0275pipe"](61,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](62,N,2,2,"option",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](63,"select",24),i["\u0275\u0275listener"]("ngModelChange",function(t){return e.dateTerminated.year=t}),i["\u0275\u0275elementStart"](64,"option",16),i["\u0275\u0275text"](65),i["\u0275\u0275pipe"](66,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](67,A,2,2,"option",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](68,"div",11),i["\u0275\u0275elementStart"](69,"div",25),i["\u0275\u0275elementStart"](70,"input",26),i["\u0275\u0275listener"]("change",function(t){return e.onWorkHereCheck(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](71,"label",27),i["\u0275\u0275text"](72),i["\u0275\u0275pipe"](73,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](74,"div",11),i["\u0275\u0275elementStart"](75,"label",28),i["\u0275\u0275text"](76),i["\u0275\u0275pipe"](77,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](78,"textarea",29),i["\u0275\u0275listener"]("ngModelChange",function(t){return e.contactCompany.responsibilities=t}),i["\u0275\u0275pipe"](79,"translate"),i["\u0275\u0275text"](80,"\t\t\t"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](81,"div",30),i["\u0275\u0275elementStart"](82,"button",31),i["\u0275\u0275template"](83,T,1,0,"app-spinner",32),i["\u0275\u0275text"](84),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275reference"](9),n=i["\u0275\u0275reference"](12);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"](" ",e.contactCompany.contactCompanyID?"Edit":"Add"," ",i["\u0275\u0275pipeBind1"](3,48,"PEOPLE.WORK-HISTORY")," "),i["\u0275\u0275advance"](11),i["\u0275\u0275property"]("placeholder",i["\u0275\u0275pipeBind1"](14,50,"PEOPLE.COMPANY"))("ngModel",e.companyModel)("ngbTypeahead",e.companySearch)("resultTemplate",n)("inputFormatter",e.companyFormatter),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.addNewCompany),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](19,52,"PEOPLE.JOB-TITLE")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.contactCompany.designation)("placeholder",i["\u0275\u0275pipeBind1"](21,54,"PEOPLE.JOB-TITLE")),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",e.contactCompany.employmentTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",void 0),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](28,56,"COMMON.PLEASE-SELECT")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",1),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](31,58,"PEOPLE.FULL-PERMANENT")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",2),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](34,60,"PEOPLE.FULL-CONTRACT")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",3),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](37,62,"PEOPLE.PART-TIME-FREELANCER")),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](41,64,"PEOPLE.START-DATE")),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",e.dateEmployed.month),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](46,66,"PEOPLE.START-MONTH")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.dateEmployed.year),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](51,68,"PEOPLE.START-YEAR")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.years),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](56,70,"PEOPLE.END-DATE")),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("disabled",e.currentlyWorkHere)("ngModel",e.dateTerminated.month),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](61,72,"PEOPLE.END-MONTH")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",e.currentlyWorkHere)("ngModel",e.dateTerminated.year),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](66,74,"PEOPLE.END-YEAR")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.years),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("checked",e.currentlyWorkHere),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](73,76,"PEOPLE.WORK-HERE-CURRENTLY")," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](77,78,"PEOPLE.RESPONSIBILITIES")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.contactCompany.responsibilities)("placeholder",i["\u0275\u0275pipeBind1"](79,80,"PEOPLE.RESPONSIBILITIES-DESCRIPTION")),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("disabled",!t.valid||e.loading||!e.companyModel.companyID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.loading),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.contactCompany.contactCompanyID?"Update":"Add"," ")}},directives:[C.E,C.r,C.s,C.b,I.E,C.A,C.q,C.t,c.n,C.B,C.v,C.D,c.m,I.n,D.a],pipes:[w.c],styles:["ngb-typeahead-window{width:100%;overflow-y:auto;max-height:380px}  ngb-typeahead-window .dropdown-item{display:flex;align-items:center}  ngb-typeahead-window .dropdown-item .logo{width:64px;height:64px;display:flex;align-items:center}  ngb-typeahead-window .dropdown-item img{max-width:64px;max-height:64px}  ngb-typeahead-window .dropdown-item .meta-data{display:flex;flex-direction:column;margin-left:12px}"]}),t})();var q=n("OzGw"),j=n("kmKP"),F=n("tyNb"),B=n("0mlJ");function V(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"a",6),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"]().openWorkHistoryDialog()}),i["\u0275\u0275element"](1,"span",7),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"]()}2&t&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,1,"COMMON.ADD")," "))}function R(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",16),i["\u0275\u0275elementStart"](1,"div",17),i["\u0275\u0275listener"]("click",function(t){return t.stopPropagation()}),i["\u0275\u0275elementStart"](2,"button",18),i["\u0275\u0275element"](3,"span",19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"ul",20),i["\u0275\u0275elementStart"](5,"li"),i["\u0275\u0275elementStart"](6,"a",21),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](t);const e=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"]().openWorkHistoryDialog(e)}),i["\u0275\u0275text"](7,"Edit"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"li"),i["\u0275\u0275elementStart"](9,"a",21),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](t);const e=i["\u0275\u0275nextContext"](),n=e.$implicit,a=e.index;return i["\u0275\u0275nextContext"]().onDeleteWorkHistory(n,a)}),i["\u0275\u0275text"](10,"Delete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function $(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"div",13),i["\u0275\u0275elementStart"](1,"span"),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"date"),i["\u0275\u0275pipe"](4,"dateObject"),i["\u0275\u0275pipe"](5,"date"),i["\u0275\u0275pipe"](6,"dateObject"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",i["\u0275\u0275pipeBind2"](3,2,i["\u0275\u0275pipeBind1"](4,5,t.dateEmployed),"MMM yyyy")," - ",t.dateExit?i["\u0275\u0275pipeBind2"](5,7,i["\u0275\u0275pipeBind1"](6,10,t.dateExit),"MMM yyyy"):"present","")}}function U(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"div",22),i["\u0275\u0275elementStart"](1,"p"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.responsibilities," ")}}function Q(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",8),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](t);const n=e.$implicit;return i["\u0275\u0275nextContext"]().companyProfile(n)}),i["\u0275\u0275elementStart"](1,"span",9),i["\u0275\u0275element"](2,"img",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",11),i["\u0275\u0275elementStart"](4,"h2"),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,R,11,0,"div",12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",13),i["\u0275\u0275elementStart"](8,"span"),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,$,7,12,"div",14),i["\u0275\u0275template"](11,U,3,1,"div",15),i["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit,n=e.index,a=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("border-0",0===n||n===a.workExperiences.length-1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",t.logo?a.blobURL+t.logo:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](t.companyName),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",a.contactID&&a.contact.contactID===a.contactID),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](t.designation),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.dateEmployed),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.responsibilities)}}let G=(()=>{class t{constructor(t,e,n,a,o){this.contactService=t,this.toastrService=e,this.modal=n,this.userService=a,this.router=o,this.workAdded=new i.EventEmitter,this.workExperiences=[],this.blobURL=l.a.apiBlobUrl+"/256px/",this.user=this.userService.user.getValue(),this.contactID=this.user.contactID}ngOnInit(){this.contact?this.getWorkExperiences():this.fillProfile()}fillProfile(){this.contactService.getContactProfile(this.masterContactID).subscribe(t=>{this.contact=t[0],this.getWorkExperiences()})}getWorkExperiences(){this.contactService.getContactProfile(this.contact.contactID).subscribe(t=>{this.workExperiences=t,this.workAdded.emit(t)})}openWorkHistoryDialog(t=null){const e=this.modal.open(L);e.componentInstance.contact=this.contact,t&&(e.componentInstance.contactCompany=Object(y.a)(t)),e.result.then(t=>{t.hasOwnProperty("status")&&this.getWorkExperiences()})}onDeleteWorkHistory(t,e){const n=this.modal.open(q.a,{backdrop:"static"});n.componentInstance.objectType="Work History",n.componentInstance.objectDetails=t.companyName+" work history",n.result.then(n=>{n&&"Yes"===n&&this.deleteWorkHistory(t,e)})}deleteWorkHistory(t,e){this.contactService.deleteContactCompany(t.contactCompanyID).subscribe(()=>{this.workExperiences.splice(e,1),this.workAdded.emit(this.workExperiences),this.toastrService.success("Work History has been deleted")})}companyProfile(t){this.router.navigate(["/company",t.companyID])}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](v.a),i["\u0275\u0275directiveInject"](x.b),i["\u0275\u0275directiveInject"](I.p),i["\u0275\u0275directiveInject"](j.a),i["\u0275\u0275directiveInject"](F.d))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["app-contact-work-history"]],inputs:{contact:"contact",masterContactID:"masterContactID"},outputs:{workAdded:"workAdded"},decls:8,vars:5,consts:[[1,"section","section-alt","alt-bordered","filter-container"],[1,"d-flex","align-items-center"],[1,"mr-auto","mb-0"],["class","text-dark d-flex align-items-center",3,"click",4,"ngIf"],[1,"section","section-alt","border-0"],["class","entry pb-3",3,"border-0","click",4,"ngFor","ngForOf"],[1,"text-dark","d-flex","align-items-center",3,"click"],[1,"plus-ico-2"],[1,"entry","pb-3",3,"click"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","Avatar",1,"img-fluid","img-48",3,"src"],[1,"d-flex"],["class","actions",4,"ngIf"],[1,"meta"],["class","meta",4,"ngIf"],["class","entry-content",4,"ngIf"],[1,"actions"],[1,"dropdown","ml-2",3,"click"],["type","button","id","dd1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["aria-labelledby","dd1",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"entry-content"]],template:function(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"h1",2),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,V,4,3,"a",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275template"](7,Q,12,8,"div",5),i["\u0275\u0275elementEnd"]()),2&t&&(i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](4,3,"PEOPLE.WORK-HISTORY")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.contactID&&e.contact.contactID===e.contactID),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.workExperiences))},directives:[c.n,c.m],pipes:[w.c,c.e,B.a],styles:[""]}),t})()}}]);