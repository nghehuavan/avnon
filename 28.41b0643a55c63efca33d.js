(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"3AGo":function(e,t,n){"use strict";n.r(t),n.d(t,"EmailTemplatingModule",function(){return b});var l=n("ofXK"),a=n("tyNb"),i=n("kSZh"),r=n("t0yg"),o=n("8J6U"),m=n("fXoL"),d=n("7w9U"),s=n("kmKP"),c=n("1kSV"),p=n("Jn3s");function u(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",9),m["\u0275\u0275elementStart"](1,"div",10),m["\u0275\u0275elementStart"](2,"h2"),m["\u0275\u0275text"](3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"div",11),m["\u0275\u0275elementStart"](5,"div",12),m["\u0275\u0275elementStart"](6,"button",13),m["\u0275\u0275element"](7,"span",14),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](8,"ul",15),m["\u0275\u0275elementStart"](9,"li"),m["\u0275\u0275elementStart"](10,"a",16),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const n=t.index;return m["\u0275\u0275nextContext"]().deleteTemplate(n)}),m["\u0275\u0275text"](11,"Delete"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"li"),m["\u0275\u0275elementStart"](13,"a",16),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const n=t.index;return m["\u0275\u0275nextContext"]().editTemplate(n)}),m["\u0275\u0275text"](14,"Edit"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](15,"li"),m["\u0275\u0275elementStart"](16,"a",16),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const n=t.index;return m["\u0275\u0275nextContext"]().templateBuilder(n)}),m["\u0275\u0275text"](17,"Email Body"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](18,"div",17),m["\u0275\u0275elementStart"](19,"span"),m["\u0275\u0275text"](20),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](e.emailTemplateTitle),m["\u0275\u0275advance"](17),m["\u0275\u0275textInterpolate"](e.emailTemplateDescription)}}const f=[{path:"",component:(()=>{class e{constructor(e,t,n,l){this.emailTemplateService=e,this.userService=t,this.location=n,this.modal=l,this.emailTemplates=[],this.user=this.userService.user.getValue(),this.companyID=this.user.companyID}ngOnInit(){this.fillTemplates()}fillTemplates(){this.emailTemplateService.getEmailTemplate(0,0,this.user.companyID,0).subscribe(e=>{this.emailTemplates=e})}addTemplate(){this.modal.open(i.a).result.then(e=>{e&&e.emailTemplateID&&this.emailTemplates.push(e)})}editTemplate(e){}deleteTemplate(e){}templateBuilder(e){const t=this.emailTemplates[e],n=this.modal.open(r.a,{size:"lg",backdrop:"static"});n.componentInstance.isModal=!0,n.componentInstance.emailTemplate=Object(o.l)(t),n.result.then(t=>{this.emailTemplates[e]=t})}back(){this.location.back()}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](d.a),m["\u0275\u0275directiveInject"](s.a),m["\u0275\u0275directiveInject"](l.j),m["\u0275\u0275directiveInject"](c.p))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-email-templating"]],decls:13,vars:3,consts:[[3,"avnonLoader"],[1,"page-title"],[1,"cursor-pointer","text-primary","display-inline","mr-2",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline"],[1,"filter-container","d-flex","w-100","align-items-center","border-bottom"],[1,"ml-auto","cursor-pointer",3,"click"],[1,"plus-ico-2"],["class","entry",4,"ngFor","ngForOf"],[1,"entry"],[1,"d-flex"],[1,"actions"],[1,"dropdown"],["type","button","id","dd1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["aria-labelledby","dd1",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"meta"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"div",1),m["\u0275\u0275elementStart"](2,"span",2),m["\u0275\u0275listener"]("click",function(){return t.back()}),m["\u0275\u0275element"](3,"i",3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"h1",4),m["\u0275\u0275text"](5,"Email templates"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"div",5),m["\u0275\u0275elementStart"](7,"span"),m["\u0275\u0275text"](8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"a",6),m["\u0275\u0275listener"]("click",function(){return t.addTemplate()}),m["\u0275\u0275element"](10,"span",7),m["\u0275\u0275text"](11,"Add "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](12,u,21,2,"div",8),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275property"]("avnonLoader",t.loading),m["\u0275\u0275advance"](8),m["\u0275\u0275textInterpolate1"]("",t.emailTemplates.length," templates"),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("ngForOf",t.emailTemplates))},directives:[p.a,l.m],styles:[""]}),e})()}];let g=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.h.forChild(f)],a.h]}),e})();var h=n("j4PG"),v=n("crNL"),S=n("JcVL");let b=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[l.c,g,h.a,c.l,c.l,v.a,S.a]]}),e})()},"7w9U":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var l=n("fXoL"),a=n("tk/3");let i=(()=>{class e{constructor(e){this.http=e,this.BaseURI="https://api.incubatorportal.com/api"}getEmailTemplate(e,t,n,l){return this.http.get(this.BaseURI+"/emailtemplate?emailTemplateCategoryID="+e+"&languageID="+t+"&companyID="+n+"&emailTemplateID="+l)}updateEmailTemplate(e){return this.http.put(this.BaseURI+"/emailtemplate",e)}addEmailTemplate(e){return this.http.post(this.BaseURI+"/emailtemplate",e)}deleteEmailTemplate(e){return this.http.delete(`${this.BaseURI}/emailtemplate/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275inject"](a.b))},e.\u0275prov=l["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},JZpI:function(e,t,n){"use strict";n.d(t,"a",function(){return l});class l{constructor(){this.emailTemplateID=null,this.companyID=null,this.emailTemplateCategoryID=null,this.emailTemplateTitle=null,this.emailTemplateDescription=null,this.emailTemplateStatusID=null,this.emailBody=null,this.subjectLine=null,this.bannerImage=null,this.languageID=null,this.distributionCategoryID=null}}},JcVL:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var l=n("ofXK"),a=n("3Pt+"),i=n("1kSV"),r=n("j4PG"),o=n("7AQL"),m=n("fXoL");let d=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[l.c,a.l,a.z,i.q,r.a,o.a]]}),e})()},crNL:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var l=n("ofXK"),a=n("3Pt+"),i=n("1kSV"),r=n("j4PG"),o=n("fXoL");let m=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[l.c,a.l,a.z,i.q,r.a]]}),e})()},kSZh:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var l=n("JZpI"),a=n("fXoL"),i=n("1kSV"),r=n("7w9U"),o=n("kmKP"),m=n("Jn3s"),d=n("3Pt+"),s=n("ofXK");function c(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",10),a["\u0275\u0275text"](1,"Application Declined Email"),a["\u0275\u0275elementEnd"]()),2&e&&a["\u0275\u0275property"]("ngValue",10)}function p(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",10),a["\u0275\u0275text"](1,"Stage successfully completed"),a["\u0275\u0275elementEnd"]()),2&e&&a["\u0275\u0275property"]("ngValue",9)}function u(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",10),a["\u0275\u0275text"](1,"Event Delegate Email"),a["\u0275\u0275elementEnd"]()),2&e&&a["\u0275\u0275property"]("ngValue",7)}function f(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",10),a["\u0275\u0275text"](1,"Event Email"),a["\u0275\u0275elementEnd"]()),2&e&&a["\u0275\u0275property"]("ngValue",2)}let g=(()=>{class e{constructor(e,t,n){this.ngbActiveModal=e,this.emailTemplateService=t,this.userService=n,this.emailTemplate=new l.a,this.user=n.user.getValue()}ngOnInit(){}onSubmit(){this.loading=!0,this.emailTemplate.companyID=this.user.companyID||0,this.emailTemplateService.addEmailTemplate(this.emailTemplate).subscribe(e=>{this.loading=!1,e.emailTemplateID=e.inOut_EmailTemplateID,this.ngbActiveModal.close(e)})}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](i.a),a["\u0275\u0275directiveInject"](r.a),a["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-email-template-add"]],decls:31,vars:11,consts:[[1,"modal-header"],["id","postModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",3,"avnonLoader"],[1,"d-flex","flex-column","w-100","template-add",3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","taskTitle"],["name","templateCategory","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngIf"],["type","text","name","taskTitle","id","taskTitle","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","emailTemplateDescription","id","emailTemplateDescription","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","text-right"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"h5",1),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",2),a["\u0275\u0275listener"]("click",function(){return t.ngbActiveModal.dismiss()}),a["\u0275\u0275elementStart"](4,"span",3),a["\u0275\u0275text"](5,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"div",4),a["\u0275\u0275elementStart"](7,"form",5,6),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](9,"div",7),a["\u0275\u0275elementStart"](10,"label",8),a["\u0275\u0275text"](11,"Template Category *"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"select",9),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.emailTemplate.distributionCategoryID=e}),a["\u0275\u0275elementStart"](13,"option",10),a["\u0275\u0275text"](14,"- Please select -"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](15,c,2,1,"option",11),a["\u0275\u0275template"](16,p,2,1,"option",11),a["\u0275\u0275template"](17,u,2,1,"option",11),a["\u0275\u0275template"](18,f,2,1,"option",11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"div",7),a["\u0275\u0275elementStart"](20,"label",8),a["\u0275\u0275text"](21,"Template Title *"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"input",12),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.emailTemplate.emailTemplateTitle=e}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"div",7),a["\u0275\u0275elementStart"](24,"label",8),a["\u0275\u0275text"](25,"Description "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"textarea",13),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.emailTemplate.emailTemplateDescription=e}),a["\u0275\u0275text"](27,"\t\t\t"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"div",14),a["\u0275\u0275elementStart"](29,"button",15),a["\u0275\u0275text"](30," Submit "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){const e=a["\u0275\u0275reference"](8);a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.emailTemplate&&t.emailTemplate.emailTemplateID?"Edit":"Create"," Template "),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("avnonLoader",t.loading),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngModel",t.emailTemplate.distributionCategoryID),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngValue",null),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",!t.isDelegate&&!t.isEvent),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.isDelegate&&!t.isEvent),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.isStage&&!t.isEvent),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.isStage&&!t.isDelegate),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngModel",t.emailTemplate.emailTemplateTitle),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngModel",t.emailTemplate.emailTemplateDescription),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("disabled",e.invalid)}},directives:[m.a,d.E,d.r,d.s,d.B,d.A,d.q,d.t,d.v,d.D,s.n,d.b],styles:["textarea.form-control[_ngcontent-%COMP%]{height:auto!important}"]}),e})()},t0yg:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var l=n("JZpI"),a=n("fXoL"),i=n("7w9U"),r=n("5eHb"),o=n("1kSV"),m=n("Jn3s"),d=n("3Pt+"),s=n("ofXK");function c(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",7),a["\u0275\u0275element"](1,"img",15),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275elementStart"](3,"p",16),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("src",e.companyLogo,a["\u0275\u0275sanitizeUrl"]),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate1"]("Hi ",e.firstName,",")}}let p=(()=>{class e{constructor(e,t,n){this.emailTemplateService=e,this.toastrService=t,this.activeModal=n,this.emailTemplate=new l.a}ngOnInit(){}onSubmit(){this.loading=!0,this.emailTemplateService.updateEmailTemplate(this.emailTemplate).subscribe(()=>{this.loading=!1,this.activeModal.close(this.emailTemplate)})}dismiss(){this.activeModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](i.a),a["\u0275\u0275directiveInject"](r.b),a["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-email-template-builder"]],decls:20,vars:6,consts:[[1,"modal-header"],["id","postModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",3,"avnonLoader"],[1,"w-100","d-flex","flex-column","builder-email",3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","subjectLine"],["type","text","id","subjectLine","name","subjectLine","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","d-flex","flex-column","w-100","border","p-2"],["class","form-group",4,"ngIf"],["name","emailBody","id","emailBody","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","text-right"],[1,"btn","btn-primary",3,"disabled"],["alt","logo",1,"company-logo",3,"src"],[1,"mb-0"]],template:function(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"h5",1),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",2),a["\u0275\u0275listener"]("click",function(){return t.dismiss()}),a["\u0275\u0275elementStart"](4,"span",3),a["\u0275\u0275text"](5,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"div",4),a["\u0275\u0275elementStart"](7,"form",5,6),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](9,"div",7),a["\u0275\u0275elementStart"](10,"label",8),a["\u0275\u0275text"](11,"Subject Line "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"input",9),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.emailTemplate.subjectLine=e}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div",10),a["\u0275\u0275template"](14,c,5,2,"div",11),a["\u0275\u0275elementStart"](15,"textarea",12),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.emailTemplate.emailBody=e}),a["\u0275\u0275text"](16,"      "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"div",13),a["\u0275\u0275elementStart"](18,"button",14),a["\u0275\u0275text"](19," Submit "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){const e=a["\u0275\u0275reference"](8);a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.emailTemplate.emailTemplateTitle," "),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("avnonLoader",t.loading),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngModel",t.emailTemplate.subjectLine),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",t.companyLogo&&t.firstName),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngModel",t.emailTemplate.emailBody),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("disabled",e.invalid)}},directives:[m.a,d.E,d.r,d.s,d.b,d.A,d.q,d.t,s.n],styles:["textarea.form-control[_ngcontent-%COMP%]{min-height:300px}.builder-email[_ngcontent-%COMP%]{max-height:80vh;overflow-x:hidden;overflow-y:auto}.company-logo[_ngcontent-%COMP%]{width:64px;height:64px;object-fit:contain;border-radius:5px;border:1px solid #dfdfdf}"]}),e})()}}]);