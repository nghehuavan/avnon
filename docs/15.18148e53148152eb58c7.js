(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"0alx":function(e,t,n){"use strict";var o=n("VKeD");t.isIterable=function(e){return e&&"function"==typeof e[o.iterator]}},"2KeD":function(e,t,n){"use strict";var o=n("Q1FS"),r=n("zB/H"),c=n("zfKp");t.scheduleObservable=function(e,t){return new o.Observable(function(n){var o=new r.Subscription;return o.add(t.schedule(function(){var r=e[c.observable]();o.add(r.subscribe({next:function(e){o.add(t.schedule(function(){return n.next(e)}))},error:function(e){o.add(t.schedule(function(){return n.error(e)}))},complete:function(){o.add(t.schedule(function(){return n.complete()}))}}))})),o})}},"2qMH":function(e,t,n){"use strict";var o=n("Q1FS"),r=n("zB/H");t.scheduleArray=function(e,t){return new o.Observable(function(n){var o=new r.Subscription,c=0;return o.add(t.schedule(function(){c!==e.length?(n.next(e[c++]),n.closed||o.add(this.schedule())):n.complete()})),o})}},"6qA3":function(e,t,n){"use strict";var o=n("OAkW"),r=n("Z5tI"),c=n("poJ0"),i=n("ozli"),s=n("yRPT"),a=n("90cg"),d=n("GMZp"),l=n("VKeD"),m=n("zfKp");t.subscribeTo=function(e){if(e&&"function"==typeof e[m.observable])return i.subscribeToObservable(e);if(s.isArrayLike(e))return o.subscribeToArray(e);if(a.isPromise(e))return r.subscribeToPromise(e);if(e&&"function"==typeof e[l.iterator])return c.subscribeToIterable(e);var t=d.isObject(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},"90cg":function(e,t,n){"use strict";t.isPromise=function(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},EBtg:function(e,t,n){"use strict";var o=n("2KeD"),r=n("n73p"),c=n("2qMH"),i=n("LJ/p"),s=n("HZF8"),a=n("90cg"),d=n("yRPT"),l=n("0alx");t.scheduled=function(e,t){if(null!=e){if(s.isInteropObservable(e))return o.scheduleObservable(e,t);if(a.isPromise(e))return r.schedulePromise(e,t);if(d.isArrayLike(e))return c.scheduleArray(e,t);if(l.isIterable(e)||"string"==typeof e)return i.scheduleIterable(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},HZF8:function(e,t,n){"use strict";var o=n("zfKp");t.isInteropObservable=function(e){return e&&"function"==typeof e[o.observable]}},"LJ/p":function(e,t,n){"use strict";var o=n("Q1FS"),r=n("zB/H"),c=n("VKeD");t.scheduleIterable=function(e,t){if(!e)throw new Error("Iterable cannot be null");return new o.Observable(function(n){var o,i=new r.Subscription;return i.add(function(){o&&"function"==typeof o.return&&o.return()}),i.add(t.schedule(function(){o=e[c.iterator](),i.add(t.schedule(function(){if(!n.closed){var e,t;try{var r=o.next();e=r.value,t=r.done}catch(c){return void n.error(c)}t?n.complete():(n.next(e),this.schedule())}}))})),i})}},Ljqs:function(e,t,n){"use strict";var o=n("Q1FS"),r=n("mbIT"),c=n("q3Kh"),i=n("GMZp"),s=n("gTqA");function a(e,t){return new o.Observable(function(n){var o=e.length;if(0!==o)for(var r=new Array(o),c=0,i=0,a=function(a){var d=s.from(e[a]),l=!1;n.add(d.subscribe({next:function(e){l||(l=!0,i++),r[a]=e},error:function(e){return n.error(e)},complete:function(){++c!==o&&l||(i===o&&n.next(t?t.reduce(function(e,t,n){return e[t]=r[n],e},{}):r),n.complete())}}))},d=0;d<o;d++)a(d);else n.complete()})}t.forkJoin=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(r.isArray(n))return a(n,null);if(i.isObject(n)&&Object.getPrototypeOf(n)===Object.prototype){var o=Object.keys(n);return a(o.map(function(e){return n[e]}),o)}}if("function"==typeof e[e.length-1]){var s=e.pop();return a(e=1===e.length&&r.isArray(e[0])?e[0]:e,null).pipe(c.map(function(e){return s.apply(void 0,e)}))}return a(e,null)}},OAkW:function(e,t,n){"use strict";t.subscribeToArray=function(e){return function(t){for(var n=0,o=e.length;n<o&&!t.closed;n++)t.next(e[n]);t.complete()}}},VKeD:function(e,t,n){"use strict";function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}t.getSymbolIterator=o,t.iterator=o(),t.$$iterator=t.iterator},Vibq:function(e,t,n){"use strict";n.d(t,"a",function(){return _e});class o{constructor(){this.contactID=null,this.firstName=null,this.permissionID=null,this.permissionLevelID=1,this.profilePhoto=null,this.surname=null}}var r=n("AytR"),c=n("fXoL"),i=n("1kSV"),s=n("esnG"),a=n("kmKP"),d=n("3Pt+"),l=n("yDbM");let m=(()=>{class e{constructor(e,t,n){this.activeModal=e,this.documentService=t,this.userService=n,this.apiBlobUrl=r.a.apiBlobUrl+"/",this.isEditMode=!1,this.documentFolder=null,this.shareModel=1,this.contactModel=new o,this.contactsShared=[],this.permissionTypes=[{label:"Only View",value:1},{label:"Can Edit",value:2}],this.user=this.userService.user.getValue()}ngOnInit(){var e;this.isEditMode=(null===(e=this.currentFolder)||void 0===e?void 0:e.documentFolderID)>0,this.currentFolder&&this.currentFolder.documentFolderID?this.documentFolder=this.currentFolder.documentFolder:this.currentFolder={documentFolder:null,documentFolderID:null,children:[],companyID:this.companyID,contactID:this.contactID,createdbyContactID:this.contactID,dateCreated:null,parentDocumentFolderID:this.parentFolder?this.parentFolder.documentFolderID:0}}onSubmit(){console.log(this.contactsShared),this.currentFolder&&this.currentFolder.documentFolderID?this.updateFolder():this.addNewFolder()}addNewFolder(){this.documentService.storeFolder({documentFolder:this.documentFolder,contactID:this.user.contactID,companyID:this.user.companyID,parentDocumentFolderID:this.documentFolderID,createdbyContactID:this.user.contactID}).subscribe(e=>{e&&(e.documentFolderID=e.inOut_DocumentFolderID,this.activeModal.close(e))},()=>{})}updateFolder(){this.documentService.updateFolder({documentFolderID:this.currentFolder.documentFolderID,documentFolder:this.documentFolder,parentDocumentFolderID:this.currentFolder.parentDocumentFolderID}).subscribe(()=>{this.currentFolder.documentFolder=this.documentFolder,this.activeModal.close()},()=>{})}onCancel(){this.activeModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](i.a),c["\u0275\u0275directiveInject"](s.a),c["\u0275\u0275directiveInject"](a.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-folder"]],decls:16,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","firstname"],["type","text","name","documentFolderName","required","",1,"form-control",3,"ngModel","focus","ngModelChange"],[1,"text-right"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"h5",1),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"button",2),c["\u0275\u0275listener"]("click",function(){return t.onCancel()}),c["\u0275\u0275elementStart"](4,"span",3),c["\u0275\u0275text"](5,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div",4),c["\u0275\u0275elementStart"](7,"form",5,6),c["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),c["\u0275\u0275elementStart"](9,"div",7),c["\u0275\u0275elementStart"](10,"label",8),c["\u0275\u0275text"](11,"Title"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"input",9),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.documentFolder=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"div",10),c["\u0275\u0275elementStart"](14,"button",11),c["\u0275\u0275text"](15," Submit "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275reference"](8);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",t.isEditMode?"Edit Folder":"Add Folder"," "),c["\u0275\u0275advance"](10),c["\u0275\u0275property"]("ngModel",t.documentFolder)("focus",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("disabled",!e.valid)}},directives:[d.E,d.r,d.s,d.b,d.A,d.q,d.t,l.a],styles:[".form-group[_ngcontent-%COMP%]   .select-share[_ngcontent-%COMP%]{height:auto;width:auto;margin-left:5px;padding:0;color:#406fe4}.member-selected[_ngcontent-%COMP%]{max-height:200px;overflow:auto;margin-top:10px}.member-selected[_ngcontent-%COMP%]   .contact-item[_ngcontent-%COMP%]{padding:5px 0;border-bottom:1px solid #f0f0f0}.member-selected[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{position:relative}.member-selected[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{position:absolute;right:10px;display:none}.member-selected[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}.member-selected[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:hover   .btn-close[_ngcontent-%COMP%]{display:inline}.member-selected[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,95.3%,.5)}.member-selected[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px;height:36px}.member-selected[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{margin-left:10px}.member-selected[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .fullName[_ngcontent-%COMP%]{font-size:13px;font-weight:500}.member-selected[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .sm-title[_ngcontent-%COMP%]{font-size:11px}.member-selected[_ngcontent-%COMP%]   .select-type-share[_ngcontent-%COMP%]{width:120px}"]}),e})();var u=n("OzGw"),p=n("rOaL"),h=n("ofXK"),g=n("Jn3s"),f=n("pqhe");function b(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1,"Move "),c["\u0275\u0275elementStart"](2,"strong"),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](4," folder"),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](e.folder.documentFolder)}}function C(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1,"Move "),c["\u0275\u0275elementStart"](2,"strong"),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](4," document"),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](e.document.documentTitle)}}function v(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",37),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=t.$implicit;return c["\u0275\u0275nextContext"](2).goToFolder(n.documentFolderID)}),c["\u0275\u0275elementStart"](1,"span",17),c["\u0275\u0275elementStart"](2,"span",20),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](e.name)}}function I(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",32),c["\u0275\u0275elementStart"](1,"button",33),c["\u0275\u0275elementStart"](2,"span",17),c["\u0275\u0275element"](3,"img",34),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"div",35),c["\u0275\u0275template"](5,v,4,1,"ng-template",36),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngForOf",e.minimisedBreadCrumbs)}}const _=function(e){return{active:e}};function x(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"li",38),c["\u0275\u0275elementStart"](1,"a",39),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=t.$implicit;return c["\u0275\u0275nextContext"]().goToFolder(n.documentFolderID)}),c["\u0275\u0275elementStart"](2,"h1",40),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](2,_,e.documentFolderID===n.currentDocumentFolderID)),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.name)}}function M(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"p",41),c["\u0275\u0275text"](1," Empty folder "),c["\u0275\u0275elementEnd"]())}function O(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td",42),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=t.$implicit;return c["\u0275\u0275nextContext"]().onClickFolder(n)}),c["\u0275\u0275element"](2,"app-document-thumbnail",43),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("linkName",e.documentFolder)("isFolder",!0)}}const D=function(e){return{"row-collapsed":e}};let P=(()=>{class e{constructor(e,t,n){this.modal=e,this.documentService=t,this.userService=n,this.documents=[],this.isProcessing=!1,this.BREADCRUMB_LIMIT_CHARS=44,this.breadCrumbs=[],this.minimisedBreadCrumbs=[],this.flatFolders=[],this.flatFoldersView=[],this.isAddNewFolderState=!1,this.user=this.userService.user.getValue()}ngOnInit(){this.contactID=this.user.contactID,this.companyID=this.user.companyID||0,this.newFolder={documentFolder:"",documentFolderID:void 0,children:[],companyID:this.companyID,contactID:this.contactID,createdbyContactID:this.contactID,dateCreated:void 0,parentDocumentFolderID:this.currentDocumentFolderID?this.currentDocumentFolderID:0},this.getFolders(this.currentDocumentFolderID)}updateFoldersAndDocumentsList(e){this.getFolders(e)}goToFolder(e){this.getFolders(e),this.breadCrumbs.splice(0,0,...this.minimisedBreadCrumbs.reverse()),this.minimisedBreadCrumbs=[];const t=this.breadCrumbs.findIndex(t=>t.documentFolderID===e);this.breadCrumbs.splice(t+1),this.recalculateBreadCrumbs()}getFolders(e){!0===this.isAddNewFolderState&&this.onCancelAddNewFolder(),this.isProcessing=!0,this.documentService.getFolders(this.contactID,0,e).subscribe(t=>{0===e?(this.flatFolders=t.filter(e=>0===e.parentDocumentFolderID),this.flatFoldersView=this.getUniqueFolders(this.flatFolders)):(this.flatFolders=t,this.flatFoldersView=this.getUniqueFolders(this.flatFolders)),this.showOnlyUploadedByOwner(),this.isProcessing=!1}),this.currentDocumentFolderID=e}showOnlyUploadedByOwner(){this.flatFoldersView=this.flatFolders.filter(e=>e.createdbyContactID===this.user.contactID),this.flatFoldersView=this.getUniqueFolders(this.flatFoldersView)}getUniqueFolders(e){if(0===e.length)return e;console.log("folders to be filtered ",e);var t=[];t.push(e[0]);for(let n=1;n<e.length;n++)this.containsFolder(e[n],t)||t.push(e[n]);return console.log("unique folders",t),t}containsFolder(e,t){var n;for(n=0;n<t.length;n++)if(t[n].documentFolderID===e.documentFolderID)return!0;return!1}onClickFolder(e){this.updateFoldersAndDocumentsList(e.documentFolderID),this.appendBreadCrumb(e)}onCreateNewFolder(){console.log("Create new folder clicked"),this.isAddNewFolderState=!0}onCancelAddNewFolder(){this.isAddNewFolderState=!1,this.newFolder.documentFolder=""}onCreateFolderSubmit(){""!==this.newFolder.documentFolder&&this.documentService.storeFolder({documentFolder:this.newFolder.documentFolder,contactID:this.contactID,companyID:this.companyID,parentDocumentFolderID:this.currentDocumentFolderID,createdbyContactID:this.contactID}).subscribe(e=>{e&&(console.log("\ud83d\ude80 > MoveFolderComponent > onCreateNewFolder > folder",e),e.documentFolderID=e.inOut_DocumentFolderID),this.isAddNewFolderState=!1,this.getFolders(e.documentFolderID),this.appendBreadCrumb(e)},()=>{})}appendBreadCrumb(e){this.breadCrumbs.push({name:e.documentFolder,documentFolderID:e.documentFolderID}),this.recalculateBreadCrumbs()}recalculateBreadCrumbs(){for(;this.getBreadCrumbsLength()>this.BREADCRUMB_LIMIT_CHARS;)this.minimisedBreadCrumbs.unshift(this.breadCrumbs.shift())}getBreadCrumbsLength(){let e=0;return this.breadCrumbs.forEach(t=>{e+=t.name.length}),e}onMoveFolder(){this.isMovingFolder?this.updateFolder():this.updateDocument()}updateFolder(){this.folder.documentFolderID!==this.currentDocumentFolderID&&this.folder.parentDocumentFolderID!==this.currentDocumentFolderID?this.documentService.updateFolder({documentFolderID:this.folder.documentFolderID,documentFolder:this.folder.documentFolder,parentDocumentFolderID:this.currentDocumentFolderID}).subscribe(e=>{console.log("\ud83d\ude80 > MoveFolderComponent > updateFolder > res",e),this.modal.close(!0)},()=>{}):this.modal.close(!1)}get isMoveAble(){return this.isMovingFolder?this.folder.documentFolderID!==this.currentDocumentFolderID&&this.folder.parentDocumentFolderID!==this.currentDocumentFolderID:this.document.documentFolderID!==this.currentDocumentFolderID}updateDocument(){this.document.documentFolderID!==this.currentDocumentFolderID?this.documentService.updateDocument({documentID:this.document.documentID,documentTitle:this.document.documentTitle,documentCategoryID:this.document.documentCategoryID,referenceID:this.document.referenceID,documentFolderID:this.currentDocumentFolderID,reference2ID:this.document.reference2ID,documentDescription:this.document.documentDescription}).subscribe(()=>{this.modal.close(!0)},()=>{}):this.modal.close(!1)}onCancel(){this.modal.close()}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](i.a),c["\u0275\u0275directiveInject"](s.a),c["\u0275\u0275directiveInject"](a.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-move-folder"]],decls:42,vars:14,consts:[[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"p-0","w-100","documents-container"],[1,"col-lg-12","col-md-12","col-sm-12","d-flex","flex-column"],["id","dynamic_container",1,"w-100","content-list-event",3,"avnonLoader"],[1,"bg-white","p-2","documents-content"],[1,"d-flex","align-items-center","justify-content-end","pb-2","header-actions"],["aria-label","breadcrumb",1,"flex-grow-1"],[1,"breadcrumb"],["ngbDropdown","","container","body","class","expand-sub-folders",4,"ngIf"],["class","breadcrumb-item",4,"ngFor","ngForOf"],[1,"flex-grow-1"],["class","number-of-items",4,"ngIf"],[1,"d-flex","align-items-center"],[1,"btn","btn-sm","btn-add","ml-2","btn-outline-primary",3,"click"],["src","assets/img/add-folder-icon.svg","alt",""],[1,"pl-1"],[1,"table"],[3,"ngClass"],[3,"ngSubmit"],["form","ngForm"],[1,"input-group","flex-nowrap"],["type","text","name","documentFolderName","required","",1,"form-control","new-folder-input",3,"ngModel","focus","ngModelChange"],["type","reset",1,"btn","btn-secondary","ml-2",3,"click"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],[4,"ngFor","ngForOf"],[1,"text-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["ngbDropdown","","container","body",1,"expand-sub-folders"],["ngbDropdownToggle","","type","button",1,"btn","btn-sm","expand-sub-folders__btn"],["src","assets/img/folder-icon.svg","alt",""],["ngbDropdownMenu","",1,"sub-action-menu"],["ngFor","",3,"ngForOf"],["ngbDropdownItem","",1,"btn","btn-sm",3,"click"],[1,"breadcrumb-item"],[3,"ngClass","click"],[1,"breadcrumb-item__label"],[1,"number-of-items"],[1,"text-truncate",3,"click"],[3,"linkName","isFolder"]],template:function(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"h5",1),c["\u0275\u0275template"](2,b,5,1,"span",2),c["\u0275\u0275template"](3,C,5,1,"span",2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"button",3),c["\u0275\u0275listener"]("click",function(){return t.onCancel()}),c["\u0275\u0275elementStart"](5,"span",4),c["\u0275\u0275text"](6,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",5),c["\u0275\u0275elementStart"](8,"div",6),c["\u0275\u0275elementStart"](9,"div",7),c["\u0275\u0275elementStart"](10,"div",8),c["\u0275\u0275elementStart"](11,"div",9),c["\u0275\u0275elementStart"](12,"div",10),c["\u0275\u0275elementStart"](13,"nav",11),c["\u0275\u0275elementStart"](14,"ol",12),c["\u0275\u0275template"](15,I,6,1,"div",13),c["\u0275\u0275template"](16,x,4,4,"li",14),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"div",10),c["\u0275\u0275elementStart"](18,"div",15),c["\u0275\u0275template"](19,M,2,0,"p",16),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"div",17),c["\u0275\u0275elementStart"](21,"button",18),c["\u0275\u0275listener"]("click",function(){return t.onCreateNewFolder()}),c["\u0275\u0275elementStart"](22,"span",17),c["\u0275\u0275element"](23,"img",19),c["\u0275\u0275elementStart"](24,"span",20),c["\u0275\u0275text"](25,"New folder"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](26,"table",21),c["\u0275\u0275elementStart"](27,"tbody"),c["\u0275\u0275elementStart"](28,"tr",22),c["\u0275\u0275elementStart"](29,"td"),c["\u0275\u0275elementStart"](30,"form",23,24),c["\u0275\u0275listener"]("ngSubmit",function(){return t.onCreateFolderSubmit()}),c["\u0275\u0275elementStart"](32,"div",25),c["\u0275\u0275elementStart"](33,"input",26),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.newFolder.documentFolder=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](34,"button",27),c["\u0275\u0275listener"]("click",function(){return t.onCancelAddNewFolder()}),c["\u0275\u0275text"](35," Cancel "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](36,"button",28),c["\u0275\u0275text"](37," Create "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](38,O,3,2,"tr",29),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](39,"div",30),c["\u0275\u0275elementStart"](40,"button",31),c["\u0275\u0275listener"]("click",function(){return t.onMoveFolder()}),c["\u0275\u0275text"](41," Move "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275reference"](31);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.folder&&t.folder.documentFolderID),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.document&&t.document.documentID),c["\u0275\u0275advance"](7),c["\u0275\u0275property"]("avnonLoader",t.isProcessing),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf",t.minimisedBreadCrumbs.length>0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.breadCrumbs),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",0===t.flatFoldersView.length),c["\u0275\u0275advance"](9),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](12,D,!1===t.isAddNewFolderState)),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngModel",t.newFolder.documentFolder)("focus",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("disabled",!e.valid),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",t.flatFoldersView),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("disabled",!t.isMoveAble)}},directives:[h.n,g.a,h.m,h.l,d.E,d.r,d.s,d.b,d.A,d.q,d.t,l.a,i.i,i.m,i.k,i.j,f.a],styles:['.documents-container[_ngcontent-%COMP%]{padding-top:55px}.documents-container[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-action-support[_ngcontent-%COMP%]{padding:.35rem .5rem!important;height:auto!important;line-height:normal!important}.documents-container[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-action-support[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.documents-container[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{background-image:none;border:1px solid #cfcfcf;border-radius:5px;padding:.35rem .75rem!important;height:auto!important;line-height:normal!important}.documents-container[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:after{content:none}.documents-container[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.documents-container[_ngcontent-%COMP%]   .row-boxes-sm.row-boxes[_ngcontent-%COMP%]{margin:0!important}.documents-container[_ngcontent-%COMP%]   .dropdown-toggle.no-icon[_ngcontent-%COMP%]:after{content:none}.documents-container[_ngcontent-%COMP%]   .content-list-event[_ngcontent-%COMP%]{min-height:50vh}.documents-container[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   a.nav-link[_ngcontent-%COMP%]{color:#484848;font-size:15px;font-weight:500;padding:3px 0}.documents-container[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   a.nav-link.acvtive[_ngcontent-%COMP%]{color:#406fe4}.documents-container[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .aside-action-alt[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:15px}.documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]{padding-top:0}.documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{margin:0;table-layout:fixed;border:1px solid #dfdfdf}.documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.25rem .75rem;vertical-align:middle}.documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.col-action[_ngcontent-%COMP%]{width:60px;height:50px;text-align:right}.documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.col-date[_ngcontent-%COMP%], .documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.col-shares[_ngcontent-%COMP%]{width:150px}.documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .dropdown-toggle.no-icon[_ngcontent-%COMP%]:after{content:none}.documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .icon-center[_ngcontent-%COMP%]{background-position:50%}.documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{background:transparent}.documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%], .documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#edf1f5;cursor:pointer}.documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%], .documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{display:inline}.breadcrumb[_ngcontent-%COMP%]{background-color:#fff;padding-bottom:0;margin-bottom:0}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item__label[_ngcontent-%COMP%]{display:inline;color:#757575}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   .breadcrumb-item__label[_ngcontent-%COMP%]{color:#000}.breadcrumb[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]:before{padding:0 5px;color:#6f6f6f;content:">"}.expand-sub-folders[_ngcontent-%COMP%]{top:-5px}.expand-sub-folders__btn[_ngcontent-%COMP%]{background-image:none!important;border-radius:5px;padding:.35rem .75rem 0 0!important;height:auto!important;line-height:normal!important}.expand-sub-folders__btn[_ngcontent-%COMP%]:after{content:none}.expand-sub-folders__btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.number-of-items[_ngcontent-%COMP%]{padding:0 0 0 12px;margin-bottom:0}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.row-collapsed[_ngcontent-%COMP%]{visibility:collapse}.new-folder-input[_ngcontent-%COMP%]{margin-top:2px}']}),e})();var F=n("E7AJ");class S{static toInteger(e){return parseInt(""+e,10)}static isNumber(e){return!isNaN(this.toInteger(e))}static padNumber(e){return this.isNumber(e)?("0"+e).slice(-2):""}static isArrayWithLength(e){return Boolean(Array.isArray(e)&&e.length)}static sortColumnDirection(e=[],t,n){return e.sort((e,o)=>"desc"===n?e[t]>o[t]?1:e[t]<o[t]?-1:0:e[t]<o[t]?1:e[t]>o[t]?-1:0),e}}var y=n("Xdyb"),w=n("mwbx"),E=n("HNxE"),k=n("8J6U"),V=n("Ljqs"),B=n("pWCv"),N=n("w6ya"),A=n("4CJs"),T=n("frau"),j=n("tyNb"),L=n("f/iK"),$=n("9nlD"),U=n("S2+F");function q(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",31),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=t.$implicit;return c["\u0275\u0275nextContext"](2).goToFolder(n.documentFolderID)}),c["\u0275\u0275elementStart"](1,"span",11),c["\u0275\u0275elementStart"](2,"span",14),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](e.name)}}function z(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",26),c["\u0275\u0275elementStart"](1,"button",27),c["\u0275\u0275elementStart"](2,"span",11),c["\u0275\u0275element"](3,"img",28),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"div",29),c["\u0275\u0275template"](5,q,4,1,"ng-template",30),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngForOf",e.minimisedBreadCrumbs)}}const R=function(e){return{active:e}};function K(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"li",32),c["\u0275\u0275elementStart"](1,"a",33),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=t.$implicit;return c["\u0275\u0275nextContext"]().goToFolder(n.documentFolderID)}),c["\u0275\u0275elementStart"](2,"h1",34),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](2,R,e.documentFolderID===n.currentDocumentFolderID)),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.name)}}function J(e,t){1&e&&c["\u0275\u0275element"](0,"img",37)}function H(e,t){1&e&&c["\u0275\u0275element"](0,"img",38)}function W(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275template"](1,J,1,0,"img",35),c["\u0275\u0275template"](2,H,1,0,"img",36),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","desc"===e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","asc"===e.sortDirection)}}function Q(e,t){1&e&&c["\u0275\u0275element"](0,"img",37)}function G(e,t){1&e&&c["\u0275\u0275element"](0,"img",38)}function Z(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275template"](1,Q,1,0,"img",35),c["\u0275\u0275template"](2,G,1,0,"img",36),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","desc"===e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","asc"===e.sortDirection)}}function X(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td",39),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().sort("sharedBy","sharedBy")}),c["\u0275\u0275text"](1," Shared By "),c["\u0275\u0275template"](2,Z,3,2,"span",19),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","sharedBy"===e.colSorting)}}function Y(e,t){1&e&&c["\u0275\u0275element"](0,"img",37)}function ee(e,t){1&e&&c["\u0275\u0275element"](0,"img",38)}function te(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275template"](1,Y,1,0,"img",35),c["\u0275\u0275template"](2,ee,1,0,"img",36),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","desc"===e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","asc"===e.sortDirection)}}function ne(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td",39),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().sort("totalShares","totalShares")}),c["\u0275\u0275text"](1," Total Shares "),c["\u0275\u0275template"](2,te,3,2,"span",19),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","totalShares"===e.colSorting)}}function oe(e,t){1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275text"](1," Me "),c["\u0275\u0275elementContainerEnd"]())}function re(e,t){if(1&e&&c["\u0275\u0275text"](0),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit;c["\u0275\u0275textInterpolate1"](" ",e.sharedBy," ")}}function ce(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",49),c["\u0275\u0275template"](1,oe,2,0,"ng-container",50),c["\u0275\u0275template"](2,re,1,1,"ng-template",null,51,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275reference"](3),t=c["\u0275\u0275nextContext"]().$implicit,n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.createdbyContactID===n.contactID)("ngIfElse",e)}}function ie(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",49),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.totalShares," ")}}function se(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",47),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"]().onEditFolder(t)}),c["\u0275\u0275elementStart"](1,"span",11),c["\u0275\u0275element"](2,"img",52),c["\u0275\u0275elementStart"](3,"span",14),c["\u0275\u0275text"](4,"Edit"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function ae(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",47),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"]().onDeleteFolder(t)}),c["\u0275\u0275elementStart"](1,"span",11),c["\u0275\u0275element"](2,"img",53),c["\u0275\u0275elementStart"](3,"span",14),c["\u0275\u0275text"](4,"Delete"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function de(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",47),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"]().onMoveFolder(t)}),c["\u0275\u0275elementStart"](1,"span",11),c["\u0275\u0275element"](2,"img",54),c["\u0275\u0275elementStart"](3,"span",14),c["\u0275\u0275text"](4,"Move"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function le(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td",40),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=t.$implicit;return c["\u0275\u0275nextContext"]().onClickFolder(n)}),c["\u0275\u0275element"](2,"app-document-thumbnail",41),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](3,ce,4,2,"td",42),c["\u0275\u0275template"](4,ie,2,1,"td",42),c["\u0275\u0275elementStart"](5,"td",21),c["\u0275\u0275elementStart"](6,"div",43),c["\u0275\u0275elementStart"](7,"button",44),c["\u0275\u0275element"](8,"img",45),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"div",29),c["\u0275\u0275template"](10,se,5,0,"button",46),c["\u0275\u0275elementStart"](11,"button",47),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=t.$implicit;return c["\u0275\u0275nextContext"]().onFileSharing(null,n,2)}),c["\u0275\u0275elementStart"](12,"span",11),c["\u0275\u0275element"](13,"img",48),c["\u0275\u0275elementStart"](14,"span",14),c["\u0275\u0275text"](15,"Share"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](16,ae,5,0,"button",46),c["\u0275\u0275template"](17,de,5,0,"button",46),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("linkName",e.documentFolder)("isFolder",!0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0===n.activeShareNavIndex||1===n.activeShareNavIndex),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",2===n.activeShareNavIndex),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngIf",e.createdbyContactID===n.contactID),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngIf",e.createdbyContactID===n.contactID),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.createdbyContactID===n.contactID)}}function me(e,t){1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275text"](1," Me "),c["\u0275\u0275elementContainerEnd"]())}function ue(e,t){if(1&e&&c["\u0275\u0275text"](0),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit;c["\u0275\u0275textInterpolate1"](" ",e.sharedBy," ")}}function pe(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",49),c["\u0275\u0275template"](1,me,2,0,"ng-container",50),c["\u0275\u0275template"](2,ue,1,1,"ng-template",null,57,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275reference"](3),t=c["\u0275\u0275nextContext"]().$implicit,n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.documentUploadedByID===n.contactID)("ngIfElse",e)}}function he(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",49),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.totalShares," ")}}function ge(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",47),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"]().onDeleteDocument(t)}),c["\u0275\u0275elementStart"](1,"span",11),c["\u0275\u0275element"](2,"img",53),c["\u0275\u0275elementStart"](3,"span",14),c["\u0275\u0275text"](4,"Delete"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function fe(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",47),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"]().onMoveDocument(t)}),c["\u0275\u0275elementStart"](1,"span",11),c["\u0275\u0275element"](2,"img",54),c["\u0275\u0275elementStart"](3,"span",14),c["\u0275\u0275text"](4,"Move"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function be(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td",40),c["\u0275\u0275listener"]("click",function(n){c["\u0275\u0275restoreView"](e);const o=t.$implicit;return c["\u0275\u0275nextContext"]().onClickDocument(n,o,!1,!0)}),c["\u0275\u0275elementStart"](2,"app-document-thumbnail",55),c["\u0275\u0275listener"]("click",function(n){c["\u0275\u0275restoreView"](e);const o=t.$implicit,r=c["\u0275\u0275nextContext"]();return o?r.empty():n.stopPropagation()}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](3,pe,4,2,"td",42),c["\u0275\u0275template"](4,he,2,1,"td",42),c["\u0275\u0275elementStart"](5,"td",21),c["\u0275\u0275elementStart"](6,"div",43),c["\u0275\u0275elementStart"](7,"button",44),c["\u0275\u0275element"](8,"img",45),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"div",29),c["\u0275\u0275elementStart"](10,"button",47),c["\u0275\u0275listener"]("click",function(n){c["\u0275\u0275restoreView"](e);const o=t.$implicit;return c["\u0275\u0275nextContext"]().onClickDocument(n,o)}),c["\u0275\u0275elementStart"](11,"span",11),c["\u0275\u0275element"](12,"img",54),c["\u0275\u0275elementStart"](13,"span",14),c["\u0275\u0275text"](14,"View"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"button",47),c["\u0275\u0275listener"]("click",function(n){c["\u0275\u0275restoreView"](e);const o=t.$implicit;return c["\u0275\u0275nextContext"]().onDownloadDocument(n,o)}),c["\u0275\u0275elementStart"](16,"span",11),c["\u0275\u0275element"](17,"img",56),c["\u0275\u0275elementStart"](18,"span",14),c["\u0275\u0275text"](19,"Download"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"button",47),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=t.$implicit;return c["\u0275\u0275nextContext"]().onFileSharing(n,null,1)}),c["\u0275\u0275elementStart"](21,"span",11),c["\u0275\u0275element"](22,"img",48),c["\u0275\u0275elementStart"](23,"span",14),c["\u0275\u0275text"](24,"Share"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](25,ge,5,0,"button",46),c["\u0275\u0275template"](26,fe,5,0,"button",46),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"]();c["\u0275\u0275classProp"]("list-active-fill",n.activeDocument&&n.activeDocument.documentID===e.documentID),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("linkName",e.documentTitle)("documentLink",n.documentLink)("isImage",e.documentType.includes("image"))("document",e)("isVideo",e.documentType.includes("video")||e.documentType.includes("application/octet-stream"))("documentPath",e.documentPath),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0===n.activeShareNavIndex||1===n.activeShareNavIndex),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",2===n.activeShareNavIndex),c["\u0275\u0275advance"](21),c["\u0275\u0275property"]("ngIf",e.documentUploadedByID===n.contactID),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.documentUploadedByID===n.contactID)}}function Ce(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",58),c["\u0275\u0275elementStart"](1,"button",59),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().submit()}),c["\u0275\u0275text"](2,"Submit"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("disabled",!e.activeDocument)}}function ve(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",60),c["\u0275\u0275elementStart"](1,"div",61),c["\u0275\u0275elementStart"](2,"div",62),c["\u0275\u0275elementStart"](3,"h3"),c["\u0275\u0275text"](4,"Filters"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"div",63),c["\u0275\u0275elementStart"](6,"div",64),c["\u0275\u0275elementStart"](7,"label",65),c["\u0275\u0275text"](8,"Classifications"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"div",66),c["\u0275\u0275elementStart"](10,"input",67),c["\u0275\u0275listener"]("change",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().showMyFiles()}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"label",68),c["\u0275\u0275text"](12,"My files"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"div",66),c["\u0275\u0275elementStart"](14,"input",69),c["\u0275\u0275listener"]("change",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().showSharedFilesToMe()}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"label",70),c["\u0275\u0275text"](16,"Shared with me"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"div",66),c["\u0275\u0275elementStart"](18,"input",71),c["\u0275\u0275listener"]("change",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().showMySharedFiles()}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"label",72),c["\u0275\u0275text"](20,"Shared files"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](10),c["\u0275\u0275property"]("checked",0===e.activeShareNavIndex),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("checked",1===e.activeShareNavIndex),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("checked",2===e.activeShareNavIndex)}}const Ie=function(e){return{"modal-table":e}};let _e=(()=>{class e{constructor(e,t,n,o,c,i,s,a,d){this.modalService=e,this.documentService=t,this.route=n,this.location=o,this.permissionService=i,this.notificationService=s,this.signalRService=a,this.activeModal=d,this.isProcessing=!1,this.apiBlobUrl=r.a.apiBlobUrl,this.treeFolders=[],this.currentDocumentFolderID=0,this.BREADCRUMB_LIMIT_CHARS=44,this.breadCrumbs=[],this.minimisedBreadCrumbs=[],this.flatFolders=[],this.flatFoldersView=[],this.documents=[],this.documentsView=[],this.subFolders=[],this.folderBreadcrumbs=[],this.keywordSearch=null,this.activeShareNavIndex=0,this.permissionContactsShared=[],this.oldPermissionContactsShared=[],this.oldContactsShared=[],this.sortDirection="desc",this.colSorting="",this.user=c.user.getValue()}ngOnInit(){this.contactID=this.user.contactID,this.getFolders(0),this.getDocuments(0),this.breadCrumbs.push({name:"Root",documentFolderID:0}),this.route.queryParams.subscribe(e=>{this.viewDocumentId=+e.viewDocumentId})}goToFolder(e){this.getFolders(e),this.getDocuments(e),this.breadCrumbs.splice(0,0,...this.minimisedBreadCrumbs.reverse()),this.minimisedBreadCrumbs=[];const t=this.breadCrumbs.findIndex(t=>t.documentFolderID===e);this.breadCrumbs.splice(t+1),this.recalculateBreadCrumbs()}getFolders(e){this.isProcessing=!0,this.documentService.getFolders(this.contactID,0,e).subscribe(t=>{0===e?(this.flatFolders=t.filter(e=>0===e.parentDocumentFolderID),this.flatFoldersView=this.flatFolders):(this.flatFolders=t,this.flatFoldersView=this.flatFolders),this.resetFiltering();const n=this.flatFoldersView.find(e=>e.documentFolderID===this.viewDocumentId);n&&(this.onClickFolder(n),this.location.replaceState("/documents"),this.viewDocumentId=void 0)}),this.currentDocumentFolderID=e}getDocuments(e){this.isProcessing=!0,this.documentService.getDocuments(0,0,e,0,this.contactID).subscribe(e=>{this.documents=Object(k.j)(e,"documentID"),this.documentsView=this.documents,this.resetFiltering(),this.isProcessing=!1;const t=this.documentsView.find(e=>e.documentID===this.viewDocumentId);t&&(this.onClickDocument(void 0,t,!0),this.location.replaceState("/documents"),this.viewDocumentId=void 0)})}onClickFolder(e){this.activeFolder=e,this.updateFoldersAndDocumentsList(e.documentFolderID),this.appendBreadCrumb(e)}updateFoldersAndDocumentsList(e){this.getFolders(e),this.getDocuments(e)}appendBreadCrumb(e){const t={name:this.truncate(e.documentFolder),documentFolderID:e.documentFolderID};this.breadCrumbs.push(t),this.recalculateBreadCrumbs()}recalculateBreadCrumbs(){for(;this.getBreadCrumbsLength()>this.BREADCRUMB_LIMIT_CHARS&&this.breadCrumbs.length>2;)this.minimisedBreadCrumbs.unshift(this.breadCrumbs.shift())}truncate(e,t=10,n=20){if(!e)return"";if(e.length<n)return e;const o=e.toString();return`${o.substr(0,t)}...${o.substr(o.length-t,t)}`}getBreadCrumbsLength(){let e=0;return this.breadCrumbs.forEach(t=>{e+=t.name.length}),e}onClickDocument(e,t,n=!1,o=!1){if(o)this.activeDocument=t;else if(t.documentType.includes("image")){const e=this.modalService.open(p.a,{size:"gallery",centered:!0});e.componentInstance.documents=n?[t]:this.documents,e.componentInstance.documentActive=t,e.result.then(e=>{e&&"deleted"===e.action&&this.updateFoldersAndDocumentsList(this.currentDocumentFolderID)},()=>{})}else if(t.documentType.includes("video")){const e=this.modalService.open(y.a,{size:"lg"});e.componentInstance.document=t,e.componentInstance.showTitle=!1,e.componentInstance.isPlayVideo=!0}else this.modalService.open(w.a,{size:"xl"}).componentInstance.document={documentTitle:t.documentTitle,documentPath:this.apiBlobUrl+"/"+t.documentPath}}onUploadFiles(){const e=this.modalService.open(F.a,{size:"lg"});e.componentInstance.documents=[],e.componentInstance.referenceID=this.contactID,e.componentInstance.reference2ID=0,e.componentInstance.documentCategoryID=0,e.componentInstance.documentFolderID=this.currentDocumentFolderID,e.result.then(e=>{e&&e.length>0&&this.updateFoldersAndDocumentsList(this.currentDocumentFolderID)})}onCreateNewFolder(){const e=this.modalService.open(m,{});e.componentInstance.currentFolder=null,e.componentInstance.documentFolderID=this.currentDocumentFolderID,e.result.then(e=>{e&&(this.getFolders(e.documentFolderID),this.getDocuments(e.documentFolderID),this.appendBreadCrumb(e))},()=>{})}onEditFolder(e){const t=this.modalService.open(m,{});t.componentInstance.currentFolder=e,t.componentInstance.parentFolder=null}onDeleteFolder(e){const t=this.modalService.open(u.a);t.componentInstance.objectType="Delete Folder",t.componentInstance.objectDetails=e.documentFolder+" folder",t.result.then(t=>{"Yes"===t&&this.deleteFolder(e)},()=>{})}deleteFolder(e){this.documentService.deleteFolder(e.documentFolderID).subscribe(()=>{this.updateFoldersAndDocumentsList(this.currentDocumentFolderID)})}onDeleteDocument(e){const t=this.modalService.open(u.a);t.componentInstance.objectType="Delete Document",t.componentInstance.objectDetails="document "+e.documentTitle,t.result.then(t=>{"Yes"===t&&this.deleteDocument(e)},()=>{})}deleteDocument(e){this.documentService.deleteDocument(e.documentID).subscribe(()=>{this.updateFoldersAndDocumentsList(this.currentDocumentFolderID)})}onMoveFolder(e){const t=this.modalService.open(P,{size:"lg"});t.componentInstance.currentDocumentFolderID=this.currentDocumentFolderID,t.componentInstance.isMovingFolder=!0,t.componentInstance.folder=e,t.componentInstance.breadCrumbs=Object(k.l)(this.breadCrumbs),t.componentInstance.minimisedBreadCrumbs=Object(k.l)(this.minimisedBreadCrumbs),t.result.then(e=>{e&&this.updateFoldersAndDocumentsList(this.currentDocumentFolderID)},()=>{})}onMoveDocument(e){const t=this.modalService.open(P,{size:"lg"});t.componentInstance.isMovingFolder=!1,t.componentInstance.currentDocumentFolderID=this.currentDocumentFolderID,t.componentInstance.document=e,t.componentInstance.breadCrumbs=Object(k.l)(this.breadCrumbs),t.componentInstance.minimisedBreadCrumbs=Object(k.l)(this.minimisedBreadCrumbs),t.result.then(e=>{e&&this.updateFoldersAndDocumentsList(this.currentDocumentFolderID)},()=>{})}onFileSharing(e,t,n){const o=1===n?e.documentID:t.documentFolderID;this.permissionService.getPermission(n,o,0).subscribe(r=>{if(r){this.permissionContactsShared=r,this.oldPermissionContactsShared=[...this.permissionContactsShared],this.oldContactsShared=this.mapPermissionContactToContact(r);const c=this.modalService.open(T.a,{size:"lg"});c.componentInstance.includeContact=this.contactID,c.componentInstance.selectedContacts=Object(k.l)(this.oldContactsShared),c.result.then(r=>{let c=[],i=[];0===this.oldContactsShared.length?c=r:r.forEach(e=>{-1===this.oldContactsShared.findIndex(t=>t.contactID===e.contactID)&&c.push(e)}),0===r.length?i=this.oldPermissionContactsShared:this.oldPermissionContactsShared.forEach(e=>{-1===r.findIndex(t=>t.contactID===e.contactID)&&i.push(e)});const s=[];c&&c.length>0&&s.push(this.createNewPermission(this.mapContactToPermissionContact(c),o,n,t,e)),i&&i.length>0&&s.push(this.deletePermission(i)),Object(V.forkJoin)(s).subscribe(e=>{console.log("After permission updates",e),this.updateFoldersAndDocumentsList(this.currentDocumentFolderID)})},()=>{})}})}createNewPermission(e,t,n,o,r){const c=[];let i=Object(h.y)(new Date,"yyyy-MM-dd HH:mm:ss","en-UK");return e.forEach(e=>{c.push(this.permissionService.create({permissionAreaID:n,permissionTypeID:1,referenceID:t,contactID:e.contactID,grantedByContactID:this.contactID,dateGranted:i}))}),Object(V.forkJoin)(c).pipe(Object(B.tap)(()=>this.sendSharedDocumentNotification(e,o,r)))}deletePermission(e){const t=[];return e.forEach(e=>{t.push(this.permissionService.delete(e.permissionID))}),Object(V.forkJoin)(t)}mapPermissionContactToContact(e){let t=[];return e.forEach(e=>{let n=new E.a;n.contactID=e.contactID,n.firstName=e.firstName,n.profilePhoto=e.profilePhoto,n.surname=e.surname,t.push(n)}),t}mapContactToPermissionContact(e){let t=[];return e.forEach(e=>{t.push({contactID:e.contactID,firstName:e.firstName,profilePhoto:e.profilePhoto,surname:e.surname})}),t}sendSharedDocumentNotification(e,t,n){e.forEach(e=>{const o=this.user,r=`${o.firstName} ${o.surname}| has shared a ${t?"folder":"document"} with you`,c={notificationCategoryID:t?N.a.folder_shared_document_folder:N.a.file_shared_document,referenceID:t?t.documentFolderID:n.documentID,contactID:e.contactID,description:r,createdContact:o.contactID};this.notificationService.noticeNotification(c).subscribe(()=>{const t=Object(k.a)(new Date),n={date:t,body:r.replace("|",""),topic:r.replace("|",""),senderFullName:"",senderPhoto:"",channel:"dashboard",reference:c.referenceID,notificationType:A.a.other,senderId:o.contactID,receivers:[e.contactID],uniqueId:`${t}|${c.referenceID}`,discussionId:0};this.signalRService.transferMessage("dashboard",n)})})}onDownloadDocument(e,t){if(t.documentPath){const e=document.createElement("a");e.setAttribute("type","hidden"),e.href=this.apiBlobUrl+"/"+t.documentPath,e.download=t.documentPath,document.body.appendChild(e),e.click(),e.remove()}}showFilesInActiveNav(){switch(this.activeShareNavIndex){case 0:this.showMyFiles();break;case 1:this.showSharedFilesToMe();break;case 2:this.showMySharedFiles()}}resetFiltering(){this.activeShareNavIndex=0,this.sortDirection=""}showMyFiles(){this.documentsView=this.documents.filter(e=>e.documentUploadedByID===this.user.contactID||null!==e.sharedBy),this.documentsView=this.documentsView,this.flatFoldersView=this.flatFolders.filter(e=>e.createdbyContactID===this.user.contactID||null!==e.grantedByContactID),this.flatFoldersView=this.flatFoldersView,this.activeShareNavIndex=0,this.sortDirection=""}showSharedFilesToMe(){this.documentsView=this.documents.filter(e=>e.documentUploadedByID!==this.user.contactID),this.documentsView=this.documentsView,this.flatFoldersView=this.flatFolders.filter(e=>e.createdbyContactID!==this.user.contactID),this.flatFoldersView=this.flatFoldersView,this.activeShareNavIndex=1,this.sortDirection=""}showMySharedFiles(){this.documentsView=this.documents.filter(e=>e.documentUploadedByID==this.user.contactID&&e.sharedBy),this.documentsView=this.documentsView,this.flatFoldersView=this.flatFolders.filter(e=>e.createdbyContactID===this.user.contactID&&e.sharedBy),this.flatFoldersView=this.flatFoldersView,this.activeShareNavIndex=2,this.sortDirection=""}sort(e,t){this.colSorting=t,this.sortDirection="asc"===this.sortDirection?"desc":"asc",this.flatFoldersView=S.sortColumnDirection(this.flatFoldersView,e,this.sortDirection),this.documentsView=S.sortColumnDirection(this.documentsView,t,this.sortDirection)}submit(){this.activeModal.close(this.activeDocument)}empty(){}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](i.p),c["\u0275\u0275directiveInject"](s.a),c["\u0275\u0275directiveInject"](j.a),c["\u0275\u0275directiveInject"](h.j),c["\u0275\u0275directiveInject"](a.a),c["\u0275\u0275directiveInject"](L.a),c["\u0275\u0275directiveInject"]($.a),c["\u0275\u0275directiveInject"](U.a),c["\u0275\u0275directiveInject"](i.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-documents-folder"]],decls:39,vars:14,consts:[[1,"p-0","float-left","w-100","documents-container"],[1,"d-flex","flex-column"],["id","dynamic_container",1,"w-100","content-list-event",3,"avnonLoader"],[1,"d-flex","align-items-center","justify-content-end","pb-2","header-actions"],["aria-label","breadcrumb",1,"flex-grow-1"],[1,"breadcrumb"],["ngbDropdown","","container","body","class","expand-sub-folders",4,"ngIf"],["class","breadcrumb-item",4,"ngFor","ngForOf"],[1,"bg-white","p-2","documents-content"],[1,"flex-grow-1"],[1,"number-of-items"],[1,"d-flex","align-items-center"],[1,"btn","btn-sm","btn-add","ml-2","btn-outline-primary",3,"click"],["src","assets/img/add-file-icon.svg","alt",""],[1,"pl-1"],["src","assets/img/add-folder-icon.svg","alt",""],[1,"w100",3,"ngClass"],[1,"table"],[3,"click"],[4,"ngIf"],["class","text-right col-shares",3,"click",4,"ngIf"],[1,"col-action"],[4,"ngFor","ngForOf"],[3,"list-active-fill",4,"ngFor","ngForOf"],["class","form-group text-right mt-3 pl-3 pr-3",4,"ngIf"],["class","filter-section",4,"ngIf"],["ngbDropdown","","container","body",1,"expand-sub-folders"],["ngbDropdownToggle","","type","button",1,"btn","btn-sm","expand-sub-folders__btn"],["src","assets/img/folder-icon.svg","alt",""],["ngbDropdownMenu","",1,"sub-action-menu"],["ngFor","",3,"ngForOf"],["ngbDropdownItem","",1,"btn","btn-sm",3,"click"],[1,"breadcrumb-item"],[3,"ngClass","click"],[1,"breadcrumb-item__label"],["src","assets/img/sort-descending.svg",4,"ngIf"],["src","assets/img/sort-ascending.svg",4,"ngIf"],["src","assets/img/sort-descending.svg"],["src","assets/img/sort-ascending.svg"],[1,"text-right","col-shares",3,"click"],[1,"text-truncate",3,"click"],[1,"document-thumb-icon--half",3,"linkName","isFolder"],["class","text-right",4,"ngIf"],["ngbDropdown","","container","body"],["ngbDropdownToggle","","type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-action"],["src","assets/img/dots-horizontal.svg","alt",""],["ngbDropdownItem","",3,"click",4,"ngIf"],["ngbDropdownItem","",3,"click"],["src","assets/img/account-multiple-plus.svg","alt",""],[1,"text-right"],[4,"ngIf","ngIfElse"],["elseShareBy",""],["src","assets/img/pencil-outline.svg","alt",""],["src","assets/img/trash.svg","alt",""],["src","assets/img/cursor-move.svg","alt",""],[3,"linkName","documentLink","isImage","document","isVideo","documentPath","click"],["src","assets/img/download.svg","alt",""],["elseDocumentShareBy",""],[1,"form-group","text-right","mt-3","pl-3","pr-3"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"filter-section"],[1,"sticky-container","card"],[1,"card-header"],[1,"card-body"],[1,"form-group","d-flex","flex-column"],[1,"font-weight-bold"],[1,"custom-control","custom-radio","custom-control-inline"],["type","radio","id","MyFiles",1,"custom-control-input",3,"checked","change"],["for","MyFiles",1,"custom-control-label"],["type","radio","id","FilesSharedWithMe",1,"custom-control-input",3,"checked","change"],["for","FilesSharedWithMe",1,"custom-control-label"],["type","radio","id","FilesIveShared",1,"custom-control-input",3,"checked","change"],["for","FilesIveShared",1,"custom-control-label"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"div",3),c["\u0275\u0275elementStart"](4,"nav",4),c["\u0275\u0275elementStart"](5,"ol",5),c["\u0275\u0275template"](6,z,6,1,"div",6),c["\u0275\u0275template"](7,K,4,4,"li",7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"div",8),c["\u0275\u0275elementStart"](9,"div",3),c["\u0275\u0275elementStart"](10,"div",9),c["\u0275\u0275elementStart"](11,"p",10),c["\u0275\u0275text"](12),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"div",11),c["\u0275\u0275elementStart"](14,"button",12),c["\u0275\u0275listener"]("click",function(){return t.onUploadFiles()}),c["\u0275\u0275elementStart"](15,"span",11),c["\u0275\u0275element"](16,"img",13),c["\u0275\u0275elementStart"](17,"span",14),c["\u0275\u0275text"](18,"Upload files"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"button",12),c["\u0275\u0275listener"]("click",function(){return t.onCreateNewFolder()}),c["\u0275\u0275elementStart"](20,"span",11),c["\u0275\u0275element"](21,"img",15),c["\u0275\u0275elementStart"](22,"span",14),c["\u0275\u0275text"](23,"New folder"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](24,"div",16),c["\u0275\u0275elementStart"](25,"table",17),c["\u0275\u0275elementStart"](26,"thead"),c["\u0275\u0275elementStart"](27,"tr"),c["\u0275\u0275elementStart"](28,"td",18),c["\u0275\u0275listener"]("click",function(){return t.sort("documentFolder","documentTitle")}),c["\u0275\u0275text"](29," Name "),c["\u0275\u0275template"](30,W,3,2,"span",19),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](31,X,3,1,"td",20),c["\u0275\u0275template"](32,ne,3,1,"td",20),c["\u0275\u0275element"](33,"td",21),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](34,"tbody"),c["\u0275\u0275template"](35,le,18,7,"tr",22),c["\u0275\u0275template"](36,be,27,12,"tr",23),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](37,Ce,3,1,"div",24),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](38,ve,21,3,"div",25),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("avnonLoader",t.isProcessing),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",t.minimisedBreadCrumbs.length>0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.breadCrumbs),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",t.flatFoldersView.length+t.documentsView.length," items "),c["\u0275\u0275advance"](12),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](12,Ie,t.documentLink)),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngIf","documentTitle"===t.colSorting),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0===t.activeShareNavIndex||1===t.activeShareNavIndex),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",2===t.activeShareNavIndex),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngForOf",t.flatFoldersView),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.documentsView),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.documentLink),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!t.documentLink))},directives:[g.a,h.n,h.m,h.l,i.i,i.m,i.k,i.j,f.a],styles:['.sub-action-menu{margin:0}  .sub-action-menu img{width:16px;height:16px}  .sub-action-menu .btn{border-radius:0;border:none}  .sub-action-menu .btn:hover{color:#406fe4}.documents-container[_ngcontent-%COMP%]{padding-top:55px}.documents-container[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-action-support[_ngcontent-%COMP%]{padding:.35rem .5rem!important;height:auto!important;line-height:normal!important}.documents-container[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-action-support[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.documents-container[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{background-image:none;border:1px solid #cfcfcf;border-radius:5px;padding:.35rem .75rem!important;height:auto!important;line-height:normal!important}.documents-container[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:after{content:none}.documents-container[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.documents-container[_ngcontent-%COMP%]   .row-boxes-sm.row-boxes[_ngcontent-%COMP%]{margin:0!important}.documents-container[_ngcontent-%COMP%]   .dropdown-toggle.no-icon[_ngcontent-%COMP%]:after{content:none}.documents-container[_ngcontent-%COMP%]   .content-list-event[_ngcontent-%COMP%]{min-height:calc(100vh - 55px);border:1px solid #dfdfdf}.documents-container[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   a.nav-link[_ngcontent-%COMP%]{color:#484848;font-size:15px;font-weight:500;padding:3px 0}.documents-container[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   a.nav-link.acvtive[_ngcontent-%COMP%]{color:#406fe4}.documents-container[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .aside-action-alt[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:15px}.documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]{padding-top:0;margin-top:-17px}.documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{margin:0;table-layout:fixed}.documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.25rem .75rem;vertical-align:middle}.documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.col-action[_ngcontent-%COMP%]{width:60px;height:50px;text-align:right}.documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.col-date[_ngcontent-%COMP%], .documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.col-shares[_ngcontent-%COMP%]{width:150px}.documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .dropdown-toggle.no-icon[_ngcontent-%COMP%]:after{content:none}.documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .icon-center[_ngcontent-%COMP%]{background-position:50%}.documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{background:transparent}.documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%], .documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#edf1f5;cursor:pointer}.documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%], .documents-container[_ngcontent-%COMP%]   .documents-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{display:inline}.explore-content[_ngcontent-%COMP%]{max-width:calc(100% - 200px);flex:0 0 100%;margin-top:52px}@media (max-width:992px){.explore-content[_ngcontent-%COMP%]{max-width:100%}}.filter-section[_ngcontent-%COMP%]{padding-right:0}@media (max-width:768px){.filter-section[_ngcontent-%COMP%]{display:none!important}}.filter-section[_ngcontent-%COMP%]   .sticky-container[_ngcontent-%COMP%]{position:sticky;max-width:284px}.filter-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:284px;margin-top:5px;margin-left:15px}.filter-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:none}.filter-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;margin:0}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.breadcrumb[_ngcontent-%COMP%]{background-color:#fff;height:50px;border-bottom:1px solid #dfdfdf;padding-right:0}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{padding-left:0}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item__label[_ngcontent-%COMP%]{display:inline;color:#757575}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   .breadcrumb-item__label[_ngcontent-%COMP%]{color:#000}.breadcrumb[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]:before{padding:0 5px;color:#6f6f6f;content:">"}.expand-sub-folders[_ngcontent-%COMP%]{top:-5px}.expand-sub-folders__btn[_ngcontent-%COMP%]{background-image:none!important;border-radius:5px;padding:.35rem .75rem 0 0!important;height:auto!important;line-height:normal!important}.expand-sub-folders__btn[_ngcontent-%COMP%]:after{content:none}.expand-sub-folders__btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.number-of-items[_ngcontent-%COMP%]{padding:0 0 0 12px;margin-bottom:0}[_nghost-%COMP%]     app-document-thumbnail .document-thumb-icon{width:24px;height:24px}.modal-table[_ngcontent-%COMP%]{max-height:74vh;height:74vh;overflow-y:auto;overflow-x:hidden}']}),e})()},X0Jz:function(e,t,n){"use strict";n.r(t),n.d(t,"DocumentsModule",function(){return C});var o=n("ofXK"),r=n("j4PG"),c=n("tyNb"),i=n("fXoL");const s=[{path:"",component:(()=>{class e{ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-documents"]],decls:1,vars:0,template:function(e,t){1&e&&i["\u0275\u0275element"](0,"router-outlet")},directives:[c.h],encapsulation:2}),e})(),children:[{path:"",component:n("Vibq").a}]}];let a=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[c.g.forChild(s)],c.g]}),e})(),d=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c]]}),e})();var l=n("3Pt+"),m=n("1kSV"),u=n("V6Zj"),p=n("iv3V"),h=n("7AQL"),g=n("PCNd"),f=n("/ogr"),b=n("Grqx");let C=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c,l.l,r.a,m.q,m.l,m.F,a,g.a,m.F,d,f.a,u.a,p.a,h.a,b.a]]}),e})()},Z5tI:function(e,t,n){"use strict";var o=n("MkmW");t.subscribeToPromise=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,o.hostReportError),t}}},gTqA:function(e,t,n){"use strict";var o=n("Q1FS"),r=n("6qA3"),c=n("EBtg");t.from=function(e,t){return t?c.scheduled(e,t):e instanceof o.Observable?e:new o.Observable(r.subscribeTo(e))}},n73p:function(e,t,n){"use strict";var o=n("Q1FS"),r=n("zB/H");t.schedulePromise=function(e,t){return new o.Observable(function(n){var o=new r.Subscription;return o.add(t.schedule(function(){return e.then(function(e){o.add(t.schedule(function(){n.next(e),o.add(t.schedule(function(){return n.complete()}))}))},function(e){o.add(t.schedule(function(){return n.error(e)}))})})),o})}},ozli:function(e,t,n){"use strict";var o=n("zfKp");t.subscribeToObservable=function(e){return function(t){var n=e[o.observable]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},pWCv:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=n("FWf1"),c=n("w5QO"),i=n("pshJ");t.tap=function(e,t,n){return function(o){return o.lift(new s(e,t,n))}};var s=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.nextOrObserver,this.error,this.complete))},e}(),a=function(e){function t(t,n,o,r){var s=e.call(this,t)||this;return s._tapNext=c.noop,s._tapError=c.noop,s._tapComplete=c.noop,s._tapError=o||c.noop,s._tapComplete=r||c.noop,i.isFunction(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||c.noop,s._tapError=n.error||c.noop,s._tapComplete=n.complete||c.noop),s}return o(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(r.Subscriber)},poJ0:function(e,t,n){"use strict";var o=n("VKeD");t.subscribeToIterable=function(e){return function(t){for(var n=e[o.iterator]();;){var r=void 0;try{r=n.next()}catch(c){return t.error(c),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}}},q3Kh:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=n("FWf1");t.map=function(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new c(e,t))}};var c=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new i(e,this.project,this.thisArg))},e}();t.MapOperator=c;var i=function(e){function t(t,n,o){var r=e.call(this,t)||this;return r.project=n,r.count=0,r.thisArg=o||r,r}return o(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(r.Subscriber)},w5QO:function(e,t,n){"use strict";t.noop=function(){}},yRPT:function(e,t,n){"use strict";t.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}}}]);