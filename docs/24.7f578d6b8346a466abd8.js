(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"+i8e":function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{constructor(){this.companyProductID=null,this.companyID=null,this.productName=null,this.productDescription=null,this.productPitch=null,this.productCostProfile=null,this.productTypeID=null,this.productCategoryID=null,this.companyProductStatusID=null,this.goals=[],this.backgroundStory=null,this.intellectualPropertyOverview=null,this.intellectualPropertyOwner=null,this.intellectualPropertyProtection=null,this.intellectualPropertyProtectionRequired=null,this.intellectualPropertyProtectionRequiredDescription=null,this.externalIntellectualPropertyDependantRequired=null,this.externalIntellectualPropertyDependant=null,this.licensesInPlace=null,this.licensesInPlaceDescription=null,this.domainNamesRegistered=null,this.domainNamesRegisteredDescription=null,this.technologyUsed=null,this.technologyUsedApplicable=null,this.technologyUsedResult=null,this.competitorTechnologies=null,this.developmentMonths=null,this.businessModel=null,this.paymentSource=null,this.businessModelConfirmed=null,this.businessModelConfirmedDescription=null}}},"/1FC":function(e,t,n){"use strict";t.a=Array.isArray},"/6gR":function(e,t,n){"use strict";n.d(t,"a",function(){return se});var i=n("fXoL"),o=n("vdWK"),a=n("8J6U"),r=n("tyNb"),s=n("xDUJ"),l=n("ofXK"),c=n("5eHb"),d=n("xC+5"),p=n("esnG"),m=n("3Pt+"),u=n("E7AJ"),h=n("FvYy"),f=n("1kSV"),g=n("CGVT");const v=["f"];function y(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"h1"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.form.formName)}}function b(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",13),i["\u0275\u0275elementStart"](1,"h1",14),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formSectionTitle)}}function I(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",20),i["\u0275\u0275text"](1,"*"),i["\u0275\u0275elementEnd"]())}function x(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",21),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.maxCharacters-((null==e.answer||null==e.answer.formFieldValue?null:e.answer.formFieldValue.length)||0)," characters left ")}}function S(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",22),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldDetail)}}function C(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275element"](1,"input",23),i["\u0275\u0275elementStart"](2,"app-file-management",24),i["\u0275\u0275listener"]("documentsChange",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](2).onDocumentsChange(t,n)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","file_upload_",e.formFieldID,"_",e.formFieldOptionID,""),i["\u0275\u0275property"]("required",e.formFieldIsRequired)("ngModel",e.answer.formFieldAnswerID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("documentCategoryID",18)("referenceID",t.companyID)("reference2ID",e.answer.formFieldAnswerID)("uploadDirectly",t.uploadDirectly)("isOnWindow",t.isOnWindow)("documents",t.documents)}}const D=function(){return["video/*"]};function w(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275element"](1,"input",23),i["\u0275\u0275elementStart"](2,"app-banner",25),i["\u0275\u0275listener"]("uploadStatus",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](3).onStreamProcess(t)})("fileSelected",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](2).onBannerChange(t,n)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","banner_",e.formFieldID,"_",e.formFieldOptionID,""),i["\u0275\u0275property"]("required",e.formFieldIsRequired)("ngModel",e.answer.formFieldAnswerID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("referenceID",e.answer.formFieldAnswerID)("documentCategoryID",36)("canEdit",!0)("buttonText","Upload video")("fileTypes",i["\u0275\u0275pureFunction0"](10,D))("formPlaybackUpload",!0)}}function k(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",27),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.formFieldOptionID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.formFieldOptionText," ")}}function E(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",20),i["\u0275\u0275text"](1,"Comment is required"),i["\u0275\u0275elementEnd"]())}const M=function(e){return{"invalid-field":e}};function O(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",30),i["\u0275\u0275elementStart"](1,"input",31),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).$implicit.answer.formFieldValue=t})("blur",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2).$implicit;return i["\u0275\u0275nextContext"](2).onListboxAnswerChange(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,E,2,0,"span",16),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](5,M,e.commentRequired&&!e.answer.formFieldValue)),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","ddl_group_answer_comment_",e.formFieldID,"_",e.formFieldOptionID,""),i["\u0275\u0275property"]("ngModel",e.answer.formFieldValue),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.commentRequired&&!e.answer.formFieldValue)}}function P(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",20),i["\u0275\u0275text"](1,"This field is required"),i["\u0275\u0275elementEnd"]())}function T(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"select",26),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().$implicit.answer.formFieldOptionID=t})("change",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](2).onListboxAnswerChange(t)}),i["\u0275\u0275elementStart"](2,"option",27),i["\u0275\u0275text"](3,"..."),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,k,2,2,"option",28),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,O,3,7,"div",29),i["\u0275\u0275template"](6,P,2,0,"span",16),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","ddl_group_answer_",e.formFieldID,"_",e.formFieldOptionID,""),i["\u0275\u0275property"]("ngModel",e.answer.formFieldOptionID)("required",e.formFieldIsRequired),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",null==e?null:e.options),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.answer.formFieldOptionID&&e.commentRequired),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isRequiredAnswer)}}function A(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"input",35),i["\u0275\u0275listener"]("blur",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"](2).$implicit;return i["\u0275\u0275nextContext"](2).onTextAnswerChanged(t,n)})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).$implicit.answer.formFieldValue=t}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275propertyInterpolate2"]("name","text_group_answer",e.formFieldID,"_",e.formFieldOptionID,""),i["\u0275\u0275property"]("minlength",e.minCharacters?e.minCharacters:"")("ngModel",e.answer.formFieldValue)("required",e.formFieldIsRequired)("maxlength",e.maxCharacters?e.maxCharacters:"")}}function _(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",20),i["\u0275\u0275text"](1,"This field is required"),i["\u0275\u0275elementEnd"]())}function F(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" Min ",e.minCharacters," ")}}function R(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1," and"),i["\u0275\u0275elementContainerEnd"]())}function L(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,R,2,0,"ng-container",3),i["\u0275\u0275text"](2),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.minCharacters),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" Max ",e.maxCharacters,"")}}function V(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",36),i["\u0275\u0275template"](1,F,2,1,"ng-container",3),i["\u0275\u0275template"](2,L,3,2,"ng-container",3),i["\u0275\u0275text"](3," characters "),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.minCharacters),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.maxCharacters)}}function j(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",32),i["\u0275\u0275template"](1,A,1,6,"input",33),i["\u0275\u0275template"](2,_,2,0,"span",16),i["\u0275\u0275template"](3,V,4,2,"small",34),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](4,M,e.isRequiredAnswer)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1==e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isRequiredAnswer),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.maxCharacters||e.minCharacters)}}function B(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",20),i["\u0275\u0275text"](1,"This field is required"),i["\u0275\u0275elementEnd"]())}function N(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" Min ",e.minCharacters," ")}}function U(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"and"),i["\u0275\u0275elementContainerEnd"]())}function G(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,U,2,0,"ng-container",3),i["\u0275\u0275text"](2),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.minCharacters),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" Max ",e.maxCharacters,"")}}function $(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",36),i["\u0275\u0275template"](1,N,2,1,"ng-container",3),i["\u0275\u0275template"](2,G,3,2,"ng-container",3),i["\u0275\u0275text"](3," characters "),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.minCharacters),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.maxCharacters)}}function H(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",32),i["\u0275\u0275elementStart"](1,"textarea",37),i["\u0275\u0275listener"]("blur",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](2).onTextAnswerChanged(t,n)})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().$implicit.answer.formFieldValue=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,B,2,0,"span",16),i["\u0275\u0275template"](3,$,4,2,"small",34),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](8,M,e.isRequiredAnswer)),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","paragraph_group_answer",e.formFieldID,"_",e.formFieldOptionID,""),i["\u0275\u0275property"]("minlength",e.minCharacters?e.minCharacters:"")("ngModel",e.answer.formFieldValue)("maxlength",e.maxCharacters?e.maxCharacters:""),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isRequiredAnswer),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.maxCharacters||e.minCharacters)}}function q(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",20),i["\u0275\u0275text"](1,"Comment is required"),i["\u0275\u0275elementEnd"]())}function z(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",32),i["\u0275\u0275elementStart"](1,"input",42),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](3).$implicit.answer.formFieldValue=t})("blur",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](3).$implicit;return i["\u0275\u0275nextContext"](2).onRadioAnswerChange(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,q,2,0,"span",16),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](5,M,e.isRequiredComment&&!t.answer.formFieldValue)),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","radio_group_answer_comment_",t.formFieldID,"_",t.formFieldOptionID,""),i["\u0275\u0275property"]("ngModel",t.answer.formFieldValue),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isRequiredComment&&!t.answer.formFieldValue)}}function W(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",39),i["\u0275\u0275elementStart"](1,"input",40),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).$implicit.answer.formFieldOptionID=t})("change",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2).$implicit;return i["\u0275\u0275nextContext"](2).onRadioAnswerChange(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"label",41),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,z,3,7,"div",19),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","radio_group_answer_",n.formFieldID,"_",n.formFieldOrder,""),i["\u0275\u0275propertyInterpolate1"]("id","radio_group_",e.formFieldOptionID,""),i["\u0275\u0275property"]("ngModel",n.answer.formFieldOptionID)("required",n.formFieldIsRequired)("value",e.formFieldOptionID),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate1"]("for","radio_group_",e.formFieldOptionID,""),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.formFieldOptionText," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.commentRequired&&e.formFieldOptionID===n.answer.formFieldOptionID)}}function X(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,W,5,9,"div",38),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",null==e?null:e.options)}}function Y(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",44),i["\u0275\u0275text"](1,"\u2605"),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275classProp"]("filled",100===t.fill)}function K(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275element"](1,"input",23),i["\u0275\u0275elementStart"](2,"ngb-rating",43),i["\u0275\u0275listener"]("rateChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().$implicit.answer.formFieldValue=t})("rateChange",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](2).onRateChange(t)}),i["\u0275\u0275template"](3,Y,2,2,"ng-template"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","rating_",e.formFieldID,"_",e.formFieldOptionID,""),i["\u0275\u0275property"]("required",e.formFieldIsRequired)("ngModel",e.answer.formFieldValue),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("rate",e.answer.formFieldValue)("max",e.formFieldScale)}}function Q(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",20),i["\u0275\u0275text"](1,"Comment is required"),i["\u0275\u0275elementEnd"]())}function J(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",32),i["\u0275\u0275elementStart"](1,"input",50),i["\u0275\u0275listener"]("blur",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit,n=i["\u0275\u0275reference"](2),o=i["\u0275\u0275nextContext"](2).$implicit;return i["\u0275\u0275nextContext"](2).onCheckboxAnswerChange(n,t,o)})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().$implicit.formFieldValue=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,Q,2,0,"span",16),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](5,M,e.isRequiredComment&&!e.formFieldValue)),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","checkbox_group_answer_comment_",t.formFieldID,"_",t.formFieldOptionID,""),i["\u0275\u0275property"]("ngModel",e.formFieldValue),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isRequiredComment&&!e.formFieldValue)}}function Z(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",47),i["\u0275\u0275elementStart"](1,"input",48,49),i["\u0275\u0275listener"]("change",function(n){i["\u0275\u0275restoreView"](e);const o=t.$implicit,a=i["\u0275\u0275nextContext"](2).$implicit;return i["\u0275\u0275nextContext"](2).onCheckboxAnswerChange(n,o,a)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"label",41),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,J,3,7,"div",19),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275reference"](2),o=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","checkbox_group_answer_",o.formFieldID,"_",o.formFieldOrder,""),i["\u0275\u0275propertyInterpolate1"]("id","checkbox_group_",e.formFieldOptionID,""),i["\u0275\u0275property"]("checked",e.answer.formFieldAnswerID>0)("required",o.formFieldIsRequired),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate1"]("for","checkbox_group_",e.formFieldOptionID,""),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldOptionText),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.commentRequired&&n.checked)}}function ee(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275element"](1,"input",45),i["\u0275\u0275pipe"](2,"checkboxValue"),i["\u0275\u0275template"](3,Z,6,8,"div",46),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","checkbox_group_hidden_",e.formFieldID,"_",e.formFieldOrder,""),i["\u0275\u0275property"]("required",e.formFieldIsRequired)("ngModel",i["\u0275\u0275pipeBind1"](2,5,e.options)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",null==e?null:e.options)}}const te=function(){return[1,4]};function ne(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",15),i["\u0275\u0275elementStart"](1,"label"),i["\u0275\u0275text"](2),i["\u0275\u0275template"](3,I,2,0,"span",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,x,2,1,"small",17),i["\u0275\u0275template"](5,S,2,1,"small",18),i["\u0275\u0275template"](6,C,3,10,"ng-container",3),i["\u0275\u0275template"](7,w,3,11,"ng-container",3),i["\u0275\u0275template"](8,T,7,8,"ng-container",3),i["\u0275\u0275template"](9,j,4,6,"div",19),i["\u0275\u0275template"](10,H,4,10,"div",19),i["\u0275\u0275template"](11,X,2,1,"ng-container",3),i["\u0275\u0275template"](12,K,4,6,"ng-container",3),i["\u0275\u0275template"](13,ee,4,7,"ng-container",3),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.formFieldTitle," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldIsRequired),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.maxCharacters&&i["\u0275\u0275pureFunction0"](12,te).includes(e.formFieldTypeID)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldDetail),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",3===e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",10===e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",5===e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",4===e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",6===e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",9===e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===e.formFieldTypeID)}}function ie(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",10),i["\u0275\u0275template"](1,b,3,1,"div",11),i["\u0275\u0275template"](2,ne,14,13,"div",12),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(null==n.form.sections?null:n.form.sections.length)>1),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",null==e?null:e.fields)}}function oe(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",51),i["\u0275\u0275elementStart"](1,"div",52),i["\u0275\u0275elementStart"](2,"span",53),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().save()}),i["\u0275\u0275text"](3,"Save and continue later "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",54),i["\u0275\u0275text"](5,"Submit "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){i["\u0275\u0275nextContext"]();const e=i["\u0275\u0275reference"](5);i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("disabled",e.invalid)}}function ae(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",58),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).previous()}),i["\u0275\u0275element"](1,"i",59),i["\u0275\u0275text"](2," Prev "),i["\u0275\u0275elementEnd"]()}}function re(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",55),i["\u0275\u0275template"](1,ae,3,0,"span",56),i["\u0275\u0275elementStart"](2,"button",57),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](),i["\u0275\u0275reference"](5).ngSubmit.emit()}),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](5);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.prevAvailable),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",t.invalid),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.isLastSection?"Submit":"Next"," ")}}let se=(()=>{class e{constructor(e,t,n,a,r,s){this.router=e,this.formService=t,this.location=n,this.toastr=a,this.taskOwnerService=r,this.documentService=s,this.validForm=!1,this.saved=new i.EventEmitter,this.prev=new i.EventEmitter,this.referenceID=0,this.documents=[],this.documentIsUpdated=!1,this.reference2ID=0,this.form=new o.c,this.dataHasChanged=!1,this.formSection=[],this.isLoading=!1,this.isSubmitting=!1,this.uploadDirectly=!1,this.streamProcessing=0}ngOnInit(){this.populateForm()}validateFormBeforeSubmit(){setTimeout(()=>{var e;this.validForm=!1;let t=!0;null===(e=this.form.sections)||void 0===e||e.some(e=>{var n;if(null===(n=e.fields)||void 0===n||n.some(e=>3===e.formFieldTypeID&&(t=!e.formFieldIsRequired||this.alreadyAnswer(e),!t)||10===e.formFieldTypeID&&(t=!e.formFieldIsRequired||this.alreadyAnswer(e),t&&(t=100===this.streamProcessing),!t)||9===e.formFieldTypeID&&(t=!e.formFieldIsRequired||this.alreadyVote(e),!t)||void 0),!t)return!0}),this.validForm=t})}hasAnswerQuestion(e){var t;return e.answer&&(null===(t=e.answer.formFieldValue)||void 0===t?void 0:t.length)>0}alreadyAnswer(e){return e.answer&&e.answer.formFieldAnswerID>0}alreadyVote(e){return e.answer&&Number(e.answer.formFieldValue)>0}hasOptionChecked(e){return e.options.filter(e=>{let t=!1;return(null==e?void 0:e.commentRequired)&&(t=!e.formFieldValue),e.answer.formFieldAnswerID>0&&!t}).length>0}hasRadioSelected(e){let t=null;return e.options&&(t=e.options.find(t=>t.formFieldOptionID===e.answer.formFieldOptionID)),!((null==t?void 0:t.commentRequired)&&!e.answer.formFieldValue)&&e.answer&&e.answer.formFieldAnswerID>0}hasSelectBoxSelected(e){return e.answer&&e.answer.formFieldAnswerID>0}done(){if(!this.preventUpdate){const e={taskOwnerID:this.taskOwnerID,taskStatusID:3,dateSentForSignOff:Object(a.a)(new Date)};this.taskOwnerService.updateTaskOwner(e).subscribe(e=>{})}this.isOnWindow?this.saved.emit():this.router.navigate(["/forms/complete"])}save(){this.toastr.success("Your feedback has been saved"),this.location.back()}populateForm(){console.log(this.formFieldAnswerCategoryID,this.formID,this.taskOwner,this.formCategoryID,+localStorage.getItem("CoID"),this.referenceID,this.answerReferenceID,"here are the input params we're rolling",this.formID,this.formFieldAnswerCategoryID),this.formService.getFormFieldAnswers(0,+localStorage.getItem("CoID"),0,this.answerReferenceID,this.formFieldAnswerCategoryID,this.formID).subscribe(e=>{e.sections.map(e=>(e.fields.map(e=>{var t;return 2===e.formFieldTypeID&&(null===(t=e.options)||void 0===t||t.map(e=>(e.formFieldValue=e.answer.formFieldValue,e))),e}),e)),this.markQuestionsAsReview(e),this.form=e,this.formSection=e.sections,this.form.sections.forEach(e=>{e.fields.forEach(e=>{3===e.formFieldTypeID&&e.answer.formFieldAnswerID&&this.getDocuments(e.answer.formFieldAnswerID)})})}),this.companyID=+localStorage.getItem("CID"),3==this.formCategoryID&&(this.referenceID=this.eventID)}getDocuments(e){this.documentService.getDocuments(18,this.companyID,0,e,0).subscribe(e=>{this.documents=e},()=>{})}onListboxAnswerChange(e){let t=null;if(this.validateFormBeforeSubmit(),e.isRequiredAnswer=!1,e.options&&(t=e.options.find(t=>t.formFieldOptionID===e.answer.formFieldOptionID)),!t)return e.isRequiredAnswer=!0,void this.toastr.warning("Please ensure all required fields are completed");if(t.commentRequired){if(!e.answer.formFieldValue)return e.commentRequired=!0,void this.toastr.warning("Please ensure all required fields are completed")}else e.commentRequired=!1,e.answer.formFieldValue=null;const n=new o.b;n.contactID=+localStorage.getItem("CoID"),n.formFieldID=e.formFieldID,n.formFieldValue=e.answer.formFieldValue,n.formFieldOptionID=e.answer.formFieldOptionID,n.referenceID=this.answerReferenceID,n.formFieldAnswerCategoryID=this.formFieldAnswerCategoryID,null==e.answer.formFieldAnswerID?this.formService.insertAnswer(n).subscribe(t=>{e.answer.formFieldAnswerID=t.inOut_FormFieldAnswerID,this.validateFormBeforeSubmit()}):(n.formFieldAnswerID=e.answer.formFieldAnswerID,this.formService.updateAnswer(n).subscribe(e=>{console.log(e,"update answer has fired"),this.validateFormBeforeSubmit()}))}onCheckboxAnswerChange(e,t,n){var i;const a=new o.b;if(a.contactID=+localStorage.getItem("CoID"),a.formFieldID=t.formFieldID,a.formFieldValue=t.formFieldValue,a.formFieldOptionID=t.formFieldOptionID,a.referenceID=this.answerReferenceID,a.formFieldAnswerCategoryID=this.formFieldAnswerCategoryID,n.options.forEach(e=>{e.isRequiredComment=!1}),this.validateFormBeforeSubmit(),(null===(i=e.target)||void 0===i?void 0:i.checked)||e.checked){if(t.commentRequired){if(!t.formFieldValue)return this.validForm=!1,t.isRequiredComment=!0,void this.toastr.warning("Please ensure all required fields are completed")}else t.isRequiredComment=!1,t.answer.formFieldValue=null;this.formService.insertAnswer(a).subscribe(e=>{t.answer.formFieldAnswerID=e.inOut_FormFieldAnswerID,t.isRequiredComment=!1,this.validateFormBeforeSubmit()})}else t.answer.formFieldAnswerID&&this.formService.deleteAnswer(t.answer.formFieldAnswerID).subscribe(()=>{t.answer.formFieldAnswerID=null,t.answer.formFieldValue=null,this.validateFormBeforeSubmit()})}onRadioAnswerChange(e){let t=null;if(e.options.forEach(e=>{e.isRequiredComment=!1}),e.options&&(t=e.options.find(t=>t.formFieldOptionID===e.answer.formFieldOptionID)),t.commentRequired){if(!e.answer.formFieldValue)return t.isRequiredComment=!0,void this.toastr.warning("Please ensure all required fields are completed")}else t.isRequiredComment=!1,t.answer&&(t.answer.formFieldValue=null);this.validateFormBeforeSubmit();const n=new o.b;n.contactID=+localStorage.getItem("CoID"),n.formFieldID=e.formFieldID,n.formFieldValue=e.answer.formFieldValue,n.formFieldOptionID=e.answer.formFieldOptionID,n.referenceID=this.answerReferenceID,n.formFieldAnswerCategoryID=this.formFieldAnswerCategoryID,null==e.answer.formFieldAnswerID?this.formService.insertAnswer(n).subscribe(t=>{e.answer.formFieldAnswerID=t.inOut_FormFieldAnswerID,this.validateFormBeforeSubmit()}):(n.formFieldAnswerID=e.answer.formFieldAnswerID,this.formService.updateAnswer(n).subscribe(e=>{this.validateFormBeforeSubmit()}))}onTextAnswerChanged(e,t){if(t.isRequiredAnswer=!1,t.formFieldIsRequired&&!this.hasAnswerQuestion(t))return t.isRequiredAnswer=!0,void this.toastr.warning("Please ensure all required fields are completed");this.validateFormBeforeSubmit();const n=new o.b;n.contactID=+localStorage.getItem("CoID"),n.formFieldID=t.formFieldID,n.formFieldValue=t.answer.formFieldValue,n.referenceID=this.answerReferenceID,n.formFieldAnswerCategoryID=this.formFieldAnswerCategoryID,null==t.answer.formFieldAnswerID?this.formService.insertAnswer(n).subscribe(e=>{t.answer.formFieldAnswerID=e.inOut_FormFieldAnswerID,this.validateFormBeforeSubmit()}):(n.formFieldAnswerID=t.answer.formFieldAnswerID,this.formService.updateAnswer(n).subscribe(e=>{this.validateFormBeforeSubmit()}))}markQuestionsAsReview(e){e&&e.sections&&e.sections.length&&e.sections.forEach(e=>{e.fields&&e.fields.forEach(e=>{e.isPreviewMode=!0})})}onDocumentsChange(e,t){const n=new o.b;n.contactID=+localStorage.getItem("CoID"),n.formFieldID=t.formFieldID,n.formFieldValue="",n.formFieldOptionID=t.answer.formFieldOptionID,n.referenceID=this.answerReferenceID,n.formFieldAnswerCategoryID=this.formFieldAnswerCategoryID,this.validateFormBeforeSubmit(),e&&e.length>0?null==t.answer.formFieldAnswerID?this.formService.insertAnswer(n).subscribe(e=>{t.answer.formFieldAnswerID=e.inOut_FormFieldAnswerID,this.uploadDirectly=!0,this.documentIsUpdated=!0,this.validateFormBeforeSubmit()}):(n.formFieldAnswerID=t.answer.formFieldAnswerID,this.formService.updateAnswer(n).subscribe(e=>{this.uploadDirectly=!0,this.documentIsUpdated=!0,this.validateFormBeforeSubmit()})):t.answer.formFieldAnswerID&&this.documentIsUpdated&&this.formService.deleteAnswer(t.answer.formFieldAnswerID).subscribe(()=>{t.answer.formFieldAnswerID=null,t.answer.formFieldValue=null,this.uploadDirectly=!1,this.validateFormBeforeSubmit()})}onBannerChange(e,t){const n=new o.b;n.contactID=+localStorage.getItem("CoID"),n.formFieldID=t.formFieldID,n.formFieldValue="",n.formFieldOptionID=t.answer.formFieldOptionID,n.referenceID=this.answerReferenceID,n.formFieldAnswerCategoryID=this.formFieldAnswerCategoryID,this.validateFormBeforeSubmit(),e&&e.length>0?null==t.answer.formFieldAnswerID?this.formService.insertAnswer(n).subscribe(e=>{t.answer.formFieldAnswerID=e.inOut_FormFieldAnswerID,this.uploadDirectly=!0,this.documentIsUpdated=!0,this.validateFormBeforeSubmit()}):(n.formFieldAnswerID=t.answer.formFieldAnswerID,this.formService.updateAnswer(n).subscribe(e=>{this.uploadDirectly=!0,this.documentIsUpdated=!0,this.validateFormBeforeSubmit()})):t.answer.formFieldAnswerID&&this.documentIsUpdated&&this.formService.deleteAnswer(t.answer.formFieldAnswerID).subscribe(()=>{t.answer.formFieldAnswerID=null,t.answer.formFieldValue=null,this.uploadDirectly=!1,this.validateFormBeforeSubmit()})}onRateChange(e){const t=new o.b;t.contactID=+localStorage.getItem("CoID"),t.formFieldID=e.formFieldID,t.formFieldValue=e.answer.formFieldValue,t.formFieldOptionID=e.answer.formFieldOptionID,t.referenceID=this.answerReferenceID,t.formFieldAnswerCategoryID=this.formFieldAnswerCategoryID,null==e.answer.formFieldAnswerID?this.formService.insertAnswer(t).subscribe(t=>{e.answer.formFieldAnswerID=t.inOut_FormFieldAnswerID,this.validateFormBeforeSubmit()}):(t.formFieldAnswerID=e.answer.formFieldAnswerID,this.formService.updateAnswer(t).subscribe(()=>{this.validateFormBeforeSubmit()}))}onStreamProcess(e){this.streamProcessing=e,this.validateFormBeforeSubmit()}previous(){this.prev.emit(!0)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.c),i["\u0275\u0275directiveInject"](s.a),i["\u0275\u0275directiveInject"](l.j),i["\u0275\u0275directiveInject"](c.b),i["\u0275\u0275directiveInject"](d.a),i["\u0275\u0275directiveInject"](p.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-form-playback"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](v,!0),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.f=e.first)}},inputs:{referenceID:"referenceID",formCategoryID:"formCategoryID",answerReferenceID:"answerReferenceID",formFieldAnswerCategoryID:"formFieldAnswerCategoryID",formID:"formID",task:"task",taskOwnerID:"taskOwnerID",taskOwner:"taskOwner",isOnWindow:"isOnWindow",isEdit:"isEdit",removePadding:"removePadding",customSubmit:"customSubmit",prevAvailable:"prevAvailable",isLastSection:"isLastSection",preventUpdate:"preventUpdate"},outputs:{saved:"saved",prev:"prev"},decls:10,vars:6,consts:[[1,"row","p-0"],[1,"col-12"],[1,"forms-wrap","pl-3","pr-3"],[4,"ngIf"],[3,"ngSubmit"],["f","ngForm"],[1,"row"],["class","form-block",4,"ngFor","ngForOf"],["class","form-group form-group-block",4,"ngIf"],["class","d-flex w-100 pl-3 pr-3 twitter-fill pt-2 pb-2 bottom-non-sticky border-top",4,"ngIf"],[1,"form-block"],["class","title-actions mb-1 pb-1",4,"ngIf"],["class","form-group",4,"ngFor","ngForOf"],[1,"title-actions","mb-1","pb-1"],[1,"mb-0"],[1,"form-group"],["class","text-danger",4,"ngIf"],["class","form-text text-danger text-right float-right",4,"ngIf"],["class","form-text text-muted mb-2 fz14",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"text-danger"],[1,"form-text","text-danger","text-right","float-right"],[1,"form-text","text-muted","mb-2","fz14"],["type","hidden",3,"required","ngModel","name"],[3,"documentCategoryID","referenceID","reference2ID","uploadDirectly","isOnWindow","documents","documentsChange"],[1,"w-100","float-left","mt-2",3,"referenceID","documentCategoryID","canEdit","buttonText","fileTypes","formPlaybackUpload","uploadStatus","fileSelected"],[1,"form-control",3,"name","ngModel","required","ngModelChange","change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","mt-2",3,"ngClass",4,"ngIf"],[1,"mt-2",3,"ngClass"],["type","text","placeholder","Please provide a comment","required","",1,"text-input","form-control",3,"name","ngModel","ngModelChange","blur"],[3,"ngClass"],["type","text","class","text-input form-control",3,"name","minlength","ngModel","required","maxlength","blur","ngModelChange",4,"ngIf"],["class","form-text text-muted",4,"ngIf"],["type","text",1,"text-input","form-control",3,"name","minlength","ngModel","required","maxlength","blur","ngModelChange"],[1,"form-text","text-muted"],["rows","3",1,"paragraph-input","form-control",3,"name","minlength","ngModel","maxlength","blur","ngModelChange"],["class","custom-control custom-radio",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio"],["type","radio",1,"custom-control-input",3,"name","id","ngModel","required","value","ngModelChange","change"],[1,"custom-control-label",3,"for"],["type","text","placeholder","Please provide a comment",1,"text-input","form-control",3,"name","ngModel","ngModelChange","blur"],[1,"rating-input","w-100",3,"rate","max","rateChange"],[1,"star"],["type","hidden",3,"name","required","ngModel"],["class","custom-control custom-checkbox",4,"ngFor","ngForOf"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"name","checked","id","required","change"],["checkBox",""],["type","text","placeholder","Please provide a comment","required","",1,"text-input","form-control",3,"name","ngModel","blur","ngModelChange"],[1,"form-group","form-group-block"],[1,"action-row","d-flex","justify-content-end","align-items-center"],[1,"cursor-pointer","text-primary","mr-2",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"d-flex","w-100","pl-3","pr-3","twitter-fill","pt-2","pb-2","bottom-non-sticky","border-top"],["class","font-weight-bold cursor-pointer mr-4",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","ml-auto",3,"disabled","click"],[1,"font-weight-bold","cursor-pointer","mr-4",3,"click"],[1,"fas","fa-caret-left"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275template"](3,y,2,1,"h1",3),i["\u0275\u0275elementStart"](4,"form",4,5),i["\u0275\u0275listener"]("ngSubmit",function(){return t.done()}),i["\u0275\u0275elementStart"](6,"div",6),i["\u0275\u0275template"](7,ie,3,2,"div",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,oe,6,1,"div",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](9,re,4,3,"div",9)),2&e&&(i["\u0275\u0275classProp"]("mb-auto",t.customSubmit),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",!t.isOnWindow),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",t.form.sections),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.customSubmit),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.customSubmit))},directives:[l.n,m.E,m.r,m.s,l.m,m.b,m.A,m.q,m.t,u.a,h.a,m.B,m.v,m.D,l.l,m.n,m.m,m.y,f.w],pipes:[g.a],styles:[".invalid-field[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-color:#dc3545}.rating-input[_ngcontent-%COMP%]:focus{outline:none}.rating-input[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{font-size:1.5rem;color:#b0c4de}.rating-input[_ngcontent-%COMP%]   .filled[_ngcontent-%COMP%]{color:#1e90ff}.rating-input[_ngcontent-%COMP%]   .bad[_ngcontent-%COMP%], .rating-input[_ngcontent-%COMP%]   .filled.bad[_ngcontent-%COMP%]{color:#2a2a2a}.fz14[_ngcontent-%COMP%]{font-size:14px!important}"]}),e})()},"/ogr":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("ofXK"),o=n("3Pt+"),a=n("fXoL");let r=(()=>{class e{}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,o.l]]}),e})()},"04ZW":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("HDdC"),o=n("DH7j"),a=n("n6bG"),r=n("lJxs");function s(e,t,n){return n?s(e,t).pipe(Object(r.a)(e=>Object(o.a)(e)?n(...e):n(e))):new i.a(n=>{const i=(...e)=>n.next(1===e.length?e[0]:e);let o;try{o=e(i)}catch(r){return void n.error(r)}if(Object(a.a)(t))return()=>t(i,o)})}},"0mlJ":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("fXoL");let o=(()=>{class e{transform(e){if(e){let t=e;return e.toString().length<=17&&(t=e.toString().replace(" ","T")),new Date(t)}return null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"dateObject",type:e,pure:!0}),e})()},"25cm":function(e,t,n){"use strict";var i=n("tPH9"),o=n("/1FC");t.a=function(e,t,n){var a=t(e);return Object(o.a)(e)?a:Object(i.a)(a,n(e))}},"2BfV":function(e,t,n){var i,o,a;a=function(e){function t(e,t,n,i){e.hasOwnProperty(t)||(e[t]=i.apply(null,n))}t(e=e?e._modules:{},"Extensions/Boost/Boostables.js",[],function(){return"area arearange column columnrange bar line scatter heatmap bubble treemap".split(" ")}),t(e,"Extensions/Boost/BoostableMap.js",[e["Extensions/Boost/Boostables.js"]],function(e){var t={};return e.forEach(function(e){t[e]=1}),t}),t(e,"Extensions/Boost/WGLShader.js",[e["Core/Utilities.js"]],function(e){var t=e.clamp,n=e.error,i=e.pick;return function(e){function o(){I.length&&n("[highcharts boost] shader error - "+I.join("\n"))}function a(t,n){var i=e.createShader("vertex"===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER);return e.shaderSource(i,t),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)?i:(I.push("when compiling "+n+" shader:\n"+e.getShaderInfoLog(i)),!1)}function r(){function t(t){return e.getUniformLocation(l,t)}var n=a("#version 100\n#define LN10 2.302585092994046\nprecision highp float;\nattribute vec4 aVertexPosition;\nattribute vec4 aColor;\nvarying highp vec2 position;\nvarying highp vec4 vColor;\nuniform mat4 uPMatrix;\nuniform float pSize;\nuniform float translatedThreshold;\nuniform bool hasThreshold;\nuniform bool skipTranslation;\nuniform float xAxisTrans;\nuniform float xAxisMin;\nuniform float xAxisMinPad;\nuniform float xAxisPointRange;\nuniform float xAxisLen;\nuniform bool  xAxisPostTranslate;\nuniform float xAxisOrdinalSlope;\nuniform float xAxisOrdinalOffset;\nuniform float xAxisPos;\nuniform bool  xAxisCVSCoord;\nuniform bool  xAxisIsLog;\nuniform bool  xAxisReversed;\nuniform float yAxisTrans;\nuniform float yAxisMin;\nuniform float yAxisMinPad;\nuniform float yAxisPointRange;\nuniform float yAxisLen;\nuniform bool  yAxisPostTranslate;\nuniform float yAxisOrdinalSlope;\nuniform float yAxisOrdinalOffset;\nuniform float yAxisPos;\nuniform bool  yAxisCVSCoord;\nuniform bool  yAxisIsLog;\nuniform bool  yAxisReversed;\nuniform bool  isBubble;\nuniform bool  bubbleSizeByArea;\nuniform float bubbleZMin;\nuniform float bubbleZMax;\nuniform float bubbleZThreshold;\nuniform float bubbleMinSize;\nuniform float bubbleMaxSize;\nuniform bool  bubbleSizeAbs;\nuniform bool  isInverted;\nfloat bubbleRadius(){\nfloat value = aVertexPosition.w;\nfloat zMax = bubbleZMax;\nfloat zMin = bubbleZMin;\nfloat radius = 0.0;\nfloat pos = 0.0;\nfloat zRange = zMax - zMin;\nif (bubbleSizeAbs){\nvalue = value - bubbleZThreshold;\nzMax = max(zMax - bubbleZThreshold, zMin - bubbleZThreshold);\nzMin = 0.0;\n}\nif (value < zMin){\nradius = bubbleZMin / 2.0 - 1.0;\n} else {\npos = zRange > 0.0 ? (value - zMin) / zRange : 0.5;\nif (bubbleSizeByArea && pos > 0.0){\npos = sqrt(pos);\n}\nradius = ceil(bubbleMinSize + pos * (bubbleMaxSize - bubbleMinSize)) / 2.0;\n}\nreturn radius * 2.0;\n}\nfloat translate(float val,\nfloat pointPlacement,\nfloat localA,\nfloat localMin,\nfloat minPixelPadding,\nfloat pointRange,\nfloat len,\nbool  cvsCoord,\nbool  isLog,\nbool  reversed\n){\nfloat sign = 1.0;\nfloat cvsOffset = 0.0;\nif (cvsCoord) {\nsign *= -1.0;\ncvsOffset = len;\n}\nif (isLog) {\nval = log(val) / LN10;\n}\nif (reversed) {\nsign *= -1.0;\ncvsOffset -= sign * len;\n}\nreturn sign * (val - localMin) * localA + cvsOffset + \n(sign * minPixelPadding);\n}\nfloat xToPixels(float value) {\nif (skipTranslation){\nreturn value;// + xAxisPos;\n}\nreturn translate(value, 0.0, xAxisTrans, xAxisMin, xAxisMinPad, xAxisPointRange, xAxisLen, xAxisCVSCoord, xAxisIsLog, xAxisReversed);// + xAxisPos;\n}\nfloat yToPixels(float value, float checkTreshold) {\nfloat v;\nif (skipTranslation){\nv = value;// + yAxisPos;\n} else {\nv = translate(value, 0.0, yAxisTrans, yAxisMin, yAxisMinPad, yAxisPointRange, yAxisLen, yAxisCVSCoord, yAxisIsLog, yAxisReversed);// + yAxisPos;\nif (v > yAxisLen) {\nv = yAxisLen;\n}\n}\nif (checkTreshold > 0.0 && hasThreshold) {\nv = min(v, translatedThreshold);\n}\nreturn v;\n}\nvoid main(void) {\nif (isBubble){\ngl_PointSize = bubbleRadius();\n} else {\ngl_PointSize = pSize;\n}\nvColor = aColor;\nif (skipTranslation && isInverted) {\ngl_Position = uPMatrix * vec4(aVertexPosition.y + yAxisPos, aVertexPosition.x + xAxisPos, 0.0, 1.0);\n} else if (isInverted) {\ngl_Position = uPMatrix * vec4(yToPixels(aVertexPosition.y, aVertexPosition.z) + yAxisPos, xToPixels(aVertexPosition.x) + xAxisPos, 0.0, 1.0);\n} else {\ngl_Position = uPMatrix * vec4(xToPixels(aVertexPosition.x) + xAxisPos, yToPixels(aVertexPosition.y, aVertexPosition.z) + yAxisPos, 0.0, 1.0);\n}\n}","vertex"),i=a("precision highp float;\nuniform vec4 fillColor;\nvarying highp vec2 position;\nvarying highp vec4 vColor;\nuniform sampler2D uSampler;\nuniform bool isCircle;\nuniform bool hasColor;\nvoid main(void) {\nvec4 col = fillColor;\nvec4 tcol = texture2D(uSampler, gl_PointCoord.st);\nif (hasColor) {\ncol = vColor;\n}\nif (isCircle) {\ncol *= tcol;\nif (tcol.r < 0.0) {\ndiscard;\n} else {\ngl_FragColor = col;\n}\n} else {\ngl_FragColor = col;\n}\n}","fragment");return n&&i?(l=e.createProgram(),e.attachShader(l,n),e.attachShader(l,i),e.linkProgram(l),e.getProgramParameter(l,e.LINK_STATUS)?(e.useProgram(l),e.bindAttribLocation(l,0,"aVertexPosition"),c=t("uPMatrix"),d=t("pSize"),p=t("fillColor"),m=t("isBubble"),u=t("bubbleSizeAbs"),h=t("bubbleSizeByArea"),y=t("uSampler"),f=t("skipTranslation"),g=t("isCircle"),v=t("isInverted"),!0):(I.push(e.getProgramInfoLog(l)),o(),l=!1)):(l=!1,o(),!1)}function s(t,n){e&&l&&(t=b[t]=b[t]||e.getUniformLocation(l,t),e.uniform1f(t,n))}var l,c,d,p,m,u,h,f,g,v,y,b={},I=[];return!(e&&!r())&&{psUniform:function(){return d},pUniform:function(){return c},fillColorUniform:function(){return p},setBubbleUniforms:function(n,o,a){var r=n.options,c=Number.MAX_VALUE,d=-Number.MAX_VALUE;e&&l&&"bubble"===n.type&&(c=i(r.zMin,t(o,!1===r.displayNegative?r.zThreshold:-Number.MAX_VALUE,c)),d=i(r.zMax,Math.max(d,a)),e.uniform1i(m,1),e.uniform1i(g,1),e.uniform1i(h,"width"!==n.options.sizeBy),e.uniform1i(u,n.options.sizeByAbsoluteValue),s("bubbleZMin",c),s("bubbleZMax",d),s("bubbleZThreshold",n.options.zThreshold),s("bubbleMinSize",n.minPxSize),s("bubbleMaxSize",n.maxPxSize))},bind:function(){e&&l&&e.useProgram(l)},program:function(){return l},create:r,setUniform:s,setPMatrix:function(t){e&&l&&e.uniformMatrix4fv(c,!1,t)},setColor:function(t){e&&l&&e.uniform4f(p,t[0]/255,t[1]/255,t[2]/255,t[3])},setPointSize:function(t){e&&l&&e.uniform1f(d,t)},setSkipTranslation:function(t){e&&l&&e.uniform1i(f,!0===t?1:0)},setTexture:function(t){e&&l&&e.uniform1i(y,t)},setDrawAsCircle:function(t){e&&l&&e.uniform1i(g,t?1:0)},reset:function(){e&&l&&(e.uniform1i(m,0),e.uniform1i(g,0))},setInverted:function(t){e&&l&&e.uniform1i(v,t)},destroy:function(){e&&l&&(e.deleteProgram(l),l=!1)}}}}),t(e,"Extensions/Boost/WGLVBuffer.js",[],function(){return function(e,t,n){function i(){a&&(e.deleteBuffer(a),r=a=!1),c=0,s=n||2,o=[]}var o,a=!1,r=!1,s=n||2,l=!1,c=0;return{destroy:i,bind:function(){if(!a)return!1;e.vertexAttribPointer(r,s,e.FLOAT,!1,0,0)},data:o,build:function(n,c,d){var p;return(o=n||[])&&0!==o.length||l?(s=d||s,a&&e.deleteBuffer(a),l||(p=new Float32Array(o)),a=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,l||p,e.STATIC_DRAW),r=e.getAttribLocation(t.program(),c),e.enableVertexAttribArray(r),!0):(i(),!1)},render:function(t,n,i){var r=l?l.length:o.length;return!(!a||!r||((!t||t>r||0>t)&&(t=0),(!n||n>r)&&(n=r),e.drawArrays(e[(i||"points").toUpperCase()],t/s,(n-t)/s),0))},allocate:function(e){c=-1,l=new Float32Array(4*e)},push:function(e,t,n,i){l&&(l[++c]=e,l[++c]=t,l[++c]=n,l[++c]=i)}}}}),t(e,"Extensions/Boost/WGLRenderer.js",[e["Core/Color/Color.js"],e["Extensions/Boost/WGLShader.js"],e["Extensions/Boost/WGLVBuffer.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(e,t,n,i,o){var a=e.parse,r=i.doc,s=o.isNumber,l=o.isObject,c=o.merge,d=o.objectEach,p=o.pick;return function(o){function m(e){if(e.isSeriesBoosting){var t=!!e.options.stacking;return t=(t?e.data:e.xData||e.options.xData||e.processedXData||e.options.data).length,"treemap"===e.type?t*=12:"heatmap"===e.type?t*=6:T[e.type]&&(t*=2),t}return 0}function u(){S.clear(S.COLOR_BUFFER_BIT|S.DEPTH_BUFFER_BIT)}function h(){O=[],E.data=w=[],k=[],I&&I.destroy()}function f(e){b&&(b.setUniform("xAxisTrans",e.transA),b.setUniform("xAxisMin",e.min),b.setUniform("xAxisMinPad",e.minPixelPadding),b.setUniform("xAxisPointRange",e.pointRange),b.setUniform("xAxisLen",e.len),b.setUniform("xAxisPos",e.pos),b.setUniform("xAxisCVSCoord",!e.horiz),b.setUniform("xAxisIsLog",!!e.logarithmic),b.setUniform("xAxisReversed",!!e.reversed))}function g(e){b&&(b.setUniform("yAxisTrans",e.transA),b.setUniform("yAxisMin",e.min),b.setUniform("yAxisMinPad",e.minPixelPadding),b.setUniform("yAxisPointRange",e.pointRange),b.setUniform("yAxisLen",e.len),b.setUniform("yAxisPos",e.pos),b.setUniform("yAxisCVSCoord",!e.horiz),b.setUniform("yAxisIsLog",!!e.logarithmic),b.setUniform("yAxisReversed",!!e.reversed))}function v(e,t){b.setUniform("hasThreshold",e),b.setUniform("translatedThreshold",t)}function y(t){return!!t&&(C=t.chartWidth||800,D=t.chartHeight||400,!!(S&&C&&D&&b)&&(_.debug.timeRendering&&console.time("gl rendering"),S.canvas.width=C,S.canvas.height=D,b.bind(),S.viewport(0,0,C,D),b.setPMatrix([2/C,0,0,0,0,-2/D,0,0,0,0,-2,0,-1,1,-1,1]),1<_.lineWidth&&!i.isMS&&S.lineWidth(_.lineWidth),I.build(E.data,"aVertexPosition",4),I.bind(),b.setInverted(t.inverted),O.forEach(function(i,o){var r=i.series.options,l=r.marker,c=void 0!==r.lineWidth?r.lineWidth:1,d=r.threshold,m=s(d),u=i.series.yAxis.getThreshold(d);if(d=p(r.marker?r.marker.enabled:null,!!i.series.xAxis.isRadial||null,i.series.closestPointRangePx>2*((r.marker?r.marker.radius:10)||10)),l=P[l&&l.symbol||i.series.symbol]||P.circle,!(0===i.segments.length||i.segmentslength&&i.segments[0].from===i.segments[0].to)){if(l.isReady&&(S.bindTexture(S.TEXTURE_2D,l.handle),b.setTexture(l.handle)),t.styledMode?l=i.series.markerGroup&&i.series.markerGroup.getStyle("fill"):(l="points"===i.drawMode&&i.series.pointAttribs&&i.series.pointAttribs().fill||i.series.color,r.colorByPoint&&(l=i.series.chart.options.colors[o])),i.series.fillOpacity&&r.fillOpacity&&(l=new e(l).setOpacity(p(r.fillOpacity,1)).get()),l=a(l).rgba,_.useAlpha||(l[3]=1),"lines"===i.drawMode&&_.useAlpha&&1>l[3]&&(l[3]/=10),"add"===r.boostBlending?(S.blendFunc(S.SRC_ALPHA,S.ONE),S.blendEquation(S.FUNC_ADD)):"mult"===r.boostBlending||"multiply"===r.boostBlending?S.blendFunc(S.DST_COLOR,S.ZERO):"darken"===r.boostBlending?(S.blendFunc(S.ONE,S.ONE),S.blendEquation(S.FUNC_MIN)):S.blendFuncSeparate(S.SRC_ALPHA,S.ONE_MINUS_SRC_ALPHA,S.ONE,S.ONE_MINUS_SRC_ALPHA),b.reset(),0<i.colorData.length&&(b.setUniform("hasColor",1),(o=n(S,b)).build(i.colorData,"aColor",4),o.bind()),b.setColor(l),f(i.series.xAxis),g(i.series.yAxis),v(m,u),"points"===i.drawMode&&(r.marker&&s(r.marker.radius)?b.setPointSize(2*r.marker.radius):b.setPointSize(1)),b.setSkipTranslation(i.skipTranslation),"bubble"===i.series.type&&b.setBubbleUniforms(i.series,i.zMin,i.zMax),b.setDrawAsCircle(A[i.series.type]||!1),0<c||"line_strip"!==i.drawMode)for(c=0;c<i.segments.length;c++)I.render(i.segments[c].from,i.segments[c].to,i.drawMode);if(i.hasMarkers&&d)for(r.marker&&s(r.marker.radius)?b.setPointSize(2*r.marker.radius):b.setPointSize(10),b.setDrawAsCircle(!0),c=0;c<i.segments.length;c++)I.render(i.segments[c].from,i.segments[c].to,"POINTS")}}),_.debug.timeRendering&&console.timeEnd("gl rendering"),o&&o(),void h()))}var b=!1,I=!1,x=0,S=!1,C=0,D=0,w=!1,k=!1,E={},M=!1,O=[],P={},T={column:!0,columnrange:!0,bar:!0,area:!0,arearange:!0},A={scatter:!0,bubble:!0},_={pointSize:1,lineWidth:1,fillColor:"#AA00AA",useAlpha:!0,usePreallocated:!1,useGPUTranslations:!1,debug:{timeRendering:!1,timeSeriesProcessing:!1,timeSetup:!1,timeBufferCopy:!1,timeKDTree:!1,showSkipSummary:!1}};return E={allocateBufferForSingleSeries:function(e){var t=0;_.usePreallocated&&(e.isSeriesBoosting&&(t=m(e)),I.allocate(t))},pushSeries:function(t){0<O.length&&O[O.length-1].hasMarkers&&(O[O.length-1].markerTo=k.length),_.debug.timeSeriesProcessing&&console.time("building "+t.type+" series"),O.push({segments:[],markerFrom:k.length,colorData:[],series:t,zMin:Number.MAX_VALUE,zMax:-Number.MAX_VALUE,hasMarkers:!!t.options.marker&&!1!==t.options.marker.enabled,showMarkers:!0,drawMode:{area:"lines",arearange:"lines",areaspline:"line_strip",column:"lines",columnrange:"lines",bar:"lines",line:"line_strip",scatter:"points",heatmap:"triangles",treemap:"triangles",bubble:"points"}[t.type]||"line_strip"}),function(t,n){function i(e){e&&(n.colorData.push(e[0]),n.colorData.push(e[1]),n.colorData.push(e[2]),n.colorData.push(e[3]))}function o(e,t,n,o,a){i(a),_.usePreallocated?(I.push(e,t,n?1:0,o||1),x+=4):(w.push(e),w.push(t),w.push(n?1:0),w.push(o||1))}function r(){n.segments.length&&(n.segments[n.segments.length-1].to=w.length||x)}function s(){n.segments.length&&n.segments[n.segments.length-1].from===(w.length||x)||(r(),n.segments.push({from:w.length||x}))}function c(e,t,n,a,r){i(r),o(e+n,t),i(r),o(e,t),i(r),o(e,t+a),i(r),o(e,t+a),i(r),o(e+n,t+a),i(r),o(e+n,t)}function d(e,t){_.useGPUTranslations||(n.skipTranslation=!0,e.x=M.toPixels(e.x,!0),e.y=E.toPixels(e.y,!0)),t?w=[e.x,e.y,0,2].concat(w):o(e.x,e.y,0,2)}var p=t.pointArrayMap&&"low,high"===t.pointArrayMap.join(","),m=t.chart,u=t.options,h=!!u.stacking,f=u.data,g=t.xAxis.getExtremes(),v=g.min;g=g.max;var y=t.yAxis.getExtremes(),b=y.min;y=y.max;var S,C=t.xData||u.xData||t.processedXData,D=t.yData||u.yData||t.processedYData,k=t.zData||u.zData||t.processedZData,E=t.yAxis,M=t.xAxis,O=t.chart.plotWidth,P=!C||0===C.length,A=u.connectNulls,F=t.points||!1,R=!1,L=!1;C=h?t.data:C||f;var V={x:Number.MAX_VALUE,y:0},j={x:-Number.MAX_VALUE,y:0},B=0,N=!1,U=-1,G=!1,$=!1,H=void 0===m.index,q=!1,z=!1,W=!1,X=T[t.type],Y=!1,K=!0,Q=!0,J=u.zones||!1,Z=!1,ee=u.threshold,te=!1;if(!(u.boostData&&0<u.boostData.length)){if(u.gapSize&&(te="value"!==u.gapUnit?u.gapSize*t.closestPointRange:u.gapSize),J&&(J.some(function(t){return void 0===t.value&&(Z=new e(t.color),!0)}),Z||(Z=t.pointAttribs&&t.pointAttribs().fill||t.color,Z=new e(Z))),m.inverted&&(O=t.chart.plotHeight),t.closestPointRangePx=Number.MAX_VALUE,s(),F&&0<F.length)n.skipTranslation=!0,n.drawMode="triangles",F[0].node&&F[0].node.levelDynamic&&F.sort(function(e,t){if(e.node){if(e.node.levelDynamic>t.node.levelDynamic)return 1;if(e.node.levelDynamic<t.node.levelDynamic)return-1}return 0}),F.forEach(function(e){var n=e.plotY;if(void 0!==n&&!isNaN(n)&&null!==e.y){n=e.shapeArgs;var i=m.styledMode?e.series.colorAttribs(e):i=e.series.pointAttribs(e);e=i["stroke-width"]||0,(W=a(i.fill).rgba)[0]/=255,W[1]/=255,W[2]/=255,"treemap"===t.type&&(e=e||1,(S=a(i.stroke).rgba)[0]/=255,S[1]/=255,S[2]/=255,c(n.x,n.y,n.width,n.height,S),e/=2),"heatmap"===t.type&&m.inverted&&(n.x=M.len-n.x,n.y=E.len-n.y,n.width=-n.width,n.height=-n.height),c(n.x+e,n.y+e,n.width-2*e,n.height-2*e,W)}});else{for(;U<C.length-1;){var ne=C[++U];if(H)break;if(F=f&&f[U],!P&&l(F,!0)&&F.color&&((W=a(F.color).rgba)[0]/=255,W[1]/=255,W[2]/=255),P){F=ne[0];var ie=ne[1];if(C[U+1]&&($=C[U+1][0]),C[U-1]&&(G=C[U-1][0]),3<=ne.length){var oe=ne[2];ne[2]>n.zMax&&(n.zMax=ne[2]),ne[2]<n.zMin&&(n.zMin=ne[2])}}else F=ne,ie=D[U],C[U+1]&&($=C[U+1]),C[U-1]&&(G=C[U-1]),k&&k.length&&(oe=k[U],k[U]>n.zMax&&(n.zMax=k[U]),k[U]<n.zMin&&(n.zMin=k[U]));if(A||null!==F&&null!==ie){if($&&$>=v&&$<=g&&(q=!0),G&&G>=v&&G<=g&&(z=!0),p){P&&(ie=ne.slice(1,3));var ae=ie[0];ie=ie[1]}else h&&(F=ne.x,ae=(ie=ne.stackY)-ne.y);if(null!=b&&null!=y&&(K=ie>=b&&ie<=y),F>g&&j.x<g&&(j.x=F,j.y=ie),F<v&&V.x>v&&(V.x=F,V.y=ie),null!==ie||!A)if(null!==ie&&(K||q||z)){if(($>=v||F>=v)&&(G<=g||F<=g)&&(Y=!0),Y||q||z){if(te&&F-G>te&&s(),J&&(W=Z.rgba,J.some(function(e,t){return t=J[t-1],void 0!==e.value&&ie<=e.value&&((!t||ie>=t.value)&&(W=a(e.color).rgba),!0)}),W[0]/=255,W[1]/=255,W[2]/=255),!_.useGPUTranslations&&(n.skipTranslation=!0,F=M.toPixels(F,!0),ie=E.toPixels(ie,!0),F>O&&"points"===n.drawMode))continue;X&&(ne=ae,!1!==ae&&void 0!==ae||(ne=0>ie?ie:0),p||h||(ne=Math.max(null===ee?b:ee,b)),_.useGPUTranslations||(ne=E.toPixels(ne,!0)),o(F,ne,0,0,W)),n.hasMarkers&&Y&&!1!==R&&(t.closestPointRangePx=Math.min(t.closestPointRangePx,Math.abs(F-R))),!_.useGPUTranslations&&!_.usePreallocated&&R&&1>Math.abs(F-R)&&L&&1>Math.abs(ie-L)?_.debug.showSkipSummary&&++B:(u.step&&!Q&&o(F,L,0,2,W),o(F,ie,0,"bubble"===t.type?oe||1:2,W),R=F,L=ie,N=!0,Q=!1)}}else s()}else s()}_.debug.showSkipSummary&&console.log("skipped points:",B),N||!1===A||"line_strip"!==t.drawMode||(V.x<Number.MAX_VALUE&&d(V,!0),j.x>-Number.MAX_VALUE&&d(j))}r()}}(t,O[O.length-1]),_.debug.timeSeriesProcessing&&console.timeEnd("building "+t.type+" series")},setSize:function(e,t){C===e&&D===t||!b||(C=e,D=t,b.bind(),b.setPMatrix([2/C,0,0,0,0,-2/D,0,0,0,0,-2,0,-1,1,-1,1]))},inited:function(){return M},setThreshold:v,init:function(e,i){function o(e,t){var n={isReady:!1,texture:r.createElement("canvas"),handle:S.createTexture()},i=n.texture.getContext("2d");P[e]=n,n.texture.width=512,n.texture.height=512,i.mozImageSmoothingEnabled=!1,i.webkitImageSmoothingEnabled=!1,i.msImageSmoothingEnabled=!1,i.imageSmoothingEnabled=!1,i.strokeStyle="rgba(255, 255, 255, 0)",i.fillStyle="#FFF",t(i);try{S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,n.handle),S.texImage2D(S.TEXTURE_2D,0,S.RGBA,S.RGBA,S.UNSIGNED_BYTE,n.texture),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.LINEAR),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.LINEAR),S.bindTexture(S.TEXTURE_2D,null),n.isReady=!0}catch(o){}}var a=0,s=["webgl","experimental-webgl","moz-webgl","webkit-3d"];if(M=!1,!e)return!1;for(_.debug.timeSetup&&console.time("gl setup");a<s.length&&!(S=e.getContext(s[a],{}));a++);return!!S&&(i||h(),S.enable(S.BLEND),S.blendFunc(S.SRC_ALPHA,S.ONE_MINUS_SRC_ALPHA),S.disable(S.DEPTH_TEST),S.depthFunc(S.LESS),!!(b=t(S))&&(I=n(S,b),o("circle",function(e){e.beginPath(),e.arc(256,256,256,0,2*Math.PI),e.stroke(),e.fill()}),o("square",function(e){e.fillRect(0,0,512,512)}),o("diamond",function(e){e.beginPath(),e.moveTo(256,0),e.lineTo(512,256),e.lineTo(256,512),e.lineTo(0,256),e.lineTo(256,0),e.fill()}),o("triangle",function(e){e.beginPath(),e.moveTo(0,512),e.lineTo(256,0),e.lineTo(512,512),e.lineTo(0,512),e.fill()}),o("triangle-down",function(e){e.beginPath(),e.moveTo(0,0),e.lineTo(256,512),e.lineTo(512,0),e.lineTo(0,0),e.fill()}),M=!0,_.debug.timeSetup&&console.timeEnd("gl setup"),!0))},render:function e(t){if(u(),t.renderer.forExport)return y(t);M?y(t):setTimeout(function(){e(t)},1)},settings:_,valid:function(){return!1!==S},clear:u,flush:h,setXAxis:f,setYAxis:g,data:w,gl:function(){return S},allocateBuffer:function(e){var t=0;_.usePreallocated&&(e.series.forEach(function(e){e.isSeriesBoosting&&(t+=m(e))}),I.allocate(t))},destroy:function(){h(),I.destroy(),b.destroy(),S&&(d(P,function(e){e.handle&&S.deleteTexture(e.handle)}),S.canvas.width=1,S.canvas.height=1)},setOptions:function(e){c(!0,_,e)}}}}),t(e,"Extensions/Boost/BoostAttach.js",[e["Core/Chart/Chart.js"],e["Extensions/Boost/WGLRenderer.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(e,t,n,i){var o,a=n.doc,r=i.error;return function(n,i){var s=n.chartWidth,l=n.chartHeight,c=n,d=n.seriesGroup||i.group;return a.implementation.hasFeature("www.http://w3.org/TR/SVG11/feature#Extensibility","1.1"),c=n.isChartSeriesBoosting()?n:i,o||(o=a.createElement("canvas")),c.renderTarget||(c.canvas=o,c.renderTarget=n.renderer.image("",0,0,s,l).addClass("highcharts-boost-canvas").add(d),c.boostClear=function(){c.renderTarget.attr({href:""})},c.boostCopy=function(){c.boostResizeTarget(),c.renderTarget.attr({href:c.canvas.toDataURL("image/png")})},c.boostResizeTarget=function(){(c.renderTargetFo||c.renderTarget).attr({x:0,y:0,width:s=n.chartWidth,height:l=n.chartHeight}).css({pointerEvents:"none",mixedBlendMode:"normal",opacity:1}),c instanceof e&&c.markerGroup.translate(n.plotLeft,n.plotTop)},c.boostClipRect=n.renderer.clipRect(),(c.renderTargetFo||c.renderTarget).clip(c.boostClipRect),c instanceof e&&(c.markerGroup=c.renderer.g().add(d),c.markerGroup.translate(i.xAxis.pos,i.yAxis.pos))),c.canvas.width=s,c.canvas.height=l,c.boostClipRect.attr(n.getBoostClipRect(c)),c.boostResizeTarget(),c.boostClear(),c.ogl||(c.ogl=t(function(){c.ogl.settings.debug.timeBufferCopy&&console.time("buffer copy"),c.boostCopy(),c.ogl.settings.debug.timeBufferCopy&&console.timeEnd("buffer copy")}),c.ogl.init(c.canvas)||r("[highcharts boost] - unable to init WebGL renderer"),c.ogl.setOptions(n.options.boost||{}),c instanceof e&&c.ogl.allocateBuffer(n)),c.ogl.setSize(s,l),c.ogl}}),t(e,"Extensions/Boost/BoostUtils.js",[e["Core/Globals.js"],e["Extensions/Boost/BoostableMap.js"],e["Extensions/Boost/BoostAttach.js"],e["Core/Utilities.js"]],function(e,t,n,i){function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=-Number.MAX_VALUE;return e.forEach(function(e){if(null!=e&&void 0!==e.length&&0<e.length)return n=e.length,!0}),n}function a(e,t,n){e&&t.renderTarget&&t.canvas&&!(n||t.chart).isChartSeriesBoosting()&&e.render(n||t.chart)}function r(e,t){e&&t.renderTarget&&t.canvas&&!t.chart.isChartSeriesBoosting()&&e.allocateBufferForSingleSeries(t)}function s(){var e,t=0,n=["webgl","experimental-webgl","moz-webgl","webkit-3d"];if(void 0!==l.WebGLRenderingContext)for(e=c.createElement("canvas");t<n.length;t++)try{if(null!=e.getContext(n[t]))return!0}catch(i){}return!1}var l=e.win,c=e.doc,d=i.pick;return i={patientMax:o,boostEnabled:function(e){return d(e&&e.options&&e.options.boost&&e.options.boost.enabled,!0)},shouldForceChartSeriesBoosting:function(e){var n=0,i=0,a=d(e.options.boost&&e.options.boost.allowForce,!0);if(void 0!==e.boostForceChartBoost)return e.boostForceChartBoost;if(1<e.series.length)for(var r=0;r<e.series.length;r++){var s=e.series[r];0!==s.options.boostThreshold&&!1!==s.visible&&"heatmap"!==s.type&&(t[s.type]&&++i,o(s.processedXData,s.options.data,s.points)>=(s.options.boostThreshold||Number.MAX_VALUE)&&++n)}return e.boostForceChartBoost=a&&(i===e.series.length&&0<n||5<n),e.boostForceChartBoost},renderIfNotSeriesBoosting:a,allocateIfNotSeriesBoosting:r,eachAsync:function e(t,n,i,o,a,r){for(var s=(a=a||0)+(o=o||3e3),c=!0;c&&a<s&&a<t.length;)c=n(t[a],a),++a;c&&(a<t.length?r?e(t,n,i,o,a,r):l.requestAnimationFrame?l.requestAnimationFrame(function(){e(t,n,i,o,a)}):setTimeout(function(){e(t,n,i,o,a)}):i&&i())},hasWebGLSupport:s,pointDrawHandler:function(e){var t=!0;if(this.chart.options&&this.chart.options.boost&&(t=void 0===this.chart.options.boost.enabled||this.chart.options.boost.enabled),!t||!this.isSeriesBoosting)return e.call(this);this.chart.isBoosting=!0,(e=n(this.chart,this))&&(r(e,this),e.pushSeries(this)),a(e,this)}},e.hasWebGLSupport=s,i}),t(e,"Extensions/Boost/BoostInit.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Series/Series.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"],e["Extensions/Boost/BoostUtils.js"],e["Extensions/Boost/BoostAttach.js"]],function(e,t,n,i,o,a,r){var s,l=t.noop,c=i.seriesTypes,d=o.addEvent,p=o.extend,m=o.fireEvent,u=o.wrap,h=a.eachAsync,f=a.pointDrawHandler,g=a.allocateIfNotSeriesBoosting,v=a.renderIfNotSeriesBoosting,y=a.shouldForceChartSeriesBoosting;return function(){p(n.prototype,{renderCanvas:function(){var e,t,n,i,o,a=this,c=a.options||{},d=!1,p=a.chart,u=this.xAxis,f=this.yAxis,y=c.xData||a.processedXData,b=c.yData||a.processedYData,I=c.data,x=(d=u.getExtremes()).min,S=d.max,C=(d=f.getExtremes()).min,D=d.max,w={},k=!!a.sampling,E=!1!==c.enableMouseTracking,M=f.getThreshold(c.threshold),O=a.pointArrayMap&&"low,high"===a.pointArrayMap.join(","),P=!!c.stacking,T=a.cropStart||0,A=a.requireSorting,_=!y,F="x"===c.findNearestPointBy,R=this.xData||this.options.xData||this.processedXData||!1,L=function(e,t,n){e=Math.ceil(e),s=F?e:e+","+t,E&&!w[s]&&(w[s]=!0,p.inverted&&(e=u.len-e,t=f.len-t),j.push({x:!!R&&R[T+n],clientX:e,plotX:e,plotY:t,i:T+n}))};d=r(p,a),p.isBoosting=!0;var V=d.settings;if(this.visible){(this.points||this.graph)&&this.destroyGraphics(),p.isChartSeriesBoosting()?(this.markerGroup&&this.markerGroup!==p.markerGroup&&this.markerGroup.destroy(),this.markerGroup=p.markerGroup,this.renderTarget&&(this.renderTarget=this.renderTarget.destroy())):(this.markerGroup===p.markerGroup&&(this.markerGroup=void 0),this.markerGroup=a.plotGroup("markerGroup","markers",!0,1,p.seriesGroup));var j=this.points=[];a.buildKDTree=l,d&&(g(d,this),d.pushSeries(a),v(d,this,p)),p.renderer.forExport||(V.debug.timeKDTree&&console.time("kd tree building"),h(P?a.data:y||I,function(a,r){var s=!1,l=void 0===p.index,c=!0;if(!l){if(_)var d=a[0],m=a[1];else d=a,m=b[r];O?(_&&(m=a.slice(1,3)),s=m[0],m=m[1]):P&&(d=a.x,s=(m=a.stackY)-a.y),A||(c=m>=C&&m<=D),null!==m&&d>=x&&d<=S&&c&&(a=u.toPixels(d,!0),k?(void 0!==i&&a!==e||(O||(s=m),(void 0===o||m>n)&&(n=m,o=r),(void 0===i||s<t)&&(t=s,i=r)),a!==e&&(void 0!==i&&(m=f.toPixels(n,!0),M=f.toPixels(t,!0),L(a,m,o),M!==m&&L(a,M,i)),i=o=void 0,e=a)):(m=Math.ceil(f.toPixels(m,!0)),L(a,m,r)))}return!l},function(){m(a,"renderedCanvas"),delete a.buildKDTree,a.buildKDTree(),V.debug.timeKDTree&&console.timeEnd("kd tree building")}))}}}),["heatmap","treemap"].forEach(function(e){c[e]&&u(c[e].prototype,"drawPoints",f)}),c.bubble&&(delete c.bubble.prototype.buildKDTree,u(c.bubble.prototype,"markerAttribs",function(e){return!this.isSeriesBoosting&&e.apply(this,[].slice.call(arguments,1))})),c.scatter.prototype.fill=!0,p(c.area.prototype,{fill:!0,fillOpacity:!0,sampling:!0}),p(c.column.prototype,{fill:!0,sampling:!0}),e.prototype.callbacks.push(function(e){d(e,"predraw",function(){e.boostForceChartBoost=void 0,e.boostForceChartBoost=y(e),e.isBoosting=!1,!e.isChartSeriesBoosting()&&e.didBoost&&(e.didBoost=!1),e.boostClear&&e.boostClear(),e.canvas&&e.ogl&&e.isChartSeriesBoosting()&&(e.didBoost=!0,e.ogl.allocateBuffer(e)),e.markerGroup&&e.xAxis&&0<e.xAxis.length&&e.yAxis&&0<e.yAxis.length&&e.markerGroup.translate(e.xAxis[0].pos,e.yAxis[0].pos)}),d(e,"render",function(){e.ogl&&e.isChartSeriesBoosting()&&e.ogl.render(e)})})}}),t(e,"Extensions/BoostCanvas.js",[e["Core/Chart/Chart.js"],e["Core/Color/Color.js"],e["Core/Globals.js"],e["Core/Color/Palette.js"],e["Core/Series/Series.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,n,i,o,a,r){var s,l=t.parse,c=n.doc,d=n.noop,p=a.seriesTypes,m=r.addEvent,u=r.extend,h=r.fireEvent,f=r.isNumber,g=r.merge,v=r.pick,y=r.wrap;return function(){n.seriesTypes.heatmap&&y(n.seriesTypes.heatmap.prototype,"drawPoints",function(){var e=this.chart,t=this.getContext(),n=this.chart.inverted,i=this.xAxis,o=this.yAxis;t?(this.points.forEach(function(a){var r=a.plotY;void 0===r||isNaN(r)||null===a.y||(r=a.shapeArgs,a=e.styledMode?a.series.colorAttribs(a):a.series.pointAttribs(a),t.fillStyle=a.fill,n?t.fillRect(o.len-r.y+i.left,i.len-r.x+o.top,-r.height,-r.width):t.fillRect(r.x+i.left,r.y+o.top,r.width,r.height))}),this.canvasToSVG()):this.chart.showLoading("Your browser doesn't support HTML5 canvas, <br>please use a modern browser")}),u(o.prototype,{getContext:function(){var e=this.chart,t=e.chartWidth,n=e.chartHeight,i=e.seriesGroup||this.group,o=this,a=function(e,t,n,i,o,a,r){e.call(this,n,t,i,o,a,r)};e.isChartSeriesBoosting()&&(o=e,i=e.seriesGroup);var r=o.ctx;return o.canvas||(o.canvas=c.createElement("canvas"),o.renderTarget=e.renderer.image("",0,0,t,n).addClass("highcharts-boost-canvas").add(i),o.ctx=r=o.canvas.getContext("2d"),e.inverted&&["moveTo","lineTo","rect","arc"].forEach(function(e){y(r,e,a)}),o.boostCopy=function(){o.renderTarget.attr({href:o.canvas.toDataURL("image/png")})},o.boostClear=function(){r.clearRect(0,0,o.canvas.width,o.canvas.height),o===this&&o.renderTarget.attr({href:""})},o.boostClipRect=e.renderer.clipRect(),o.renderTarget.clip(o.boostClipRect)),o.canvas.width!==t&&(o.canvas.width=t),o.canvas.height!==n&&(o.canvas.height=n),o.renderTarget.attr({x:0,y:0,width:t,height:n,style:"pointer-events: none",href:""}),o.boostClipRect.attr(e.getBoostClipRect(o)),r},canvasToSVG:function(){this.chart.isChartSeriesBoosting()?this.boostClear&&this.boostClear():(this.boostCopy||this.chart.boostCopy)&&(this.boostCopy||this.chart.boostCopy)()},cvsLineTo:function(e,t,n){e.lineTo(t,n)},renderCanvas:function(){var e,o,a=this,c=a.options,p=a.chart,y=this.xAxis,b=this.yAxis,I=(p.options.boost||{}).timeRendering||!1,x=0,S=a.processedXData,C=a.processedYData,D=c.data,w=y.getExtremes(),k=w.min,E=w.max,M=(w=b.getExtremes()).min,O=w.max,P={},T=!!a.sampling,A=c.marker&&c.marker.radius,_=this.cvsDrawPoint,F=c.lineWidth?this.cvsLineTo:void 0,R=A&&1>=A?this.cvsMarkerSquare:this.cvsMarkerCircle,L=this.cvsStrokeBatch||1e3,V=!1!==c.enableMouseTracking,j=b.getThreshold(w=c.threshold),B=f(w),N=j,U=this.fill,G=a.pointArrayMap&&"low,high"===a.pointArrayMap.join(","),$=!!c.stacking,H=a.cropStart||0;w=p.options.loading;var q,z,W,X,Y,K,Q=a.requireSorting,J=c.connectNulls,Z=!S,ee=$?a.data:S||D,te=a.fillOpacity?new t(a.color).setOpacity(v(c.fillOpacity,.75)).get():a.color,ne=function(){U?(le.fillStyle=te,le.fill()):(le.strokeStyle=a.color,le.lineWidth=c.lineWidth,le.stroke())},ie=function(e,t,n,i){0===x&&(le.beginPath(),F&&(le.lineJoin="round")),p.scroller&&"highcharts-navigator-series"===a.options.className?(t+=p.scroller.top,n&&(n+=p.scroller.top)):t+=p.plotTop,e+=p.plotLeft,q?le.moveTo(e,t):_?_(le,e,t,n,o):F?F(le,e,t):R&&R.call(a,le,e,t,A,i),(x+=1)===L&&(ne(),x=0),o={clientX:e,plotY:t,yBottom:n}},oe="x"===c.findNearestPointBy,ae=this.xData||this.options.xData||this.processedXData||!1,re=function(e,t,n){K=oe?e:e+","+t,V&&!P[K]&&(P[K]=!0,p.inverted&&(e=y.len-e,t=b.len-t),se.push({x:!!ae&&ae[H+n],clientX:e,plotX:e,plotY:t,i:H+n}))};this.renderTarget&&this.renderTarget.attr({href:""}),(this.points||this.graph)&&this.destroyGraphics(),a.plotGroup("group","series",a.visible?"visible":"hidden",c.zIndex,p.seriesGroup),a.markerGroup=a.group,m(a,"destroy",function(){a.markerGroup=null});var se=this.points=[],le=this.getContext();a.buildKDTree=d,this.boostClear&&this.boostClear(),this.visible&&(99999<D.length&&(p.options.loading=g(w,{labelStyle:{backgroundColor:l(i.backgroundColor).setOpacity(.75).get(),padding:"1em",borderRadius:"0.5em"},style:{backgroundColor:"none",opacity:1}}),r.clearTimeout(s),p.showLoading("Drawing..."),p.options.loading=w),I&&console.time("canvas rendering"),n.eachAsync(ee,function(t,n){var i=!1,o=!1,r=!1,s=!1,l=void 0===p.index,c=!0;if(!l){if(Z){var d=t[0],m=t[1];ee[n+1]&&(r=ee[n+1][0]),ee[n-1]&&(s=ee[n-1][0])}else d=t,m=C[n],ee[n+1]&&(r=ee[n+1]),ee[n-1]&&(s=ee[n-1]);if(r&&r>=k&&r<=E&&(i=!0),s&&s>=k&&s<=E&&(o=!0),G){Z&&(m=t.slice(1,3));var u=m[0];m=m[1]}else $&&(d=t.x,u=(m=t.stackY)-t.y);Q||(c=m>=M&&m<=O),!(t=null===m)&&(d>=k&&d<=E&&c||i||o)&&(d=Math.round(y.toPixels(d,!0)),T?(void 0!==X&&d!==e||(G||(u=m),(void 0===Y||m>W)&&(W=m,Y=n),(void 0===X||u<z)&&(z=u,X=n)),d!==e&&(void 0!==X&&(m=b.toPixels(W,!0),j=b.toPixels(z,!0),ie(d,B?Math.min(m,N):m,B?Math.max(j,N):j,n),re(d,m,Y),j!==m&&re(d,j,X)),X=Y=void 0,e=d)):(m=Math.round(b.toPixels(m,!0)),ie(d,m,j,n),re(d,m,n))),q=t&&!J,0==n%5e4&&(a.boostCopy||a.chart.boostCopy)&&(a.boostCopy||a.chart.boostCopy)()}return!l},function(){var e=p.loadingDiv,t=p.loadingShown;ne(),a.canvasToSVG(),I&&console.timeEnd("canvas rendering"),h(a,"renderedCanvas"),t&&(u(e.style,{transition:"opacity 250ms",opacity:0}),p.loadingShown=!1,s=setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e),p.loadingDiv=p.loadingSpan=null},250)),delete a.buildKDTree,a.buildKDTree()},p.renderer.forExport?Number.MAX_VALUE:void 0))}}),p.scatter.prototype.cvsMarkerCircle=function(e,t,n,i){e.moveTo(t,n),e.arc(t,n,i,0,2*Math.PI,!1)},p.scatter.prototype.cvsMarkerSquare=function(e,t,n,i){e.rect(t-i,n-i,2*i,2*i)},p.scatter.prototype.fill=!0,p.bubble&&(p.bubble.prototype.cvsMarkerCircle=function(e,t,n,i,o){e.moveTo(t,n),e.arc(t,n,this.radii&&this.radii[o],0,2*Math.PI,!1)},p.bubble.prototype.cvsStrokeBatch=1),u(p.area.prototype,{cvsDrawPoint:function(e,t,n,i,o){o&&t!==o.clientX&&(e.moveTo(o.clientX,o.yBottom),e.lineTo(o.clientX,o.plotY),e.lineTo(t,n),e.lineTo(t,i))},fill:!0,fillOpacity:!0,sampling:!0}),u(p.column.prototype,{cvsDrawPoint:function(e,t,n,i){e.rect(t-1,n,1,i-n)},fill:!0,sampling:!0}),e.prototype.callbacks.push(function(e){m(e,"predraw",function(){e.renderTarget&&e.renderTarget.attr({href:""}),e.canvas&&e.canvas.getContext("2d").clearRect(0,0,e.canvas.width,e.canvas.height)}),m(e,"render",function(){e.boostCopy&&e.boostCopy()})})}}),t(e,"Extensions/Boost/BoostOverrides.js",[e["Core/Chart/Chart.js"],e["Core/Series/Point.js"],e["Core/Series/Series.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"],e["Extensions/Boost/BoostUtils.js"],e["Extensions/Boost/Boostables.js"],e["Extensions/Boost/BoostableMap.js"]],function(e,t,n,i,o,a,r,s){var l=i.seriesTypes;i=o.addEvent;var c=o.error,d=o.isArray,p=o.isNumber,m=o.pick,u=o.wrap,h=a.boostEnabled,f=a.shouldForceChartSeriesBoosting,g=(0,o.getOptions)().plotOptions;e.prototype.isChartSeriesBoosting=function(){return m(this.options.boost&&this.options.boost.seriesThreshold,50)<=this.series.length||f(this)},e.prototype.getBoostClipRect=function(e){var t={x:this.plotLeft,y:this.plotTop,width:this.plotWidth,height:this.plotHeight};return e===this&&(1>=(e=this.inverted?this.xAxis:this.yAxis).length?(t.y=Math.min(e[0].pos,t.y),t.height=e[0].pos-this.plotTop+e[0].len):t.height=this.plotHeight),t},n.prototype.getPoint=function(e){var t=e,n=this.xData||this.options.xData||this.processedXData||!1;return!e||e instanceof this.pointClass||((t=(new this.pointClass).init(this,this.options.data[e.i],n?n[e.i]:void 0)).category=m(this.xAxis.categories?this.xAxis.categories[t.x]:t.x,t.x),t.dist=e.dist,t.distX=e.distX,t.plotX=e.plotX,t.plotY=e.plotY,t.index=e.i,t.isInside=this.isPointInside(e)),t},u(n.prototype,"searchPoint",function(e){return this.getPoint(e.apply(this,[].slice.call(arguments,1)))}),u(t.prototype,"haloPath",function(e){var t=this.series,n=this.plotX,i=this.plotY,o=t.chart.inverted;t.isSeriesBoosting&&o&&(this.plotX=t.yAxis.len-i,this.plotY=t.xAxis.len-n);var a=e.apply(this,Array.prototype.slice.call(arguments,1));return t.isSeriesBoosting&&o&&(this.plotX=n,this.plotY=i),a}),u(n.prototype,"markerAttribs",function(e,t){var n=t.plotX,i=t.plotY,o=this.chart.inverted;this.isSeriesBoosting&&o&&(t.plotX=this.yAxis.len-i,t.plotY=this.xAxis.len-n);var a=e.apply(this,Array.prototype.slice.call(arguments,1));return this.isSeriesBoosting&&o&&(t.plotX=n,t.plotY=i),a}),i(n,"destroy",function(){var e=this,t=e.chart;t.markerGroup===e.markerGroup&&(e.markerGroup=null),t.hoverPoints&&(t.hoverPoints=t.hoverPoints.filter(function(t){return t.series===e})),t.hoverPoint&&t.hoverPoint.series===e&&(t.hoverPoint=null)}),u(n.prototype,"getExtremes",function(e){return this.isSeriesBoosting&&this.hasExtremes&&this.hasExtremes()?{}:e.apply(this,Array.prototype.slice.call(arguments,1))}),["translate","generatePoints","drawTracker","drawPoints","render"].forEach(function(e){function t(t){this.isSeriesBoosting&&(!this.options.stacking||"translate"!==e&&"generatePoints"!==e)&&h(this.chart)&&"heatmap"!==this.type&&"treemap"!==this.type&&s[this.type]&&0!==this.options.boostThreshold?this[e+"Canvas"]&&this[e+"Canvas"]():t.call(this)}u(n.prototype,e,t),"translate"===e&&"column bar arearange columnrange heatmap treemap".split(" ").forEach(function(n){l[n]&&u(l[n].prototype,e,t)})}),u(n.prototype,"processData",function(e){function t(e){return n.chart.isChartSeriesBoosting()||(e?e.length:0)>=(n.options.boostThreshold||Number.MAX_VALUE)}var n=this,i=this.options.data;h(this.chart)&&s[this.type]?(t(i)&&"heatmap"!==this.type&&"treemap"!==this.type&&!this.options.stacking&&this.hasExtremes&&this.hasExtremes(!0)||(e.apply(this,Array.prototype.slice.call(arguments,1)),i=this.processedXData),(this.isSeriesBoosting=t(i))?(i=this.getFirstValidPoint(this.options.data),p(i)||d(i)||c(12,!1,this.chart),this.enterBoost()):this.exitBoost&&this.exitBoost()):e.apply(this,Array.prototype.slice.call(arguments,1))}),i(n,"hide",function(){this.canvas&&this.renderTarget&&(this.ogl&&this.ogl.clear(),this.boostClear())}),n.prototype.enterBoost=function(){this.alteredByBoost=[],["allowDG","directTouch","stickyTracking"].forEach(function(e){this.alteredByBoost.push({prop:e,val:this[e],own:Object.hasOwnProperty.call(this,e)})},this),this.directTouch=this.allowDG=!1,this.finishedAnimating=this.stickyTracking=!0,this.labelBySeries&&(this.labelBySeries=this.labelBySeries.destroy())},n.prototype.exitBoost=function(){(this.alteredByBoost||[]).forEach(function(e){e.own?this[e.prop]=e.val:delete this[e.prop]},this),this.boostClear&&this.boostClear()},n.prototype.hasExtremes=function(e){var t=this.options,n=this.xAxis&&this.xAxis.options,i=this.yAxis&&this.yAxis.options,o=this.colorAxis&&this.colorAxis.options;return t.data.length>(t.boostThreshold||Number.MAX_VALUE)&&p(i.min)&&p(i.max)&&(!e||p(n.min)&&p(n.max))&&(!o||p(o.min)&&p(o.max))},n.prototype.destroyGraphics=function(){var e,t,n=this,i=this.points;if(i)for(t=0;t<i.length;t+=1)(e=i[t])&&e.destroyElements&&e.destroyElements();["graph","area","tracker"].forEach(function(e){n[e]&&(n[e]=n[e].destroy())})},r.forEach(function(e){g[e]&&(g[e].boostThreshold=5e3,g[e].boostData=[],l[e].prototype.fillOpacity=!0)})}),t(e,"Extensions/Boost/NamedColors.js",[e["Core/Color/Color.js"]],function(e){return e.names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",feldspar:"#d19275",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslateblue:"#8470ff",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",violetred:"#d02090",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}}),t(e,"Extensions/Boost/Boost.js",[e["Extensions/Boost/BoostUtils.js"],e["Extensions/Boost/BoostInit.js"],e["Extensions/BoostCanvas.js"],e["Core/Utilities.js"]],function(e,t,n,i){i=i.error,(e=e.hasWebGLSupport)()?t():void 0!==n?n():i(26)}),t(e,"masters/modules/boost.src.js",[],function(){})},e.exports?(a.default=a,e.exports=a):(i=[n("6n/F")],void 0===(o=(function(e){return a(e),a.Highcharts=e,a}).apply(t,i))||(e.exports=o))},"2tam":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("2Vo4"),o=n("AytR"),a=n("tk/3"),r=n("fXoL");let s=(()=>{class e{constructor(e){this.http=e,this.productStore$=new i.a(null),this.BaseURI=o.a.apiUrl}storeProductRx(e){this.productStore$.next(e)}getProductRx(){return this.productStore$.asObservable()}getProduct(e,t){return this.http.get(`${this.BaseURI}/company/product?companyID=${e}&companyProductID=${t}`)}addProduct(e){return this.http.post(this.BaseURI+"/company/product",e)}updateProduct(e){return this.http.put(this.BaseURI+"/company/product",e)}deleteProduct(e){return this.http.delete(`${this.BaseURI}/company/product/${e}`)}addProductMarket(e){return this.http.post(this.BaseURI+"/company/product/market",e)}getProductMarket(e=0,t=0){return this.http.get(`${this.BaseURI}/company/product/market?CompanyProductMarketID=${e}&CompanyProductID=${t}`)}updateProductMarket(e){return this.http.put(this.BaseURI+"/company/product/market",e)}deleteProductMarket(e){const t={headers:new a.f({"Content-Type":"application/json"}),body:{companyProductMarketID:e}};return this.http.delete(this.BaseURI+"/company/product",t)}getStatuses(e=1){return this.http.get(`${this.BaseURI}/Company/product/status?productTypeId=${e}`)}deleteCheckList(e){const t={headers:new a.f({"Content-Type":"application/json"}),body:{companyProductStatusChecklistID:e}};return this.http.delete(this.BaseURI+"/company/product/status/checklist",t)}getChecklist(e=0,t=0){return this.http.get(`${this.BaseURI}/company/product/status/checklist?CompanyProductStatusChecklistID=${e}&CompanyProductStatusID=${t}`)}addChecklist(e){return this.http.post(this.BaseURI+"/company/product/status/checklist",e)}updateChecklist(e){return this.http.put(this.BaseURI+"/company/product/status/checklist",e)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](a.b))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"3/ER":function(e,t,n){"use strict";(function(e){var i=n("Ju5/"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,r=a&&a.exports===o?i.a.Buffer:void 0,s=r?r.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,i=s?s(n):new e.constructor(n);return e.copy(i),i}}).call(this,n("3UD+")(e))},"3MU0":function(e,t,n){"use strict";n.d(t,"a",function(){return Jr});var i=n("fXoL"),o=n("p+bo"),a=n("+i8e"),r=n("E7c6"),s=n("1G5W"),l=n("eIep"),c=n("8J6U"),d=n("cxbk"),p=n("GXd7"),m=n("6n/F"),u=n("XNiG"),h=n("LRne"),f=n("cp0P");class g{constructor(){this.shareCategoryID=null,this.companyID=null,this.sharePoolTitle=null,this.shares=null,this.sharePoolDescription=null,this.shareValue=null,this.dateIssued=null,this.sharePoolID=null}}var v=n("HNxE");class y{constructor(){this.sharePoolID=null,this.shareHolderCategoryID=null,this.referenceID=null,this.shareTransactionTypeID=null,this.vestingScheduleID=null,this.shareTransactionDate=null,this.shares=null,this.sharePrice=null,this.investmentID=null,this.contactModel=new v.a,this.shareHolding=null,this.shareholding=null,this.countryID=null}}var b=n("MNGV"),I=n("frau"),x=n("Dhwl"),S=n("WZWj"),C=n("OzGw");class D{constructor(){this.companyID=null,this.exitStrategyID=null,this.exitStrategyDetail=null,this.exitStrategyDate=null,this.exitStrategy=null}}var w=n("FddC"),k=n("8stm"),E=n("1kSV"),M=n("WhH8"),O=n("kmKP"),P=n("tk/3");let T=(()=>{class e{constructor(e){this.httpClient=e,this.baseUrl=d.a.apiUrl}getShareList(e=0,t=0){return this.httpClient.get(`${this.baseUrl}/sharepool?CompanyID=${e}&SharePoolID=${t}`)}postShare(e){return this.httpClient.post(this.baseUrl+"/sharepool",e)}updateShare(e){return this.httpClient.put(this.baseUrl+"/sharepool",e)}deleteShare(e=0){return this.httpClient.delete(`${this.baseUrl}/sharepool/${e}`)}getShareTransaction(e=0,t=0,n=0){return this.httpClient.get(`${this.baseUrl}/sharetransaction?SharePoolID=${e}&ShareHolderCategoryID=${t}&ReferenceID=${n}`)}postShareTransaction(e){return this.httpClient.post(this.baseUrl+"/sharetransaction",e)}updateShareTransaction(e){return this.httpClient.put(this.baseUrl+"/sharetransaction",e)}deleteShareTransaction(e=0){return this.httpClient.delete(`${this.baseUrl}/sharetransaction/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](P.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var A=n("Jn3s"),_=n("3Pt+"),F=n("ofXK"),R=n("SdWN");function L(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",24),i["\u0275\u0275element"](1,"i",25),i["\u0275\u0275text"](2," Total shares can't be greater than 100% "),i["\u0275\u0275elementEnd"]())}let V=(()=>{class e{constructor(e,t,n,i,o){this.activeModal=e,this.modal=t,this.contactService=n,this.userService=i,this.sharePoolService=o,this.validationShareIssues=0,this.user=this.userService.user.getValue()}ngOnInit(){this.onShareChanges(),this.getContact()}submit(){this.loading=!0,this.shareHolder.shareholding=this.shareHolder.shareHolding,this.shareHolder.firstname=this.contact.firstName||this.contact.surname,this.shareHolder.countryID=this.contact.countryID,this.shareHolder.surname=this.contact.surname,this.shareHolder.shareTransactionID?this.sharePoolService.updateShareTransaction(this.shareHolder).subscribe(()=>{this.activeModal.close(this.shareHolder),this.loading=!1}):this.sharePoolService.postShareTransaction(this.shareHolder).subscribe(e=>{this.shareHolder.shareTransactionID=e.inOut_ShareTransactionID,this.activeModal.close(this.shareHolder),this.loading=!1})}onShareChanges(){this.validationShareIssues=this.shareHolder.shareHolding?this.totalShareIssued+this.shareHolder.shareHolding:this.totalShareIssued}editContact(){const e=this.modal.open(k.a,{size:"lg"});e.componentInstance.contact=Object(c.l)(this.contact),e.componentInstance.actionType="Edit",e.componentInstance.shareHolder=!0,e.result.then(e=>{e&&(this.contact=e,this.user.contactID===this.contact.contactID&&(this.user.profilePhoto=this.contact.profilePhoto,this.user.surname=this.contact.surname,this.user.firstName=this.contact.firstName,this.user.emailAddress=this.contact.emailAddress,this.userService.user.next(this.user)))},()=>{})}getContact(){this.loading=!0,this.contactService.getContactList("0",this.shareHolder.referenceID,0).subscribe(e=>{e[0]&&(this.contact=e[0]),this.loading=!1})}dismiss(){this.activeModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](E.a),i["\u0275\u0275directiveInject"](E.p),i["\u0275\u0275directiveInject"](M.a),i["\u0275\u0275directiveInject"](O.a),i["\u0275\u0275directiveInject"](T))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-share-holder"]],decls:39,vars:18,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","d-flex","flex-column",3,"avnonLoader"],[1,"form-block","p-0","m-0",3,"submit"],["f","ngForm"],[1,"entry","mb-2","border-0","p-0"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","Avatar",1,"img-fluid","img-48","cover",3,"src"],[1,"d-flex"],[1,"actions","ml-auto"],["ngbDropdown","","display","dynamic","container","body"],["type","button","ngbDropdownToggle","","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"form-group","form-block","p-0","mb-3"],["for","shares"],["type","number","name","shares","id","shares","required","",1,"form-control","input-limit",3,"ngModel","keyup","ngModelChange"],["class","text-danger mb-3",4,"ngIf"],[1,"d-flex","float-left","w-100","align-items-center"],[1,"font-semi-bold"],[1,"btn","btn-primary","ml-auto",3,"disabled"],[1,"text-danger","mb-3"],[1,"fas","fa-info-circle","mr-1"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h5",1),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",2),i["\u0275\u0275listener"]("click",function(){return t.dismiss()}),i["\u0275\u0275elementStart"](4,"span",3),i["\u0275\u0275text"](5,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"form",5,6),i["\u0275\u0275listener"]("submit",function(){return t.submit()}),i["\u0275\u0275elementStart"](9,"div",7),i["\u0275\u0275elementStart"](10,"span",8),i["\u0275\u0275element"](11,"img",9),i["\u0275\u0275pipe"](12,"avatar"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",10),i["\u0275\u0275elementStart"](14,"h2"),i["\u0275\u0275text"](15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",11),i["\u0275\u0275elementStart"](17,"div",12),i["\u0275\u0275elementStart"](18,"button",13),i["\u0275\u0275element"](19,"span",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"ul",15),i["\u0275\u0275elementStart"](21,"li"),i["\u0275\u0275elementStart"](22,"a",16),i["\u0275\u0275listener"]("click",function(){return t.editContact()}),i["\u0275\u0275text"](23,"Edit"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"div",17),i["\u0275\u0275elementStart"](25,"label",18),i["\u0275\u0275text"](26,"Share Holding % *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](27,"input",19),i["\u0275\u0275listener"]("keyup",function(){return t.onShareChanges()})("ngModelChange",function(e){return t.shareHolder.shareHolding=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](28,L,3,0,"p",20),i["\u0275\u0275elementStart"](29,"div",21),i["\u0275\u0275elementStart"](30,"p"),i["\u0275\u0275elementStart"](31,"span",22),i["\u0275\u0275text"](32,"Total shares issued:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](33,"br"),i["\u0275\u0275text"](34),i["\u0275\u0275pipe"](35,"number"),i["\u0275\u0275pipe"](36,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"button",23),i["\u0275\u0275text"](38," Submit "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275reference"](8);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.shareHolder.shareTransactionID?"Edit":"Create"," Shareholder "),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("avnonLoader",t.loading),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("src",i["\u0275\u0275pipeBind1"](12,10,t.shareHolder.profilePhoto),i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate2"]("",t.shareHolder.firstname," ",t.shareHolder.surname,""),i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngModel",t.shareHolder.shareHolding),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.validationShareIssues>100),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate2"](" ",i["\u0275\u0275pipeBind2"](35,12,t.validationShareIssues,"1.1-2"),"% of ",i["\u0275\u0275pipeBind2"](36,15,100,"1.1-2"),"%"),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("disabled",t.loading||e.invalid)}},directives:[A.a,_.E,_.r,_.s,E.i,E.m,E.k,_.w,_.b,_.A,_.q,_.t,F.n],pipes:[R.a,F.f],styles:[".input-limit[_ngcontent-%COMP%]{width:150px}.entry[_ngcontent-%COMP%]:hover{background:#fff}"]}),e})();var j=n("Ay/5"),B=n("w6ya"),N=n("4CJs"),U=n("VgRj"),G=n("3DXX"),$=n("m25l"),H=n("AytR"),q=n("mOT8"),z=n("Kj3r"),W=n("/uUt"),X=n("lJxs"),Y=n("GUj1"),K=n("n1y0"),Q=n("XIp8"),J=n("5eHb"),Z=n("e6FA"),ee=n("ev4g"),te=n("XAmU"),ne=n("Hu2X"),ie=n("SCsZ"),oe=n("7itd"),ae=n("pxUr"),re=n("yDbM");function se(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.isEdit?"Edit":"Add"," Customer ")}}function le(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.isEdit?"Edit":"Add"," Prospect ")}}function ce(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.industry)}}function de(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",21),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"](3).onCompanySelect(n)}),i["\u0275\u0275elementStart"](1,"span",22),i["\u0275\u0275element"](2,"img",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"h2"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",24),i["\u0275\u0275template"](6,ce,2,1,"span",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",e.companyLogo?n.blobUrl+e.companyLogo:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.companyName),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.industry)}}function pe(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",19),i["\u0275\u0275template"](1,de,7,3,"div",20),i["\u0275\u0275pipe"](2,"slice"),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind3"](2,1,e.filteredCompanies,0,6))}}function me(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"p",25),i["\u0275\u0275text"](1," Can't find your company? "),i["\u0275\u0275elementStart"](2,"span",26),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).onAddNewCompany()}),i["\u0275\u0275text"](3,"Add it now."),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function ue(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",27),i["\u0275\u0275elementStart"](1,"label",28),i["\u0275\u0275text"](2,"About this Company *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"textarea",29),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).company.companyMission=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("disabled",!e.addNewCompany&&!e.companyModel.companyName)("ngModel",e.company.companyMission)}}function he(e,t){if(1&e&&i["\u0275\u0275element"](0,"ngb-highlight",40),2&e){const e=t.term;i["\u0275\u0275property"]("result",t.result.companyLocation)("term",e)}}function fe(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"agm-map",41),i["\u0275\u0275element"](1,"agm-marker",42),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275property"]("latitude",e.headOfficeLocationModel.latitude)("longitude",e.headOfficeLocationModel.longitude)("zoom",15)("scrollwheel",!1),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("latitude",e.headOfficeLocationModel.latitude)("longitude",e.headOfficeLocationModel.longitude)}}function ge(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"p"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.headOfficeLocationModel.physicalAddress)}}function ve(e,t){}function ye(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",30),i["\u0275\u0275elementStart"](1,"label",31),i["\u0275\u0275text"](2,"Where are they based *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",32),i["\u0275\u0275template"](4,he,1,2,"ng-template",null,33,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementStart"](6,"input",34,35),i["\u0275\u0275listener"]("onAddressChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).handleAddressChange(t)})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).headOfficeLocationModel=t})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).onSelectLocation(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",36),i["\u0275\u0275template"](9,fe,2,6,"agm-map",37),i["\u0275\u0275template"](10,ge,3,1,"ng-container",38),i["\u0275\u0275template"](11,ve,0,0,"ng-template",null,39,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](5),t=i["\u0275\u0275reference"](12),n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngModel",n.headOfficeLocationModel)("ngbTypeahead",n.headOfficeLocationSearch)("resultTemplate",e)("inputFormatter",n.headOfficeFormatter),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",n.headOfficeLocationModel.latitude),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.headOfficeLocationModel.physicalAddress)("ngIfElse",t)}}function be(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",8),i["\u0275\u0275elementStart"](2,"label",9),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"input",10),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().newCompanyName=t})("keyup",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onCompanySearch(t.target.value)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,pe,3,5,"div",11),i["\u0275\u0275template"](6,me,4,0,"p",12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](7,ue,4,2,"div",13),i["\u0275\u0275template"](8,ye,13,7,"div",14),i["\u0275\u0275elementStart"](9,"div",15),i["\u0275\u0275elementStart"](10,"span",16),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().dismiss()}),i["\u0275\u0275text"](11,"Cancel"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"button",17),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onCustomerAdd()}),i["\u0275\u0275text"](13," Next "),i["\u0275\u0275element"](14,"i",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](9);i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" Search for the ",e.isProspect?"prospect":"customer"," business * "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.newCompanyName),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.addNewCompany),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.addNewCompany&&(null==e.newCompanyName?null:e.newCompanyName.length)>1&&!e.companyModel.companyID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.addNewCompany),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.addNewCompany),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("disabled",t.invalid||!e.addNewCompany&&!e.companyModel.companyID||e.addNewCompany&&!(null!=e.headOfficeLocationModel&&e.headOfficeLocationModel.physicalAddress))}}function Ie(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",76),i["\u0275\u0275elementStart"](1,"div",77),i["\u0275\u0275elementStart"](2,"button",78),i["\u0275\u0275element"](3,"span",79),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"ul",80),i["\u0275\u0275elementStart"](5,"li"),i["\u0275\u0275elementStart"](6,"a",81),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).editCompany()}),i["\u0275\u0275text"](7,"Edit Company"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function xe(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"label",82),i["\u0275\u0275text"](1,"Approximate lifetime revenue from this customer?"),i["\u0275\u0275elementEnd"]())}function Se(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"label",82),i["\u0275\u0275text"](1,"Approximate revenue from this prospect?"),i["\u0275\u0275elementEnd"]())}function Ce(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"label",83),i["\u0275\u0275text"](1,"How many deadlines did you miss in the past 2 months?"),i["\u0275\u0275elementEnd"]())}function De(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"label",83),i["\u0275\u0275text"](1," Have you missed any deadlines relating to this prospect "),i["\u0275\u0275elementEnd"]())}function we(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"label",84),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("Overall, how would you say ",e.companyModel.companyID?e.companyModel.companyName:e.newCompanyName," is feeling about your products and support?")}}function ke(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"label",84),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("Overall, how likely do you think ",e.companyModel.companyID?e.companyModel.companyName:e.newCompanyName," are to become a customer?")}}function Ee(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"textarea",85),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).sentiment.comment=t}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("ngModel",e.sentiment.comment)("placeholder","Please indicate why you stated "+(1===e.sentiment.sentimentRatingID?"`Very Bad`":2===e.sentiment.sentimentRatingID?"`Bad`":3===e.sentiment.sentimentRatingID?"`Good`":"`Very Good`"))}}function Me(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",86),i["\u0275\u0275elementStart"](1,"div",87),i["\u0275\u0275elementStart"](2,"input",88),i["\u0275\u0275listener"]("keyup.enter",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"](2).onEnterTask(n,!0)})("blur",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"](2).onActionPlanBlur(n)})("ngModelChange",function(e){return t.$implicit.taskTitle=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",89),i["\u0275\u0275elementStart"](4,"input",90,91),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275reference"](5).open()})("ngModelChange",function(e){return t.$implicit.endDateModel=e})("keyup.enter",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"](2).onEnterTask(n)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",76),i["\u0275\u0275elementStart"](7,"div",77),i["\u0275\u0275elementStart"](8,"button",78),i["\u0275\u0275element"](9,"span",79),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"ul",80),i["\u0275\u0275elementStart"](11,"li"),i["\u0275\u0275elementStart"](12,"a",81),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"](2).deletePlan(n)}),i["\u0275\u0275text"](13,"Delete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,o=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate1"]("name","taskTitle-",n,""),i["\u0275\u0275property"]("focus",o.focusingTask==="task_index_"+n)("ngModel",e.taskTitle),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate1"]("name","endDate-",n,""),i["\u0275\u0275property"]("ngModel",e.endDateModel)("focus",o.focusingDeadline==="deadline_index_"+n)("id","deadline_index_"+n)}}function Oe(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",43),i["\u0275\u0275elementStart"](2,"div",44),i["\u0275\u0275elementStart"](3,"div",45),i["\u0275\u0275element"](4,"img",46),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",47),i["\u0275\u0275elementStart"](6,"div",48),i["\u0275\u0275elementStart"](7,"h3",49),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](9,Ie,8,0,"div",50),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"p",51),i["\u0275\u0275text"](11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",52),i["\u0275\u0275elementStart"](13,"div",27),i["\u0275\u0275elementStart"](14,"label",53),i["\u0275\u0275text"](15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",54),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275reference"](18).toggle()}),i["\u0275\u0275elementStart"](17,"input",55,56),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().startDate=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"div",57),i["\u0275\u0275elementStart"](20,"span",58),i["\u0275\u0275element"](21,"span",59),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"div",27),i["\u0275\u0275template"](23,xe,2,0,"label",60),i["\u0275\u0275template"](24,Se,2,0,"label",60),i["\u0275\u0275elementStart"](25,"input",61),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().customer.lifeTimeRevenue=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"div",27),i["\u0275\u0275template"](27,Ce,2,0,"label",62),i["\u0275\u0275template"](28,De,2,0,"label",62),i["\u0275\u0275elementStart"](29,"input",63),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().customer.missedDeadlinesPastMonth=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"div",30),i["\u0275\u0275template"](31,we,2,1,"label",64),i["\u0275\u0275template"](32,ke,2,1,"label",64),i["\u0275\u0275elementStart"](33,"div",65),i["\u0275\u0275elementStart"](34,"button",66),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().sentiment.sentimentRatingID=4}),i["\u0275\u0275text"](35," Very Good "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](36,"button",67),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().sentiment.sentimentRatingID=3}),i["\u0275\u0275text"](37," Good "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](38,"button",67),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().sentiment.sentimentRatingID=2}),i["\u0275\u0275text"](39," Bad "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](40,"button",68),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().sentiment.sentimentRatingID=1}),i["\u0275\u0275text"](41," Very Bad "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](42,Ee,1,2,"textarea",69),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](43,"div",70),i["\u0275\u0275elementStart"](44,"label",71),i["\u0275\u0275text"](45,"Please list any upcoming deadlines"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](46,Me,14,7,"div",72),i["\u0275\u0275elementStart"](47,"div",73),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().addTask()}),i["\u0275\u0275elementStart"](48,"div",74),i["\u0275\u0275element"](49,"span",75),i["\u0275\u0275text"](50," Add Deadline "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](51,"div",15),i["\u0275\u0275elementStart"](52,"span",16),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().dismiss()}),i["\u0275\u0275text"](53,"Cancel"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](54,"button",17),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onSubmit()}),i["\u0275\u0275text"](55," Done "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](9);i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("src",e.companyModel.companyLogo?e.blobUrl+e.companyModel.companyLogo:e.defaultLogo,i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",e.companyModel.companyID?e.companyModel.companyName:e.newCompanyName," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isEdit&&e.companyModel.companyOwnerContactID===e.contactID),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.companyModel.companyID?e.companyModel.companyName:e.newCompanyName," Review "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"]("When did this company first become a ",e.isProspect?"prospect":"customer","?"),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.startDate),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",!e.isProspect),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isProspect),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.customer.lifeTimeRevenue),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!e.isProspect),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isProspect),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.customer.missedDeadlinesPastMonth),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!e.isProspect),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isProspect),i["\u0275\u0275advance"](2),i["\u0275\u0275classProp"]("btn-info",4===e.sentiment.sentimentRatingID)("btn-light",4!==e.sentiment.sentimentRatingID),i["\u0275\u0275advance"](2),i["\u0275\u0275classProp"]("btn-info",3===e.sentiment.sentimentRatingID)("btn-light",3!==e.sentiment.sentimentRatingID),i["\u0275\u0275advance"](2),i["\u0275\u0275classProp"]("btn-info",2===e.sentiment.sentimentRatingID)("btn-light",2!==e.sentiment.sentimentRatingID),i["\u0275\u0275advance"](2),i["\u0275\u0275classProp"]("btn-info",1===e.sentiment.sentimentRatingID)("btn-light",1!==e.sentiment.sentimentRatingID),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.sentiment.sentimentRatingID),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",e.tasks),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("disabled",t.invalid||!e.sentiment.sentimentRatingID)}}let Pe=(()=>{class e{constructor(e,t,n,i,o,a,r,s,l){this.activeModal=e,this.toastrService=t,this.userService=n,this.companyLocationService=i,this.taskService=o,this.discussionService=a,this.companyService=r,this.modal=s,this.sentimentService=l,this.customer=new $.a,this.blobUrl=H.a.apiBlobUrl+"/256px/",this.defaultLogo="/assets/img/card-placeholder.jpg",this.companies=[],this.filteredCompanies=[],this.companyModel=new q.a,this.company=new q.a,this.addNewCompany=!1,this.newCompanyName="",this.step=1,this.headOfficeLocationModel=new Y.a,this.locations=[],this.tasks=[],this.focusingTask="",this.focusingDeadline="",this.sentiment=new S.a,this.destroy$=new u.a,this.headOfficeFormatter=e=>e.companyLocation,this.headOfficeLocationSearch=e=>e.pipe(Object(z.a)(300),Object(W.a)(),Object(X.a)(e=>{let t=[];return this.hideGoogleMapResults(),t=""===e?this.locations:this.locations.filter(t=>new RegExp(e,"mi").test(t.companyLocation)),0===t.length&&this.showGoogleMapResults(),t.slice(0,10)})),this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID||0}ngOnInit(){if(this.companyService.getCachedCompanies().pipe(Object(s.a)(this.destroy$)).subscribe(e=>{this.companies=e}),this.customer.companyConnectID){this.step=2,this.companyModel=Object(c.l)(this.customer),this.newCompanyName=this.companyModel.companyName;const e=new Date(this.customer.dateAssociated);this.startDate={year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()},this.getCompany(),this.getSentiment(),this.getTasks(),this.getMeta()}else this.getLocations(),this.addTask()}getCompany(){this.companySearching=!0,this.companyService.getCompanyProfile(this.customer.companyID).pipe(Object(s.a)(this.destroy$)).subscribe(e=>{e&&(this.companyModel=e),this.companySearching=!1})}onSubmit(){var e,t,n,i;this.loading=!0;const o=new Date(null===(e=this.startDate)||void 0===e?void 0:e.year,(null===(t=this.startDate)||void 0===t?void 0:t.month)-1,null===(n=this.startDate)||void 0===n?void 0:n.day);this.customer.dateAssociated=Object(c.a)(o),this.sentiment.sentimentCategoryID=3,this.sentiment.createdByContactID=this.contactID,this.sentiment.createdByCompanyID=this.companyID,this.sentiment.referenceID=this.customer.companyConnectID,this.sentiment.datePosted=Object(c.a)(new Date,"",!0),this.sentiment.sentimentID?this.sentimentService.updateSentiment(this.sentiment).subscribe():this.sentimentService.addSentiment(this.sentiment).subscribe();const a={companyConnectID:this.customer.companyConnectID,missedDeadlinesPastMonth:this.customer.missedDeadlinesPastMonth,lifeTimeRevenue:this.customer.lifeTimeRevenue,contactID:this.contactID,companyConnectMetaID:this.connectMeta?this.connectMeta.companyConnectMetaID:0};this.customer.companyConnectID&&(null===(i=this.connectMeta)||void 0===i?void 0:i.companyConnectMetaID)?this.companyService.updateConnectMeta(a).subscribe():this.companyService.postConnectMeta(a).subscribe(),this.companyService.updateCompanyConnect(this.customer).subscribe(()=>{this.loading=!1,this.customer.comment=this.sentiment.comment,this.customer.companyName=this.companyModel.companyName,this.activeModal.close(this.customer)}),this.tasks.forEach((e,t)=>{this.createPlan(t)})}onCustomerAdd(){this.loading=!0,this.companyModel.companyID?this.customerAdd():this.addCompany()}addCompany(){this.company.companyName=this.newCompanyName,this.company.companyTypeID=1,5===this.user.userGroupID&&(this.company.companyTypeID=3,this.company.industryID=3),this.companyService.addCompany(this.company).subscribe(e=>{this.company.companyID=e.inOut_CompanyID,this.company.companyOwnerContactID=this.contactID,this.companyModel=this.company,this.updateOwner(this.company.companyID,this.contactID),this.addCompanyLocation(),this.companies.push(this.company),this.companyService.setCachedCompanies(this.companies),this.customerAdd()})}customerAdd(){this.loading=!0,this.customer.companyID=this.companyID,this.customer.connectCompanyID=this.companyModel.companyID,this.customer.companyConnectCategoryID=this.isProspect?3:2,this.customer.companyConnectTypeID=0,this.customer.dateAssociated=Object(c.a)(new Date),this.customer.companyProductMarketID=0,this.companyService.addCompanyConnect(this.customer).subscribe(e=>{e.companyConnectID=e.inOut_CompanyConnectID,e=Object.assign(Object.assign({},e),this.companyModel),this.customer=e,this.loading=!1,this.step=2})}updateOwner(e,t){this.companyService.updateCompanyOwner(e,t).subscribe()}onAddNewCompany(){this.addNewCompany=!0,this.companyModel=new q.a}onCompanySearch(e){let t=[];e.length<1?(t=[],(this.addNewCompany||this.companyModel.companyID)&&(this.addNewCompany=!1,this.companyModel=new q.a)):(t=this.companies.filter(t=>t.companyName.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1),this.filteredCompanies=t,(this.addNewCompany||this.companyModel.companyID)&&(this.addNewCompany=!1,this.companyModel=new q.a)),this.filteredCompanies=t}onCompanySelect(e){this.companyModel=e,this.newCompanyName=e.companyName,this.filteredCompanies=[]}addCompanyLocation(){this.companyLocationService.createCompanyLocation(this.headOfficeLocationModel).subscribe()}showGoogleMapResults(){var e,t;const n=document.getElementsByClassName("pac-container");for(let i=0,o=n.length;i<o;i++)null===(e=n[i].classList)||void 0===e||e.remove("d-none"),null===(t=n[i].classList)||void 0===t||t.add("map-selector")}hideGoogleMapResults(){var e,t;const n=document.getElementsByClassName("pac-container");for(let i=0,o=n.length;i<o;i++)null===(e=n[i].classList)||void 0===e||e.add("d-none"),null===(t=n[i].classList)||void 0===t||t.remove("map-selector")}handleAddressChange(e){var t,n;this.headOfficeLocationModel=new Y.a,this.headOfficeLocationModel.companyLocationID=0,this.headOfficeLocationModel.companyLocation=null==e?void 0:e.name,this.headOfficeLocationModel.physicalAddress=null==e?void 0:e.formatted_address,this.headOfficeLocationModel.latitude=null===(t=null==e?void 0:e.geometry)||void 0===t?void 0:t.location.lat(),this.headOfficeLocationModel.longitude=null===(n=null==e?void 0:e.geometry)||void 0===n?void 0:n.location.lng(),this.headOfficeLocationModel.googleMapURL=null==e?void 0:e.url}onSelectLocation(e){var t,n;e&&e.companyLocationID&&(this.headOfficeLocationModel.latitude=+(null===(t=this.headOfficeLocationModel)||void 0===t?void 0:t.latitude),this.headOfficeLocationModel.longitude=+(null===(n=this.headOfficeLocationModel)||void 0===n?void 0:n.longitude))}getLocations(){this.companyLocationService.getLocations(this.companyID).subscribe(e=>{if(e.length>0&&(this.locations=e,this.company.companyID)){const e=this.locations[0];e.longitude=Number(e.longitude),e.latitude=Number(e.latitude),e.companyLocation=e.physicalAddress,this.headOfficeLocationModel=e}})}deletePlan(e){const t=this.tasks[e];if(t.taskID){const n=this.modal.open(C.a);return n.componentInstance.objectType="Deadline",n.componentInstance.objectDetails=t.taskTitle,void n.result.then(n=>{"Yes"===n&&this.taskService.deleteTask(t.taskID).subscribe(()=>{this.tasks.splice(e,1)})})}this.tasks.splice(e,1)}addTask(e=null){this.focusingDeadline="",this.focusingTask="";const t=new b.a;t.submittedBy=this.contactID,null!==e?(this.tasks.splice(e+1,0,t),this.focusingTask="task_index_"+(e+1)):(this.tasks.push(t),this.focusingTask="task_index_"+(this.tasks.length-1))}onEnterTask(e,t=!1){var n,i;const o=this.tasks[e];if(o.taskTitle&&(null===(n=o.endDateModel)||void 0===n?void 0:n.year))this.addTask(e);else if(o.taskTitle&&!(null===(i=o.endDateModel)||void 0===i?void 0:i.year)){this.focusingDeadline="deadline_index_"+e;const t=document.getElementById(this.focusingDeadline);t&&t.click()}}createPlan(e){var t,n,i,a;const r=this.tasks[e];if(!r.taskTitle)return;let s=null;(null===(t=r.endDateModel)||void 0===t?void 0:t.year)&&(s=new Date(null===(n=r.endDateModel)||void 0===n?void 0:n.year,(null===(i=r.endDateModel)||void 0===i?void 0:i.month)-1,null===(a=r.endDateModel)||void 0===a?void 0:a.day)),r.autoSignOff=!1,r.submittedBy=this.contactID,r.referenceID=this.customer.companyConnectID,r.taskCategoryID=30,r.taskDescription=r.taskTitle,r.parentTaskID=0,r.endDate=s?Object(c.a)(s):Object(c.a)(Object(c.a)(new Date)),r.taskID?this.taskService.updateTask(r).subscribe():this.taskService.addTask(r).pipe(Object(l.a)(e=>{e.taskID=e.inOut_TaskID,r.taskID=e.taskID;const t=[],n=new o.a;return n.contactID=this.contactID,n.taskID=e.taskID,n.deadline=r.endDate,t.push(this.taskService.addTaskOwner(n)),t.push(this.discussionService.insertDiscussion({discussionTopic:r.taskDescription,discussionCategoryID:6,referenceID:r.taskID,isDirectMessage:!0,discussionCreatedByContactID:this.contactID,discussionBody:r.taskDescription,parentDiscussionID:0})),t.length>0?Object(f.a)(t):Object(h.a)([])})).subscribe(e=>{e.forEach(e=>{e.hasOwnProperty("inOut_DiscussionID")&&this.discussionService.addMember({discussionID:e.discussionID,contactID:this.companyID,isAdmin:!0}).subscribe()})})}getSentiment(){this.sentimentLoading=!0,this.sentimentService.getSentiments(0,0,0,0,3,this.customer.companyConnectID,0,this.contactID).pipe(Object(s.a)(this.destroy$)).subscribe(e=>{e[0]&&(this.sentiment=e[0]),this.sentimentLoading=!1})}getTasks(){this.taskLoading=!0,this.taskService.getTask(0,30,this.customer.companyConnectID,this.contactID,0,0,0,0).pipe(Object(s.a)(this.destroy$)).subscribe(e=>{this.tasks=e.map(e=>{if(e.endDate){const t=new Date(e.endDate);e.endDateModel={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}}return e}),this.taskLoading=!1})}getMeta(){this.metaLoading=!0,this.companyService.getConnectMeta(this.customer.companyConnectID).pipe(Object(s.a)(this.destroy$)).subscribe(e=>{e[0]&&(this.connectMeta=e[0]),this.metaLoading=!1})}onActionPlanBlur(e){const t=this.tasks[e];t.taskID||t.taskTitle||this.tasks.splice(e,1)}dismiss(){!this.isEdit&&this.customer.companyConnectID&&this.companyService.deleteConnect(this.customer.companyConnectID).subscribe(),this.activeModal.dismiss()}editCompany(){const e=this.modal.open(K.a,{size:"lg"});e.componentInstance.company=Object(Q.a)(this.companyModel),e.result.then(e=>{if(e&&e.companyID){this.companyModel=e,this.newCompanyName=e.companyName;const t=this.companies.findIndex(t=>t.companyID===e.companyID);-1!==t&&(this.companies[t]=e,this.companyService.setCachedCompanies(this.companies))}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](E.a),i["\u0275\u0275directiveInject"](J.b),i["\u0275\u0275directiveInject"](O.a),i["\u0275\u0275directiveInject"](Z.a),i["\u0275\u0275directiveInject"](ee.a),i["\u0275\u0275directiveInject"](te.a),i["\u0275\u0275directiveInject"](ne.a),i["\u0275\u0275directiveInject"](E.p),i["\u0275\u0275directiveInject"](ie.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-report-customers"]],decls:12,vars:5,consts:[[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","d-flex","flex-column",3,"avnonLoader"],[1,"d-flex","w-100","flex-column","customers-form","form-block","p-0","m-0"],["f","ngForm"],[1,"form-group","position-relative"],["for","company"],["type","text","placeholder","Company Name","autocomplete","off","name","company","required","","id","company",1,"form-control",3,"ngModel","ngModelChange","keyup"],["class","d-flex flex-column mt-1 w-100 list-container",4,"ngIf"],["class","twitter-fill p-2 mt-4",4,"ngIf"],["class","form-group",4,"ngIf"],["class","form-group d-flex flex-column",4,"ngIf"],[1,"d-flex","w-100","align-items-center","mt-auto"],[1,"cursor-pointer","text-primary",3,"click"],["type","button",1,"btn","btn-sm","btn-primary","ml-auto",3,"disabled","click"],[1,"fas","fa-caret-right"],[1,"d-flex","flex-column","mt-1","w-100","list-container"],["class","entry",3,"click",4,"ngFor","ngForOf"],[1,"entry",3,"click"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","network",1,"img-fluid","img-48",3,"src"],[1,"meta"],[1,"twitter-fill","p-2","mt-4"],[1,"text-primary","cursor-pointer",3,"click"],[1,"form-group"],["for","companyMission",1,"mb-0"],["name","companyMission","id","companyMission",1,"form-control",3,"disabled","ngModel","ngModelChange"],[1,"form-group","d-flex","flex-column"],["for","headOfficeLocation",1,"m-0"],[1,"w-100","float-left","form-group","mb-2"],["headOfficeLocationResults",""],["required","","autocomplete","off","ngx-google-places-autocomplete","","name","headOfficeLocation","placeholder","Head Office Location","id","headOfficeLocation",1,"form-control",3,"ngModel","ngbTypeahead","resultTemplate","inputFormatter","onAddressChange","ngModelChange"],["locationRef","ngx-places"],[1,"w-100","float-left","my-2"],[3,"latitude","longitude","zoom","scrollwheel",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseNoCompanyLocation",""],[3,"result","term"],[3,"latitude","longitude","zoom","scrollwheel"],[3,"latitude","longitude"],[1,"info-section","d-flex","flex-column","w-100","border-bottom","filter-container"],[1,"d-flex","w-100","mb-2"],[1,"logo-section"],["alt","logo",3,"src"],[1,"d-flex","flex-grow-1","flex-column","ml-2"],[1,"d-flex","w-100"],[1,"mr-2","d-flex","align-items-center","mt-0","p-0","mb-0"],["class","actions ml-auto",4,"ngIf"],[1,"stage-name","mb-0"],[1,"form-group","form-block","pb-0","mb-0"],["for","startDate"],[1,"input-group","input-limit",3,"click"],["placeholder","yyyy-mm-dd","name","startDate","required","","ngbDatepicker","","id","startDate","container","body","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["startDatePicker","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text","bg-transparent"],[1,"calendar-icon","icon-sm"],["for","lifeTimeRevenue",4,"ngIf"],["type","number","name","lifeTimeRevenue","required","","id","lifeTimeRevenue",1,"form-control","input-limit",3,"ngModel","ngModelChange"],["for","missedDeadlines",4,"ngIf"],["type","number","name","missedDeadlines","required","","id","missedDeadlines",1,"form-control","input-limit",3,"ngModel","ngModelChange"],["for","comment",4,"ngIf"],[1,"d-flex","flex-wrap","w-100"],["id","rating","type","button",1,"btn","btn-sm","mb-1","mr-1",3,"click"],["type","button",1,"btn","btn-sm","mb-1","mr-1",3,"click"],["type","button",1,"btn","btn-sm","mb-1",3,"click"],["name","comment","class","form-control mt-1","id","comment","required","",3,"ngModel","placeholder","ngModelChange",4,"ngIf"],[1,"deadlines-container","form-group"],["for","deadline"],["class","asana-list",4,"ngFor","ngForOf"],[1,"asana-list","twitter-fill","cursor-pointer",3,"click"],[1,"col-item","pt-1","pb-1"],[1,"plus-ico-2"],[1,"actions","ml-auto"],["ngbDropdown","","display","dynamic","container","body"],["type","button","ngbDropdownToggle","","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],["for","lifeTimeRevenue"],["for","missedDeadlines"],["for","comment"],["name","comment","id","comment","required","",1,"form-control","mt-1",3,"ngModel","placeholder","ngModelChange"],[1,"asana-list"],[1,"col-item"],["type","text","placeholder","Type Task Name","id","deadline","required","",1,"form-control",3,"name","focus","ngModel","keyup.enter","blur","ngModelChange"],[1,"col-item","days-col"],["required","","placeholder","yyyy-mm-dd","ngbDatepicker","","id","endDate","container","body","autocomplete","off",1,"form-control","mr-2",3,"name","ngModel","focus","id","click","ngModelChange","keyup.enter"],["endDatePicker","ngbDatepicker"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h5",1),i["\u0275\u0275template"](2,se,2,1,"ng-container",2),i["\u0275\u0275template"](3,le,2,1,"ng-container",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",3),i["\u0275\u0275listener"]("click",function(){return t.dismiss()}),i["\u0275\u0275elementStart"](5,"span",4),i["\u0275\u0275text"](6,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275elementStart"](8,"form",6,7),i["\u0275\u0275template"](10,be,15,7,"ng-container",2),i["\u0275\u0275template"](11,Oe,56,33,"ng-container",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.isProspect),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isProspect),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("avnonLoader",t.loading||t.sentimentLoading||t.taskLoading||t.metaLoading),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",1===t.step),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===t.step))},directives:[F.n,A.a,_.E,_.r,_.s,_.b,_.A,_.q,_.t,F.m,E.E,oe.GooglePlaceDirective,E.n,ae.b,ae.c,E.o,_.w,E.i,E.m,E.k,re.a],pipes:[F.v],styles:['.company-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-right:40px}.company-input[_ngcontent-%COMP%]   .spin[_ngcontent-%COMP%]{position:absolute;right:20px}  ngb-typeahead-window{width:100%;overflow-y:auto;max-height:380px;max-width:480px}  ngb-typeahead-window .dropdown-item{display:flex;align-items:center}  ngb-typeahead-window .dropdown-item .logo{width:64px;height:64px;display:flex;align-items:center}  ngb-typeahead-window .dropdown-item img{max-width:64px;max-height:64px}  ngb-typeahead-window .dropdown-item .meta-data{display:flex;flex-direction:column;margin-left:12px}  .pac-container.map-selector{z-index:999999!important}agm-map[_ngcontent-%COMP%]{height:160px;width:300px;float:left;margin-right:10px}.input-limit[_ngcontent-%COMP%]{max-width:200px}.deadlines-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.deadlines-container[_ngcontent-%COMP%]   .asana-list[_ngcontent-%COMP%]{display:flex;align-items:center;border-left:2px solid #fff;padding:.25rem 1rem;border-top:1px solid #dfdfdf!important}.deadlines-container[_ngcontent-%COMP%]   .asana-list[_ngcontent-%COMP%]:last-child{border-bottom:1px solid #dfdfdf!important}.deadlines-container[_ngcontent-%COMP%]   .asana-list[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:none;border:none;outline:none;padding-left:0;padding-right:0}.deadlines-container[_ngcontent-%COMP%]   .asana-list[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border:none;outline:none}.deadlines-container[_ngcontent-%COMP%]   .asana-list[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;text-indent:1px;text-overflow:"";display:none}.deadlines-container[_ngcontent-%COMP%]   .asana-list[_ngcontent-%COMP%]:hover{background:rgba(238,248,255,.6);border-color:#aaa}.deadlines-container[_ngcontent-%COMP%]   .asana-list[_ngcontent-%COMP%]:hover + .asana-list[_ngcontent-%COMP%]{border-top-color:#aaa}.deadlines-container[_ngcontent-%COMP%]   .asana-list[_ngcontent-%COMP%]:hover   select[_ngcontent-%COMP%]{display:block}.deadlines-container[_ngcontent-%COMP%]   .asana-list[_ngcontent-%COMP%]:hover   .delete-action[_ngcontent-%COMP%], .deadlines-container[_ngcontent-%COMP%]   .asana-list[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{display:inline-block!important}.deadlines-container[_ngcontent-%COMP%]   .asana-list.active[_ngcontent-%COMP%]{background:rgba(238,248,255,.8);border-left:2px solid #aaa}.deadlines-container[_ngcontent-%COMP%]   .asana-list.default[_ngcontent-%COMP%]   .title-col[_ngcontent-%COMP%]{padding-left:40px}.deadlines-container[_ngcontent-%COMP%]   .asana-list[_ngcontent-%COMP%]   .col-item[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.deadlines-container[_ngcontent-%COMP%]   .asana-list[_ngcontent-%COMP%]   .col-item.title-col[_ngcontent-%COMP%]{flex:1;padding-right:30px}.deadlines-container[_ngcontent-%COMP%]   .asana-list[_ngcontent-%COMP%]   .col-item.title-col[_ngcontent-%COMP%]   .cancel-icon[_ngcontent-%COMP%], .deadlines-container[_ngcontent-%COMP%]   .asana-list[_ngcontent-%COMP%]   .col-item.title-col[_ngcontent-%COMP%]   .edit-icon[_ngcontent-%COMP%]{font-size:16px;color:#aaa;display:none;cursor:pointer}.deadlines-container[_ngcontent-%COMP%]   .asana-list[_ngcontent-%COMP%]   .col-item.title-col[_ngcontent-%COMP%]   .cancel-icon[_ngcontent-%COMP%]:hover, .deadlines-container[_ngcontent-%COMP%]   .asana-list[_ngcontent-%COMP%]   .col-item.title-col[_ngcontent-%COMP%]   .edit-icon[_ngcontent-%COMP%]:hover{opacity:.8}.deadlines-container[_ngcontent-%COMP%]   .asana-list[_ngcontent-%COMP%]   .col-item.days-col[_ngcontent-%COMP%]{max-width:180px;flex:0 0 180px}.deadlines-container[_ngcontent-%COMP%]   .asana-list[_ngcontent-%COMP%]   .col-item.days-col[_ngcontent-%COMP%]   .cancel-icon[_ngcontent-%COMP%], .deadlines-container[_ngcontent-%COMP%]   .asana-list[_ngcontent-%COMP%]   .col-item.days-col[_ngcontent-%COMP%]   .edit-icon[_ngcontent-%COMP%]{font-size:16px;color:#aaa;display:none;cursor:pointer}.deadlines-container[_ngcontent-%COMP%]   .asana-list[_ngcontent-%COMP%]   .col-item.days-col[_ngcontent-%COMP%]   .cancel-icon[_ngcontent-%COMP%]:hover, .deadlines-container[_ngcontent-%COMP%]   .asana-list[_ngcontent-%COMP%]   .col-item.days-col[_ngcontent-%COMP%]   .edit-icon[_ngcontent-%COMP%]:hover{opacity:.8}.stage-name[_ngcontent-%COMP%]{font-size:23px!important}.customers-form[_ngcontent-%COMP%]{max-height:80vh;overflow-x:hidden;overflow-y:auto;min-height:60vh}']}),e})();var Te=n("9122"),Ae=n("BoU9");let _e=(()=>{class e{constructor(e){this.activeModal=e}ngOnInit(){}submit(){this.activeModal.close(!0)}dismiss(){this.activeModal.close(!1)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](E.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-confirm-application-modal"]],decls:14,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","d-flex","flex-column"],[1,"mb-4"],[1,"d-flex","float-left","w-100","align-items-center","mt-4"],[1,"btn","btn-outline-primary",3,"click"],[1,"btn","btn-primary","ml-auto",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h5",1),i["\u0275\u0275text"](2," Confirm Application Submission "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",2),i["\u0275\u0275listener"]("click",function(){return t.dismiss()}),i["\u0275\u0275elementStart"](4,"span",3),i["\u0275\u0275text"](5,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"p",5),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",6),i["\u0275\u0275elementStart"](10,"button",7),i["\u0275\u0275listener"]("click",function(){return t.dismiss()}),i["\u0275\u0275text"](11,"Edit / Back"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"button",8),i["\u0275\u0275listener"]("click",function(){return t.submit()}),i["\u0275\u0275text"](13," Next "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](8),i["\u0275\u0275textInterpolate1"](" Well done, you are about to submit your ",2===(null==t.form?null:t.form.formTypeID)?"business diagnostic":"application",", select Next if you\u2019re ready to submit, or Edit / Back to make any changes. "))},styles:[""]}),e})();var Fe=n("9nlD"),Re=n("tyNb"),Le=n("A63E"),Ve=n("xDUJ"),je=n("8CXc"),Be=n("f/iK"),Ne=n("2tam"),Ue=n("euQB"),Ge=n("SVtl"),$e=n("S2+F"),He=n("FhWM"),qe=n("5Jv4"),ze=n("1bi4"),We=n("wPnq"),Xe=n("zs7b"),Ye=n("esnG"),Ke=n("iKws"),Qe=n("sYmb");const Je=["locationRef"];function Ze(e,t){if(1&e&&i["\u0275\u0275element"](0,"ngb-highlight",65),2&e){const e=t.term;i["\u0275\u0275property"]("result",t.result.companyLocation)("term",e)}}function et(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"agm-map",66),i["\u0275\u0275element"](1,"agm-marker",67),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("latitude",e.headOfficeLocationModel.latitude)("longitude",e.headOfficeLocationModel.longitude)("zoom",15)("scrollwheel",!1),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("latitude",e.headOfficeLocationModel.latitude)("longitude",e.headOfficeLocationModel.longitude)}}function tt(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"p",68),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.headOfficeLocationModel.physicalAddress)}}function nt(e,t){}function it(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",4),i["\u0275\u0275elementStart"](1,"label",69),i["\u0275\u0275text"](2,"Are there other owners?"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"select",70),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().otherOwner=t}),i["\u0275\u0275elementStart"](4,"option",39),i["\u0275\u0275text"](5,"Please Select"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"option",39),i["\u0275\u0275text"](7,"No"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"option",39),i["\u0275\u0275text"](9,"Yes"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",e.otherOwner),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",!1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",!0)}}function ot(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",71),i["\u0275\u0275elementStart"](1,"label",3),i["\u0275\u0275text"](2,"Please list practice owner(s)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"app-team",72),i["\u0275\u0275listener"]("triggerDismiss",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().teamTrigger=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"span",73),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().teamTrigger=!0}),i["\u0275\u0275text"](5,"Add Company Owner"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("limitedView",!0)("triggerAdd",e.teamTrigger)("companyOwner",!0)("practiceOwner",e.practiceOwner)("companyID",e.companyID)("canEdit",!0)("allowFilter",!0)}}function at(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td"),i["\u0275\u0275elementStart"](4,"input",74),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.grossIncome=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td"),i["\u0275\u0275elementStart"](6,"input",74),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.netProfit=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.yearID),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate1"]("name","grossIncome-",n,""),i["\u0275\u0275property"]("ngModel",e.grossIncome),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate1"]("name","netProfit-",n,""),i["\u0275\u0275property"]("ngModel",e.netProfit)}}function rt(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",39),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e," ")}}function st(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",39),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.name," ")}}function lt(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",39),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e," ")}}let ct=(()=>{class e{constructor(e,t,n,o,a,r,s,l){this.documentService=e,this.companyLocationService=t,this.companyService=n,this.modal=o,this.toastrService=a,this.router=r,this.userService=s,this.contactService=l,this.sectionComplete=new i.EventEmitter,this.company=new q.a,this.companyLocationID=null,this.locations=[],this.companyTypes=We.a,this.headOfficeLocationModel=new Y.a,this.registered=null,this.contact=new v.a,this.contactCompany=new v.b,this.companyFinancial=[],this.yearID=(new Date).getFullYear(),this.financialYears=[this.yearID,this.yearID-1,this.yearID-2],this.dateOfBirth={year:null,month:null,day:null},this.years=[],this.months=Xe.a.create(),this.dateOfBirthDays=[],this.ownerControl=new _.f("",[_.C.required,_.C.min(0),_.C.max(100),_.C.maxLength(3)]),this.womanOwnerControl=new _.f("",[_.C.required,_.C.min(0),_.C.max(100),_.C.maxLength(3)]),this.blackManagementControl=new _.f("",[_.C.required,_.C.min(0),_.C.max(100),_.C.maxLength(3)]),this.practiceOwner=null,this.otherOwner=null,this.headOfficeFormatter=e=>e.companyLocation,this.destroy$=new u.a,this.headOfficeLocationSearch=e=>e.pipe(Object(z.a)(300),Object(W.a)(),Object(X.a)(e=>{let t=[];return this.hideGoogleMapResults(),t=""===e?this.locations:this.locations.filter(t=>new RegExp(e,"mi").test(t.companyLocation)),0===t.length&&this.showGoogleMapResults(),t.slice(0,10)})),this.user=this.userService.user.getValue(),this.contactID=this.user.contactID}ngOnInit(){if(this.companyID=this.company.companyID,this.registered=this.company.companyRegistrationNumber||this.company.dateRegistered?1:null,this.ownerControl.setValue(this.company.blackOwnership),this.blackManagementControl.setValue(this.company.blackManagement),this.womanOwnerControl.setValue(this.company.blackOwnershipWomen),this.isEdit=!0,this.getLocations(),this.getFinancials(),this.setDefaultForValueForDateControl(),this.getContact(),this.getCompanyContact(),this.company.dateRegistered){const e=new Date(this.company.dateRegistered);this.startDateModel={year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()}}}getCompanyContact(){this.contactService.getContactProfile(this.contactID).pipe(Object(s.a)(this.destroy$)).subscribe(e=>{this.contactCompany=e[0]})}getLocations(){this.companyLocationService.getLocations(this.companyID).subscribe(e=>{if(e.length>0&&(this.locations=e,this.company.companyID)){const e=this.locations[0];e.longitude=Number(e.longitude),e.latitude=Number(e.latitude),e.companyLocation=e.physicalAddress,this.headOfficeLocationModel=e}})}onSubmit(){1!==this.registered&&(this.company.companyRegistrationNumber=null),this.locations.length&&(this.headOfficeLocationModel.companyID=this.company.companyID,this.headOfficeLocationModel.companyLocationID=this.locations[0].companyLocationID),this.updateCompany();const e=[this.contactService.update(this.contact)];this.companyFinancial.forEach(t=>{e.push(t.companyFinancialHistoricalID?this.companyService.putFinancialHistorical(t):this.companyService.postFinancialHistorical(t))}),Object(f.a)(e).subscribe()}addCompanyLocation(){this.companyLocationService.createCompanyLocation(this.headOfficeLocationModel).subscribe()}showGoogleMapResults(){var e,t;const n=document.getElementsByClassName("pac-container");for(let i=0,o=n.length;i<o;i++)null===(e=n[i].classList)||void 0===e||e.remove("d-none"),null===(t=n[i].classList)||void 0===t||t.add("map-selector")}hideGoogleMapResults(){var e,t;const n=document.getElementsByClassName("pac-container");for(let i=0,o=n.length;i<o;i++)null===(e=n[i].classList)||void 0===e||e.add("d-none"),null===(t=n[i].classList)||void 0===t||t.remove("map-selector")}handleAddressChange(e){var t,n;this.headOfficeLocationModel=new Y.a,this.headOfficeLocationModel.companyLocationID=0,this.headOfficeLocationModel.companyLocation=null==e?void 0:e.name,this.headOfficeLocationModel.physicalAddress=null==e?void 0:e.formatted_address,this.headOfficeLocationModel.latitude=null===(t=null==e?void 0:e.geometry)||void 0===t?void 0:t.location.lat(),this.headOfficeLocationModel.longitude=null===(n=null==e?void 0:e.geometry)||void 0===n?void 0:n.location.lng(),this.headOfficeLocationModel.googleMapURL=null==e?void 0:e.url}onSelectLocation(e){var t,n;e&&e.companyLocationID&&(this.headOfficeLocationModel.latitude=+(null===(t=this.headOfficeLocationModel)||void 0===t?void 0:t.latitude),this.headOfficeLocationModel.longitude=+(null===(n=this.headOfficeLocationModel)||void 0===n?void 0:n.longitude))}updateCompany(){this.loading=!0,this.company.blackManagement=this.blackManagementControl.value,this.company.blackOwnershipWomen=this.womanOwnerControl.value,this.company.blackOwnership=this.ownerControl.value;const e=new Date(this.startDateModel.year,this.startDateModel.month-1,this.startDateModel.day);this.company.dateRegistered=Object(c.a)(e),this.companyService.updateCompany(this.company).subscribe(()=>{this.locations.length?this.updateLocation():(this.headOfficeLocationModel.companyID=this.company.companyID,this.addCompanyLocation()),this.sectionComplete.emit(this.company),this.loading=!1},()=>{this.toastrService.warning("Cannot update company"),this.loading=!1})}updateLocation(){this.companyLocationService.updateCompanyLocation(this.headOfficeLocationModel).subscribe()}getFinancials(){this.financialLoading=!0,this.companyService.getFinancialHistorical(this.companyID).subscribe(e=>{this.financialYears.forEach(t=>{const n=new q.b;n.companyID=this.companyID,n.yearID=t;const i=e.find(e=>e.yearID===t);i&&(n.netProfit=i.netProfit,n.grossIncome=i.grossIncome,n.companyFinancialHistoricalID=i.companyFinancialHistoricalID),this.companyFinancial.push(n)}),this.financialLoading=!1})}getContact(){this.contactLoading=!0,this.contactService.getContactList("0",this.contactID,0).pipe(Object(s.a)(this.destroy$)).subscribe(e=>{if(this.contact=e[0],this.contact.dateofBirth){const e=new Date(this.contact.dateofBirth);this.dateOfBirth.year=e.getFullYear(),this.dateOfBirth.month=e.getMonth()+1,this.dateOfBirth.day=e.getDate(),this.onChangeDoBDate()}this.contactLoading=!1})}buildListMonths(e,t){const n=new Date(e,t,0).getDate(),i=[];for(let o=1;o<=n;o++)i.push(o);return i}onChangeDoBDate(){this.dateOfBirthDays=this.buildListMonths(this.dateOfBirth.year,this.dateOfBirth.month)}setDefaultForValueForDateControl(){const e=new Date,t=e.getFullYear();this.dateOfBirth.day=e.getDate(),this.dateOfBirth.month=e.getMonth()+1,this.dateOfBirth.year=t-20;for(let n=t-100;n<=t+100;++n)this.years.push(n);this.onChangeDoBDate()}updateOwnerStatus(){this.contactCompany&&null!==this.practiceOwner&&(this.contactCompany.founder=this.practiceOwner,this.contactService.updateContactCompany(this.contactCompany).subscribe())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Ye.a),i["\u0275\u0275directiveInject"](Z.a),i["\u0275\u0275directiveInject"](ne.a),i["\u0275\u0275directiveInject"](E.p),i["\u0275\u0275directiveInject"](J.b),i["\u0275\u0275directiveInject"](Re.c),i["\u0275\u0275directiveInject"](O.a),i["\u0275\u0275directiveInject"](M.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-section-pre-diagnostic"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](Je,!0),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.locationRef=e.first)}},inputs:{company:"company"},outputs:{sectionComplete:"sectionComplete"},decls:151,vars:78,consts:[[1,"d-flex","flex-column","flex-grow-1",3,"avnonLoader","ngSubmit"],["f","ngForm"],[1,"d-flex","mb-auto","flex-column","form-block","pl-0","pr-0"],[1,"pl-3","pr-3"],[1,"form-group","pl-3","pr-3"],["for","companyName"],["type","text","placeholder","Enter Company Name","id","companyName","required","","autocomplete","off","name","companyName",1,"form-control",3,"ngModel","ngModelChange"],["for","companyRegistrationNumber"],["type","text","id","companyRegistrationNumber","placeholder","Registration Number","required","","name","companyRegistrationNumber",1,"form-control",3,"ngModel","ngModelChange"],["for","startDate"],[1,"input-group"],["autocomplete","off","placeholder","dd-mm-yyyy","name","startDate","required","","ngbDatepicker","","id","startDate",1,"form-control",3,"ngModel","click","ngModelChange"],["startDatePicker","ngbDatepicker"],[1,"input-group-append",3,"click"],[1,"input-group-text","bg-transparent"],[1,"calendar-icon","icon-sm"],["for","website"],["type","text","id","website","placeholder","Enter Website","required","","name","website",1,"form-control",3,"ngModel","ngModelChange"],["for","telephoneNumber"],["type","text","id","telephoneNumber","placeholder","Enter Contact Number","required","","name","telephoneNumber",1,"form-control",3,"ngModel","ngModelChange"],["for","headOfficeLocation"],[1,"w-100","float-left","form-group","mb-2"],["headOfficeLocationResults",""],["required","","autocomplete","off","ngx-google-places-autocomplete","","name","headOfficeLocation","placeholder","Head Office Location","id","headOfficeLocation",1,"form-control",3,"ngModel","ngbTypeahead","resultTemplate","inputFormatter","onAddressChange","ngModelChange"],["locationRef","ngx-places"],[1,"w-100","float-left","my-2"],[3,"latitude","longitude","zoom","scrollwheel",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseNoCompanyLocation",""],["for","blackOwnership"],["type","number","id","blackOwnership","name","blackOwnership","required","",1,"form-control","input-limit",3,"formControl"],["for","blackOwnershipWomen"],["type","number","id","blackOwnershipWomen","name","blackOwnershipWomen","required","",1,"form-control","input-limit",3,"formControl"],["for","blackManagement"],["type","number","id","blackManagement","name","blackManagement","required","",1,"form-control","input-limit",3,"formControl"],["for","employeeFT"],["type","number","id","employeeFT","name","employeeFT","required","",1,"form-control","input-limit",3,"ngModel","ngModelChange"],["for","accreditationBody"],["name","accreditationBody","id","accreditationBody","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],["for","accreditationNumber"],["type","text","id","accreditationNumber","name","accreditationNumber","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"mt-4","pl-3","pr-3"],["for","practiceOwner"],["name","practiceOwner","id","practiceOwner","required","",1,"form-control",3,"ngModel","change","ngModelChange"],["class","form-group pl-3 pr-3",4,"ngIf"],["class","d-flex flex-column w-100",4,"ngIf"],[1,"table","table-bordered","historical-table"],[4,"ngFor","ngForOf"],[1,"pl-3","pr-3","mt-4"],["for","firstname"],["type","text","placeholder","Enter First name","autocomplete","off","name","firstname","id","firstname","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","surname"],["type","text","placeholder","Enter Last name","id","surname","autocomplete","off","name","surname","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","jobTitle"],["type","text","placeholder","Enter Job Title","autocomplete","off","name","designation","required","","id","jobTitle",1,"form-control",3,"ngModel","ngModelChange"],["name","gender","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","male"],["value","female"],["name","dateofBirthYear","required","",1,"w-auto","form-control",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["name","dateofBirthMonth","required","",1,"w-auto","form-control",3,"ngModel","change","ngModelChange"],["name","dateofBirthDay","required","",1,"w-auto","form-control",3,"ngModel","change","ngModelChange"],[1,"d-flex","w-100","pl-3","pr-3","twitter-fill","pt-2","pb-2","bottom-non-sticky","border-top"],[1,"btn","btn-sm","btn-primary","ml-auto",3,"disabled"],[3,"result","term"],[3,"latitude","longitude","zoom","scrollwheel"],[3,"latitude","longitude"],[1,"mb-1"],["for","otherOwner"],["name","otherOwner","id","otherOwner","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","flex-column","w-100"],[1,"w-100",3,"limitedView","triggerAdd","companyOwner","practiceOwner","companyID","canEdit","allowFilter","triggerDismiss"],[1,"cursor-pointer","text-primary","ml-3","mr-auto",3,"click"],["type","number","required","",1,"form-control",3,"ngModel","name","ngModelChange"]],template:function(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"form",0,1),i["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"p",3),i["\u0275\u0275text"](4,"Please complete this form before starting the diagnostic"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",4),i["\u0275\u0275elementStart"](6,"label",5),i["\u0275\u0275text"](7," Practice name "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"input",6),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.company.companyName=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",4),i["\u0275\u0275elementStart"](10,"label",7),i["\u0275\u0275text"](11),i["\u0275\u0275pipe"](12,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"input",8),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.company.companyRegistrationNumber=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"div",4),i["\u0275\u0275elementStart"](15,"label",9),i["\u0275\u0275text"](16,"When did you start operating"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"div",10),i["\u0275\u0275elementStart"](18,"input",11,12),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275reference"](19).toggle()})("ngModelChange",function(e){return t.startDateModel=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"div",13),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275reference"](19).toggle()}),i["\u0275\u0275elementStart"](21,"span",14),i["\u0275\u0275element"](22,"span",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](23,"div",4),i["\u0275\u0275elementStart"](24,"label",16),i["\u0275\u0275text"](25),i["\u0275\u0275pipe"](26,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](27,"input",17),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.company.website=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"div",4),i["\u0275\u0275elementStart"](29,"label",18),i["\u0275\u0275text"](30),i["\u0275\u0275pipe"](31,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](32,"input",19),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.company.telephoneNumber=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](33,"div",4),i["\u0275\u0275elementStart"](34,"label",20),i["\u0275\u0275text"](35),i["\u0275\u0275pipe"](36,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"div",21),i["\u0275\u0275template"](38,Ze,1,2,"ng-template",null,22,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementStart"](40,"input",23,24),i["\u0275\u0275listener"]("onAddressChange",function(e){return t.handleAddressChange(e)})("ngModelChange",function(e){return t.headOfficeLocationModel=e})("ngModelChange",function(e){return t.onSelectLocation(e)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](42,"div",25),i["\u0275\u0275template"](43,et,2,6,"agm-map",26),i["\u0275\u0275template"](44,tt,3,1,"ng-container",27),i["\u0275\u0275template"](45,nt,0,0,"ng-template",null,28,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](47,"div",4),i["\u0275\u0275elementStart"](48,"label",29),i["\u0275\u0275text"](49,"% Black Ownership"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](50,"input",30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](51,"div",4),i["\u0275\u0275elementStart"](52,"label",31),i["\u0275\u0275text"](53,"% Black Woman Ownership"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](54,"input",32),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](55,"div",4),i["\u0275\u0275elementStart"](56,"label",33),i["\u0275\u0275text"](57,"% What is the level of Black management"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](58,"input",34),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](59,"div",4),i["\u0275\u0275elementStart"](60,"label",35),i["\u0275\u0275text"](61,"How many staff members are currently employed in the business"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](62,"input",36),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.company.employeeFT=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](63,"div",4),i["\u0275\u0275elementStart"](64,"label",37),i["\u0275\u0275text"](65,"Accounting Body Accreditation"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](66,"select",38),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.company.accreditationBody=e}),i["\u0275\u0275elementStart"](67,"option",39),i["\u0275\u0275text"](68,"Please Select"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](69,"option",39),i["\u0275\u0275text"](70,"SAIPA"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](71,"option",39),i["\u0275\u0275text"](72,"SAICA"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](73,"option",39),i["\u0275\u0275text"](74,"Both"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](75,"div",4),i["\u0275\u0275elementStart"](76,"label",40),i["\u0275\u0275text"](77,"Membership Number (SAICA and/or SAIPA only)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](78,"input",41),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.company.accreditationNumber=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](79,"h1",42),i["\u0275\u0275text"](80," Company Owners "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](81,"div",4),i["\u0275\u0275elementStart"](82,"label",43),i["\u0275\u0275text"](83,"Are you one of the practice owners?"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](84,"select",44),i["\u0275\u0275listener"]("change",function(){return t.updateOwnerStatus()})("ngModelChange",function(e){return t.practiceOwner=e}),i["\u0275\u0275elementStart"](85,"option",39),i["\u0275\u0275text"](86,"Please Select"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](87,"option",39),i["\u0275\u0275text"](88,"No"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](89,"option",39),i["\u0275\u0275text"](90,"Yes"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](91,it,10,4,"div",45),i["\u0275\u0275template"](92,ot,6,7,"div",46),i["\u0275\u0275elementStart"](93,"h1",42),i["\u0275\u0275text"](94,"Revenue or turnover for the past 3 years"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](95,"table",47),i["\u0275\u0275elementStart"](96,"thead"),i["\u0275\u0275elementStart"](97,"tr"),i["\u0275\u0275elementStart"](98,"th"),i["\u0275\u0275text"](99,"Year"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](100,"th"),i["\u0275\u0275text"](101,"Turnover"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](102,"th"),i["\u0275\u0275text"](103,"Net Profit / Loss"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](104,"tbody"),i["\u0275\u0275template"](105,at,7,5,"tr",48),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](106,"h1",49),i["\u0275\u0275text"](107," Confirm your details "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](108,"div",4),i["\u0275\u0275elementStart"](109,"label",50),i["\u0275\u0275text"](110),i["\u0275\u0275pipe"](111,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](112,"input",51),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.contact.firstName=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](113,"div",4),i["\u0275\u0275elementStart"](114,"label",52),i["\u0275\u0275text"](115),i["\u0275\u0275pipe"](116,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](117,"input",53),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.contact.surname=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](118,"div",4),i["\u0275\u0275elementStart"](119,"label",54),i["\u0275\u0275text"](120),i["\u0275\u0275pipe"](121,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](122,"input",55),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.contact.designation=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](123,"div",4),i["\u0275\u0275elementStart"](124,"label",52),i["\u0275\u0275text"](125),i["\u0275\u0275pipe"](126,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](127,"select",56),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.contact.gender=e}),i["\u0275\u0275elementStart"](128,"option",39),i["\u0275\u0275text"](129),i["\u0275\u0275pipe"](130,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](131,"option",57),i["\u0275\u0275text"](132),i["\u0275\u0275pipe"](133,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](134,"option",58),i["\u0275\u0275text"](135),i["\u0275\u0275pipe"](136,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](137,"div",4),i["\u0275\u0275elementStart"](138,"label",52),i["\u0275\u0275text"](139),i["\u0275\u0275pipe"](140,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](141,"div",10),i["\u0275\u0275elementStart"](142,"select",59),i["\u0275\u0275listener"]("change",function(){return t.onChangeDoBDate()})("ngModelChange",function(e){return t.dateOfBirth.year=e}),i["\u0275\u0275template"](143,rt,2,2,"option",60),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](144,"select",61),i["\u0275\u0275listener"]("change",function(){return t.onChangeDoBDate()})("ngModelChange",function(e){return t.dateOfBirth.month=e}),i["\u0275\u0275template"](145,st,2,2,"option",60),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](146,"select",62),i["\u0275\u0275listener"]("change",function(){return t.onChangeDoBDate()})("ngModelChange",function(e){return t.dateOfBirth.day=e}),i["\u0275\u0275template"](147,lt,2,2,"option",60),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](148,"div",63),i["\u0275\u0275elementStart"](149,"button",64),i["\u0275\u0275text"](150," Next "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](1),n=i["\u0275\u0275reference"](39),o=i["\u0275\u0275reference"](46);i["\u0275\u0275property"]("avnonLoader",t.contactCompanyLoading||t.loading||t.financialLoading||t.contactLoading),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("ngModel",t.company.companyName),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](12,54,"COMPANY.REGISTRATION-NUMBER")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.company.companyRegistrationNumber),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.startDateModel),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](26,56,"COMPANY.WEBSITE")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.company.website),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](31,58,"COMPANY.CONTACT-NUMBER")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.company.telephoneNumber),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](36,60,"COMPANY.HEAD-OFFICE-LOCATION")," "),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.headOfficeLocationModel)("ngbTypeahead",t.headOfficeLocationSearch)("resultTemplate",n)("inputFormatter",t.headOfficeFormatter),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.headOfficeLocationModel.latitude),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.headOfficeLocationModel.physicalAddress)("ngIfElse",o),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("formControl",t.ownerControl),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("formControl",t.womanOwnerControl),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("formControl",t.blackManagementControl),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",t.company.employeeFT),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",t.company.accreditationBody),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue","SAIPA"),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue","SAICA"),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue","Both"),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.company.accreditationNumber),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngModel",t.practiceOwner),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",!1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",!0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.practiceOwner),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.otherOwner||null!==t.practiceOwner&&!t.practiceOwner),i["\u0275\u0275advance"](13),i["\u0275\u0275property"]("ngForOf",t.companyFinancial),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](111,62,"PEOPLE.FIRST-NAME")," *"),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.contact.firstName),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](116,64,"PEOPLE.LAST-NAME")," *"),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.contact.surname),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](121,66,"PEOPLE.JOB-TITLE")," *"),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.contact.designation),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](126,68,"PEOPLE.GENDER")," *"),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.contact.gender),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("- ",i["\u0275\u0275pipeBind1"](130,70,"COMMON.PLEASE-SELECT")," -"),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](133,72,"COMMON.MALE")),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](136,74,"COMMON.FEMALE")),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](140,76,"PEOPLE.DATE-OF-BIRTH")," *"),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",t.dateOfBirth.year),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.years),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.dateOfBirth.month),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.dateOfBirth.day),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.dateOfBirthDays),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",!e.valid||!(null!=t.headOfficeLocationModel&&t.headOfficeLocationModel.physicalAddress)||t.loading)}},directives:[_.E,_.r,_.s,A.a,_.b,_.A,_.q,_.t,E.o,E.E,oe.GooglePlaceDirective,F.n,_.w,_.g,_.B,_.v,_.D,F.m,E.n,ae.b,ae.c,Ke.a],pipes:[Qe.c],styles:[".photo-upload-preview[_ngcontent-%COMP%]   .avatar-upload[_ngcontent-%COMP%]{height:140px}.form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:red}  .pac-container.map-selector{z-index:999999!important}agm-map[_ngcontent-%COMP%]{height:160px;width:300px;float:left;margin-right:10px}[_nghost-%COMP%]{display:flex;flex-direction:column}.historical-table[_ngcontent-%COMP%]{border:0!important}.historical-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem 1rem;border:0!important}.historical-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem 1rem}.historical-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:0!important;min-width:150px}.historical-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:0!important}.input-limit[_ngcontent-%COMP%]{max-width:150px}"]}),e})();var dt=n("5eqV");const pt=["locationRef"];function mt(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",13),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.industryID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.industry," ")}}function ut(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",3),i["\u0275\u0275elementStart"](1,"label",38),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"input",39),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().company.companyRegistrationNumber=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,2,"COMPANY.REGISTRATION-NUMBER")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.company.companyRegistrationNumber)}}function ht(e,t){if(1&e&&i["\u0275\u0275element"](0,"ngb-highlight",40),2&e){const e=t.term;i["\u0275\u0275property"]("result",t.result.companyLocation)("term",e)}}function ft(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"agm-map",41),i["\u0275\u0275element"](1,"agm-marker",42),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("latitude",e.headOfficeLocationModel.latitude)("longitude",e.headOfficeLocationModel.longitude)("zoom",15)("scrollwheel",!1),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("latitude",e.headOfficeLocationModel.latitude)("longitude",e.headOfficeLocationModel.longitude)}}function gt(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"p",43),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.headOfficeLocationModel.physicalAddress)}}function vt(e,t){}function yt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",3),i["\u0275\u0275elementStart"](2,"label",44),i["\u0275\u0275text"](3,"Business Objectives"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"textarea",45),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().company.companyObjectives=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("maxLength",150)("ngModel",e.company.companyObjectives)}}let bt=(()=>{class e{constructor(e,t,n,o,a,r,s){this.documentService=e,this.companyLocationService=t,this.companyService=n,this.modal=o,this.toastrService=a,this.router=r,this.userService=s,this.sectionComplete=new i.EventEmitter,this.company=new q.a,this.companyLocationID=null,this.locations=[],this.industries=[],this.companyTypes=We.a,this.profilePhoto="assets/img/card-placeholder.jpg",this.selectedFile=null,this.headOfficeLocationModel=new Y.a,this.apiBlobUrl=H.a.apiBlobUrl+"/",this.registered=null,this.headOfficeFormatter=e=>e.companyLocation,this.headOfficeLocationSearch=e=>e.pipe(Object(z.a)(300),Object(W.a)(),Object(X.a)(e=>{let t=[];return this.hideGoogleMapResults(),t=""===e?this.locations:this.locations.filter(t=>new RegExp(e,"mi").test(t.companyLocation)),0===t.length&&this.showGoogleMapResults(),t.slice(0,10)})),this.user=this.userService.user.getValue(),this.contactID=this.user.contactID}ngOnInit(){this.isQstp=window.location.hostname.toLocaleLowerCase().includes("qstp"),this.company.companyLogo&&(this.profilePhoto=this.apiBlobUrl+this.company.companyLogo),this.companyID=this.company.companyID,this.registered=this.company.companyRegistrationNumber||this.company.dateRegistered?1:null,this.isEdit=!0,this.getIndustries(),this.getLocations()}getIndustries(){this.companyService.getIndustry().subscribe(e=>{e&&(this.industries=e)})}getLocations(){this.companyLocationService.getLocations(this.companyID).subscribe(e=>{if(e.length>0&&(this.locations=e,this.company.companyID)){const e=this.locations[0];e.longitude=Number(e.longitude),e.latitude=Number(e.latitude),e.companyLocation=e.physicalAddress,this.headOfficeLocationModel=e}})}onSubmit(){1!==this.registered&&(this.company.companyRegistrationNumber=null),this.locations.length&&(this.headOfficeLocationModel.companyID=this.company.companyID,this.headOfficeLocationModel.companyLocationID=this.locations[0].companyLocationID),this.updateCompany()}insertDocument(){const e=new FormData;e.append("image",this.selectedFile,this.selectedFile.name),this.documentService.insertDocument(e,1,this.company.companyID,+localStorage.getItem("CoID"),1,0).subscribe(e=>{if(e.type==P.e.Response){const t=e.body[0];t.documentID&&(this.company.companyLogo=t.documentPath),this.company.companyID&&(this.loading=!1,this.sectionComplete.emit(this.company))}})}addCompanyLocation(){this.companyLocationService.createCompanyLocation(this.headOfficeLocationModel).subscribe()}showGoogleMapResults(){var e,t;const n=document.getElementsByClassName("pac-container");for(let i=0,o=n.length;i<o;i++)null===(e=n[i].classList)||void 0===e||e.remove("d-none"),null===(t=n[i].classList)||void 0===t||t.add("map-selector")}hideGoogleMapResults(){var e,t;const n=document.getElementsByClassName("pac-container");for(let i=0,o=n.length;i<o;i++)null===(e=n[i].classList)||void 0===e||e.add("d-none"),null===(t=n[i].classList)||void 0===t||t.remove("map-selector")}handleAddressChange(e){var t,n;this.headOfficeLocationModel=new Y.a,this.headOfficeLocationModel.companyLocationID=0,this.headOfficeLocationModel.companyLocation=null==e?void 0:e.name,this.headOfficeLocationModel.physicalAddress=null==e?void 0:e.formatted_address,this.headOfficeLocationModel.latitude=null===(t=null==e?void 0:e.geometry)||void 0===t?void 0:t.location.lat(),this.headOfficeLocationModel.longitude=null===(n=null==e?void 0:e.geometry)||void 0===n?void 0:n.location.lng(),this.headOfficeLocationModel.googleMapURL=null==e?void 0:e.url}onSelectLocation(e){var t,n;e&&e.companyLocationID&&(this.headOfficeLocationModel.latitude=+(null===(t=this.headOfficeLocationModel)||void 0===t?void 0:t.latitude),this.headOfficeLocationModel.longitude=+(null===(n=this.headOfficeLocationModel)||void 0===n?void 0:n.longitude))}updateCompany(){this.loading=!0,this.companyService.updateCompany(this.company).subscribe(()=>{this.locations.length?this.updateLocation():(this.headOfficeLocationModel.companyID=this.company.companyID,this.addCompanyLocation()),this.selectedFile?this.insertDocument():(this.sectionComplete.emit(this.company),this.loading=!1)},()=>{this.toastrService.warning("Cannot update company"),this.loading=!1})}updateLocation(){this.companyLocationService.updateCompanyLocation(this.headOfficeLocationModel).subscribe()}fileChangeEvent(e){if(e.target.files[0]){this.selectedFile=e.target.files[0];const t=new FileReader;t.readAsDataURL(this.selectedFile),t.onload=e=>{this.profilePhoto=t.result}}}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Ye.a),i["\u0275\u0275directiveInject"](Z.a),i["\u0275\u0275directiveInject"](ne.a),i["\u0275\u0275directiveInject"](E.p),i["\u0275\u0275directiveInject"](J.b),i["\u0275\u0275directiveInject"](Re.c),i["\u0275\u0275directiveInject"](O.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-section-company"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](pt,!0),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.locationRef=e.first)}},inputs:{company:"company",isLastSection:"isLastSection"},outputs:{sectionComplete:"sectionComplete"},decls:79,vars:63,consts:[[1,"d-flex","flex-column","flex-grow-1",3,"avnonLoader","ngSubmit"],["f","ngForm"],[1,"d-flex","mb-auto","flex-column","pl-3","pr-3","form-block"],[1,"form-group"],["for","logo"],[1,"photo-upload-preview"],["id","logo","accept","image/*","type","file",2,"display","none",3,"change"],["fileInput",""],[1,"img-fluid","avatar-upload",3,"src","click"],["for","companyName"],["type","text","placeholder","Enter Company Name","id","companyName","required","","autocomplete","off","name","companyName",1,"form-control",3,"ngModel","ngModelChange"],["for","industryID"],["name","industryID","id","industryID","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","companyTypeID"],["name","companyTypeID","id","companyTypeID",1,"form-control",3,"ngModel","ngModelChange"],["class","form-group",4,"ngIf"],["for","website"],["type","text","id","website","placeholder","Enter Website","required","","name","website",1,"form-control",3,"ngModel","ngModelChange"],["for","telephoneNumber"],["type","text","id","telephoneNumber","placeholder","Enter Contact Number","required","","name","telephoneNumber",1,"form-control",3,"ngModel","ngModelChange"],["for","headOfficeLocation"],[1,"w-100","float-left","form-group","mb-2"],["headOfficeLocationResults",""],["required","","autocomplete","off","ngx-google-places-autocomplete","","name","headOfficeLocation","placeholder","Head Office Location","id","headOfficeLocation",1,"form-control",3,"ngModel","ngbTypeahead","resultTemplate","inputFormatter","onAddressChange","ngModelChange"],["locationRef","ngx-places"],[1,"w-100","float-left","my-2"],[3,"latitude","longitude","zoom","scrollwheel",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseNoCompanyLocation",""],["for","companyMission"],["required","","name","companyMission","id","companyMission",1,"form-control",3,"maxLength","ngModel","ngModelChange"],[4,"ngIf"],["for","companyProfile"],["rows","5","autosize","","required","","name","companyProfile","id","companyProfile","placeholder","Please provide a brief history of your company and any key milestones",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","w-100","pl-3","pr-3","twitter-fill","pt-2","pb-2","bottom-non-sticky","border-top"],[1,"btn","btn-sm","btn-primary","ml-auto",3,"disabled"],["for","companyRegistrationNumber"],["type","text","id","companyRegistrationNumber","placeholder","Registration Number","required","","name","companyRegistrationNumber",1,"form-control",3,"ngModel","ngModelChange"],[3,"result","term"],[3,"latitude","longitude","zoom","scrollwheel"],[3,"latitude","longitude"],[1,"mb-1"],["for","companyObjectives"],["placeholder","What are your primary business objectives","required","","name","companyObjectives","id","companyObjectives",1,"form-control",3,"maxLength","ngModel","ngModelChange"]],template:function(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"form",0,1),i["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"label",4),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275elementStart"](8,"input",6,7),i["\u0275\u0275listener"]("change",function(e){return t.fileChangeEvent(e)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"img",8),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275reference"](9).click()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",3),i["\u0275\u0275elementStart"](12,"label",9),i["\u0275\u0275text"](13),i["\u0275\u0275pipe"](14,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"input",10),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.company.companyName=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",3),i["\u0275\u0275elementStart"](17,"label",11),i["\u0275\u0275text"](18),i["\u0275\u0275pipe"](19,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"select",12),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.company.industryID=e}),i["\u0275\u0275elementStart"](21,"option",13),i["\u0275\u0275text"](22,"- Please select -"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](23,mt,2,2,"option",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"div",3),i["\u0275\u0275elementStart"](25,"label",15),i["\u0275\u0275text"](26),i["\u0275\u0275pipe"](27,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"select",16),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.registered=e}),i["\u0275\u0275elementStart"](29,"option",13),i["\u0275\u0275text"](30),i["\u0275\u0275pipe"](31,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](32,"option",13),i["\u0275\u0275text"](33),i["\u0275\u0275pipe"](34,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](35,"option",13),i["\u0275\u0275text"](36),i["\u0275\u0275pipe"](37,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](38,ut,5,4,"div",17),i["\u0275\u0275elementStart"](39,"div",3),i["\u0275\u0275elementStart"](40,"label",18),i["\u0275\u0275text"](41),i["\u0275\u0275pipe"](42,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](43,"input",19),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.company.website=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](44,"div",3),i["\u0275\u0275elementStart"](45,"label",20),i["\u0275\u0275text"](46),i["\u0275\u0275pipe"](47,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](48,"input",21),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.company.telephoneNumber=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](49,"div",3),i["\u0275\u0275elementStart"](50,"label",22),i["\u0275\u0275text"](51),i["\u0275\u0275pipe"](52,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](53,"div",23),i["\u0275\u0275template"](54,ht,1,2,"ng-template",null,24,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementStart"](56,"input",25,26),i["\u0275\u0275listener"]("onAddressChange",function(e){return t.handleAddressChange(e)})("ngModelChange",function(e){return t.headOfficeLocationModel=e})("ngModelChange",function(e){return t.onSelectLocation(e)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](58,"div",27),i["\u0275\u0275template"](59,ft,2,6,"agm-map",28),i["\u0275\u0275template"](60,gt,3,1,"ng-container",29),i["\u0275\u0275template"](61,vt,0,0,"ng-template",null,30,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](63,"div",3),i["\u0275\u0275elementStart"](64,"label",31),i["\u0275\u0275text"](65),i["\u0275\u0275pipe"](66,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](67,"textarea",32),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.company.companyMission=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](68,"small"),i["\u0275\u0275text"](69),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](70,yt,5,2,"ng-container",33),i["\u0275\u0275elementStart"](71,"div",3),i["\u0275\u0275elementStart"](72,"label",34),i["\u0275\u0275text"](73),i["\u0275\u0275pipe"](74,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](75,"textarea",35),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.company.companyProfile=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](76,"div",36),i["\u0275\u0275elementStart"](77,"button",37),i["\u0275\u0275text"](78),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](1),n=i["\u0275\u0275reference"](55),o=i["\u0275\u0275reference"](62);i["\u0275\u0275property"]("avnonLoader",t.loading),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](6,39,"COMPANY.COMPANY-LOGO")," "),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("src",t.profilePhoto,i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](14,41,"COMPANY.COMPANY-NAME")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.company.companyName),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](19,43,"COMPANY.INDUSTRY")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.company.industryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.industries),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](27,45,"COMPANY.IS-BUSINESS-REGISTERED")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.registered),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" - ",i["\u0275\u0275pipeBind1"](31,47,"COMMON.PLEASE-SELECT")," - "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",1),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](34,49,"COMMON.YES")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",2),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](37,51,"COMMON.NO")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",1===t.registered),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](42,53,"COMPANY.WEBSITE")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.company.website),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](47,55,"COMPANY.CONTACT-NUMBER")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.company.telephoneNumber),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](52,57,"COMPANY.HEAD-OFFICE-LOCATION")," "),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.headOfficeLocationModel)("ngbTypeahead",t.headOfficeLocationSearch)("resultTemplate",n)("inputFormatter",t.headOfficeFormatter),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.headOfficeLocationModel.latitude),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.headOfficeLocationModel.physicalAddress)("ngIfElse",o),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](66,59,"COMPANY.DESCRIBE-COMPANY-HEADLINE")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("maxLength",150)("ngModel",t.company.companyMission),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("",150-((null==t.company||null==t.company.companyMission?null:t.company.companyMission.length)||0)," characters remaining"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isQstp),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](74,61,"COMPANY.COMPANY-PROFILE")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.company.companyProfile),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",!e.valid||!(null!=t.headOfficeLocationModel&&t.headOfficeLocationModel.physicalAddress)||t.loading),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.isLastSection?"Submit":"Next"," ")}},directives:[_.E,_.r,_.s,A.a,_.b,_.A,_.q,_.t,_.B,_.v,_.D,F.m,F.n,E.E,oe.GooglePlaceDirective,dt.a,E.n,ae.b,ae.c],pipes:[Qe.c],styles:[".photo-upload-preview[_ngcontent-%COMP%]   .avatar-upload[_ngcontent-%COMP%]{height:140px}.form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:red}  .pac-container.map-selector{z-index:999999!important}agm-map[_ngcontent-%COMP%]{height:160px;width:300px;float:left;margin-right:10px}[_nghost-%COMP%]{display:flex;flex-direction:column}"]}),e})();function It(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",10),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.companyProductStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.companyProductStatus," ")}}function xt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"textarea",66),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).product.intellectualPropertyProtectionRequiredDescription=t}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("ngModel",e.product.intellectualPropertyProtectionRequiredDescription)}}function St(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"textarea",67),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).product.externalIntellectualPropertyDependant=t}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("ngModel",e.product.externalIntellectualPropertyDependant)}}function Ct(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"textarea",68),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).product.licensesInPlaceDescription=t}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("ngModel",e.product.licensesInPlaceDescription)}}function Dt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"textarea",69),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).product.domainNamesRegisteredDescription=t}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("ngModel",e.product.domainNamesRegisteredDescription)}}function wt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementContainerStart"](1),i["\u0275\u0275elementStart"](2,"h1",19),i["\u0275\u0275text"](3,"Intellectual Property"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",3),i["\u0275\u0275elementStart"](5,"label",36),i["\u0275\u0275text"](6,"What is the intellectual property?"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"textarea",37),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().product.intellectualPropertyOverview=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",3),i["\u0275\u0275elementStart"](9,"label",38),i["\u0275\u0275text"](10,"Who Owns it?"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"input",39),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().product.intellectualPropertyOwner=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",3),i["\u0275\u0275elementStart"](13,"label",40),i["\u0275\u0275text"](14,"How this intellectual property is currently protected?"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"textarea",41),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().product.intellectualPropertyProtection=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",24),i["\u0275\u0275elementStart"](17,"label",42),i["\u0275\u0275text"](18,"Do you require intellectual property protection?"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"div",26),i["\u0275\u0275elementStart"](20,"div",27),i["\u0275\u0275elementStart"](21,"input",43),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().product.intellectualPropertyProtectionRequired=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"label",44),i["\u0275\u0275text"](23,"Yes"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"div",27),i["\u0275\u0275elementStart"](25,"input",45),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().product.intellectualPropertyProtectionRequired=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"label",46),i["\u0275\u0275text"](27,"No"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](28,xt,1,1,"textarea",47),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](29,"div",24),i["\u0275\u0275elementStart"](30,"label",48),i["\u0275\u0275text"](31," Does your success depend on any external intellectual properties? "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](32,"div",26),i["\u0275\u0275elementStart"](33,"div",27),i["\u0275\u0275elementStart"](34,"input",49),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().product.externalIntellectualPropertyDependantRequired=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](35,"label",50),i["\u0275\u0275text"](36,"Yes"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"div",27),i["\u0275\u0275elementStart"](38,"input",51),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().product.externalIntellectualPropertyDependantRequired=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](39,"label",52),i["\u0275\u0275text"](40,"No"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](41,St,1,1,"textarea",53),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](42,"div",24),i["\u0275\u0275elementStart"](43,"label",54),i["\u0275\u0275text"](44,"Do you have licenses or agreements in place?"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](45,"div",26),i["\u0275\u0275elementStart"](46,"div",27),i["\u0275\u0275elementStart"](47,"input",55),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().product.licensesInPlace=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](48,"label",56),i["\u0275\u0275text"](49,"Yes"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](50,"div",27),i["\u0275\u0275elementStart"](51,"input",57),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().product.licensesInPlace=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](52,"label",58),i["\u0275\u0275text"](53,"No"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](54,Ct,1,1,"textarea",59),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](55,"div",24),i["\u0275\u0275elementStart"](56,"label",60),i["\u0275\u0275text"](57,"Have you registered domain names?"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](58,"div",26),i["\u0275\u0275elementStart"](59,"div",27),i["\u0275\u0275elementStart"](60,"input",61),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().product.domainNamesRegistered=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](61,"label",62),i["\u0275\u0275text"](62,"Yes"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](63,"div",27),i["\u0275\u0275elementStart"](64,"input",63),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().product.domainNamesRegistered=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](65,"label",64),i["\u0275\u0275text"](66,"No"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](67,Dt,1,1,"textarea",65),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"](),i["\u0275\u0275element"](68,"hr"),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](7),i["\u0275\u0275property"]("ngModel",e.product.intellectualPropertyOverview),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",e.product.intellectualPropertyOwner),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",e.product.intellectualPropertyProtection),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("value",!0)("ngModel",e.product.intellectualPropertyProtectionRequired),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("value",!1)("ngModel",e.product.intellectualPropertyProtectionRequired),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",e.product.intellectualPropertyProtectionRequired),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("value",!0)("ngModel",e.product.externalIntellectualPropertyDependantRequired),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("value",!1)("ngModel",e.product.externalIntellectualPropertyDependantRequired),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",e.product.externalIntellectualPropertyDependantRequired),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("value",!0)("ngModel",e.product.licensesInPlace),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("value",!1)("ngModel",e.product.licensesInPlace),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",e.product.licensesInPlace),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("value",!0)("ngModel",e.product.domainNamesRegistered),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("value",!1)("ngModel",e.product.domainNamesRegistered),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",e.product.domainNamesRegistered)}}function kt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"h1",19),i["\u0275\u0275text"](2,"Technology"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"label",70),i["\u0275\u0275text"](5,"What type of technology are you using and how does it apply to the target market?"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"textarea",71),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).product.technologyUsed=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",3),i["\u0275\u0275elementStart"](8,"label",72),i["\u0275\u0275text"](9,"Describe how this technology applies to your target market"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"textarea",73),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).product.technologyUsedApplicable=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",3),i["\u0275\u0275elementStart"](12,"label",74),i["\u0275\u0275text"](13,"Has the technology proven to be feasible?"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"textarea",75),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).product.technologyUsedResult=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"div",3),i["\u0275\u0275elementStart"](16,"label",76),i["\u0275\u0275text"](17,"Please identify and describe competing technologies"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"textarea",77),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).product.competitorTechnologies=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngModel",e.product.technologyUsed),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",e.product.technologyUsedApplicable),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",e.product.technologyUsedResult),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",e.product.competitorTechnologies)}}function Et(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,kt,19,4,"ng-container",18),i["\u0275\u0275element"](2,"hr"),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2!==e.product.productCategoryID)}}function Mt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"textarea",78),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().product.businessModelConfirmedDescription=t}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngModel",e.product.businessModelConfirmedDescription)}}function Ot(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",79),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().previous()}),i["\u0275\u0275element"](1,"i",80),i["\u0275\u0275text"](2," Prev "),i["\u0275\u0275elementEnd"]()}}let Pt=(()=>{class e{constructor(e,t){this.companyProductService=e,this.userService=t,this.sectionComplete=new i.EventEmitter,this.prev=new i.EventEmitter,this.product=new a.a,this.productStatuses=[],this.user=this.userService.user.getValue(),this.companyID=this.user.companyID}ngOnInit(){var e;(null===(e=this.product)||void 0===e?void 0:e.companyProductID)&&this.onTypeChange()}onSubmit(){this.loading=!0,this.product.companyProductID?this.companyProductService.updateProduct(this.product).subscribe(e=>{this.sectionComplete.emit(this.product)}):(this.product.companyID=this.companyID,this.companyProductService.addProduct(this.product).subscribe(e=>{this.product.companyProductStatusID&&(this.product.companyProductStatus=this.productStatuses.find(e=>e.companyProductStatusID===this.product.companyProductStatusID).companyProductStatus),this.product.companyProductID=e.inOut_CompanyProductID,this.sectionComplete.emit(this.product)}))}getStatuses(){this.statusLoading=!0,this.productStatuses=[],this.companyProductService.getStatuses(this.product.productCategoryID).subscribe(e=>{this.productStatuses=e,this.statusLoading=!1})}onTypeChange(){this.product.productCategoryID&&(this.product.companyProductID||(this.product.companyProductStatusID=null),this.getStatuses())}previous(){this.prev.emit(!0)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Ne.a),i["\u0275\u0275directiveInject"](O.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-section-product"]],inputs:{product:"product",isLastSection:"isLastSection",prevAvailable:"prevAvailable",ipVisible:"ipVisible",techVisible:"techVisible"},outputs:{sectionComplete:"sectionComplete",prev:"prev"},decls:68,vars:25,consts:[[1,"d-flex","flex-column","flex-grow-1",3,"avnonLoader","submit"],["f","ngForm"],[1,"form-block","pl-3","pr-3","mb-auto"],[1,"form-group"],["for","productName"],["type","text","id","productName","name","productName","autocomplete","off","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","productPitch"],["type","text","name","productPitch","id","productPitch","placeholder","","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","productCategoryID"],["name","productCategoryID","id","productCategoryID","required","",1,"form-control",3,"ngModel","change","ngModelChange"],[3,"ngValue"],["for","productStatusID"],["name","productStatusID","id","productStatusID","required","",1,"form-control",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["for","backgroundStory"],["rows","4","placeholder","Please provide us with a brief history","required","","name","backgroundStory","id","backgroundStory",1,"form-control",3,"ngModel","ngModelChange"],["for","developmentMonths"],["type","number","name","developmentMonths","id","developmentMonths","required","",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"mb-3"],["for","businessModel"],["name","businessModel","required","","placeholder","For example, advertising, transactions fees, fee for service, subscription based, etc. List all your revenue streams and their relative importance.","id","businessModel",1,"form-control",3,"ngModel","ngModelChange"],["for","paymentSource"],["name","paymentSource","required","","placeholder","For example, the end user uses the service for free and advertisers are the ones who pay you.","id","paymentSource",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","d-flex","flex-column"],["for","businessModelConfirmed"],[1,"d-flex","flex-column","mb-1"],[1,"custom-control","custom-radio"],["type","radio","id","businessModelConfirmed","name","businessModelConfirmed","required","",1,"custom-control-input",3,"value","ngModel","ngModelChange"],["for","businessModelConfirmed",1,"custom-control-label"],["type","radio","id","businessModelConfirmed-1","name","businessModelConfirmed","required","",1,"custom-control-input",3,"value","ngModel","ngModelChange"],["for","businessModelConfirmed-1",1,"custom-control-label"],["name","businessModelConfirmedDescription","required","","placeholder","Please provide a detailed description, examples and references from users","id","businessModelConfirmedDescription","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],[1,"d-flex","w-100","pl-3","pr-3","twitter-fill","pt-2","pb-2","bottom-non-sticky","border-top"],["class","font-weight-bold cursor-pointer mr-4",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","ml-auto",3,"disabled"],["for","intellectualPropertyOverview"],["name","intellectualPropertyOverview","id","intellectualPropertyOverview",1,"form-control",3,"ngModel","ngModelChange"],["for","intellectualPropertyOwner"],["type","text","name","intellectualPropertyOwner","id","intellectualPropertyOwner",1,"form-control",3,"ngModel","ngModelChange"],["for","intellectualPropertyProtection"],["name","intellectualPropertyProtection","id","intellectualPropertyProtection",1,"form-control",3,"ngModel","ngModelChange"],["for","intellectualPropertyProtectionRequired"],["type","radio","id","ippr","name","intellectualPropertyProtectionRequired",1,"custom-control-input",3,"value","ngModel","ngModelChange"],["for","ippr",1,"custom-control-label"],["type","radio","id","ippr-1","name","intellectualPropertyProtectionRequired",1,"custom-control-input",3,"value","ngModel","ngModelChange"],["for","ippr-1",1,"custom-control-label"],["name","intellectualPropertyProtectionRequiredDescription","placeholder","Please provide more details","id","intellectualPropertyProtectionRequired","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],["for","externalIntellectualPropertyDependantRequired"],["type","radio","id","eipdr","name","externalIntellectualPropertyDependantRequired",1,"custom-control-input",3,"value","ngModel","ngModelChange"],["for","eipdr",1,"custom-control-label"],["type","radio","id","eipdr-1","name","externalIntellectualPropertyDependantRequired",1,"custom-control-input",3,"value","ngModel","ngModelChange"],["for","eipdr-1",1,"custom-control-label"],["name","externalIntellectualPropertyDependant","placeholder","Please provide more details","id","externalIntellectualPropertyDependantRequired","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],["for","licensesInPlace"],["type","radio","id","license","name","licensesInPlace",1,"custom-control-input",3,"value","ngModel","ngModelChange"],["for","license",1,"custom-control-label"],["type","radio","id","license-1","name","licensesInPlace",1,"custom-control-input",3,"value","ngModel","ngModelChange"],["for","license-1",1,"custom-control-label"],["name","licensesInPlaceDescription","placeholder","Please provide more details","id","licensesInPlace","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],["for","domainNamesRegistered"],["type","radio","id","domainNamesRegistered","name","domainNamesRegistered",1,"custom-control-input",3,"value","ngModel","ngModelChange"],["for","domainNamesRegistered",1,"custom-control-label"],["type","radio","id","domainNamesRegistered-1","name","domainNamesRegistered",1,"custom-control-input",3,"value","ngModel","ngModelChange"],["for","domainNamesRegistered-1",1,"custom-control-label"],["name","domainNamesRegisteredDescription","placeholder","Please provide more details","id","domainNamesRegisteredDescription","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],["name","intellectualPropertyProtectionRequiredDescription","placeholder","Please provide more details","id","intellectualPropertyProtectionRequired",1,"form-control",3,"ngModel","ngModelChange"],["name","externalIntellectualPropertyDependant","placeholder","Please provide more details","id","externalIntellectualPropertyDependantRequired",1,"form-control",3,"ngModel","ngModelChange"],["name","licensesInPlaceDescription","placeholder","Please provide more details","id","licensesInPlace",1,"form-control",3,"ngModel","ngModelChange"],["name","domainNamesRegisteredDescription","placeholder","Please provide more details","id","domainNamesRegisteredDescription",1,"form-control",3,"ngModel","ngModelChange"],["for","technologyUsed"],["name","technologyUsed","placeholder","Please describe the technology you are using.","id","technologyUsed",1,"form-control",3,"ngModel","ngModelChange"],["for","technologyUsedApplicable"],["name","technologyUsedApplicable","id","technologyUsedApplicable",1,"form-control",3,"ngModel","ngModelChange"],["for","technologyUsedResult"],["name","technologyUsedResult","placeholder","Please explain","id","technologyUsedResult",1,"form-control",3,"ngModel","ngModelChange"],["for","competitorTechnologies"],["name","competitorTechnologies","placeholder","Current and anticipated future","id","competitorTechnologies",1,"form-control",3,"ngModel","ngModelChange"],["name","businessModelConfirmedDescription","required","","placeholder","Please provide a detailed description, examples and references from users","id","businessModelConfirmedDescription",1,"form-control",3,"ngModel","ngModelChange"],[1,"font-weight-bold","cursor-pointer","mr-4",3,"click"],[1,"fas","fa-caret-left"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"form",0,1),i["\u0275\u0275listener"]("submit",function(){return t.onSubmit()}),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"label",4),i["\u0275\u0275text"](5,"Name of product / service *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"input",5),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.product.productName=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",3),i["\u0275\u0275elementStart"](8,"label",6),i["\u0275\u0275text"](9,"Short summary of the product / service (1 line) *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"input",7),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.product.productPitch=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",3),i["\u0275\u0275elementStart"](12,"label",8),i["\u0275\u0275text"](13,"Category *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"select",9),i["\u0275\u0275listener"]("change",function(){return t.onTypeChange()})("ngModelChange",function(e){return t.product.productCategoryID=e}),i["\u0275\u0275elementStart"](15,"option",10),i["\u0275\u0275text"](16,"--"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"option",10),i["\u0275\u0275text"](18,"Product"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"option",10),i["\u0275\u0275text"](20,"Service"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"div",3),i["\u0275\u0275elementStart"](22,"label",11),i["\u0275\u0275text"](23,"Status *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"select",12),i["\u0275\u0275listener"]("change",function(){return t.onTypeChange()})("ngModelChange",function(e){return t.product.companyProductStatusID=e}),i["\u0275\u0275elementStart"](25,"option",10),i["\u0275\u0275text"](26,"--"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](27,It,2,2,"option",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"div",3),i["\u0275\u0275elementStart"](29,"label",14),i["\u0275\u0275text"](30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](31,"textarea",15),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.product.backgroundStory=e}),i["\u0275\u0275text"](32,"            "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](33,"div",3),i["\u0275\u0275elementStart"](34,"label",16),i["\u0275\u0275text"](35,"How long have you been working on the product / service (months) * "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](36,"input",17),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.product.developmentMonths=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](37,"hr"),i["\u0275\u0275template"](38,wt,69,23,"ng-container",18),i["\u0275\u0275template"](39,Et,3,1,"ng-container",18),i["\u0275\u0275elementContainerStart"](40),i["\u0275\u0275elementStart"](41,"h1",19),i["\u0275\u0275text"](42,"Business Model"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](43,"div",3),i["\u0275\u0275elementStart"](44,"label",20),i["\u0275\u0275text"](45,"How are you going to make money? *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](46,"textarea",21),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.product.businessModel=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](47,"div",3),i["\u0275\u0275elementStart"](48,"label",22),i["\u0275\u0275text"](49,"Who is going to pay you for the service/product? *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](50,"textarea",23),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.product.paymentSource=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](51,"div",24),i["\u0275\u0275elementStart"](52,"label",25),i["\u0275\u0275text"](53,"Have these assumptions been tested? *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](54,"div",26),i["\u0275\u0275elementStart"](55,"div",27),i["\u0275\u0275elementStart"](56,"input",28),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.product.businessModelConfirmed=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](57,"label",29),i["\u0275\u0275text"](58,"Yes"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](59,"div",27),i["\u0275\u0275elementStart"](60,"input",30),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.product.businessModelConfirmed=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](61,"label",31),i["\u0275\u0275text"](62,"No"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](63,Mt,1,1,"textarea",32),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](64,"div",33),i["\u0275\u0275template"](65,Ot,3,0,"span",34),i["\u0275\u0275elementStart"](66,"button",35),i["\u0275\u0275text"](67),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275reference"](1);i["\u0275\u0275property"]("avnonLoader",t.loading||t.statusLoading),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngModel",t.product.productName),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",t.product.productPitch),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",t.product.productCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",2),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.product.companyProductStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.productStatuses),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"]("How did you come up with the idea for this ",2===(null==t.product?null:t.product.productTypeID)?"Service":"Product"," *"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.product.backgroundStory),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.product.developmentMonths),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.ipVisible),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.techVisible),i["\u0275\u0275advance"](7),i["\u0275\u0275property"]("ngModel",t.product.businessModel),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",t.product.paymentSource),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("value",!0)("ngModel",t.product.businessModelConfirmed),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("value",!1)("ngModel",t.product.businessModelConfirmed),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.product.businessModelConfirmed),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.prevAvailable),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",!e.valid||t.loading),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.isLastSection?"Submit":"Next"," ")}},directives:[_.E,_.r,_.s,A.a,_.b,_.A,_.q,_.t,_.B,_.v,_.D,F.m,_.w,F.n,_.y],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}"]}),e})();function Tt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",22),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().previous()}),i["\u0275\u0275element"](1,"i",23),i["\u0275\u0275text"](2," Prev "),i["\u0275\u0275elementEnd"]()}}let At=(()=>{class e{constructor(e,t){this.userService=e,this.companyProductService=t,this.sectionComplete=new i.EventEmitter,this.prev=new i.EventEmitter,this.product=new a.a,this.market=new r.a}ngOnInit(){}onSubmit(){this.loading=!0,this.market.companyProductMarketID?this.companyProductService.updateProductMarket(this.market).subscribe(()=>{this.sectionComplete.emit(this.market),this.loading=!1}):(this.market.companyProductID=this.product.companyProductID,this.companyProductService.addProductMarket(this.market).subscribe(e=>{this.market.companyProductMarketID=e.inOut_CompanyProductMarketID,this.sectionComplete.emit(this.market),this.loading=!1}))}previous(){this.prev.emit(!0)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](O.a),i["\u0275\u0275directiveInject"](Ne.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-section-market"]],inputs:{product:"product",isLastSection:"isLastSection",prevAvailable:"prevAvailable",market:"market"},outputs:{sectionComplete:"sectionComplete",prev:"prev"},decls:38,vars:11,consts:[[1,"d-flex","flex-column","flex-grow-1",3,"avnonLoader","submit"],["f","ngForm"],[1,"form-block","pl-3","pr-3","mb-auto"],[1,"form-group"],["for","companyProductMarket"],["name","companyProductMarket","required","","id","companyProductMarket",1,"form-control",3,"ngModel","ngModelChange"],["for","companyMarketProblem"],["name","companyMarketProblem","required","","id","companyMarketProblem",1,"form-control",3,"ngModel","ngModelChange"],["for","companyProductMarketSize"],["name","companyProductMarketSize","required","","id","companyProductMarketSize",1,"form-control",3,"ngModel","ngModelChange"],["for","companyProductMarketStrategy"],["name","companyProductMarketStrategy","required","","id","companyProductMarketStrategy",1,"form-control",3,"ngModel","ngModelChange"],[1,"mb-3"],["for","competitors"],["name","competitors","required","","id","competitors",1,"form-control",3,"ngModel","ngModelChange"],["for","competitiveAdvantage"],["name","competitiveAdvantage","required","","id","competitiveAdvantage",1,"form-control",3,"ngModel","ngModelChange"],["for","competitorBarriersToEntry"],["name","competitorBarriersToEntry","required","","id","competitorBarriersToEntry",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","w-100","pl-3","pr-3","twitter-fill","pt-2","pb-2","bottom-non-sticky","border-top"],["class","font-weight-bold cursor-pointer mr-4",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","ml-auto",3,"disabled"],[1,"font-weight-bold","cursor-pointer","mr-4",3,"click"],[1,"fas","fa-caret-left"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"form",0,1),i["\u0275\u0275listener"]("submit",function(){return t.onSubmit()}),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"label",4),i["\u0275\u0275text"](5,"Who are you selling to? *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"textarea",5),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.market.companyProductMarket=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",3),i["\u0275\u0275elementStart"](8,"label",6),i["\u0275\u0275text"](9,"What problem are you solving for customers and how are you going to solve it? *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"textarea",7),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.market.companyMarketProblem=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",3),i["\u0275\u0275elementStart"](12,"label",8),i["\u0275\u0275text"](13,"Size and growth of the market? *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"textarea",9),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.market.companyProductMarketSize=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"div",3),i["\u0275\u0275elementStart"](16,"label",10),i["\u0275\u0275text"](17,"What is your entry strategy, how do you plan to acquire customers. Please also specify how much it costs to secure new customers? *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"textarea",11),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.market.companyProductMarketStrategy=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](19,"hr"),i["\u0275\u0275elementStart"](20,"h1",12),i["\u0275\u0275text"](21,"Competitors"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"div",3),i["\u0275\u0275elementStart"](23,"label",13),i["\u0275\u0275text"](24,"Who else is in your planned market? *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](25,"textarea",14),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.market.competitors=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"div",3),i["\u0275\u0275elementStart"](27,"label",15),i["\u0275\u0275text"](28,"What is your competitive advantage? *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](29,"textarea",16),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.market.competitiveAdvantage=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"div",3),i["\u0275\u0275elementStart"](31,"label",17),i["\u0275\u0275text"](32,"What are the barriers to entry for competitors? *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](33,"textarea",18),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.market.competitorBarriersToEntry=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"div",19),i["\u0275\u0275template"](35,Tt,3,0,"span",20),i["\u0275\u0275elementStart"](36,"button",21),i["\u0275\u0275text"](37),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275reference"](1);i["\u0275\u0275property"]("avnonLoader",t.loading),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngModel",t.market.companyProductMarket),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",t.market.companyMarketProblem),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",t.market.companyProductMarketSize),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",t.market.companyProductMarketStrategy),i["\u0275\u0275advance"](7),i["\u0275\u0275property"]("ngModel",t.market.competitors),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",t.market.competitiveAdvantage),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",t.market.competitorBarriersToEntry),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.prevAvailable),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",!e.valid||t.loading),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.isLastSection?"Submit":"Next"," ")}},directives:[_.E,_.r,_.s,A.a,_.b,_.A,_.q,_.t,F.n],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}"]}),e})();var _t=n("xdDH");const Ft=function(){return{standalone:!0}};function Rt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",13),i["\u0275\u0275elementStart"](1,"span",14),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",15),i["\u0275\u0275element"](4,"input",16),i["\u0275\u0275elementStart"](5,"input",17),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.taskTitle=e})("blur",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"]().blurActivity(n)})("onEvent",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"]().updateTask(n)})("keyup.enter",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"]().enterActivity(n)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"textarea",18),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.taskDescription=e})("blur",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"]().blurActivity(n)})("onEvent",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"]().updateTask(n)}),i["\u0275\u0275text"](7,"      "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",19),i["\u0275\u0275elementStart"](9,"div",20),i["\u0275\u0275elementStart"](10,"button",21),i["\u0275\u0275element"](11,"span",22),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"ul",23),i["\u0275\u0275elementStart"](13,"li"),i["\u0275\u0275elementStart"](14,"a",24),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"]().deleteActivity(n)}),i["\u0275\u0275text"](15,"Delete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,o=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("",n+1,"."),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate1"]("name","taskTitle-",n,""),i["\u0275\u0275property"]("ngModel",e.taskTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.taskTitle)("ngModelOptions",i["\u0275\u0275pureFunction0"](8,Ft))("focus",null!==o.activityFocus&&o.activityFocus===n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.taskDescription)("ngModelOptions",i["\u0275\u0275pureFunction0"](9,Ft))}}function Lt(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",13),i["\u0275\u0275elementStart"](1,"span",14),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",15),i["\u0275\u0275elementStart"](4,"input",25),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.taskTitle=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("",n.activities.length+1,"."),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.taskTitle)("ngModelOptions",i["\u0275\u0275pureFunction0"](3,Ft))}}function Vt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",26),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().previous()}),i["\u0275\u0275element"](1,"i",27),i["\u0275\u0275text"](2," Prev "),i["\u0275\u0275elementEnd"]()}}let jt=(()=>{class e{constructor(e,t,n,o){this.taskService=e,this.discussionService=t,this.modal=n,this.userService=o,this.sectionComplete=new i.EventEmitter,this.prev=new i.EventEmitter,this.goal=new b.a,this.statusText="",this.activities=[],this.activityFocus=null,this.defaultActivities=[],this.destroy$=new u.a,this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID}ngOnInit(){switch(this.getKeyActivities(),this.product.companyProductStatusID){case 1:this.statusText="Please explain your approach to complete your business model validation and build an MVP / Prototype which is ready for demonstration";break;case 3:this.statusText="Please explain your approach to complete your MVP / Prototype and make it ready for the target market";break;case 5:case 6:this.statusText="Please explain your approach to updating your product and rolling it out across more customer markets";break;case 11:this.statusText="Please explain your approach to completing your business model validation and providing the service to customers";break;case 12:case 13:this.statusText="Please explain your approach to enhance your service so that it can be provided to a wider group of customers"}}getKeyActivities(){this.activitiesLoading=!0,this.taskService.getTask(0,51,0,0,0,0,0,0,!1,this.parentTaskID).pipe(Object(s.a)(this.destroy$)).subscribe(e=>{this.activities=e.filter(e=>1!==e.taskClassificationID).sort((e,t)=>e.taskValue-t.taskValue),this.defaultActivities=e.filter(e=>1===e.taskClassificationID),e.find(e=>1===e.taskClassificationID)||this.createTask(null,!0),e.length<2&&this.createTask(),this.activitiesLoading=!1})}createTask(e=null,t=!1){let n=this.activities.length-1;null===e&&(n=0),this.activityFocus=null,this.loading=!0;const i=new b.a;t&&(i.taskTitle="Management, Administration and Business Development",i.taskClassificationID=1),i.taskCategoryID=51,i.endDate=null,i.formID=0,i.submittedBy=this.contactID,i.companyID=this.companyID,i.parentTaskID=this.parentTaskID,i.taskValue=n,this.taskService.addTask(i).subscribe(n=>{i.taskID=n.inOut_TaskID,this.goal.taskSupporters.forEach(e=>{const t=new w.a;t.taskID=i.taskID,t.contactID=e.contactID,this.taskService.addTaskSupporter(t).subscribe()});const a=new o.a;a.taskID=i.taskID,a.deadline=i.endDate,a.contactID=this.contactID,this.saveOwner(a,i),null!==e?(this.activities.splice(e+1,0,i),this.activityFocus=e+1,this.orderPlans()):t?this.defaultActivities.push(i):(this.activities.push(i),this.activityFocus=this.activities.length-1)})}updateTask(e=0){const t=this.activities[e];if(t.taskValue=e,!t.taskTitle)return;let n=null;t.endDateModel&&(n=new Date(t.endDateModel.year,t.endDateModel.month-1,t.endDateModel.day)),t.endDate=n?Object(c.a)(n):n,this.taskService.updateTask(t).subscribe(()=>{this.activities[e]=t})}saveOwner(e,t){const n=new o.a(e);n.taskOwnerCategoryID=10,n.deadline=t.endDate,n.endDate=t.endDate,n.taskID=t.taskID,this.loading=!0,this.taskService.addTaskOwner(n).subscribe(e=>{n.taskOwnerID=e.taskOwnerID,this.createDiscussion(n,t),this.loading=!1})}createDiscussion(e,t){this.discussionService.insertDiscussion({discussionTopic:t.taskTitle,discussionCategoryID:6,referenceID:e.taskOwnerID,isDirectMessage:!0,discussionCreatedByContactID:this.contactID,discussionBody:t.taskDescription,parentDiscussionID:0}).subscribe(t=>{this.discussionService.addMember({discussionID:t.discussionID,contactID:e.contactID,isAdmin:!0}).subscribe()})}deleteActivity(e){const t=this.modal.open(C.a);t.componentInstance.objectType="Activity",t.componentInstance.objectDetails=this.activities[e].taskTitle,t.result.then(t=>{"Yes"===t&&this.taskService.deleteTask(this.activities[e].taskID).subscribe(()=>{this.activities.splice(e,1)})})}blurActivity(e){if(0===e&&1===this.activities.length)return;const t=this.activities[e];!t.taskTitle&&t.taskID&&this.taskService.deleteTask(t.taskID).subscribe(()=>{this.activities.splice(e,1),this.orderPlans()})}enterActivity(e){this.activities[e].taskTitle&&this.createTask(e)}previous(){this.orderPlans(),this.prev.emit(!0)}sectionCompleted(){const e=this.goal.taskOwners[0];e.taskStatusID=2,e.dateSentForSignOff=Object(c.a)(new Date),this.loading=!0,this.orderPlans(),this.taskService.updateTaskOwner(e).subscribe(()=>{this.taskService.updateTask(this.goal).subscribe(),this.sectionComplete.emit(!0),this.loading=!1})}orderPlans(){this.activities.forEach((e,t)=>{e.taskValue=t,this.taskService.updateTask(e).subscribe()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](ee.a),i["\u0275\u0275directiveInject"](te.a),i["\u0275\u0275directiveInject"](E.p),i["\u0275\u0275directiveInject"](O.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-section-project-plan"]],inputs:{isLastSection:"isLastSection",prevAvailable:"prevAvailable",product:"product",goal:"goal",parentTaskID:"parentTaskID",isQstp:"isQstp"},outputs:{sectionComplete:"sectionComplete",prev:"prev"},decls:22,vars:11,consts:[[1,"d-flex","flex-column","flex-grow-1",3,"avnonLoader"],["f","ngForm"],[1,"pl-3","pr-3","font-weight-bold","mb-1"],[1,"pl-3","pr-3"],[1,"form-group","d-flex","flex-column","pl-3","pr-3"],["autosize","","rows","1","required","","name","taskDescription",1,"form-control","approach-control",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],[1,"pl-3","pr-3","font-weight-bold","mb-0","mt-3"],["class","d-flex w-100 pb-1 pl-3 pr-3",4,"ngFor","ngForOf"],[1,"cursor-pointer","text-primary","ml-3","mr-3","mt-3","mb-3",3,"click"],[1,"float-left","mb-auto"],[1,"d-flex","w-100","pl-3","pr-3","twitter-fill","pt-2","pb-2","bottom-non-sticky","border-top"],["class","font-weight-bold cursor-pointer mr-4",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-primary","ml-auto",3,"disabled","click"],[1,"d-flex","w-100","pb-1","pl-3","pr-3"],[1,"font-weight-bold","mr-1"],[1,"form-group","d-flex","flex-column","mb-1","flex-grow-1"],["type","hidden","required","",3,"name","ngModel"],["type","text","required","","appKeyupDebounce","","placeholder","Activity Title",1,"form-control","mb-1",3,"ngModel","ngModelOptions","focus","ngModelChange","blur","onEvent","keyup.enter"],["appKeyupDebounce","","placeholder","Activity Description","rows","1","autosize","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","blur","onEvent"],[1,"actions","ml-auto"],["ngbDropdown","","display","dynamic","container","body"],["type","button","ngbDropdownToggle","","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],["type","text","readonly","","placeholder","Activity Title",1,"form-control","mb-1",3,"ngModel","ngModelOptions","ngModelChange"],[1,"font-weight-bold","cursor-pointer","mr-4",3,"click"],[1,"fas","fa-caret-left"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"form",0,1),i["\u0275\u0275elementStart"](2,"p",2),i["\u0275\u0275text"](3," Implementation Strategy "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"p",3),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"textarea",5),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.goal.taskDescription=e}),i["\u0275\u0275text"](8,"    "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"p",6),i["\u0275\u0275text"](10," Activities "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"p",3),i["\u0275\u0275text"](12," List main activities of your project for the first year. Add more rows as required "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](13,Rt,16,10,"div",7),i["\u0275\u0275elementStart"](14,"span",8),i["\u0275\u0275listener"]("click",function(){return t.createTask()}),i["\u0275\u0275text"](15,"Add Activity"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](16,Lt,5,4,"div",7),i["\u0275\u0275element"](17,"div",9),i["\u0275\u0275elementStart"](18,"div",10),i["\u0275\u0275template"](19,Vt,3,0,"span",11),i["\u0275\u0275elementStart"](20,"button",12),i["\u0275\u0275listener"]("click",function(){return t.sectionCompleted()}),i["\u0275\u0275text"](21),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275reference"](1);i["\u0275\u0275property"]("avnonLoader",t.loading||t.activitiesLoading),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",t.statusText," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.goal.taskDescription)("placeholder",t.statusText)("ngModelOptions",i["\u0275\u0275pureFunction0"](10,Ft)),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngForOf",t.activities),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",t.defaultActivities),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.prevAvailable),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",e.invalid||t.loading||!t.activities.length||!t.goal.taskDescription),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.isLastSection?"Submit":"Next"," ")}},directives:[_.E,_.r,_.s,A.a,_.b,dt.a,_.A,_.q,_.t,F.m,F.n,_t.a,re.a,E.i,E.m,E.k],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}.form-control[_ngcontent-%COMP%]{height:30px;border-radius:0}.form-control[_ngcontent-%COMP%]::placeholder{color:#cacaca}"]}),e})();var Bt=n("Cfvw"),Nt=n("bOdf"),Ut=n("IAdc");class Gt{}var $t=n("m+qv");function Ht(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td"),i["\u0275\u0275elementStart"](2,"b"),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",19),i["\u0275\u0275elementStart"](6,"input",20),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.companyBudgetValue=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td"),i["\u0275\u0275elementStart"](8,"input",20),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.budgetAmount=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,o=i["\u0275\u0275nextContext"]().index;i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"]("",n+1,"."),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.financialCategory," "),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate2"]("name","expFte",o,"",n,""),i["\u0275\u0275property"]("ngModel",e.companyBudgetValue),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate2"]("name","expAmount",o,"",n,""),i["\u0275\u0275property"]("ngModel",e.budgetAmount)}}function qt(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"tr"),i["\u0275\u0275elementStart"](2,"td",10),i["\u0275\u0275elementStart"](3,"h3",15),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"tr"),i["\u0275\u0275elementStart"](6,"td",16),i["\u0275\u0275text"](7,"Activity"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"td",17),i["\u0275\u0275text"](9," FTE "),i["\u0275\u0275element"](10,"i",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"td",16),i["\u0275\u0275text"](12),i["\u0275\u0275pipe"](13,"userCurrency"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](14,Ht,9,8,"tr",4),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=t.index;i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" Year ",n+1," "),i["\u0275\u0275advance"](8),i["\u0275\u0275textInterpolate1"](" Investment (",i["\u0275\u0275pipeBind1"](13,3,""),") "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.items)}}function zt(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"td",21),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.yearID)}}function Wt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",26),i["\u0275\u0275elementStart"](1,"div",27),i["\u0275\u0275elementStart"](2,"button",28),i["\u0275\u0275element"](3,"span",29),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"ul",30),i["\u0275\u0275elementStart"](5,"li"),i["\u0275\u0275elementStart"](6,"a",31),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"]().deleteCategory(t)}),i["\u0275\u0275text"](7,"Delete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}const Xt=function(){return{standalone:!0}};function Yt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td"),i["\u0275\u0275elementStart"](2,"div",22),i["\u0275\u0275element"](3,"input",23),i["\u0275\u0275elementStart"](4,"input",24),i["\u0275\u0275listener"]("blur",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"]().editCategory(n)})("keyup.enter",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"]().enterCategory(n)})("ngModelChange",function(e){return t.$implicit.financialCategory=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,Wt,8,0,"div",25),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"td"),i["\u0275\u0275elementStart"](7,"input",20),i["\u0275\u0275listener"]("ngModelChange",function(n){i["\u0275\u0275restoreView"](e);const o=t.index;return i["\u0275\u0275nextContext"]().incomeBudget[0].items[o].budgetAmount=n}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"td"),i["\u0275\u0275elementStart"](9,"input",20),i["\u0275\u0275listener"]("ngModelChange",function(n){i["\u0275\u0275restoreView"](e);const o=t.index;return i["\u0275\u0275nextContext"]().incomeBudget[1].items[o].budgetAmount=n}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"td"),i["\u0275\u0275elementStart"](11,"input",20),i["\u0275\u0275listener"]("ngModelChange",function(n){i["\u0275\u0275restoreView"](e);const o=t.index;return i["\u0275\u0275nextContext"]().incomeBudget[2].items[o].budgetAmount=n}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,o=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate1"]("name","categoryIncome-",n,""),i["\u0275\u0275property"]("ngModel",e.financialCategory),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("focus",o.categoryFocus===n)("placeholder",e.financialCategory?"Category":"Revenue Stream "+(n+1))("ngModel",e.financialCategory)("ngModelOptions",i["\u0275\u0275pureFunction0"](13,Xt)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",0!==n),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate1"]("name","budget-0-",n,""),i["\u0275\u0275property"]("ngModel",o.incomeBudget[0].items[n].budgetAmount),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate1"]("name","budget-1-",n,""),i["\u0275\u0275property"]("ngModel",o.incomeBudget[1].items[n].budgetAmount),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate1"]("name","budget-2-",n,""),i["\u0275\u0275property"]("ngModel",o.incomeBudget[2].items[n].budgetAmount)}}function Kt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",32),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().previous()}),i["\u0275\u0275element"](1,"i",33),i["\u0275\u0275text"](2," Prev "),i["\u0275\u0275elementEnd"]()}}let Qt=(()=>{class e{constructor(e,t,n,o){this.taskService=e,this.userService=t,this.modal=n,this.financialService=o,this.sectionComplete=new i.EventEmitter,this.prev=new i.EventEmitter,this.goal=new b.a,this.years=[],this.budget=[],this.expenseBudget=[],this.incomeBudget=[],this.categoryFocus=null,this.activities=[],this.categories=[],this.incomeCategories=[],this.expenseCategories=[],this.destroy$=new u.a,this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID}ngOnInit(){this.yearID=(new Date).getFullYear(),this.years=[this.yearID,this.yearID+1,this.yearID+2],this.years.forEach((e,t)=>{2!==t&&this.expenseBudget.push({yearID:e,items:[]}),this.incomeBudget.push({yearID:e,items:[]})}),this.getKeyActivities()}getCategories(){this.loading=!0,this.financialService.getCategories(this.companyID,0,0).subscribe(e=>{this.categories=e,this.incomeCategories=this.categories.filter(e=>1===e.financialCategoryTypeID).sort((e,t)=>e.financialCategoryID-t.financialCategoryID),this.expenseCategories=this.categories.filter(e=>2===e.financialCategoryTypeID).sort((e,t)=>e.financialCategoryID-t.financialCategoryID),this.getBudget()})}getBudget(){this.financialService.getBudgets({companyBudgetID:0,companyID:this.companyID,companyFinancialCategoryID:0,monthID:0,yearID:0,companyAccountID:0}).subscribe(e=>{this.budget=e;const t=this.activities.filter(e=>0===this.expenseCategories.filter(t=>t.financialCategory===e.taskTitle).length);t.length&&(this.categoryLoading=!0,Object(Bt.a)(t).pipe(Object(Nt.a)(e=>this.financialService.storeCategory({companyID:this.companyID,financialCategory:e.taskTitle,financialCategoryTypeID:2,financialCategoryCode:null})),Object(Ut.a)()).subscribe(e=>{e.forEach(e=>{e.financialCategoryID=e.inOut_FinancialCategoryID,this.expenseCategories.push(e),this.years.forEach((t,n)=>{const i=new Gt;i.yearID=t,i.financialCategory=e.financialCategory,i.budgetAmount=null,i.companyBudgetValue=null,i.financialCategoryID=e.financialCategoryID,2!==n&&this.expenseBudget[n].items.push(i)})}),this.categoryLoading=!1})),this.incomeCategories.length||this.createCategory("Revenue Stream 1"),this.prepareData()})}prepareData(){this.years.forEach((e,t)=>{this.expenseCategories.forEach(n=>{const i=this.budget.some(t=>t.yearID===e&&t.financialCategoryID===n.financialCategoryID),o=this.budget.filter(t=>t.yearID===e&&t.financialCategoryID===n.financialCategoryID).reduce((e,t)=>e+(t.budgetAmount||0),0),a=this.budget.filter(t=>t.yearID===e&&t.financialCategoryID===n.financialCategoryID).reduce((e,t)=>e+(t.companyBudgetValue||0),0),r=new Gt;r.companyBudgetValue=a,r.companyBudgetID=i?1:0,r.yearID=e,r.financialCategoryID=n.financialCategoryID,r.financialCategory=n.financialCategory,r.budgetAmount=o,2!==t&&this.expenseBudget[t].items.push(r)}),this.incomeCategories.forEach(n=>{const i=this.budget.some(t=>t.yearID===e&&t.financialCategoryID===n.financialCategoryID),o=this.budget.filter(t=>t.yearID===e&&t.financialCategoryID===n.financialCategoryID).reduce((e,t)=>e+(t.budgetAmount||0),0),a=this.budget.filter(t=>t.yearID===e&&t.financialCategoryID===n.financialCategoryID).reduce((e,t)=>e+(t.companyBudgetValue||0),0),r=new Gt;r.companyBudgetValue=a,r.companyBudgetID=i?1:0,r.yearID=e,r.financialCategoryID=n.financialCategoryID,r.financialCategory=n.financialCategory.includes("Revenue Stream")?"":n.financialCategory,r.budgetAmount=o,this.incomeBudget[t].items.push(r)})}),this.loading=!1}createCategory(e="",t=null){this.financialService.storeCategory({companyID:this.companyID,financialCategory:e,financialCategoryTypeID:1,financialCategoryCode:null}).subscribe(n=>{n.financialCategoryID=n.inOut_FinancialCategoryID,this.incomeCategories.push(n),this.years.forEach((i,o)=>{const a=new Gt;a.yearID=i,a.financialCategory=e.includes("Revenue Stream")?"":e,a.budgetAmount=null,a.companyBudgetValue=null,a.financialCategoryID=n.financialCategoryID,null!==t?(this.incomeBudget[o].items.splice(t+1,0,a),this.categoryFocus=t+1):(this.incomeBudget[o].items.push(a),this.categoryFocus=this.incomeBudget[o].items.length-1)})})}getKeyActivities(){this.activitiesLoading=!0,this.taskService.getTask(0,51,0,0,0,0,0,0,!1,this.parentTaskID).pipe(Object(s.a)(this.destroy$)).subscribe(e=>{const t=e.filter(e=>1===e.taskClassificationID);this.activities=e.filter(e=>1!==e.taskClassificationID).sort((e,t)=>e.taskValue-t.taskValue),t[0]&&this.activities.push(t[0]),this.getCategories(),this.activitiesLoading=!1})}previous(){this.prev.emit(!0)}sectionCompleted(){this.sectionComplete.emit(!0)}submit(){this.loading=!0;const e=[],t=[],n=[];this.expenseBudget.forEach(e=>{e.items.forEach(e=>{if(e.companyBudgetID)this.budget.filter(t=>t.financialCategoryID===e.financialCategoryID&&t.yearID===e.yearID).forEach(t=>{t.budgetAmount=e.budgetAmount/12,t.companyBudgetValue=e.companyBudgetValue/12,n.push(t)});else{const n=new Gt;n.yearID=e.yearID,n.monthID=0,n.budgetAmount=e.budgetAmount,n.companyBudgetValue=e.companyBudgetValue,n.companyID=this.companyID,n.companyAccountID=0,n.companyFinancialCategoryID=e.financialCategoryID,t.push(n)}})}),this.incomeBudget.forEach(e=>{e.items.forEach(e=>{if(e.companyBudgetID)this.budget.filter(t=>t.financialCategoryID===e.financialCategoryID&&t.yearID===e.yearID).forEach(t=>{t.budgetAmount=e.budgetAmount/12,n.push(t)});else{const n=new Gt;n.yearID=e.yearID,n.monthID=0,n.budgetAmount=e.budgetAmount,n.companyBudgetValue=0,n.companyID=this.companyID,n.companyAccountID=0,n.companyFinancialCategoryID=e.financialCategoryID,t.push(n)}})}),t.length&&e.push(this.financialService.storeBudgets(t)),n.length&&e.push(this.financialService.updateBudgets(n)),Object(f.a)(e).subscribe(()=>{this.loading=!1,this.sectionCompleted()})}saveIncomeCategory(e=null){this.createCategory("Revenue Stream "+(this.incomeCategories.length+1),e)}deleteCategory(e){const t=this.incomeBudget[0].items[e],n=this.modal.open(C.a);n.componentInstance.objectType="Category",n.componentInstance.objectDetails=t.financialCategory,n.result.then(n=>{"Yes"===n&&this.financialService.deleteCategory(t.financialCategoryID).subscribe(()=>{this.incomeBudget[0].items.splice(e,1),this.incomeBudget[1].items.splice(e,1),this.incomeBudget[2].items.splice(e,1)})})}editCategory(e){const t=this.incomeBudget[0].items[e];t.toggleEdit=!1;const n=this.incomeCategories.find(e=>e.financialCategoryID===t.financialCategoryID);n&&(n.financialCategory=t.financialCategory,this.financialService.updateCategory(n).subscribe())}enterCategory(e){this.incomeBudget[0].items[e].financialCategory&&this.saveIncomeCategory(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](ee.a),i["\u0275\u0275directiveInject"](O.a),i["\u0275\u0275directiveInject"](E.p),i["\u0275\u0275directiveInject"](Le.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-section-budget"]],inputs:{isLastSection:"isLastSection",prevAvailable:"prevAvailable",isQstp:"isQstp",goal:"goal",parentTaskID:"parentTaskID"},outputs:{sectionComplete:"sectionComplete",prev:"prev"},decls:26,vars:7,consts:[[1,"d-flex","flex-column","flex-grow-1",3,"avnonLoader"],["f","ngForm"],[1,"pl-3","pr-3"],[1,"table","table-bordered","mb-4"],[4,"ngFor","ngForOf"],[1,"pl-3","pr-3","mb-3"],[1,"table","table-bordered"],[1,"border-left-0","border-right-0"],["class","text-muted font-weight-bold border-left-0 border-right-0 td-limit",4,"ngFor","ngForOf"],[1,"cursor-pointer","text-primary",3,"click"],["colspan","3"],[1,"float-left","mb-auto"],[1,"d-flex","w-100","pl-3","pr-3","twitter-fill","pt-2","pb-2","bottom-non-sticky","border-top"],["class","font-weight-bold cursor-pointer mr-4",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-primary","ml-auto",3,"disabled","click"],[1,"mb-0"],[1,"text-muted","font-weight-bold"],[1,"text-muted","font-weight-bold","fte-limit"],["ngbTooltip","Please specify how many Full Time Employees (FTE) will be working on this activity.  If an employee is working part time you can use 0.5.",1,"fas","fa-info-circle","ml-1","cursor-pointer"],[1,"fte-limit"],["type","number","required","",1,"form-control",3,"name","ngModel","ngModelChange"],[1,"text-muted","font-weight-bold","border-left-0","border-right-0","td-limit"],[1,"d-flex","align-items-center"],["type","hidden","required","",3,"name","ngModel"],["type","text","required","",1,"form-control",3,"focus","placeholder","ngModel","ngModelOptions","blur","keyup.enter","ngModelChange"],["class","actions ml-auto",4,"ngIf"],[1,"actions","ml-auto"],["ngbDropdown","","display","dynamic","container","body"],["type","button","ngbDropdownToggle","","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"font-weight-bold","cursor-pointer","mr-4",3,"click"],[1,"fas","fa-caret-left"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"form",0,1),i["\u0275\u0275elementStart"](2,"h1",2),i["\u0275\u0275text"](3,"Expenses"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"p",2),i["\u0275\u0275text"](5,"List activities, number of Full Time Employees(FTE) and total investments for the first year"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"table",3),i["\u0275\u0275template"](7,qt,15,5,"ng-container",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"h1",5),i["\u0275\u0275text"](9,"Revenue Projections"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"table",6),i["\u0275\u0275elementStart"](11,"tr"),i["\u0275\u0275elementStart"](12,"td",7),i["\u0275\u0275text"](13,"Category"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](14,zt,2,1,"td",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](15,Yt,12,14,"tr",4),i["\u0275\u0275elementStart"](16,"tr"),i["\u0275\u0275elementStart"](17,"td"),i["\u0275\u0275elementStart"](18,"span",9),i["\u0275\u0275listener"]("click",function(){return t.saveIncomeCategory()}),i["\u0275\u0275text"](19,"Add Revenue Stream"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](20,"td",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](21,"div",11),i["\u0275\u0275elementStart"](22,"div",12),i["\u0275\u0275template"](23,Kt,3,0,"span",13),i["\u0275\u0275elementStart"](24,"button",14),i["\u0275\u0275listener"]("click",function(){return t.submit()}),i["\u0275\u0275text"](25),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275reference"](1);i["\u0275\u0275property"]("avnonLoader",t.loading||t.activitiesLoading||t.categoryLoading),i["\u0275\u0275advance"](7),i["\u0275\u0275property"]("ngForOf",t.expenseBudget),i["\u0275\u0275advance"](7),i["\u0275\u0275property"]("ngForOf",t.incomeBudget),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.incomeBudget[0].items),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("ngIf",t.prevAvailable),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",!e.valid||t.loading||t.activitiesLoading||!t.incomeBudget[0].items.length),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.isLastSection?"Submit":"Next"," ")}},directives:[_.E,_.r,_.s,A.a,F.m,F.n,E.C,_.w,_.b,_.A,_.q,_.t,re.a,E.i,E.m,E.k],pipes:[$t.a],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}.table[_ngcontent-%COMP%]{border:0!important}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem 1rem}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:30px;padding-left:.25rem;padding-right:.25rem}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:0!important;min-width:200px}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:0!important}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{border-top:0!important}.td-limit[_ngcontent-%COMP%]{max-width:140px}.fte-limit[_ngcontent-%COMP%]{max-width:115px;width:115px}"]}),e})();var Jt=n("vdWK"),Zt=n("xC+5"),en=n("/6gR"),tn=n("E7AJ"),nn=n("FvYy"),on=n("CGVT");const an=["f"];function rn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"app-form-playback",4),i["\u0275\u0275listener"]("saved",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).done()})("prev",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).previous()}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("formCategoryID",e.formCategoryID)("answerReferenceID",e.taskOwner.taskOwnerID)("formID",e.taskOwner.formID)("isOnWindow",!0)("preventUpdate",!0)("formFieldAnswerCategoryID",e.formFieldAnswerCategoryID)("referenceID",0)("prevAvailable",e.prevAvailable)("isLastSection",e.isLastSection)("customSubmit",!0)("isEdit",e.isEdit)("taskOwnerID",e.taskOwner.taskOwnerID)}}function sn(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",2),i["\u0275\u0275template"](2,rn,1,12,"app-form-playback",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.taskOwner&&3!==e.taskOwner.taskStatusID)}}function ln(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275element"](1,"img",8),i["\u0275\u0275pipe"](2,"avatar"),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("src",i["\u0275\u0275pipeBind1"](2,1,null==e.companyStage?null:e.companyStage.masterCompanyLogo),i["\u0275\u0275sanitizeUrl"])}}function cn(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.activeSection.parentFormSectionTitle," ")}}function dn(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.form.formName," ")}}function pn(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.form.thankyouMessage?e.form.thankyouMessage:"Thanks for taking the time to provide your feedback, your input has been successfully recorded."," ")}}function mn(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.form.introductionMessage," ")}}function un(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"p",20),i["\u0275\u0275template"](1,pn,2,1,"ng-container",1),i["\u0275\u0275template"](2,mn,2,1,"ng-container",1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.showThankYou),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.showThankYou)}}function hn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",21),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](3).goToReport()}),i["\u0275\u0275text"](1,"View Report Card "),i["\u0275\u0275elementEnd"]()}}function fn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",22),i["\u0275\u0275elementStart"](1,"div",23),i["\u0275\u0275element"](2,"ngb-progressbar",24),i["\u0275\u0275elementStart"](3,"span",25),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"button",26),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](3);return t.onActiveSectionClick(t.form.sections[0])}),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",e.sectionsComplete)("showValue",!0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"](" ",e.sectionsCompleteCount,"/",e.form.sections.length," sections completed "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.sectionsComplete>0?"Resume":"Get Started"," ")}}function gn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",27),i["\u0275\u0275elementStart"](1,"span",28),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](3).backToTasks()}),i["\u0275\u0275text"](2,"Back To Tasks"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function vn(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",29),i["\u0275\u0275element"](1,"hr"),i["\u0275\u0275elementEnd"]())}function yn(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",43),i["\u0275\u0275text"](1,"*"),i["\u0275\u0275elementEnd"]())}function bn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",44),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.maxCharacters-((null==e.answer||null==e.answer.formFieldValue?null:e.answer.formFieldValue.length)||0)," characters left ")}}function In(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",45),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldDetail)}}function xn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275element"](1,"input",46),i["\u0275\u0275elementStart"](2,"app-file-management",47),i["\u0275\u0275listener"]("documentsChange",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](6).onDocumentsChange(t,n)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](6);i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","file_upload_",e.formFieldID,"_",e.formFieldOptionID,""),i["\u0275\u0275property"]("required",e.formFieldIsRequired)("ngModel",e.answer.formFieldAnswerID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("documentCategoryID",18)("referenceID",t.companyID)("reference2ID",e.answer.formFieldAnswerID)("uploadDirectly",t.uploadDirectly)("documents",t.documents)}}const Sn=function(){return["video/*"]};function Cn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275element"](1,"input",46),i["\u0275\u0275elementStart"](2,"app-banner",48),i["\u0275\u0275listener"]("uploadStatus",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](7).onStreamProcess(t)})("fileSelected",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](6).onBannerChange(t,n)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","banner_",e.formFieldID,"_",e.formFieldOptionID,""),i["\u0275\u0275property"]("required",e.formFieldIsRequired)("ngModel",e.answer.formFieldAnswerID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("referenceID",e.answer.formFieldAnswerID)("documentCategoryID",36)("canEdit",!0)("buttonText","Upload video")("fileTypes",i["\u0275\u0275pureFunction0"](10,Sn))("formPlaybackUpload",!0)}}function Dn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",50),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.formFieldOptionID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.formFieldOptionText," ")}}function wn(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",43),i["\u0275\u0275text"](1,"Comment is required"),i["\u0275\u0275elementEnd"]())}const kn=function(e){return{"invalid-field":e}};function En(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",53),i["\u0275\u0275elementStart"](1,"input",54),i["\u0275\u0275listener"]("keyup",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2).$implicit;return i["\u0275\u0275nextContext"](6).keyUpValidation(t)})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).$implicit.answer.formFieldValue=t})("blur",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2).$implicit;return i["\u0275\u0275nextContext"](6).onListboxAnswerChange(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,wn,2,0,"span",39),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](5,kn,e.commentRequired&&!e.answer.formFieldValue)),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","ddl_group_answer_comment_",e.formFieldID,"_",e.formFieldOptionID,""),i["\u0275\u0275property"]("ngModel",e.answer.formFieldValue),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.commentRequired&&!e.answer.formFieldValue)}}function Mn(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",43),i["\u0275\u0275text"](1,"This field is required"),i["\u0275\u0275elementEnd"]())}function On(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"select",49),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().$implicit.answer.formFieldOptionID=t})("change",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](6).onListboxAnswerChange(t)}),i["\u0275\u0275elementStart"](2,"option",50),i["\u0275\u0275text"](3,"..."),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,Dn,2,2,"option",51),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,En,3,7,"div",52),i["\u0275\u0275template"](6,Mn,2,0,"span",39),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","ddl_group_answer_",e.formFieldID,"_",e.formFieldOptionID,""),i["\u0275\u0275property"]("ngModel",e.answer.formFieldOptionID)("required",e.formFieldIsRequired),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",null==e?null:e.options),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.answer.formFieldOptionID&&e.commentRequired),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isRequiredAnswer)}}function Pn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"input",58),i["\u0275\u0275listener"]("blur",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"](2).$implicit;return i["\u0275\u0275nextContext"](6).onTextAnswerChanged(t,n)})("keyup",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2).$implicit;return i["\u0275\u0275nextContext"](6).keyUpValidation(t)})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).$implicit.answer.formFieldValue=t}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275propertyInterpolate2"]("name","text_group_answer",e.formFieldID,"_",e.formFieldOptionID,""),i["\u0275\u0275property"]("minlength",e.minCharacters?e.minCharacters:"")("ngModel",e.answer.formFieldValue)("required",e.formFieldIsRequired)("maxlength",e.maxCharacters?e.maxCharacters:"")}}function Tn(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",43),i["\u0275\u0275text"](1,"This field is required"),i["\u0275\u0275elementEnd"]())}function An(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" Min ",e.minCharacters," ")}}function _n(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1," and"),i["\u0275\u0275elementContainerEnd"]())}function Fn(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,_n,2,0,"ng-container",1),i["\u0275\u0275text"](2),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.minCharacters),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" Max ",e.maxCharacters," ")}}function Rn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",59),i["\u0275\u0275template"](1,An,2,1,"ng-container",1),i["\u0275\u0275template"](2,Fn,3,2,"ng-container",1),i["\u0275\u0275text"](3," characters "),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.minCharacters),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.maxCharacters)}}function Ln(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",55),i["\u0275\u0275template"](1,Pn,1,6,"input",56),i["\u0275\u0275template"](2,Tn,2,0,"span",39),i["\u0275\u0275template"](3,Rn,4,2,"small",57),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](4,kn,e.isRequiredAnswer)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1==e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isRequiredAnswer),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.maxCharacters||e.minCharacters)}}function Vn(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",43),i["\u0275\u0275text"](1,"This field is required"),i["\u0275\u0275elementEnd"]())}function jn(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" Min ",e.minCharacters," ")}}function Bn(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"and"),i["\u0275\u0275elementContainerEnd"]())}function Nn(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,Bn,2,0,"ng-container",1),i["\u0275\u0275text"](2),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.minCharacters),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" Max ",e.maxCharacters," ")}}function Un(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",59),i["\u0275\u0275template"](1,jn,2,1,"ng-container",1),i["\u0275\u0275template"](2,Nn,3,2,"ng-container",1),i["\u0275\u0275text"](3," characters "),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.minCharacters),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.maxCharacters)}}function Gn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",55),i["\u0275\u0275elementStart"](1,"textarea",60),i["\u0275\u0275listener"]("blur",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](6).onTextAnswerChanged(t,n)})("keyup",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](6).keyUpValidation(t)})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().$implicit.answer.formFieldValue=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,Vn,2,0,"span",39),i["\u0275\u0275template"](3,Un,4,2,"small",57),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](9,kn,e.isRequiredAnswer)),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","paragraph_group_answer",e.formFieldID,"_",e.formFieldOptionID,""),i["\u0275\u0275property"]("minlength",e.minCharacters?e.minCharacters:"")("ngModel",e.answer.formFieldValue)("required",e.formFieldIsRequired)("maxlength",e.maxCharacters?e.maxCharacters:""),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isRequiredAnswer),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.maxCharacters||e.minCharacters)}}function $n(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",43),i["\u0275\u0275text"](1,"Comment is required"),i["\u0275\u0275elementEnd"]())}function Hn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",55),i["\u0275\u0275elementStart"](1,"input",54),i["\u0275\u0275listener"]("keyup",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](3).$implicit;return i["\u0275\u0275nextContext"](6).keyUpValidation(t)})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](3).$implicit.answer.formFieldValue=t})("blur",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](3).$implicit;return i["\u0275\u0275nextContext"](6).onRadioAnswerChange(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,$n,2,0,"span",39),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](5,kn,e.isRequiredComment&&!t.answer.formFieldValue)),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","radio_group_answer_comment_",t.formFieldID,"_",t.formFieldOptionID,""),i["\u0275\u0275property"]("ngModel",t.answer.formFieldValue),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isRequiredComment&&!t.answer.formFieldValue)}}function qn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",62),i["\u0275\u0275elementStart"](1,"input",63),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).$implicit.answer.formFieldOptionID=t})("change",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2).$implicit;return i["\u0275\u0275nextContext"](6).onRadioAnswerChange(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"label",64),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,Hn,3,7,"div",42),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","radio_group_answer_",n.formFieldID,"_",n.formFieldOrder,""),i["\u0275\u0275propertyInterpolate1"]("id","radio_group_",e.formFieldOptionID,""),i["\u0275\u0275property"]("required",n.formFieldIsRequired)("ngModel",n.answer.formFieldOptionID)("value",e.formFieldOptionID),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate1"]("for","radio_group_",e.formFieldOptionID,""),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.formFieldOptionText," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.commentRequired&&e.formFieldOptionID===n.answer.formFieldOptionID)}}function zn(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,qn,5,9,"div",61),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",null==e?null:e.options)}}function Wn(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",66),i["\u0275\u0275text"](1,"\u2605"),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275classProp"]("filled",100===t.fill)}function Xn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275element"](1,"input",46),i["\u0275\u0275elementStart"](2,"ngb-rating",65),i["\u0275\u0275listener"]("rateChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().$implicit.answer.formFieldValue=t})("rateChange",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](6).onRateChange(t)}),i["\u0275\u0275template"](3,Wn,2,2,"ng-template"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","rating_",e.formFieldID,"_",e.formFieldOptionID,""),i["\u0275\u0275property"]("required",e.formFieldIsRequired)("ngModel",e.answer.formFieldValue),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("rate",e.answer.formFieldValue)("max",e.formFieldScale)}}function Yn(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",43),i["\u0275\u0275text"](1,"Comment is required"),i["\u0275\u0275elementEnd"]())}function Kn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",55),i["\u0275\u0275elementStart"](1,"input",72),i["\u0275\u0275listener"]("blur",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit,n=i["\u0275\u0275reference"](2),o=i["\u0275\u0275nextContext"](2).$implicit;return i["\u0275\u0275nextContext"](6).onCheckboxAnswerChange(n,t,o)})("keyup",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](3).$implicit;return i["\u0275\u0275nextContext"](6).keyUpValidation(t)})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().$implicit.formFieldValue=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,Yn,2,0,"span",39),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](5,kn,e.isRequiredComment&&!e.formFieldValue)),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","checkbox_group_answer_comment_",t.formFieldID,"_",t.formFieldOptionID,""),i["\u0275\u0275property"]("ngModel",e.formFieldValue),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isRequiredComment&&!e.formFieldValue)}}function Qn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",69),i["\u0275\u0275elementStart"](1,"input",70,71),i["\u0275\u0275listener"]("change",function(n){i["\u0275\u0275restoreView"](e);const o=t.$implicit,a=i["\u0275\u0275nextContext"](2).$implicit;return i["\u0275\u0275nextContext"](6).onCheckboxAnswerChange(n,o,a)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"label",64),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,Kn,3,7,"div",42),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275reference"](2),o=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","checkbox_group_answer_",o.formFieldID,"_",o.formFieldOrder,""),i["\u0275\u0275propertyInterpolate1"]("id","checkbox_group_",e.formFieldOptionID,""),i["\u0275\u0275property"]("checked",e.answer.formFieldAnswerID>0)("required",o.formFieldIsRequired),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate1"]("for","checkbox_group_",e.formFieldOptionID,""),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldOptionText),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.commentRequired&&n.checked)}}function Jn(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275element"](1,"input",67),i["\u0275\u0275pipe"](2,"checkboxValue"),i["\u0275\u0275template"](3,Qn,6,8,"div",68),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate2"]("name","checkbox_group_hidden_",e.formFieldID,"_",e.formFieldOrder,""),i["\u0275\u0275property"]("required",e.formFieldIsRequired)("ngModel",i["\u0275\u0275pipeBind1"](2,5,e.options)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",null==e?null:e.options)}}const Zn=function(){return[1,4]};function ei(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",38),i["\u0275\u0275elementStart"](1,"label"),i["\u0275\u0275text"](2),i["\u0275\u0275template"](3,yn,2,0,"span",39),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,bn,2,1,"small",40),i["\u0275\u0275template"](5,In,2,1,"small",41),i["\u0275\u0275template"](6,xn,3,9,"ng-container",1),i["\u0275\u0275template"](7,Cn,3,11,"ng-container",1),i["\u0275\u0275template"](8,On,7,8,"ng-container",1),i["\u0275\u0275template"](9,Ln,4,6,"div",42),i["\u0275\u0275template"](10,Gn,4,11,"div",42),i["\u0275\u0275template"](11,zn,2,1,"ng-container",1),i["\u0275\u0275template"](12,Xn,4,6,"ng-container",1),i["\u0275\u0275template"](13,Jn,4,7,"ng-container",1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,o=i["\u0275\u0275nextContext"](2).index;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate3"](" ",o+1,".",n+1,". ",e.formFieldTitle," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldIsRequired),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.maxCharacters&&i["\u0275\u0275pureFunction0"](14,Zn).includes(e.formFieldTypeID)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldDetail),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",3===e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",10===e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",5===e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",4===e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",6===e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",9===e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===e.formFieldTypeID)}}function ti(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",33),i["\u0275\u0275elementStart"](1,"div",34),i["\u0275\u0275elementStart"](2,"h2",35),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",36),i["\u0275\u0275element"](5,"ngb-progressbar",24),i["\u0275\u0275elementStart"](6,"span",25),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,ei,14,15,"div",37),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit,o=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate2"](" ",t+1,". ",n.formSectionTitle," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",o.sectionsComplete)("showValue",!0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"](" ",o.sectionsCompleteCount,"/",o.form.sections.length," completed "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",null==n?null:n.fields)}}function ni(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,ti,9,7,"div",32),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.activeSection&&n.activeSection.formSectionID===e.formSectionID)}}function ii(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",30),i["\u0275\u0275template"](1,ni,2,1,"ng-container",31),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.form.sections)}}function oi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",80),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).previousSection()}),i["\u0275\u0275element"](1,"i",81),i["\u0275\u0275text"](2," Previous "),i["\u0275\u0275elementEnd"]()}}function ai(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",82),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).continueLater()}),i["\u0275\u0275text"](1,"Save and Continue later"),i["\u0275\u0275elementEnd"]()}}function ri(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",83),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).continueLater()}),i["\u0275\u0275text"](1,"Save and Continue later"),i["\u0275\u0275elementEnd"]()}}function si(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",84),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2);const t=i["\u0275\u0275reference"](10);return i["\u0275\u0275nextContext"](2).nextSection(t.valid)}),i["\u0275\u0275text"](1," Next "),i["\u0275\u0275element"](2,"i",85),i["\u0275\u0275elementEnd"]()}}function li(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"button",86),i["\u0275\u0275text"](1,"Done "),i["\u0275\u0275elementEnd"]()),2&e){i["\u0275\u0275nextContext"](2);const e=i["\u0275\u0275reference"](10);i["\u0275\u0275property"]("disabled",e.invalid)}}function ci(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",73),i["\u0275\u0275elementStart"](1,"div",74),i["\u0275\u0275template"](2,oi,3,0,"button",75),i["\u0275\u0275template"](3,ai,2,0,"span",76),i["\u0275\u0275template"](4,ri,2,0,"span",77),i["\u0275\u0275template"](5,si,3,0,"button",78),i["\u0275\u0275template"](6,li,2,1,"button",79),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.activeSectionIndex>0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",0===e.activeSectionIndex),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.activeSectionIndex>0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.activeSectionIndex<e.form.sections.length-1),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.activeSectionIndex===e.form.sections.length-1)}}function di(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",9),i["\u0275\u0275elementStart"](1,"h1",10),i["\u0275\u0275template"](2,cn,2,1,"ng-container",1),i["\u0275\u0275template"](3,dn,2,1,"ng-container",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,un,3,2,"p",11),i["\u0275\u0275template"](5,hn,2,0,"button",12),i["\u0275\u0275template"](6,fn,7,5,"div",13),i["\u0275\u0275template"](7,gn,3,0,"div",14),i["\u0275\u0275template"](8,vn,2,0,"div",15),i["\u0275\u0275elementStart"](9,"form",16,17),i["\u0275\u0275listener"]("ngSubmit",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).done()}),i["\u0275\u0275template"](11,ii,2,1,"div",18),i["\u0275\u0275template"](12,ci,7,5,"div",19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.activeSection&&e.activeSection.parentFormSectionTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.activeSection||e.activeSection&&!e.activeSection.parentFormSectionTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.activeSection),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",3===e.taskOwner.taskStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.activeSection&&!e.showThankYou),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.showThankYou),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.activeSection),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",e.activeSection),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.activeSection)}}function pi(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,ln,3,3,"div",5),i["\u0275\u0275template"](2,di,13,9,"div",6),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.activeSection),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.form&&e.form.formID)}}const mi=function(){return[2837,2791]};let ui=(()=>{class e{constructor(e,t,n,o,a,r,s,l,c,d,p,m){this.router=e,this.formService=t,this.toastr=n,this.taskOwnerService=o,this.taskService=a,this.documentService=r,this.distributionService=s,this.signalRService=l,this.notificationService=c,this.userService=d,this.companyService=p,this.portfolioService=m,this.validForm=!1,this.sectionComplete=new i.EventEmitter,this.prev=new i.EventEmitter,this.referenceID=0,this.documents=[],this.documentIsUpdated=!1,this.reference2ID=0,this.form=new Jt.c,this.dataHasChanged=!1,this.formSection=[],this.isLoading=!1,this.isSubmitting=!1,this.uploadDirectly=!1,this.streamProcessing=0,this.activeSectionIndex=0,this.sectionsComplete=0,this.sectionsCompleteCount=0,this.apiBlobUrl=H.a.apiBlobUrl+"/256px/",this.destroy$=new u.a,this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID||0}ngOnInit(){this.populateForm()}validateFormBeforeSubmit(){setTimeout(()=>{var e;this.validForm=!1;let t=!0;null===(e=this.form.sections)||void 0===e||e.some((e,n)=>{var i;if(null===(i=e.fields)||void 0===i||i.some(e=>3===e.formFieldTypeID&&(t=!e.formFieldIsRequired||this.alreadyAnswer(e),!t)||10===e.formFieldTypeID&&(t=!e.formFieldIsRequired||this.alreadyAnswer(e),t&&(t=100===this.streamProcessing),!t)||9===e.formFieldTypeID&&(t=!e.formFieldIsRequired||this.alreadyVote(e),!t)||void 0),!t)return!0;this.form.sections[n].invalidSection=!t,this.activeSection&&this.activeSectionIndex===n&&(this.activeSection.invalidSection=!t)}),this.validForm=t,this.calculateCompleted()})}hasAnswerQuestion(e){var t;return e.answer&&(null===(t=e.answer.formFieldValue)||void 0===t?void 0:t.length)>0}alreadyAnswer(e){return e.answer&&e.answer.formFieldAnswerID>0}alreadyVote(e){return e.answer&&Number(e.answer.formFieldValue)>0}hasOptionChecked(e){return e.options.filter(e=>{let t=!1;return(null==e?void 0:e.commentRequired)&&(t=!e.formFieldValue),e.answer.formFieldAnswerID>0&&!t}).length>0}hasRadioSelected(e){let t=null;return e.options&&(t=e.options.find(t=>t.formFieldOptionID===e.answer.formFieldOptionID)),!((null==t?void 0:t.commentRequired)&&!e.answer.formFieldValue)&&e.answer&&e.answer.formFieldAnswerID>0}hasSelectBoxSelected(e){return e.answer&&(e.answer.formFieldAnswerID>0||e.answer.formFieldOptionID>0)}done(){this.sectionCompleted()}backToTasks(){this.router.navigate(["/task",this.taskOwner.taskID])}backToList(){this.activeSection=null}goToReport(){var e;this.router.navigate(["/form/report",this.formID,this.formCategoryID,this.answerReferenceID,this.formFieldAnswerCategoryID],{queryParams:{programInstanceStageID:(null===(e=this.companyStage)||void 0===e?void 0:e.programInstanceStageID)||0}})}populateForm(){this.isLoading=!0,1!==this.taskOwner.taskStatusID&&(this.showThankYou=!0),2===this.taskOwner.formTypeID?this.formService.getFormFieldAnswers(0,this.contactID,0,this.answerReferenceID,this.formFieldAnswerCategoryID,this.formID).subscribe(e=>{e.sections.map(e=>(e.fields.map(e=>{var t;return 2===e.formFieldTypeID&&(null===(t=e.options)||void 0===t||t.map(e=>(e.formFieldValue=e.answer.formFieldValue,e))),e}),e)),this.markQuestionsAsReview(e),this.form=e,this.formSection=e.sections,this.form.sections.forEach(e=>{e.fields.forEach(e=>{3===e.formFieldTypeID&&e.answer.formFieldAnswerID&&this.getDocuments(e.answer.formFieldAnswerID)})}),this.validateFormBeforeSubmit(),this.isLoading=!1}):this.isLoading=!1}getDocuments(e){this.documentService.getDocuments(18,this.companyID,0,e,0).subscribe(e=>{this.documents=e},()=>{})}onListboxAnswerChange(e){let t=null;if(this.validateFormBeforeSubmit(),e.isRequiredAnswer=!1,e.options&&(t=e.options.find(t=>t.formFieldOptionID===e.answer.formFieldOptionID)),!t)return e.isRequiredAnswer=!0,this.activeSection.invalidSection=!0,void this.toastr.warning("Please ensure all required fields are completed");if(t.commentRequired){if(!e.answer.formFieldValue)return e.commentRequired=!0,this.activeSection.invalidSection=!0,void this.toastr.warning("Please ensure all required fields are completed")}else e.commentRequired=!1,e.answer.formFieldValue=null;const n=new Jt.b;n.contactID=+localStorage.getItem("CoID"),n.formFieldID=e.formFieldID,n.formFieldValue=e.answer.formFieldValue,n.formFieldOptionID=e.answer.formFieldOptionID,n.referenceID=this.answerReferenceID,n.formFieldAnswerCategoryID=this.formFieldAnswerCategoryID,this.validateFormBeforeSubmit(),null==e.answer.formFieldAnswerID?this.formService.insertAnswer(n).subscribe(t=>{e.answer.formFieldAnswerID=t.inOut_FormFieldAnswerID,this.validateFormBeforeSubmit()}):(n.formFieldAnswerID=e.answer.formFieldAnswerID,this.formService.updateAnswer(n).subscribe(e=>{console.log(e,"update answer has fired"),this.validateFormBeforeSubmit()}))}onCheckboxAnswerChange(e,t,n){var i;const o=new Jt.b;if(o.contactID=+localStorage.getItem("CoID"),o.formFieldID=t.formFieldID,o.formFieldValue=t.formFieldValue,o.formFieldOptionID=t.formFieldOptionID,o.referenceID=this.answerReferenceID,o.formFieldAnswerCategoryID=this.formFieldAnswerCategoryID,n.options.forEach(e=>{e.isRequiredComment=!1}),this.validateFormBeforeSubmit(),(null===(i=e.target)||void 0===i?void 0:i.checked)||e.checked){if(t.commentRequired){if(!t.formFieldValue)return this.validForm=!1,t.isRequiredComment=!0,void this.toastr.warning("Please ensure all required fields are completed")}else t.isRequiredComment=!1,t.answer.formFieldValue=null;this.formService.insertAnswer(o).subscribe(e=>{t.answer.formFieldAnswerID=e.inOut_FormFieldAnswerID,t.isRequiredComment=!1,this.validateFormBeforeSubmit()})}else t.answer.formFieldAnswerID&&this.formService.deleteAnswer(t.answer.formFieldAnswerID).subscribe(()=>{t.answer.formFieldAnswerID=null,t.answer.formFieldValue=null,this.validateFormBeforeSubmit()})}onRadioAnswerChange(e){let t=null;if(e.options.forEach(e=>{e.isRequiredComment=!1}),e.options&&(t=e.options.find(t=>t.formFieldOptionID===e.answer.formFieldOptionID)),t.commentRequired){if(!e.answer.formFieldValue)return t.isRequiredComment=!0,this.activeSection.invalidSection=!0,void this.toastr.warning("Please ensure all required fields are completed")}else t.isRequiredComment=!1,t.answer&&(t.answer.formFieldValue=null);this.validateFormBeforeSubmit();const n=new Jt.b;n.contactID=+localStorage.getItem("CoID"),n.formFieldID=e.formFieldID,n.formFieldValue=e.answer.formFieldValue,n.formFieldOptionID=e.answer.formFieldOptionID,n.referenceID=this.answerReferenceID,n.formFieldAnswerCategoryID=this.formFieldAnswerCategoryID,null==e.answer.formFieldAnswerID?this.formService.insertAnswer(n).subscribe(t=>{e.answer.formFieldAnswerID=t.inOut_FormFieldAnswerID,this.validateFormBeforeSubmit()}):(n.formFieldAnswerID=e.answer.formFieldAnswerID,this.formService.updateAnswer(n).subscribe(e=>{this.validateFormBeforeSubmit()}))}onTextAnswerChanged(e,t){if(t.isRequiredAnswer=!1,t.formFieldIsRequired&&!this.hasAnswerQuestion(t))return this.activeSection.invalidSection=!0,t.isRequiredAnswer=!0,void this.toastr.warning("Please ensure all required fields are completed");this.validateFormBeforeSubmit();const n=new Jt.b;n.contactID=+localStorage.getItem("CoID"),n.formFieldID=t.formFieldID,n.formFieldValue=t.answer.formFieldValue,n.referenceID=this.answerReferenceID,n.formFieldAnswerCategoryID=this.formFieldAnswerCategoryID,null==t.answer.formFieldAnswerID?this.formService.insertAnswer(n).subscribe(e=>{t.answer.formFieldAnswerID=e.inOut_FormFieldAnswerID,this.validateFormBeforeSubmit()}):(n.formFieldAnswerID=t.answer.formFieldAnswerID,this.formService.updateAnswer(n).subscribe(e=>{this.validateFormBeforeSubmit()}))}markQuestionsAsReview(e){e&&e.sections&&e.sections.length&&e.sections.forEach(e=>{e.fields&&e.fields.forEach(e=>{e.isPreviewMode=!0})})}onDocumentsChange(e,t){const n=new Jt.b;n.contactID=+localStorage.getItem("CoID"),n.formFieldID=t.formFieldID,n.formFieldValue="",n.formFieldOptionID=t.answer.formFieldOptionID,n.referenceID=this.answerReferenceID,n.formFieldAnswerCategoryID=this.formFieldAnswerCategoryID,this.validateFormBeforeSubmit(),e&&e.length>0?null==t.answer.formFieldAnswerID?this.formService.insertAnswer(n).subscribe(e=>{t.answer.formFieldAnswerID=e.inOut_FormFieldAnswerID,this.uploadDirectly=!0,this.documentIsUpdated=!0,this.validateFormBeforeSubmit()}):(n.formFieldAnswerID=t.answer.formFieldAnswerID,this.formService.updateAnswer(n).subscribe(e=>{this.uploadDirectly=!0,this.documentIsUpdated=!0,this.validateFormBeforeSubmit()})):t.answer.formFieldAnswerID&&this.documentIsUpdated&&this.formService.deleteAnswer(t.answer.formFieldAnswerID).subscribe(()=>{t.answer.formFieldAnswerID=null,t.answer.formFieldValue=null,this.uploadDirectly=!1,this.validateFormBeforeSubmit()})}onBannerChange(e,t){const n=new Jt.b;n.contactID=+localStorage.getItem("CoID"),n.formFieldID=t.formFieldID,n.formFieldValue="",n.formFieldOptionID=t.answer.formFieldOptionID,n.referenceID=this.answerReferenceID,n.formFieldAnswerCategoryID=this.formFieldAnswerCategoryID,this.validateFormBeforeSubmit(),e&&e.length>0?null==t.answer.formFieldAnswerID?this.formService.insertAnswer(n).subscribe(e=>{t.answer.formFieldAnswerID=e.inOut_FormFieldAnswerID,this.uploadDirectly=!0,this.documentIsUpdated=!0,this.validateFormBeforeSubmit()}):(n.formFieldAnswerID=t.answer.formFieldAnswerID,this.formService.updateAnswer(n).subscribe(e=>{this.uploadDirectly=!0,this.documentIsUpdated=!0,this.validateFormBeforeSubmit()})):t.answer.formFieldAnswerID&&this.documentIsUpdated&&this.formService.deleteAnswer(t.answer.formFieldAnswerID).subscribe(()=>{t.answer.formFieldAnswerID=null,t.answer.formFieldValue=null,this.uploadDirectly=!1,this.validateFormBeforeSubmit()})}onRateChange(e){const t=new Jt.b;t.contactID=+localStorage.getItem("CoID"),t.formFieldID=e.formFieldID,t.formFieldValue=e.answer.formFieldValue,t.formFieldOptionID=e.answer.formFieldOptionID,t.referenceID=this.answerReferenceID,t.formFieldAnswerCategoryID=this.formFieldAnswerCategoryID,null==e.answer.formFieldAnswerID?this.formService.insertAnswer(t).subscribe(t=>{e.answer.formFieldAnswerID=t.inOut_FormFieldAnswerID,this.validateFormBeforeSubmit()}):(t.formFieldAnswerID=e.answer.formFieldAnswerID,this.formService.updateAnswer(t).subscribe(()=>{this.validateFormBeforeSubmit()}))}onStreamProcess(e){this.streamProcessing=e,this.validateFormBeforeSubmit()}onActiveSectionClick(e,t=0){var n;if(this.showThankYou=!1,this.activeSection=e,this.activeSectionIndex=t,this.validateFormBeforeSubmit(),(![2791,2837].includes(this.formID)||2!==(null===(n=this.taskOwner)||void 0===n?void 0:n.formTypeID))&&1!==this.taskOwner.taskStatusID){const e={taskOwnerID:this.taskOwnerID,taskStatusID:1,dateSentForSignOff:Object(c.a)(new Date)};this.taskOwnerService.updateTaskOwner(e).subscribe()}}previousSection(){this.activeSectionIndex-=1,this.onActiveSectionClick(this.form.sections[this.activeSectionIndex],this.activeSectionIndex)}nextSection(e){if(!e)return this.toastr.error("Please ensure all required fields ar completed"),this.f&&this.f.controls&&Object.keys(this.f.controls).forEach(e=>{this.f.controls[e].markAsTouched()}),void window.scroll({top:0,left:0,behavior:"smooth"});this.activeSectionIndex+=1,this.onActiveSectionClick(this.form.sections[this.activeSectionIndex],this.activeSectionIndex),window.scroll({top:0,left:0,behavior:"smooth"})}calculateCompleted(){this.form.sections=this.form.sections.map(e=>{const t=e.fields.filter(e=>e.formFieldIsRequired),n=t.filter(e=>e.answer&&e.answer.formFieldAnswerID||e.options&&e.options.some(t=>t.answer&&(t.answer.formFieldAnswerID||5===e.formFieldTypeID&&t.answer.formFieldOptionID))||[1,4].includes(e.formFieldTypeID)&&(null==e?void 0:e.answer.formFieldValue));e.sectionComplete=t.length===n.length;const i=t.filter(e=>{var t,n;return 5===e.formFieldTypeID?e.isRequiredAnswer&&!e.answer||e&&e.options.some(e=>e.commentRequired)&&!(null===(t=e.answer)||void 0===t?void 0:t.formFieldValue)&&!e.answer.formFieldOptionID:e.isRequiredAnswer||e&&e.options.some(e=>e.commentRequired)&&!(null===(n=e.answer)||void 0===n?void 0:n.formFieldValue)});return e.invalidSection=i.length>0,e}),this.sectionsCompleteCount=this.form.sections.filter(e=>e.sectionComplete).length,this.sectionsComplete=+(100*this.sectionsCompleteCount/this.form.sections.length).toFixed(2),this.activeSection&&(this.activeSection.sectionComplete=this.form.sections[this.activeSectionIndex].sectionComplete,this.activeSection.invalidSection=!this.activeSection.sectionComplete)}continueLater(){this.showThankYou=!1,this.activeSection=null}keyUpValidation(e){if([1,4].includes(e.formFieldTypeID)){if(e.isRequiredAnswer=!1,e.formFieldIsRequired&&!this.hasAnswerQuestion(e))return this.activeSection.invalidSection=!0,void(e.isRequiredAnswer=!0);this.activeSection.invalidSection=!1}this.calculateCompleted()}previous(){this.prev.emit(!0)}sectionCompleted(){this.sectionComplete.emit(!0)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Re.c),i["\u0275\u0275directiveInject"](Ve.a),i["\u0275\u0275directiveInject"](J.b),i["\u0275\u0275directiveInject"](Zt.a),i["\u0275\u0275directiveInject"](ee.a),i["\u0275\u0275directiveInject"](Ye.a),i["\u0275\u0275directiveInject"](ze.a),i["\u0275\u0275directiveInject"]($e.a),i["\u0275\u0275directiveInject"](Fe.a),i["\u0275\u0275directiveInject"](O.a),i["\u0275\u0275directiveInject"](ne.a),i["\u0275\u0275directiveInject"](Ue.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-section-custom-form"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](an,!0),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.f=e.first)}},inputs:{isLastSection:"isLastSection",prevAvailable:"prevAvailable",formCategoryID:"formCategoryID",answerReferenceID:"answerReferenceID",formFieldAnswerCategoryID:"formFieldAnswerCategoryID",formID:"formID",taskOwnerID:"taskOwnerID",taskOwner:"taskOwner",task:"task",taskOwnerSection:"taskOwnerSection",baselineOwner:"baselineOwner",companyStage:"companyStage"},outputs:{sectionComplete:"sectionComplete",prev:"prev"},decls:3,vars:5,consts:[[1,"d-flex","flex-column","w-100","flex-grow-1",3,"avnonLoader"],[4,"ngIf"],[1,"flex-lg-grow-1","d-flex","flex-column"],["class","d-flex flex-column flex-grow-1",3,"formCategoryID","answerReferenceID","formID","isOnWindow","preventUpdate","formFieldAnswerCategoryID","referenceID","prevAvailable","isLastSection","customSubmit","isEdit","taskOwnerID","saved","prev",4,"ngIf"],[1,"d-flex","flex-column","flex-grow-1",3,"formCategoryID","answerReferenceID","formID","isOnWindow","preventUpdate","formFieldAnswerCategoryID","referenceID","prevAvailable","isLastSection","customSubmit","isEdit","taskOwnerID","saved","prev"],["class","company-logo m-3",4,"ngIf"],["class","forms-wrap pt-3",4,"ngIf"],[1,"company-logo","m-3"],["alt","Logo",1,"img-fluid","avatar-square","avatar-140",3,"src"],[1,"forms-wrap","pt-3"],[1,"pl-3","pr-3"],["class","mb-4 pl-3 pr-3",4,"ngIf"],["class","btn btn-outline-primary ml-3","type","button",3,"click",4,"ngIf"],["class","form-group d-flex justify-content-between align-items-center mt-150 pl-3 pr-3",4,"ngIf"],["class","form-group d-flex align-items-center mt-150 pl-3 pr-3",4,"ngIf"],["class","main-separator",4,"ngIf"],[3,"ngSubmit"],["f","ngForm"],["class","row",4,"ngIf"],["class","form-group form-group-block",4,"ngIf"],[1,"mb-4","pl-3","pr-3"],["type","button",1,"btn","btn-outline-primary","ml-3",3,"click"],[1,"form-group","d-flex","justify-content-between","align-items-center","mt-150","pl-3","pr-3"],[1,"d-flex","align-items-center","mr-2"],[1,"progress-bar-item",3,"value","showValue"],[1,"ml-1"],["type","button",1,"btn","btn-primary",3,"click"],[1,"form-group","d-flex","align-items-center","mt-150","pl-3","pr-3"],[1,"cursor-pointer","text-primary",3,"click"],[1,"main-separator"],[1,"row"],[4,"ngFor","ngForOf"],["class","form-block",4,"ngIf"],[1,"form-block"],[1,"title-actions","d-flex","pl-3","pr-3"],[1,"mr-2"],[1,"d-flex","align-items-center","ml-auto"],["class","form-group pl-3 pr-3",4,"ngFor","ngForOf"],[1,"form-group","pl-3","pr-3"],["class","text-danger",4,"ngIf"],["class","form-text text-danger text-right float-right",4,"ngIf"],["class","form-text text-muted mb-2 fz14",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"text-danger"],[1,"form-text","text-danger","text-right","float-right"],[1,"form-text","text-muted","mb-2","fz14"],["type","hidden",3,"required","ngModel","name"],[3,"documentCategoryID","referenceID","reference2ID","uploadDirectly","documents","documentsChange"],[1,"w-100","float-left","mt-2",3,"referenceID","documentCategoryID","canEdit","buttonText","fileTypes","formPlaybackUpload","uploadStatus","fileSelected"],[1,"form-control",3,"name","ngModel","required","ngModelChange","change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","mt-2",3,"ngClass",4,"ngIf"],[1,"mt-2",3,"ngClass"],["type","text","placeholder","Please provide a comment","required","",1,"text-input","form-control",3,"name","ngModel","keyup","ngModelChange","blur"],[3,"ngClass"],["type","text","class","text-input form-control",3,"name","minlength","ngModel","required","maxlength","blur","keyup","ngModelChange",4,"ngIf"],["class","form-text text-muted",4,"ngIf"],["type","text",1,"text-input","form-control",3,"name","minlength","ngModel","required","maxlength","blur","keyup","ngModelChange"],[1,"form-text","text-muted"],["rows","3",1,"paragraph-input","form-control",3,"name","minlength","ngModel","required","maxlength","blur","keyup","ngModelChange"],["class","custom-control custom-radio",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio"],["type","radio",1,"custom-control-input",3,"name","required","id","ngModel","value","ngModelChange","change"],[1,"custom-control-label",3,"for"],[1,"rating-input","w-100",3,"rate","max","rateChange"],[1,"star"],["type","hidden",3,"name","required","ngModel"],["class","custom-control custom-checkbox",4,"ngFor","ngForOf"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"name","checked","id","required","change"],["checkBox",""],["type","text","placeholder","Please provide a comment","required","",1,"text-input","form-control",3,"name","ngModel","blur","keyup","ngModelChange"],[1,"form-group","form-group-block"],[1,"action-row","d-flex","justify-content-between","align-items-center","pl-3","pr-3"],["class","btn btn-outline-primary","type","button",3,"click",4,"ngIf"],["class","cursor-pointer text-primary mr-auto",3,"click",4,"ngIf"],["class","cursor-pointer text-primary ml-auto",3,"click",4,"ngIf"],["type","button","class","btn btn-primary ml-2",3,"click",4,"ngIf"],["class","btn btn-primary ml-2","type","submit",3,"disabled",4,"ngIf"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-caret-left"],[1,"cursor-pointer","text-primary","mr-auto",3,"click"],[1,"cursor-pointer","text-primary","ml-auto",3,"click"],["type","button",1,"btn","btn-primary","ml-2",3,"click"],[1,"fas","fa-caret-right"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,sn,3,1,"ng-container",1),i["\u0275\u0275template"](2,pi,3,2,"ng-container",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("avnonLoader",t.isLoading||t.baselineLoading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!i["\u0275\u0275pureFunction0"](3,mi).includes(t.formID)&&2!==(null==t.taskOwner?null:t.taskOwner.formTypeID)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pureFunction0"](4,mi).includes(t.formID)||2===(null==t.taskOwner?null:t.taskOwner.formTypeID)))},directives:[A.a,F.n,en.a,_.E,_.r,_.s,E.u,F.m,_.b,_.A,_.q,_.t,tn.a,nn.a,_.B,_.v,_.D,F.l,_.n,_.m,_.y,E.w],pipes:[R.a,on.a],styles:[".invalid-field[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-color:#dc3545}.rating-input[_ngcontent-%COMP%]:focus{outline:none}.rating-input[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{font-size:1.5rem;color:#b0c4de}.rating-input[_ngcontent-%COMP%]   .filled[_ngcontent-%COMP%]{color:#1e90ff}.rating-input[_ngcontent-%COMP%]   .bad[_ngcontent-%COMP%], .rating-input[_ngcontent-%COMP%]   .filled.bad[_ngcontent-%COMP%]{color:#2a2a2a}.fz14[_ngcontent-%COMP%]{font-size:14px!important}.sections-overview[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sections-overview[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px;font-size:18px}.sections-overview[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{opacity:.7}.company-logo[_ngcontent-%COMP%]{width:140px;height:140px;position:relative;display:flex;align-items:center;border:1px solid #f3f3f3}.company-logo[_ngcontent-%COMP%]   .avatar-square[_ngcontent-%COMP%]{max-height:140px;max-width:140px;width:100%;object-fit:cover}.progress-bar-item[_ngcontent-%COMP%]{min-width:100px}.main-separator[_ngcontent-%COMP%]{width:100%}.mt-150[_ngcontent-%COMP%]{margin-top:150px}.twitter-content[_ngcontent-%COMP%]{margin-top:55px;min-height:calc(100vh - 55px)}.stage-name[_ngcontent-%COMP%]{font-size:23px!important}.line-separator[_ngcontent-%COMP%]{width:100%;height:1px;background:#dfdfdf}"]}),e})();class hi{constructor(){this.companyID=null,this.investmentDate=null,this.investmentRoundID=null,this.dateAdded=null,this.addedByContactID=null,this.investors=[]}}class fi{constructor(){this.investmentInvestorID=null,this.investmentAmount=null,this.investmentDetail=null,this.companyID=null,this.investmentID=null}}function gi(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.industry)}}function vi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"]().onCompanySelect(n)}),i["\u0275\u0275elementStart"](1,"span",15),i["\u0275\u0275element"](2,"img",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"h2"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",17),i["\u0275\u0275template"](6,gi,2,1,"span",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",e.companyLogo?n.blobUrl+"256px/"+e.companyLogo:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.companyName),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.industry)}}function yi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"p",18),i["\u0275\u0275text"](1," Can't find your company? "),i["\u0275\u0275elementStart"](2,"span",19),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onAddNewCompany()}),i["\u0275\u0275text"](3,"Add it now."),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function bi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",23),i["\u0275\u0275elementStart"](1,"label",24),i["\u0275\u0275text"](2,"Brief description of your organisation"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"textarea",25),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).company.companyMission=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",e.company.companyMission)}}function Ii(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",28),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e)}}function xi(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",28),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Si(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",23),i["\u0275\u0275elementStart"](1,"label",24),i["\u0275\u0275text"](2,"Date Registered"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",26),i["\u0275\u0275elementStart"](4,"select",27),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).dateRegistered.year=t}),i["\u0275\u0275elementStart"](5,"option",28),i["\u0275\u0275text"](6,"Year"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](7,Ii,2,2,"option",29),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"select",30),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).dateRegistered.month=t}),i["\u0275\u0275elementStart"](9,"option",28),i["\u0275\u0275text"](10,"Month"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](11,xi,2,2,"option",29),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",31),i["\u0275\u0275elementStart"](13,"input",32),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).notRegisteredYet=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"label",33),i["\u0275\u0275text"](15,"Not Registered Yet"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("disabled",e.notRegisteredYet)("ngModel",e.dateRegistered.year),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.years),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",e.notRegisteredYet)("ngModel",e.dateRegistered.month),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.months),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.notRegisteredYet)}}function Ci(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,bi,4,1,"div",20),i["\u0275\u0275template"](2,Si,16,9,"div",20),i["\u0275\u0275elementStart"](3,"div",21),i["\u0275\u0275elementStart"](4,"button",22),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onSubmit()}),i["\u0275\u0275text"](5," Continue "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](8);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.addNewCompany),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.addNewCompany),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",t.invalid||!e.addNewCompany&&!e.companyModel.companyID||e.addNewCompany&&!(null!=e.headOfficeLocationModel&&e.headOfficeLocationModel.physicalAddress))}}let Di=(()=>{class e{constructor(e,t,n,i){this.activeModal=e,this.userService=t,this.companyService=n,this.companyLocationService=i,this.company=new q.a,this.startDate={year:null,month:null,day:null},this.dateRegistered={year:null,month:null,day:null},this.years=[],this.months=Xe.a.create(),this.days=[],this.companies=[],this.filteredCompanies=[],this.companyModel=new q.a,this.addNewCompany=!1,this.headOfficeLocationModel=new Y.a,this.locations=[],this.blobUrl=H.a.apiBlobUrl+"/",this.defaultLogo="/assets/img/card-placeholder.jpg",this.headOfficeFormatter=e=>e.companyLocation,this.headOfficeLocationSearch=e=>e.pipe(Object(z.a)(300),Object(W.a)(),Object(X.a)(e=>{let t=[];return this.hideGoogleMapResults(),t=""===e?this.locations:this.locations.filter(t=>new RegExp(e,"mi").test(t.companyLocation)),0===t.length&&this.showGoogleMapResults(),t.slice(0,10)})),this.user=this.userService.user.getValue(),this.contactID=this.user.contactID}ngOnInit(){this.setDefaultForValueForDateControl()}onCompanySearch(e){let t=[];e.length<1?(t=[],(this.addNewCompany||this.companyModel.companyID)&&(this.addNewCompany=!1,this.companyModel=new q.a)):(t=this.companies.filter(t=>t.companyName.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1),this.filteredCompanies=t,(this.addNewCompany||this.companyModel.companyID)&&(this.addNewCompany=!1,this.companyModel=new q.a)),this.filteredCompanies=t}onCompanySelect(e){this.companyModel=e,this.companyName=e.companyName,this.filteredCompanies=[]}addCompany(){this.loading=!0;let e=new Date;this.notRegisteredYet||(e=new Date(this.dateRegistered.year,this.dateRegistered.month-1,1)),this.company.companyName=this.companyName,this.company.companyTypeID=1,this.company.dateRegistered=this.notRegisteredYet?null:Object(c.a)(e),this.companyService.addCompany(this.company).subscribe(e=>{this.company.companyID=e.inOut_CompanyID,this.company.companyOwnerContactID=this.contactID,this.companyModel=this.company,this.addCompanyLocation(),this.updateOwner(this.company.companyID,this.contactID),this.activeModal.close(this.company),this.loading=!1})}updateOwner(e,t){this.companyService.updateCompanyOwner(e,t).subscribe()}setDefaultForValueForDateControl(){const e=(new Date).getFullYear();for(let t=e-40;t<=e;++t)this.years.push(t);this.years=this.years.reverse()}onAddNewCompany(){this.addNewCompany=!0,this.companyModel=new q.a,this.filteredCompanies=[]}addCompanyLocation(){this.headOfficeLocationModel.companyID=this.company.companyID,this.companyLocationService.createCompanyLocation(this.headOfficeLocationModel).subscribe()}showGoogleMapResults(){var e,t;const n=document.getElementsByClassName("pac-container");for(let i=0,o=n.length;i<o;i++)null===(e=n[i].classList)||void 0===e||e.remove("d-none"),null===(t=n[i].classList)||void 0===t||t.add("map-selector")}hideGoogleMapResults(){var e,t;const n=document.getElementsByClassName("pac-container");for(let i=0,o=n.length;i<o;i++)null===(e=n[i].classList)||void 0===e||e.add("d-none"),null===(t=n[i].classList)||void 0===t||t.remove("map-selector")}handleAddressChange(e){var t,n;this.headOfficeLocationModel=new Y.a,this.headOfficeLocationModel.companyLocationID=0,this.headOfficeLocationModel.companyLocation=null==e?void 0:e.name,this.headOfficeLocationModel.physicalAddress=null==e?void 0:e.formatted_address,this.headOfficeLocationModel.latitude=null===(t=null==e?void 0:e.geometry)||void 0===t?void 0:t.location.lat(),this.headOfficeLocationModel.longitude=null===(n=null==e?void 0:e.geometry)||void 0===n?void 0:n.location.lng(),this.headOfficeLocationModel.googleMapURL=null==e?void 0:e.url}onSelectLocation(e){var t,n;e&&e.companyLocationID&&(this.headOfficeLocationModel.latitude=+(null===(t=this.headOfficeLocationModel)||void 0===t?void 0:t.latitude),this.headOfficeLocationModel.longitude=+(null===(n=this.headOfficeLocationModel)||void 0===n?void 0:n.longitude))}onSubmit(){this.companyModel.companyID?this.activeModal.close(this.companyModel):this.addCompany()}dismiss(){this.activeModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](E.a),i["\u0275\u0275directiveInject"](O.a),i["\u0275\u0275directiveInject"](ne.a),i["\u0275\u0275directiveInject"](Z.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-select-investor"]],decls:18,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","d-flex","flex-column",3,"avnonLoader"],[1,"form-block","form","p-0","m-0","flex-grow-1","d-flex","flex-column"],["f","ngForm"],[1,"form-group","position-relative"],["for","company"],["type","text","autocomplete","off","placeholder","Company Name","name","company","required","","id","company",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"d-flex","flex-column","mt-1","w-100","list-container"],["class","entry",3,"click",4,"ngFor","ngForOf"],["class","twitter-fill p-2 mt-4",4,"ngIf"],[4,"ngIf"],[1,"entry",3,"click"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","network",1,"img-fluid","img-48",3,"src"],[1,"meta"],[1,"twitter-fill","p-2","mt-4"],[1,"text-primary","cursor-pointer",3,"click"],["class","form-group",4,"ngIf"],[1,"d-flex","mt-auto","align-items-center"],[1,"btn","btn-primary","ml-auto",3,"disabled","click"],[1,"form-group"],["for","companyMission",1,"mb-0"],["name","companyMission","id","companyMission",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group","mb-1"],["name","registerYear","id","registerYear","required","",1,"form-control","mr-1",3,"disabled","ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["name","registerMonth","id","registerMonth","required","",1,"form-control","ml-1",3,"disabled","ngModel","ngModelChange"],[1,"custom-control","custom-checkbox"],["type","checkbox","name","notRegisteredYet","id","notRegisteredYet",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","notRegisteredYet",1,"custom-control-label"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h5",1),i["\u0275\u0275text"](2," Search for investor "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",2),i["\u0275\u0275listener"]("click",function(){return t.dismiss()}),i["\u0275\u0275elementStart"](4,"span",3),i["\u0275\u0275text"](5,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"form",5,6),i["\u0275\u0275elementStart"](9,"div",7),i["\u0275\u0275elementStart"](10,"label",8),i["\u0275\u0275text"](11," Company "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"input",9),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.companyName=e})("keyup",function(e){return t.onCompanySearch(e.target.value)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",10),i["\u0275\u0275template"](14,vi,7,3,"div",11),i["\u0275\u0275pipe"](15,"slice"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](16,yi,4,0,"p",12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](17,Ci,6,3,"ng-container",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("avnonLoader",t.loading),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngModel",t.companyName),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind3"](15,5,t.filteredCompanies,0,6)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.addNewCompany&&(null==t.companyName?null:t.companyName.length)>1&&!t.companyModel.companyID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.companyModel.companyID||t.addNewCompany))},directives:[A.a,_.E,_.r,_.s,_.b,_.A,_.q,_.t,F.m,F.n,_.B,_.v,_.D,_.a],pipes:[F.v],styles:[".pac-container.map-selector{z-index:999999!important}agm-map[_ngcontent-%COMP%]{height:160px;width:300px;float:left;margin-right:10px}.modal-body[_ngcontent-%COMP%]{max-height:86vh;min-height:60vh;overflow-x:hidden;overflow-y:auto}"]}),e})();function wi(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",10),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.investmentRoundID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.investmentRound," ")}}function ki(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"label",37),i["\u0275\u0275text"](1," Who did you raise money from "),i["\u0275\u0275elementEnd"]())}function Ei(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"label",38),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"userCurrency"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("Amount ",i["\u0275\u0275pipeBind1"](2,1,""),""))}function Mi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",28),i["\u0275\u0275elementStart"](1,"div",29),i["\u0275\u0275template"](2,ki,2,0,"label",30),i["\u0275\u0275elementStart"](3,"input",31),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"]().selectCompany(n)})("ngModelChange",function(e){return t.$implicit.companyName=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",32),i["\u0275\u0275template"](5,Ei,3,3,"label",33),i["\u0275\u0275elementStart"](6,"input",34),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.investmentAmount=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",35),i["\u0275\u0275elementStart"](8,"i",36),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"]().deleteInvestor(n)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",0===n),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate1"]("name","company-",n,""),i["\u0275\u0275property"]("ngModel",e.companyName),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",0===n),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate1"]("name","investmentAmount-",n,""),i["\u0275\u0275property"]("ngModel",e.investmentAmount),i["\u0275\u0275advance"](2),i["\u0275\u0275classProp"]("mt-4",0===n)}}let Oi=(()=>{class e{constructor(e,t,n,i,o,a,r){this.userService=e,this.companyService=t,this.activeModal=n,this.modal=i,this.toastrService=o,this.companyLocationService=a,this.investmentService=r,this.rounds=[],this.investment=new hi,this.investors=[new fi],this.valuation=new q.c,this.companies=[],this.headOfficeFormatter=e=>e.companyLocation,this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID}ngOnInit(){if(this.getRounds(),this.getCompanyList(),this.investment.investmentID){const e=new Date(this.investment.investmentDate);this.roundCloseDate={year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()},this.getValuation()}}getValuation(){this.valuationLoading=!0,this.companyService.getCompanyValuationID(0,this.companyID).subscribe(e=>{const t=e.find(e=>e.referenceID===this.investment.investmentID);t&&(this.valuation=t),this.valuationLoading=!1})}getCompanyList(){this.companyLoading=!0,this.companyService.getCompanyList("",0).subscribe(e=>{this.companies=e,this.companyLoading=!1})}getRounds(){this.loading=!0,this.investmentService.getInvestmentRound().subscribe(e=>{this.rounds=e,this.loading=!1})}submit(){const e=new Date(this.roundCloseDate.year,this.roundCloseDate.month-1,this.roundCloseDate.day);if(this.investment.investmentDate=Object(c.a)(e),this.investment.investmentRound=this.rounds.find(e=>e.investmentRoundID===this.investment.investmentRoundID).investmentRound,this.investment.investmentID)return this.loading=!0,void this.investmentService.updateInvestment(this.investment).pipe(Object(l.a)(()=>{const e=[];return this.investors.forEach(t=>{t.investmentInvestorID?e.push(this.investmentService.updateInvestor(t)):(t.investmentID=this.investment.investmentID,e.push(this.investmentService.postInvestor(t)))}),Object(f.a)(e)})).subscribe(e=>{e.forEach(e=>{if(e.inOut_InvestmentInvestorID){const t=this.investors.findIndex(t=>t.companyID===e.companyID);-1!==t&&(this.investors[t].investmentInvestorID=e.inOut_InvestmentInvestorID)}}),this.investment.investors=this.investors,this.investment.investmentAmount=this.investors.reduce((e,t)=>e+(t.investmentAmount||0),0),this.valuation.companyValuationID&&this.companyService.updateCompanyValuation(this.valuation).subscribe(),this.loading=!1,this.activeModal.close(this.investment)});this.loading=!0,this.investment.companyID=this.companyID,this.investment.addedByContactID=this.contactID,this.investment.dateAdded=Object(c.a)(new Date),this.investmentService.postInvestment(this.investment).pipe(Object(l.a)(e=>{const t=[];return this.investment.investmentID=e.inOut_InvestmentID,this.investors.forEach(e=>{e.investmentID=this.investment.investmentID,t.push(this.investmentService.postInvestor(e))}),t.length?Object(f.a)(t):Object(h.a)(t)})).subscribe(e=>{e.forEach(e=>{if(e.inOut_InvestmentInvestorID){const t=this.investors.findIndex(t=>t.companyID===e.companyID);-1!==t&&(this.investors[t].investmentInvestorID=e.inOut_InvestmentInvestorID)}}),this.investment.investors=this.investors,this.investment.investmentAmount=this.investors.reduce((e,t)=>e+(t.investmentAmount||0),0),this.valuation.companyID=this.companyID,this.valuation.referenceID=this.investment.investmentID,this.valuation.dateLogged=Object(c.a)(new Date),this.companyService.postCompanyValuation(this.valuation).subscribe(),this.loading=!1,this.activeModal.close(this.investment)})}addInvestor(){this.investors.push(new fi)}selectCompany(e){const t=this.investors[e],n=this.modal.open(Di,{size:"lg",backdrop:"static",keyboard:!1});n.componentInstance.companies=this.companies,t.companyID&&(n.componentInstance.companyName=t.companyName,n.componentInstance.companyModel=Object(c.l)(t)),n.result.then(e=>{this.investors.filter(t=>t.companyID===e.companyID).length?e.companyID===t.companyID?(t.companyID=e.companyID,t.companyName=e.companyName):this.toastrService.warning("Investor already exist"):(t.companyID=e.companyID,t.companyName=e.companyName),this.companies.filter(t=>t.companyID===e.companyID).length||this.companies.push(e)})}deleteInvestor(e){const t=this.investors[e];if(t.investmentInvestorID){const n=this.modal.open(C.a);n.componentInstance.objectType="Investor",n.componentInstance.objectDetails=t.companyName,n.result.then(n=>{"Yes"===n&&this.investmentService.deleteInvestor(t.investmentInvestorID).subscribe(()=>{this.investors.splice(e,1)})})}else this.investors.splice(e,1)}dismiss(){this.activeModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](O.a),i["\u0275\u0275directiveInject"](ne.a),i["\u0275\u0275directiveInject"](E.a),i["\u0275\u0275directiveInject"](E.p),i["\u0275\u0275directiveInject"](J.b),i["\u0275\u0275directiveInject"](Z.a),i["\u0275\u0275directiveInject"](qe.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-investment-funds"]],decls:38,vars:8,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","d-flex","flex-column",3,"avnonLoader"],[1,"form-block","form","p-0","m-0","flex-grow-1","d-flex","flex-column",3,"submit"],["f","ngForm"],[1,"form-group"],["for","investmentRoundID"],["name","investmentRoundID","required","","id","investmentRoundID",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"d-flex"],[1,"form-group","position-relative","d-flex","flex-column","align-items-start"],["class","row m-0 w-100 border-bottom pb-2 mb-1",4,"ngFor","ngForOf"],[1,"cursor-pointer","mt-2",3,"click"],[1,"plus-ico-2"],["for","Date"],[1,"input-group","date-field",3,"click"],["placeholder","yyyy-mm-dd","name","roundCloseDate","required","","ngbDatepicker","","id","Date","container","body","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["datepicker","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text","bg-transparent",3,"click"],[1,"calendar-icon","icon-sm"],["for","valuation"],["type","number","id","valuation","name","valuation","required","",1,"form-control","amount-field",3,"ngModel","ngModelChange"],[1,"d-flex","float-left","w-100","align-items-center","mt-auto"],[1,"btn","btn-primary","ml-auto",3,"disabled"],[1,"row","m-0","w-100","border-bottom","pb-2","mb-1"],[1,"form-group","flex-grow-1","mr-1"],["for","company",4,"ngIf"],["type","text","placeholder","Company Name","autocomplete","off","readonly","","required","","id","company",1,"form-control","cursor-pointer",3,"name","ngModel","click","ngModelChange"],[1,"form-group","ml-1"],["for","investmentAmount",4,"ngIf"],["type","number","id","investmentAmount","required","",1,"form-control","amount-field",3,"name","ngModel","ngModelChange"],[1,"form-group","ml-1","d-flex","align-items-center"],[1,"fas","fa-trash-alt","text-danger","cursor-pointer","delete-investor",3,"click"],["for","company"],["for","investmentAmount"]],template:function(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h5",1),i["\u0275\u0275text"](2," Investment "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",2),i["\u0275\u0275listener"]("click",function(){return t.dismiss()}),i["\u0275\u0275elementStart"](4,"span",3),i["\u0275\u0275text"](5,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"form",5,6),i["\u0275\u0275listener"]("submit",function(){return t.submit()}),i["\u0275\u0275elementStart"](9,"div",7),i["\u0275\u0275elementStart"](10,"label",8),i["\u0275\u0275text"](11,"Round"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"select",9),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.investment.investmentRoundID=e}),i["\u0275\u0275elementStart"](13,"option",10),i["\u0275\u0275text"](14,"Please Select"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](15,wi,2,2,"option",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](16,"div",12),i["\u0275\u0275elementStart"](17,"div",13),i["\u0275\u0275template"](18,Mi,9,8,"div",14),i["\u0275\u0275elementStart"](19,"span",15),i["\u0275\u0275listener"]("click",function(){return t.addInvestor()}),i["\u0275\u0275element"](20,"span",16),i["\u0275\u0275text"](21," Add another investor "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"div",7),i["\u0275\u0275elementStart"](23,"label",17),i["\u0275\u0275text"](24,"When did the funding round close"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](25,"div",18),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275reference"](27).toggle()}),i["\u0275\u0275elementStart"](26,"input",19,20),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.roundCloseDate=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"div",21),i["\u0275\u0275elementStart"](29,"span",22),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275reference"](27).toggle()}),i["\u0275\u0275element"](30,"span",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](31,"div",7),i["\u0275\u0275elementStart"](32,"label",24),i["\u0275\u0275text"](33,"What was valuation"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"input",25),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.valuation.valuation=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](35,"div",26),i["\u0275\u0275elementStart"](36,"button",27),i["\u0275\u0275text"](37," Submit "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](8);i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("avnonLoader",t.loading||t.companyLoading),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngModel",t.investment.investmentRoundID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.rounds),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",t.investors),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("ngModel",t.roundCloseDate),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("ngModel",t.valuation.valuation),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",t.loading||e.invalid||!t.investors.length)}},directives:[A.a,_.E,_.r,_.s,_.B,_.A,_.q,_.t,_.v,_.D,F.m,E.o,_.b,_.w,F.n],pipes:[$t.a],styles:[".amount-field[_ngcontent-%COMP%], .date-field[_ngcontent-%COMP%]{max-width:200px}  .pac-container.map-selector{z-index:999999!important}agm-map[_ngcontent-%COMP%]{height:160px;width:300px;float:left;margin-right:10px}.form[_ngcontent-%COMP%]{max-height:80vh;overflow-x:hidden;overflow-y:auto;min-height:60vh}.delete-investor[_ngcontent-%COMP%]:hover{opacity:.8}"]}),e})();var Pi=n("0mlJ");function Ti(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",24),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"date"),i["\u0275\u0275pipe"](3,"dateObject"),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](2,1,i["\u0275\u0275pipeBind1"](3,4,e.investmentDate),"dd MMM yyyy")," ")}}function Ai(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td",22),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",22),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"userCurrency"),i["\u0275\u0275pipe"](6,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.companyName," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"](" ",i["\u0275\u0275pipeBind1"](5,3,"")," ",i["\u0275\u0275pipeBind2"](6,5,e.investmentAmount,"1.2-2")," ")}}function _i(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",9),i["\u0275\u0275elementStart"](1,"div",10),i["\u0275\u0275elementStart"](2,"h3",11),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",12),i["\u0275\u0275elementStart"](5,"div",13),i["\u0275\u0275elementStart"](6,"button",14),i["\u0275\u0275element"](7,"span",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"ul",16),i["\u0275\u0275elementStart"](9,"li"),i["\u0275\u0275elementStart"](10,"a",17),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"]().editInvestment(n)}),i["\u0275\u0275text"](11,"Edit"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"li"),i["\u0275\u0275elementStart"](13,"a",17),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"]().deleteInvestment(n)}),i["\u0275\u0275text"](14,"Delete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](15,Ti,4,6,"span",18),i["\u0275\u0275elementStart"](16,"span",19),i["\u0275\u0275text"](17,"Details:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"table",20),i["\u0275\u0275elementStart"](19,"tbody"),i["\u0275\u0275template"](20,Ai,7,8,"tr",21),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"tfoot"),i["\u0275\u0275elementStart"](22,"tr"),i["\u0275\u0275element"](23,"td",22),i["\u0275\u0275elementStart"](24,"td",23),i["\u0275\u0275text"](25),i["\u0275\u0275pipe"](26,"userCurrency"),i["\u0275\u0275pipe"](27,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,o=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("border-bottom",o.investments.length>1&&n!==o.investments.length-1),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.investmentRound),i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngIf",e.investmentDate),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngForOf",e.investors),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate2"]("",i["\u0275\u0275pipeBind1"](26,7,""),"",i["\u0275\u0275pipeBind2"](27,9,e.investmentAmount,"1.2-2"),"")}}function Fi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",25),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().previous()}),i["\u0275\u0275element"](1,"i",26),i["\u0275\u0275text"](2," Prev "),i["\u0275\u0275elementEnd"]()}}let Ri=(()=>{class e{constructor(e,t,n,o){this.companyService=e,this.investmentService=t,this.modal=n,this.userService=o,this.sectionComplete=new i.EventEmitter,this.dataUpdated=new i.EventEmitter,this.prev=new i.EventEmitter,this.investments=[],this.totalRaised=0,this.user=this.userService.user.getValue(),this.companyID=this.user.companyID}ngOnInit(){}deleteInvestment(e){const t=this.investments[e],n=this.modal.open(C.a);n.componentInstance.objectType="Investment",n.componentInstance.objectDetails=`Investment ${t.investmentRound} - ${t.investmentAmount}`,n.result.then(n=>{n&&"Yes"===n&&this.investmentService.deleteInvestment(t.investmentID).subscribe(()=>{t.investors.forEach(e=>{this.investmentService.deleteInvestor(e.investmentInvestorID).subscribe()}),this.investments.splice(e,1),this.dataUpdated.emit(this.investments)})})}editInvestment(e){const t=this.modal.open(Oi,{backdrop:"static",size:"lg",keyboard:!1});t.componentInstance.investment=Object(c.l)(this.investments[e]),t.componentInstance.investors=Object(c.l)(this.investments[e].investors),t.result.then(t=>{this.investments[e]=t,this.dataUpdated.emit(this.investments)})}addInvestments(){this.modal.open(Oi,{backdrop:"static",size:"lg"}).result.then(e=>{this.investments.push(e),this.dataUpdated.emit(this.investments)})}previous(){this.prev.emit(!0)}sectionCompleted(){this.sectionComplete.emit(this.investments)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](ne.a),i["\u0275\u0275directiveInject"](qe.a),i["\u0275\u0275directiveInject"](E.p),i["\u0275\u0275directiveInject"](O.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-section-investment"]],inputs:{isLastSection:"isLastSection",prevAvailable:"prevAvailable",investments:"investments",totalRaised:"totalRaised"},outputs:{sectionComplete:"sectionComplete",dataUpdated:"dataUpdated",prev:"prev"},decls:15,vars:12,consts:[[1,"d-flex","flex-column","flex-grow-1",3,"avnonLoader"],[1,"filter-actions","d-flex","w-100","align-items-center","pl-3","pr-3","border-bottom"],[1,"cursor-pointer","text-primary","ml-auto",3,"click"],[1,"plus-ico-2"],["class","d-flex flex-column pb-3 pt-3",3,"border-bottom",4,"ngFor","ngForOf"],[1,"mb-auto"],[1,"d-flex","w-100","pl-3","pr-3","twitter-fill","pt-2","pb-2","bottom-non-sticky","border-top"],["class","font-weight-bold cursor-pointer mr-4",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-primary","ml-auto",3,"click"],[1,"d-flex","flex-column","pb-3","pt-3"],[1,"d-flex","align-items-center","pl-3","pr-3","mb-0"],[1,"m-0"],[1,"actions","ml-auto"],["ngbDropdown","","display","dynamic","container","body"],["type","button","ngbDropdownToggle","","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],["class","meta pl-3 pr-3",4,"ngIf"],[1,"mt-3","mb-0","pl-3","pr-3"],[1,"table","w-100","mb-0","mt-1"],[4,"ngFor","ngForOf"],[1,"border-0","pt-1","pb-1","pl-3","pr-3"],[1,"pt-1","pb-1","pl-3","pr-3"],[1,"meta","pl-3","pr-3"],[1,"font-weight-bold","cursor-pointer","mr-4",3,"click"],[1,"fas","fa-caret-left"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"span"),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"userCurrency"),i["\u0275\u0275pipe"](5,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"span",2),i["\u0275\u0275listener"]("click",function(){return t.addInvestments()}),i["\u0275\u0275element"](7,"span",3),i["\u0275\u0275text"](8," Add Investments "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](9,_i,28,12,"div",4),i["\u0275\u0275element"](10,"div",5),i["\u0275\u0275elementStart"](11,"div",6),i["\u0275\u0275template"](12,Fi,3,0,"span",7),i["\u0275\u0275elementStart"](13,"button",8),i["\u0275\u0275listener"]("click",function(){return t.sectionCompleted()}),i["\u0275\u0275text"](14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("avnonLoader",t.loading),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate3"](" Raised ",i["\u0275\u0275pipeBind1"](4,7,""),"",i["\u0275\u0275pipeBind2"](5,9,t.totalRaised,"1.2-2")," in ",t.investments.length," rounds "),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngForOf",t.investments),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.prevAvailable),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.isLastSection?"Submit":"Next"," "))},directives:[A.a,F.m,F.n,E.i,E.m,E.k],pipes:[$t.a,F.f,F.e,Pi.a],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}"]}),e})();var Li=n("wgH9");function Vi(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",6),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.exitStrategyID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.exitStartegy," ")}}function ji(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",3),i["\u0275\u0275elementStart"](1,"label",12),i["\u0275\u0275text"](2,"Detail *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"textarea",13),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().exit.exitStrategyDetail=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",e.exit.exitStrategyDetail)}}function Bi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",14),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().previous()}),i["\u0275\u0275element"](1,"i",15),i["\u0275\u0275text"](2," Prev "),i["\u0275\u0275elementEnd"]()}}let Ni=(()=>{class e{constructor(e,t,n){this.companyService=e,this.userService=t,this.lookupService=n,this.sectionComplete=new i.EventEmitter,this.prev=new i.EventEmitter,this.exit=new D,this.list=[],this.user=this.userService.user.getValue(),this.companyID=this.user.companyID}ngOnInit(){this.initData()}initData(){this.loading=!0,this.lookupService.getExitStrategy().subscribe(e=>{this.list=e,this.loading=!1})}onSubmit(){this.loading=!0,this.exit.companyID=this.companyID,4!==this.exit.exitStrategyID&&(this.exit.exitStrategyDetail=null),this.companyService.putExitStrategy(this.exit).subscribe(()=>{this.loading=!1,this.exit.exitStrategy=this.list.find(e=>e.exitStrategyID===this.exit.exitStrategyID).exitStartegy,this.sectionComplete.emit(this.exit)})}previous(){this.prev.emit(!0)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](ne.a),i["\u0275\u0275directiveInject"](O.a),i["\u0275\u0275directiveInject"](Li.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-section-exit-strategy"]],inputs:{isLastSection:"isLastSection",prevAvailable:"prevAvailable",exit:"exit"},outputs:{sectionComplete:"sectionComplete",prev:"prev"},decls:15,vars:8,consts:[[1,"d-flex","flex-grow-1","flex-column",3,"avnonLoader","ngSubmit"],["f","ngForm"],[1,"d-flex","flex-column","form-block","pl-3","pr-3","mb-auto"],[1,"form-group"],["for","exitStrategyID"],["name","exitStrategyID","id","exitStrategyID","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],[1,"d-flex","w-100","pl-3","pr-3","twitter-fill","pt-2","pb-2","bottom-non-sticky","border-top"],["class","font-weight-bold cursor-pointer mr-4",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","ml-auto",3,"disabled"],["for","exitStrategyDetail"],["name","exitStrategyDetail","id","exitStrategyDetail","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"font-weight-bold","cursor-pointer","mr-4",3,"click"],[1,"fas","fa-caret-left"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"form",0,1),i["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"label",4),i["\u0275\u0275text"](5,"Choose Strategy *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"select",5),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.exit.exitStrategyID=e}),i["\u0275\u0275elementStart"](7,"option",6),i["\u0275\u0275text"](8,"Please Select"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](9,Vi,2,2,"option",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,ji,4,1,"div",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",9),i["\u0275\u0275template"](12,Bi,3,0,"span",10),i["\u0275\u0275elementStart"](13,"button",11),i["\u0275\u0275text"](14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275reference"](1);i["\u0275\u0275property"]("avnonLoader",t.loading),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngModel",t.exit.exitStrategyID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.list),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",4===t.exit.exitStrategyID),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.prevAvailable),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",e.invalid||t.loading),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.isLastSection?"Submit":"Next"," ")}},directives:[_.E,_.r,_.s,A.a,_.B,_.A,_.q,_.t,_.v,_.D,F.m,F.n,_.b],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}"]}),e})();class Ui{constructor(){this.companyID=null,this.customerCompanyID=null,this.invoiceDate=null,this.invoiceNumber=null,this.paymentTerm=null,this.invoiceNote=null,this.dateSubmitted=null,this.submittedByID=null,this.baseCurrencyID=null,this.invoiceStatusID=null,this.invoiceID=null,this.inOut_InvoiceID=null,this.totalAmount=null,this.items=[]}}class Gi{constructor(){this.invoiceID=null,this.financialCategoryID=null,this.invoiceItemQuantity=null,this.invoiceItemCost=null,this.invoiceItemDiscount=null,this.submittedByID=null,this.invoiceItemNote=null,this.invoiceItemID=null}}let $i=(()=>{class e{constructor(e){this.http=e,this.BaseURI="https://api.incubatorportal.com/api"}getInvoice(e=0){return this.http.get(`${this.BaseURI}/Invoice?CompanyID=${e}`)}updateInvoice(e){return this.http.put(this.BaseURI+"/Invoice",e)}saveInvoice(e){return this.http.post(this.BaseURI+"/Invoice",e)}deleteInvoice(e=0){return this.http.delete(`${this.BaseURI}/Invoice/${e}`)}getInvoiceItems(e){return this.http.get(this.BaseURI+"/invoice/item?InvoiceID="+e)}saveInvoiceItem(e){return this.http.post(this.BaseURI+"/Invoice/Item",e)}updateInvoiceItem(e){return this.http.put(this.BaseURI+"/Invoice/Item",e)}deleteInvoiceItem(e){return this.http.delete(`${this.BaseURI}/invoice/item/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](P.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Hi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",34),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"]().onCustomerSelect(n)}),i["\u0275\u0275elementStart"](1,"span",35),i["\u0275\u0275element"](2,"img",36),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"h2"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",37),i["\u0275\u0275text"](6),i["\u0275\u0275pipe"](7,"date"),i["\u0275\u0275pipe"](8,"dateObject"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",e.companyLogo?n.blobUrl+e.companyLogo:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.companyName),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](7,3,i["\u0275\u0275pipeBind1"](8,6,e.dateAssociated),"dd MMM yyyy")," ")}}function qi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"p",38),i["\u0275\u0275text"](1," Can't find your customers? "),i["\u0275\u0275elementStart"](2,"span",39),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().addCustomer()}),i["\u0275\u0275text"](3,"Add it now."),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function zi(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",42),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.financialCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.financialCategory," ")}}function Wi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td",40),i["\u0275\u0275elementStart"](2,"select",41),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.financialCategoryID=e}),i["\u0275\u0275elementStart"](3,"option",42),i["\u0275\u0275text"](4,"Please Select"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,zi,2,2,"option",43),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"td",40),i["\u0275\u0275elementStart"](7,"input",44),i["\u0275\u0275listener"]("keyup",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().countTotal()})("ngModelChange",function(e){return t.$implicit.invoiceItemQuantity=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"td",40),i["\u0275\u0275elementStart"](9,"input",45),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.invoiceItemCost=e})("keyup",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().countTotal()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"td",40),i["\u0275\u0275elementStart"](11,"div",46),i["\u0275\u0275element"](12,"input",47),i["\u0275\u0275elementStart"](13,"div",48),i["\u0275\u0275elementStart"](14,"div",49),i["\u0275\u0275elementStart"](15,"button",50),i["\u0275\u0275element"](16,"span",51),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"ul",52),i["\u0275\u0275elementStart"](18,"li"),i["\u0275\u0275elementStart"](19,"a",53),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"]().deleteItem(n)}),i["\u0275\u0275text"](20,"Delete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,o=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate1"]("name","financialCategoryID-",n,""),i["\u0275\u0275property"]("ngModel",e.financialCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",o.incomeCategories),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate1"]("name","invoiceItemQuantity-",n,""),i["\u0275\u0275property"]("ngModel",e.invoiceItemQuantity),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate1"]("name","invoiceItemCost-",n,""),i["\u0275\u0275property"]("ngModel",e.invoiceItemCost),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("value",e.invoiceItemCost*e.invoiceItemQuantity||0),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("disabled",1===o.items.length)}}let Xi=(()=>{class e{constructor(e,t,n,i,o,a){this.invoiceService=e,this.activeModal=t,this.userService=n,this.financialService=i,this.modal=o,this.companyService=a,this.incomeCategories=[],this.invoice=new Ui,this.items=[new Gi],this.customers=[],this.filteredCustomers=[],this.customerName="",this.addNewCustomer=!1,this.total=0,this.blobUrl=H.a.apiBlobUrl+"/256px/",this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID}ngOnInit(){if(this.invoice.invoiceID&&(this.customerName=this.invoice.companyName,this.customer=new $.a,this.customer.companyName=this.customerName,this.customer.companyID=this.invoice.customerCompanyID,this.invoice.invoiceDate)){const e=new Date(this.invoice.invoiceDate);this.date={year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()}}this.getCustomers(),this.getFinancialCategory()}getCustomers(){this.customersLoading=!0,this.companyService.getCompanyConnect(this.companyID,2).subscribe(e=>{this.customers=e,this.customersLoading=!1})}getFinancialCategory(){this.categoryLoading=!0,this.financialService.getCategories(this.companyID,0,1).subscribe(e=>{this.incomeCategories=e,this.categoryLoading=!1})}submit(){this.loading=!0;const e=new Date(this.date.year,this.date.month-1,this.date.day);this.invoice.companyID=this.companyID,this.invoice.submittedByID=this.contactID,this.invoice.customerCompanyID=this.customer.companyID,this.invoice.invoiceDate=Object(c.a)(e),this.invoice.dateSubmitted=Object(c.a)(new Date),this.invoice.totalAmount=this.items.reduce((e,t)=>e+t.invoiceItemCost*t.invoiceItemQuantity,0),this.invoice.companyName=this.customers.find(e=>e.companyID===this.invoice.customerCompanyID).companyName||"Company Name",this.invoice.invoiceID?this.invoiceService.updateInvoice(this.invoice).pipe(Object(l.a)(()=>{const e=[];return this.items.forEach(t=>{t.invoiceID?e.push(this.invoiceService.updateInvoiceItem(t)):(t.submittedByID=this.contactID,t.invoiceID=this.invoice.invoiceID,e.push(this.invoiceService.saveInvoiceItem(t)))}),Object(f.a)(e)})).subscribe(()=>{this.invoice.items=this.items,this.activeModal.close(this.invoice)}):this.invoiceService.saveInvoice(this.invoice).pipe(Object(l.a)(e=>{this.invoice.invoiceID=e.inOut_InvoiceID;const t=[];return this.items.forEach(e=>{e.submittedByID=this.contactID,e.invoiceID=this.invoice.invoiceID,t.push(this.invoiceService.saveInvoiceItem(e))}),Object(f.a)(t)})).subscribe(()=>{this.invoice.items=this.items,this.activeModal.close(this.invoice),this.loading=!1})}addItem(){this.items.push(new Gi)}deleteItem(e){const t=this.items[e];if(t.invoiceItemID){const n=this.modal.open(C.a);return n.componentInstance.objectType="Invoice Item",n.componentInstance.objectDetails="",void n.result.then(n=>{"Yes"===n&&this.invoiceService.deleteInvoiceItem(t.invoiceItemID).subscribe(()=>{this.items.splice(e),this.countTotal()})})}this.items.splice(e,1),this.countTotal()}countTotal(){this.total=this.items.reduce((e,t)=>e+t.invoiceItemCost*t.invoiceItemQuantity,0)}addCustomer(){this.modal.open(Pe,{backdrop:"static",size:"lg",keyboard:!1}).result.then(e=>{this.customers.push(e),this.customer=e})}onCustomerSearch(e){var t,n;let i=[];e.length<1?(i=[],(this.addNewCustomer||(null===(t=this.customer)||void 0===t?void 0:t.companyID))&&(this.addNewCustomer=!1,this.customer=null)):(i=this.customers.filter(t=>t.companyName.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1),this.filteredCustomers=i,(this.addNewCustomer||(null===(n=this.customer)||void 0===n?void 0:n.companyID))&&(this.addNewCustomer=!1,this.customer=null)),this.filteredCustomers=i}onCustomerSelect(e){this.customer=e,this.customerName=e.companyName,this.filteredCustomers=[]}dismiss(){this.activeModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"]($i),i["\u0275\u0275directiveInject"](E.a),i["\u0275\u0275directiveInject"](O.a),i["\u0275\u0275directiveInject"](Le.a),i["\u0275\u0275directiveInject"](E.p),i["\u0275\u0275directiveInject"](ne.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-invoice-modal"]],decls:62,vars:17,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","d-flex","flex-column",3,"avnonLoader"],[1,"form-block","form","p-0","m-0","flex-grow-1","d-flex","flex-column",3,"submit"],["f","ngForm"],[1,"form-group"],["for","date"],[1,"input-group","max-input-width",3,"click"],["placeholder","yyyy-mm-dd","name","roundCloseDate","required","","ngbDatepicker","","id","date","container","body","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["datepicker","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text","bg-transparent",3,"click"],[1,"calendar-icon","icon-sm"],["for","invoiceNumber"],["type","text","required","","name","invoiceNumber","id","invoiceNumber",1,"form-control","max-input-width",3,"ngModel","ngModelChange"],[1,"form-group","position-relative"],["for","customerCompanyID"],["type","text","autocomplete","off","placeholder","Customer","id","customerCompanyID","name","company","required","",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"d-flex","flex-column","mt-1","w-100","list-container"],["class","entry",3,"click",4,"ngFor","ngForOf"],["class","twitter-fill p-2 mt-4",4,"ngIf"],[1,"table","w-100"],[1,"border-bottom","border-top-0","p-1"],[4,"ngFor","ngForOf"],[1,"cursor-pointer",3,"click"],["colspan","4"],[1,"plus-ico-2"],["colspan","3",1,"border-top","p-1"],[1,"border-top","p-1"],[1,"m-0"],[1,"d-flex","float-left","w-100","align-items-center","mt-auto"],[1,"btn","btn-primary","ml-auto",3,"disabled"],[1,"entry",3,"click"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","network",1,"img-fluid","img-48",3,"src"],[1,"meta"],[1,"twitter-fill","p-2","mt-4"],[1,"text-primary","cursor-pointer",3,"click"],[1,"p-1"],["required","",1,"form-control","category-input",3,"name","ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["type","number","required","",1,"form-control","unit-input",3,"name","ngModel","keyup","ngModelChange"],["type","number","required","",1,"form-control",3,"name","ngModel","ngModelChange","keyup"],[1,"d-flex"],["type","number","readonly","",1,"form-control",3,"value"],[1,"actions","ml-2"],[1,"dropdown"],["type","button","id","dd1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-30",3,"disabled"],[1,"ico","dots-ico"],["aria-labelledby","dd1",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"]],template:function(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h5",1),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",2),i["\u0275\u0275listener"]("click",function(){return t.dismiss()}),i["\u0275\u0275elementStart"](4,"span",3),i["\u0275\u0275text"](5,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"form",5,6),i["\u0275\u0275listener"]("submit",function(){return t.submit()}),i["\u0275\u0275elementStart"](9,"div",7),i["\u0275\u0275elementStart"](10,"label",8),i["\u0275\u0275text"](11,"Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",9),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275reference"](14).toggle()}),i["\u0275\u0275elementStart"](13,"input",10,11),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.date=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"div",12),i["\u0275\u0275elementStart"](16,"span",13),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275reference"](14).toggle()}),i["\u0275\u0275element"](17,"span",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"div",7),i["\u0275\u0275elementStart"](19,"label",15),i["\u0275\u0275text"](20,"Invoice #"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"input",16),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.invoice.invoiceNumber=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"div",17),i["\u0275\u0275elementStart"](23,"label",18),i["\u0275\u0275text"](24," Customer "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](25,"input",19),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.customerName=e})("keyup",function(e){return t.onCustomerSearch(e.target.value)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"div",20),i["\u0275\u0275template"](27,Hi,9,8,"div",21),i["\u0275\u0275pipe"](28,"slice"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](29,qi,4,0,"p",22),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"div",7),i["\u0275\u0275elementStart"](31,"table",23),i["\u0275\u0275elementStart"](32,"thead"),i["\u0275\u0275elementStart"](33,"tr"),i["\u0275\u0275elementStart"](34,"th",24),i["\u0275\u0275elementStart"](35,"label"),i["\u0275\u0275text"](36,"Financial Category"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"th",24),i["\u0275\u0275elementStart"](38,"label"),i["\u0275\u0275text"](39,"# Units"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](40,"th",24),i["\u0275\u0275elementStart"](41,"label"),i["\u0275\u0275text"](42,"Value per Unit"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](43,"th",24),i["\u0275\u0275elementStart"](44,"label"),i["\u0275\u0275text"](45,"Amount"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](46,"tbody"),i["\u0275\u0275template"](47,Wi,21,10,"tr",25),i["\u0275\u0275elementStart"](48,"tr",26),i["\u0275\u0275listener"]("click",function(){return t.addItem()}),i["\u0275\u0275elementStart"](49,"td",27),i["\u0275\u0275element"](50,"span",28),i["\u0275\u0275text"](51," Add item "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](52,"tfoot"),i["\u0275\u0275elementStart"](53,"tr"),i["\u0275\u0275element"](54,"td",29),i["\u0275\u0275elementStart"](55,"td",30),i["\u0275\u0275elementStart"](56,"h3",31),i["\u0275\u0275text"](57),i["\u0275\u0275pipe"](58,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](59,"div",32),i["\u0275\u0275elementStart"](60,"button",33),i["\u0275\u0275text"](61," Submit "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](8);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.invoice.invoiceID?"Edit":"Add"," Invoice "),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("avnonLoader",t.loading||t.customersLoading||t.categoryLoading),i["\u0275\u0275advance"](7),i["\u0275\u0275property"]("ngModel",t.date),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("ngModel",t.invoice.invoiceNumber),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",t.customerName),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind3"](28,10,t.filteredCustomers,0,6)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.addNewCustomer&&(null==t.customerName?null:t.customerName.length)>1&&!t.customer),i["\u0275\u0275advance"](18),i["\u0275\u0275property"]("ngForOf",t.items),i["\u0275\u0275advance"](10),i["\u0275\u0275textInterpolate1"]("Total: ",i["\u0275\u0275pipeBind2"](58,14,t.total,"1.2-2"),""),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("disabled",t.loading||e.invalid||!t.customer)}},directives:[A.a,_.E,_.r,_.s,E.o,_.b,_.A,_.q,_.t,F.m,F.n,_.B,_.v,_.D,_.w],pipes:[F.v,F.f,F.e,Pi.a],styles:[".form[_ngcontent-%COMP%]{max-height:86vh;min-height:86vh;overflow-x:hidden;overflow-y:auto}.max-input-width[_ngcontent-%COMP%]{max-width:180px}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#f0f3ff}.unit-input[_ngcontent-%COMP%]{max-width:100px}.category-input[_ngcontent-%COMP%]{width:250px}@media (max-width:1024px){.category-input[_ngcontent-%COMP%]{width:auto!important}}"]}),e})();var Yi=n("VQo2");function Ki(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td",12),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",12),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",12),i["\u0275\u0275elementStart"](6,"div",13),i["\u0275\u0275elementStart"](7,"span",14),i["\u0275\u0275text"](8),i["\u0275\u0275pipe"](9,"number"),i["\u0275\u0275pipe"](10,"userCurrency"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",15),i["\u0275\u0275elementStart"](12,"div",16),i["\u0275\u0275elementStart"](13,"button",17),i["\u0275\u0275element"](14,"span",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"ul",19),i["\u0275\u0275elementStart"](16,"li"),i["\u0275\u0275elementStart"](17,"a",20),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"](2).editInvoice(n)}),i["\u0275\u0275text"](18,"Edit"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"li"),i["\u0275\u0275elementStart"](20,"a",20),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"](2).deleteInvoice(n)}),i["\u0275\u0275text"](21,"Delete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.invoiceNumber),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.companyName),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate2"]("",i["\u0275\u0275pipeBind2"](9,4,e.totalAmount||0,"1.2-2")," ",i["\u0275\u0275pipeBind1"](10,7,""),"")}}function Qi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",21),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).previous()}),i["\u0275\u0275element"](1,"i",22),i["\u0275\u0275text"](2," Prev "),i["\u0275\u0275elementEnd"]()}}function Ji(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"table",3),i["\u0275\u0275elementStart"](2,"thead"),i["\u0275\u0275elementStart"](3,"tr"),i["\u0275\u0275elementStart"](4,"th",4),i["\u0275\u0275text"](5,"# Invoice"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",4),i["\u0275\u0275text"](7,"Customer"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",4),i["\u0275\u0275text"](9,"Total"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"tbody"),i["\u0275\u0275template"](11,Ki,22,9,"tr",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"span",6),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().addInvoice()}),i["\u0275\u0275element"](13,"span",7),i["\u0275\u0275text"](14," Record Sale "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](15,"div",8),i["\u0275\u0275elementStart"](16,"div",9),i["\u0275\u0275template"](17,Qi,3,0,"span",10),i["\u0275\u0275elementStart"](18,"button",11),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().submitIncome()}),i["\u0275\u0275text"](19," Next "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](11),i["\u0275\u0275property"]("ngForOf",e.invoices),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",e.prevAvailable)}}const Zi=function(){return{standalone:!0}};function eo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td",33),i["\u0275\u0275elementStart"](2,"div",13),i["\u0275\u0275elementStart"](3,"input",34,35),i["\u0275\u0275listener"]("blur",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"](2).editCategory(n)})("keyup.enter",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"](2).enterCategory(n)})("ngModelChange",function(e){return t.$implicit.financialCategory=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",15),i["\u0275\u0275elementStart"](6,"div",36),i["\u0275\u0275elementStart"](7,"button",37),i["\u0275\u0275element"](8,"span",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"ul",38),i["\u0275\u0275elementStart"](10,"li"),i["\u0275\u0275elementStart"](11,"a",20),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit,o=i["\u0275\u0275reference"](4);return n.toggle=!0,o.focus()}),i["\u0275\u0275text"](12,"Edit"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"li"),i["\u0275\u0275elementStart"](14,"a",20),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"](2).deleteCategory(n)}),i["\u0275\u0275text"](15,"Delete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"td",39),i["\u0275\u0275elementStart"](17,"input",40),i["\u0275\u0275listener"]("keyup",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).countExpenseTotal()})("ngModelChange",function(e){return t.$implicit.actualAmount=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,o=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate1"]("name","categoryIncome-",n,""),i["\u0275\u0275property"]("readOnly",!e.toggle)("focus",o.categoryFocus===n)("ngModel",e.financialCategory)("ngModelOptions",i["\u0275\u0275pureFunction0"](7,Zi)),i["\u0275\u0275advance"](14),i["\u0275\u0275propertyInterpolate1"]("name","amount-",n,""),i["\u0275\u0275property"]("ngModel",e.actualAmount)}}function to(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"form",23,24),i["\u0275\u0275elementStart"](2,"h1",12),i["\u0275\u0275text"](3,"Expenses"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"p",12),i["\u0275\u0275text"](5,"Please list all your expenses for the month"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"table",25),i["\u0275\u0275elementStart"](7,"tr"),i["\u0275\u0275elementStart"](8,"td",26),i["\u0275\u0275text"](9,"Category"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"td",27),i["\u0275\u0275text"](11,"Amount"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](12,eo,18,8,"tr",5),i["\u0275\u0275elementStart"](13,"tr"),i["\u0275\u0275elementStart"](14,"td",28),i["\u0275\u0275elementStart"](15,"span",29),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().saveExpenseCategory()}),i["\u0275\u0275text"](16,"Add Expense Category"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"td",30),i["\u0275\u0275elementStart"](18,"h3",31),i["\u0275\u0275text"](19),i["\u0275\u0275pipe"](20,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](21,"div",8),i["\u0275\u0275elementStart"](22,"div",9),i["\u0275\u0275elementStart"](23,"span",21),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().step=1}),i["\u0275\u0275element"](24,"i",22),i["\u0275\u0275text"](25," Prev "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"button",32),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().submitExpense()}),i["\u0275\u0275text"](27),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](1),t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngForOf",t.expenses),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](20,4,t.totalExpenses,"1.2-2")),i["\u0275\u0275advance"](7),i["\u0275\u0275property"]("disabled",e.invalid||!t.expenses.length),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.isLastSection?"Submit":"Next"," ")}}let no=(()=>{class e{constructor(e,t,n){this.invoiceService=e,this.financialService=t,this.modal=n,this.invoiceUpdated=new i.EventEmitter,this.prev=new i.EventEmitter,this.step=1,this.invoices=[],this.financialData=[],this.expenses=[],this.categoryFocus=null,this.expenseCategories=[],this.totalExpenses=0}ngOnInit(){this.getInvoices(),this.getFinancials()}previous(){this.prev.emit(!0)}submitIncome(){if(!this.invoices.length)return void(this.step=2);const e=[],t=[],n=[];let i=[];this.invoices.forEach(e=>{i=[...i,...e.items]}),Object(c.j)(i,"financialCategoryID").forEach(e=>{const o=i.filter(t=>t.financialCategoryID===e.financialCategoryID).reduce((e,t)=>e+t.invoiceItemQuantity*t.invoiceItemCost,0),a=this.financialData.findIndex(t=>t.financialCategoryID===e.financialCategoryID&&t.yearID===this.yearID&&t.monthID===this.monthID);if(-1!==a)this.financialData[a].actualAmount=o,n.push(this.financialData[a]);else{const n=new Yi.a;n.monthID=this.monthID,n.yearID=this.yearID,n.financialCategoryID=e.financialCategoryID,n.actualAmount=o,n.companyID=this.companyID,n.capturedBy=this.contactID,t.push(n)}}),t.length&&e.push(this.financialService.storeFinancial(t)),n.length&&e.push(this.financialService.updateFinancial(n)),this.loading=!0,Object(f.a)(e).subscribe(()=>{this.loading=!1,this.step=2})}submitExpense(){const e=[],t=[],n=[];this.loading=!0,this.expenses.forEach(e=>{e.companyFinancialID?n.push(e):t.push(e)}),t.length&&e.push(this.financialService.storeFinancial(t)),n.length&&e.push(this.financialService.updateFinancial(n)),Object(f.a)(e).subscribe(()=>{this.loading=!1,this.invoiceUpdated.emit(!0)})}getInvoices(){this.loading=!0;let e=[];this.invoiceService.getInvoice(this.companyID).pipe(Object(l.a)(t=>{e=t.filter(e=>{const t=new Date(e.invoiceDate);return this.monthID===t.getMonth()+1&&this.yearID===t.getFullYear()});const n=[];return e.forEach(e=>{n.push(this.invoiceService.getInvoiceItems(e.invoiceID))}),n.length?Object(f.a)(n):Object(h.a)([])})).subscribe(t=>{t.forEach((t,n)=>{if(t[0]){const n=e.findIndex(e=>e.invoiceID===t[0].invoiceID);-1!==n&&(e[n].totalAmount=t.reduce((e,t)=>e+t.invoiceItemQuantity*t.invoiceItemCost,0),e[n].items=t)}}),this.invoices=e,this.loading=!1})}addInvoice(){this.modal.open(Xi,{backdrop:"static",size:"lg"}).result.then(e=>{this.invoices.push(e)})}getFinancials(){this.financialLoading=!0,this.financialService.getFinancial({companyID:this.companyID,financialCategoryID:0,monthID:this.monthID,yearID:this.yearID}).subscribe(e=>{this.financialData=e,this.expenses=this.financialData.filter(e=>2===e.financialCategoryTypeID),this.financialLoading=!1,this.getCategories()})}getCategories(){this.categoriesLoading=!0,this.financialService.getCategories(this.companyID,0,0).subscribe(e=>{e.filter(e=>1===e.financialCategoryTypeID).length||(this.createIncomeCategory("Product Sales"),this.createIncomeCategory("Support")),this.expenseCategories=e.filter(e=>2===e.financialCategoryTypeID),this.expenseCategories.forEach(e=>{if(-1===this.expenses.findIndex(t=>t.financialCategoryID===e.financialCategoryID)){const t=new Yi.a;t.yearID=this.yearID,t.monthID=this.monthID,t.financialCategory=e.financialCategory,t.actualAmount=null,t.financialCategoryID=e.financialCategoryID,t.financialCategoryTypeID=2,t.companyID=this.companyID,t.capturedBy=this.contactID,this.expenses.push(t)}}),this.countExpenseTotal(),this.categoriesLoading=!1})}deleteInvoice(e){const t=this.invoices[e],n=this.modal.open(C.a);n.componentInstance.objectType="Invoice",n.componentInstance.objectDetails="Inoivce #"+t.invoiceNumber,n.result.then(n=>{"Yes"===n&&this.invoiceService.deleteInvoice(t.invoiceID).subscribe(()=>{this.invoices.splice(e,1),t.items.forEach(e=>{this.invoiceService.deleteInvoiceItem(e.invoiceItemID).subscribe()})})})}editInvoice(e){const t=this.invoices[e],n=this.modal.open(Xi,{backdrop:"static",size:"lg"});n.componentInstance.invoice=Object(c.l)(t),n.componentInstance.items=Object(c.l)(t.items),n.componentInstance.total=t.totalAmount,n.result.then(t=>{this.invoices[e]=t})}saveExpenseCategory(e=null){this.createCategory("Expense Category "+(this.expenseCategories.length+1),e)}deleteCategory(e){const t=this.expenses[e],n=this.modal.open(C.a);n.componentInstance.objectType="Category",n.componentInstance.objectDetails=t.financialCategory,n.result.then(n=>{"Yes"===n&&this.financialService.deleteCategory(t.financialCategoryID).subscribe(()=>{this.expenses.splice(e,1),t.companyFinancialID&&this.financialService.deleteFinancial(t.companyFinancialID).subscribe()})})}editCategory(e){const t=this.expenses[e],n=this.expenseCategories.find(e=>e.financialCategoryID===t.financialCategoryID);n&&(n.financialCategory=t.financialCategory,this.financialService.updateCategory(n).subscribe(),t.toggle=!1)}enterCategory(e){this.expenses[e].financialCategory&&this.saveExpenseCategory(e)}createCategory(e="",t=null){this.financialService.storeCategory({companyID:this.companyID,financialCategory:e,financialCategoryTypeID:2,financialCategoryCode:null}).subscribe(n=>{n.financialCategoryID=n.inOut_FinancialCategoryID,this.expenseCategories.push(n);const i=new Yi.a;i.yearID=this.yearID,i.monthID=this.monthID,i.financialCategory=e,i.actualAmount=null,i.financialCategoryID=n.financialCategoryID,i.financialCategoryTypeID=2,i.toggle=!0,i.companyID=this.companyID,i.capturedBy=this.contactID,null!==t?(this.expenses.splice(t+1,0,i),this.categoryFocus=t+1):(this.expenses.push(i),this.categoryFocus=this.expenses.length-1)})}createIncomeCategory(e){this.financialService.storeCategory({companyID:this.companyID,financialCategory:e,financialCategoryTypeID:1,financialCategoryCode:null}).subscribe()}countExpenseTotal(){this.totalExpenses=this.expenses.reduce((e,t)=>e+(t.actualAmount||0),0)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"]($i),i["\u0275\u0275directiveInject"](Le.a),i["\u0275\u0275directiveInject"](E.p))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-invoice-summary"]],inputs:{isLastSection:"isLastSection",prevAvailable:"prevAvailable",yearID:"yearID",monthID:"monthID",companyID:"companyID",contactID:"contactID",step:"step"},outputs:{invoiceUpdated:"invoiceUpdated",prev:"prev"},decls:3,vars:3,consts:[[1,"d-flex","flex-column","flex-grow-1",3,"avnonLoader"],[4,"ngIf"],["class","d-flex flex-column flex-grow-1 pt-4",4,"ngIf"],[1,"table"],[1,"pl-3","pr-3","border-top-0","border-bottom"],[4,"ngFor","ngForOf"],[1,"cursor-pointer","m-3",3,"click"],[1,"plus-ico-2"],[1,"mb-auto"],[1,"d-flex","w-100","pl-3","pr-3","twitter-fill","pt-2","pb-2","bottom-non-sticky","border-top"],["class","font-weight-bold cursor-pointer mr-4",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","ml-auto",3,"click"],[1,"pl-3","pr-3"],[1,"d-flex","align-items-center"],[1,"mr-2"],[1,"actions","ml-auto"],[1,"dropdown"],["type","button","id","dd1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["aria-labelledby","dd1",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"font-weight-bold","cursor-pointer","mr-4",3,"click"],[1,"fas","fa-caret-left"],[1,"d-flex","flex-column","flex-grow-1","pt-4"],["f","ngForm"],[1,"table","table-bordered","border-right-0","border-left-0","expense-table"],[1,"font-weight-bold","pl-3","pr-3","pb-2","pt-2","border-left-0","border-right-0"],[1,"font-weight-bold","pl-3","pr-3","pb-2","pt-2","border-right-0","amount-field"],[1,"pl-3","pr-2","border-left-0","border-right-0","pt-2","pb-2"],[1,"cursor-pointer","text-primary",3,"click"],[1,"pl-3","pr-2","border-right-0","pt-2","pb-2"],[1,"m-0"],[1,"btn","btn-sm","btn-primary","ml-auto",3,"disabled","click"],[1,"border-left-0","border-right-0"],["type","text","placeholder","Category","required","",1,"form-control",3,"readOnly","focus","name","ngModel","ngModelOptions","blur","keyup.enter","ngModelChange"],["inputElement",""],["ngbDropdown","","display","dynamic","container","body"],["type","button","ngbDropdownToggle","","aria-expanded","false",1,"btn","btn-30"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"border-right-0"],["type","number","required","",1,"form-control",3,"name","ngModel","keyup","ngModelChange"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,Ji,20,2,"ng-container",1),i["\u0275\u0275template"](2,to,28,7,"form",2),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("avnonLoader",t.loading||t.financialLoading||t.categoriesLoading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===t.step),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===t.step))},directives:[A.a,F.n,F.m,_.E,_.r,_.s,_.b,_.A,re.a,_.q,_.t,E.i,E.m,E.k,_.w],pipes:[F.f,$t.a],styles:[".expense-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}.expense-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:read-only{background:#fff!important;border:0}.expense-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:read-only:focus{outline:none;box-shadow:none}.expense-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.amount-field[_ngcontent-%COMP%]{width:220px}"]}),e})();var io=n("VPdJ");function oo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",16),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().previous()}),i["\u0275\u0275element"](1,"i",17),i["\u0275\u0275text"](2," Prev "),i["\u0275\u0275elementEnd"]()}}let ao=(()=>{class e{constructor(e,t,n,o,a){this.taskService=e,this.notificationService=t,this.distributionService=n,this.signalRService=o,this.discussionService=a,this.sectionDone=new i.EventEmitter,this.prev=new i.EventEmitter,this.goalStatus="",this.discussions=[]}ngOnInit(){this.goal.taskOwners[0].discussionID&&this.getDiscussions(this.goal.taskOwners[0].discussionID),this.goal.taskOwners[0].flagged&&(this.goalNeedAssist=!0)}previous(){this.prev.emit(!0)}getDiscussions(e){this.loading=!0,this.discussionService.fetchDiscussions(0,0,0,e,0,0).subscribe(e=>{this.discussions=e,this.loading=!1})}next(){const e=new Ae.a,t=this.goal.taskOwners[0];e.discussionTopic=this.goalStatus,e.discussionBody=this.goalStatus,e.dateCreated=Object(c.a)(new Date),e.discussionCategoryID=6,e.parentDiscussionID=t.discussionID,e.firstName=t.firstName,e.surname=t.surname,e.discussionCreatedByContactID=t.contactID,e.profilePhoto=t.profilePhoto,t.flagged=this.goalNeedAssist?Object(c.a)(new Date):null,this.discussionService.insertDiscussion(e).subscribe(e=>{this.taskService.updateTaskOwner(t).subscribe(),t.flagged&&this.goal.taskSupporters.length&&this.noticeSupporters(),this.sectionDone.emit(!0)})}noticeSupporters(){const e=Object(c.a)(new Date),t=`${this.goal.taskOwners[0].companyName} have flagged ${this.goal.taskTitle} for support`;this.goal.taskSupporters.forEach(n=>{const i={notificationCategoryID:B.a.goal_status_update,referenceID:this.goal.taskID,contactID:n.contactID,description:t,createdContact:this.contactID},o=(new Date).toString()+"|"+this.goal.taskID,a={date:e,body:t.replace("|",""),topic:t.replace("|",""),senderFullName:"",senderPhoto:"",notificationId:Math.floor(1e3*Math.random()),channel:"dashboard",reference:i.referenceID,notificationType:N.a.applicantRequest,senderId:i.createdContact,receivers:[i.contactID],uniqueId:o,discussionId:0};this.notificationService.noticeNotification(i).subscribe(()=>{this.signalRService.transferMessage("dashboard",a)})});const n=U.a.fullDomain()+"/goal/"+this.goal.taskID,i=`\n\t\t\t<p>${t.replace("|","")}</p>\n\t\t\t<br>\n\t\t\t<p><span class="btn btn-primary" style="margin: 0; padding: 0"><a href="${n}">See Details</a></span></p>\n\t\t\t<br>\n\t\t`,o={distributionTitle:"Goal Status Update",distributionCategoryID:null,referenceID:null,distributionDate:null,userID:this.contactID,emailBody:G.a.template(i),subjectLine:"Goal Status Update",senderEmail:"info@incubatorportal.com",senderName:`${this.user.firstName} ${this.user.surname}`,replyTo:null,contacts:this.goal.taskSupporters.map(e=>e.contactID)};this.distributionService.create(o).subscribe()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](ee.a),i["\u0275\u0275directiveInject"](Fe.a),i["\u0275\u0275directiveInject"](ze.a),i["\u0275\u0275directiveInject"]($e.a),i["\u0275\u0275directiveInject"](te.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-section-goal-status-update"]],inputs:{isLastSection:"isLastSection",prevAvailable:"prevAvailable",goal:"goal",companyID:"companyID",contactID:"contactID",user:"user"},outputs:{sectionDone:"sectionDone",prev:"prev"},decls:22,vars:22,consts:[[1,"d-flex","flex-column","flex-grow-1",3,"avnonLoader"],["status","ngForm"],[1,"pl-3","pr-3","mb-4"],[1,"form-group","d-flex","flex-column","pl-3","pr-3"],["for","goalStatus"],[1,"d-flex","flex-wrap","w-100"],["type","button",1,"btn","btn-sm","mb-1","mr-1",3,"click"],["type","button",1,"btn","btn-sm","mb-1",3,"click"],["name","goalStatus","id","goalStatus","placeholder","Comments","required","",1,"form-control","mt-3",3,"ngModel","ngModelChange"],[1,"d-flex","flex-column","mt-4","mb-4"],[1,"pl-3","pr-3"],[3,"companyID","user","contactID","loadTasks","showHeader","placeholder","showDate","parentTaskID"],[1,"mb-auto"],[1,"d-flex","w-100","pl-3","pr-3","twitter-fill","pt-2","pb-2","bottom-non-sticky","border-top"],["class","font-weight-bold cursor-pointer mr-4",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","ml-auto",3,"disabled","click"],[1,"font-weight-bold","cursor-pointer","mr-4",3,"click"],[1,"fas","fa-caret-left"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"form",0,1),i["\u0275\u0275elementStart"](2,"h1",2),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",3),i["\u0275\u0275elementStart"](5,"label",4),i["\u0275\u0275text"](6,"Overall status of the project?"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275elementStart"](8,"button",6),i["\u0275\u0275listener"]("click",function(){return t.goalOnTrack=!t.goalOnTrack,t.goalNeedAssist=!1}),i["\u0275\u0275text"](9," On Track "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"button",7),i["\u0275\u0275listener"]("click",function(){return t.goalNeedAssist=!t.goalNeedAssist,t.goalOnTrack=!1}),i["\u0275\u0275text"](11," Need Assistance "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"textarea",8),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.goalStatus=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",9),i["\u0275\u0275elementStart"](14,"h3",10),i["\u0275\u0275text"](15,"Key activities you're focusing this month."),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](16,"app-weekly-todo",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](17,"div",12),i["\u0275\u0275elementStart"](18,"div",13),i["\u0275\u0275template"](19,oo,3,0,"span",14),i["\u0275\u0275elementStart"](20,"button",15),i["\u0275\u0275listener"]("click",function(){return t.next()}),i["\u0275\u0275text"](21),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275reference"](1);i["\u0275\u0275property"]("avnonLoader",t.loading),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",t.goal.taskTitle," "),i["\u0275\u0275advance"](5),i["\u0275\u0275classProp"]("btn-info",t.goalOnTrack)("btn-light",!t.goalOnTrack),i["\u0275\u0275advance"](2),i["\u0275\u0275classProp"]("btn-info",t.goalNeedAssist)("btn-light",!t.goalNeedAssist),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.goalStatus),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("companyID",t.companyID)("user",t.user)("contactID",t.contactID)("loadTasks",!0)("showHeader",!0)("placeholder","Type action item")("showDate",!0)("parentTaskID",t.goal.taskID),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.prevAvailable),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",e.invalid),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.isLastSection?"Submit":"Next"," ")}},directives:[_.E,_.r,_.s,A.a,_.b,_.A,_.q,_.t,io.a,F.n],styles:[""]}),e})();var ro=n("V9Fx");function so(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"app-section-pre-diagnostic",6),i["\u0275\u0275listener"]("sectionComplete",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).preDiagnosticCompleted(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("company",e.companyProfile)}}function lo(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.form.thankYouMessage," ")}}function co(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate2"](" Thanks for applying to ",null==e.companyStage?null:e.companyStage.programTitle,", your submission has been received by ",(null==e.companyStage?null:e.companyStage.masterCompanyName)||"our company"," for review. Email communication about the status of your application will be sent in the next few weeks. ")}}function po(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"p",7),i["\u0275\u0275template"](2,lo,2,1,"ng-container",5),i["\u0275\u0275template"](3,co,2,2,"ng-container",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",null==e.form?null:e.form.thankYouMessage),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!(null!=e.form&&e.form.thankYouMessage))}}function mo(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.form.thankYouMessage," ")}}function uo(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1," Thanks for taking the time to provide your feedback, your input has been successfully recorded. "),i["\u0275\u0275elementContainerEnd"]())}function ho(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"p",7),i["\u0275\u0275template"](2,mo,2,1,"ng-container",5),i["\u0275\u0275template"](3,uo,2,0,"ng-container",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",null==e.form?null:e.form.thankYouMessage),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!(null!=e.form&&e.form.thankYouMessage))}}function fo(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,po,4,2,"ng-container",5),i["\u0275\u0275template"](2,ho,4,2,"ng-container",5),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",38===e.taskOwner.taskCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",38!==e.taskOwner.taskCategoryID)}}function go(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.taskSection," ")}}function vo(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1," General Questions "),i["\u0275\u0275elementContainerEnd"]())}function yo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",13),i["\u0275\u0275elementStart"](1,"h3",14),i["\u0275\u0275template"](2,go,2,1,"ng-container",5),i["\u0275\u0275template"](3,vo,2,0,"ng-container",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](4,"ngb-progressbar",15),i["\u0275\u0275pipe"](5,"number"),i["\u0275\u0275elementStart"](6,"span"),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",12!==e.taskSectionCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",12===e.taskSectionCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("width",100,"px"),i["\u0275\u0275property"]("value",i["\u0275\u0275pipeBind2"](5,10,100*t.sectionsCompleted/t.sections.length,"1.1-1"))("height","22px")("showValue",!0)("max",100),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate2"]("",t.sectionsCompleted,"/",t.sections.length," completed")}}function bo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"app-section-company",16),i["\u0275\u0275listener"]("sectionComplete",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).companyDone(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275property"]("isLastSection",e===t.sections.length-1)("company",t.companyProfile)}}function Io(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",24),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2).index;return i["\u0275\u0275nextContext"](3).prevStep(t)}),i["\u0275\u0275element"](1,"i",25),i["\u0275\u0275text"](2," Prev "),i["\u0275\u0275elementEnd"]()}}function xo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",17),i["\u0275\u0275elementStart"](2,"p",18),i["\u0275\u0275text"](3," Please list all your team members. "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"app-team",19),i["\u0275\u0275listener"]("triggerDismiss",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).teamTrigger=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"span",20),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).onTriggerTeamAdd()}),i["\u0275\u0275text"](6,"Add Team Member"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",21),i["\u0275\u0275template"](8,Io,3,0,"span",22),i["\u0275\u0275elementStart"](9,"button",23),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](3).nextStep(t)}),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("limitedView",!0)("preventNavigation",!0)("triggerAdd",t.teamTrigger)("companyID",t.masterCompanyID)("canEdit",t.taskOwner.contactID===t.contactID&&!t.disabledActions)("allowFilter",t.taskOwner.contactID===t.contactID&&!t.disabledActions),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",e>0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e===t.sections.length-1?"Submit":"Next"," ")}}function So(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"app-section-product",26),i["\u0275\u0275listener"]("sectionComplete",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).productDone(t)})("prev",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](3).prevStep(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("prevAvailable",e>0)("ipVisible",t.productSections.includes(23))("techVisible",t.productSections.includes(24))("isLastSection",e===t.sections.length-1)("product",t.product)}}function Co(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"app-section-market",27),i["\u0275\u0275listener"]("sectionComplete",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).marketDone(t)})("prev",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](3).prevStep(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("market",t.market)("prevAvailable",e>0)("isLastSection",e===t.sections.length-1)("product",t.product)}}function Do(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"app-section-project-plan",28),i["\u0275\u0275listener"]("sectionComplete",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](3).nextStep(t)})("prev",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](3).prevStep(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275property"]("prevAvailable",e>0)("product",t.product)("goal",t.goal)("isQstp",t.isQstp)("parentTaskID",t.goal.taskID)("isLastSection",e===t.sections.length-1)}}function wo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"app-section-budget",29),i["\u0275\u0275listener"]("sectionComplete",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](3).nextStep(t)})("prev",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](3).prevStep(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275property"]("prevAvailable",e>0)("goal",t.goal)("isQstp",t.isQstp)("parentTaskID",t.goal.taskID)("isLastSection",e===t.sections.length-1)}}function ko(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"thead"),i["\u0275\u0275elementStart"](1,"tr"),i["\u0275\u0275elementStart"](2,"th",34),i["\u0275\u0275text"](3,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"th",34),i["\u0275\u0275text"](5,"Nationality"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",34),i["\u0275\u0275text"](7,"Shares"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}function Eo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td"),i["\u0275\u0275elementStart"](6,"div",35),i["\u0275\u0275elementStart"](7,"span",36),i["\u0275\u0275text"](8),i["\u0275\u0275pipe"](9,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"div",37),i["\u0275\u0275elementStart"](11,"div",38),i["\u0275\u0275elementStart"](12,"button",39),i["\u0275\u0275element"](13,"span",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"ul",41),i["\u0275\u0275elementStart"](15,"li"),i["\u0275\u0275elementStart"](16,"a",42),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"](5).editHolder(n)}),i["\u0275\u0275text"](17,"Edit"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"li"),i["\u0275\u0275elementStart"](19,"a",42),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"](5).deleteHolder(n)}),i["\u0275\u0275text"](20,"Delete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.firstname," ",e.surname,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.country||"Nationality"),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind2"](9,4,e.shareholding,"1.1-2"),"%")}}function Mo(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td",43),i["\u0275\u0275elementStart"](2,"p",44),i["\u0275\u0275element"](3,"i",45),i["\u0275\u0275text"](4," Please add in your company shareholders "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}function Oo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",24),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2).index;return i["\u0275\u0275nextContext"](3).prevStep(t)}),i["\u0275\u0275element"](1,"i",25),i["\u0275\u0275text"](2," Prev "),i["\u0275\u0275elementEnd"]()}}function Po(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",30),i["\u0275\u0275elementStart"](2,"table",31),i["\u0275\u0275template"](3,ko,8,0,"thead",5),i["\u0275\u0275elementStart"](4,"tbody"),i["\u0275\u0275template"](5,Eo,21,7,"tr",8),i["\u0275\u0275template"](6,Mo,5,0,"tr",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"span",32),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).selectHolder()}),i["\u0275\u0275text"](8,"Add Share Holder"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",21),i["\u0275\u0275template"](10,Oo,3,0,"span",22),i["\u0275\u0275elementStart"](11,"button",33),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](3).nextStep(t)}),i["\u0275\u0275text"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.shareHolders.length),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.shareHolders),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.shareHolders.length),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",e>0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",!t.shareHolders.length),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e===t.sections.length-1?"Submit":"Next"," ")}}function To(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",48),i["\u0275\u0275element"](1,"i",45),i["\u0275\u0275text"](2," Please add your board members. If you don't have a board currently you can skip this part. "),i["\u0275\u0275elementEnd"]())}function Ao(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",37),i["\u0275\u0275elementStart"](1,"div",38),i["\u0275\u0275elementStart"](2,"button",39),i["\u0275\u0275element"](3,"span",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"ul",41),i["\u0275\u0275elementStart"](5,"li"),i["\u0275\u0275elementStart"](6,"a",42),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](6).editBoardMember(t)}),i["\u0275\u0275text"](7,"Edit"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"li"),i["\u0275\u0275elementStart"](9,"a",42),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](6).deleteBoardMember(t)}),i["\u0275\u0275text"](10,"Delete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function _o(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",52),i["\u0275\u0275elementStart"](1,"span",53),i["\u0275\u0275element"](2,"img",54),i["\u0275\u0275pipe"](3,"avatar"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",35),i["\u0275\u0275elementStart"](5,"h2",55),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](7,Ao,11,0,"div",56),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",57),i["\u0275\u0275elementStart"](9,"span",55),i["\u0275\u0275text"](10),i["\u0275\u0275pipe"](11,"date"),i["\u0275\u0275pipe"](12,"dateObject"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",58),i["\u0275\u0275elementStart"](14,"p",55),i["\u0275\u0275text"](15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](6);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",i["\u0275\u0275pipeBind1"](3,6,e.profilePhoto),i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate2"]("",e.firstName," ",e.surname,""),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(null==n.taskOwner?null:n.taskOwner.contactID)===n.contactID&&!n.disabledActions),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](11,8,i["\u0275\u0275pipeBind1"](12,11,e.dateConnected),"dd MMM, yyyy")),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](e.contactConnectDetail||"BIO")}}function Fo(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",59),i["\u0275\u0275element"](1,"i",60),i["\u0275\u0275text"](2,"No Board Members "),i["\u0275\u0275elementEnd"]())}function Ro(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",49),i["\u0275\u0275template"](1,_o,16,13,"div",50),i["\u0275\u0275template"](2,Fo,3,0,"p",51),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.boardMembers),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.boardMembers.length)}}function Lo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",24),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2).index;return i["\u0275\u0275nextContext"](3).prevStep(t)}),i["\u0275\u0275element"](1,"i",25),i["\u0275\u0275text"](2," Prev "),i["\u0275\u0275elementEnd"]()}}function Vo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,To,3,0,"p",46),i["\u0275\u0275template"](2,Ro,3,2,"div",47),i["\u0275\u0275elementStart"](3,"span",32),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).addBoardMember()}),i["\u0275\u0275text"](4,"Add Board Member"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",21),i["\u0275\u0275template"](6,Lo,3,0,"span",22),i["\u0275\u0275elementStart"](7,"button",23),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](3).nextStep(t)}),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.boardMembers.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.boardMembers.length),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",e>0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e===t.sections.length-1?"Submit":"Next"," ")}}function jo(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",64),i["\u0275\u0275element"](1,"i",60),i["\u0275\u0275text"](2," Form task do not exist. "),i["\u0275\u0275elementEnd"]())}function Bo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"app-section-custom-form",65),i["\u0275\u0275listener"]("prev",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2).index;return i["\u0275\u0275nextContext"](3).prevStep(t)})("sectionComplete",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2).index;return i["\u0275\u0275nextContext"](3).nextStep(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2),t=e.index,n=e.$implicit,o=i["\u0275\u0275nextContext"](3);i["\u0275\u0275property"]("formCategoryID",o.formCategoryID)("formFieldAnswerCategoryID",o.formFieldAnswerCategoryID)("formID",o.customFormOwner.formID)("taskOwner",o.customFormOwner)("answerReferenceID",o.customFormOwner.taskOwnerID)("taskOwnerID",o.customFormOwner.taskOwnerID)("task",o.customFormTask)("baselineOwner",o.taskOwner)("isLastSection",o.sections.length-1===t)("prevAvailable",t>0)("companyStage",o.companyStage)("taskOwnerSection",n)}}function No(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",61),i["\u0275\u0275template"](2,jo,3,0,"p",62),i["\u0275\u0275template"](3,Bo,1,12,"app-section-custom-form",63),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!e.customFormTask),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.customFormOwner&&e.customFormTask&&e.taskOwner)}}function Uo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"app-section-investment",66),i["\u0275\u0275listener"]("sectionComplete",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).investmentDone(t)})("dataUpdated",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).investmentDataUpdate(t)})("prev",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](3).prevStep(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("prevAvailable",e>0)("investments",t.investments)("totalRaised",t.totalRaised)("isLastSection",e===t.sections.length-1)}}function Go(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",24),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2).index;return i["\u0275\u0275nextContext"](3).prevStep(t)}),i["\u0275\u0275element"](1,"i",25),i["\u0275\u0275text"](2," Prev "),i["\u0275\u0275elementEnd"]()}}function $o(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",21),i["\u0275\u0275template"](2,Go,3,0,"span",22),i["\u0275\u0275elementStart"](3,"button",23),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](3).nextStep(t)}),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e>0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e===t.sections.length-1?"Submit":"Next"," ")}}function Ho(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"li"),i["\u0275\u0275elementStart"](1,"a",42),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](5).selectCustomerContact(t)}),i["\u0275\u0275text"](2,"Send Feedback"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function qo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",52),i["\u0275\u0275elementStart"](2,"span",53),i["\u0275\u0275element"](3,"img",69),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",35),i["\u0275\u0275elementStart"](5,"h2"),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",37),i["\u0275\u0275elementStart"](8,"div",38),i["\u0275\u0275elementStart"](9,"button",39),i["\u0275\u0275element"](10,"span",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"ul",41),i["\u0275\u0275elementStart"](12,"li"),i["\u0275\u0275elementStart"](13,"a",42),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"](5).editCustomer(n)}),i["\u0275\u0275text"](14,"Edit"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"li"),i["\u0275\u0275elementStart"](16,"a",42),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"](5).deleteCustomer(n)}),i["\u0275\u0275text"](17,"Delete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](18,Ho,3,0,"li",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"div",57),i["\u0275\u0275elementStart"](20,"span"),i["\u0275\u0275text"](21),i["\u0275\u0275pipe"](22,"userCurrency"),i["\u0275\u0275pipe"](23,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"div",57),i["\u0275\u0275elementStart"](25,"span"),i["\u0275\u0275text"](26),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("src",e.companyLogo?n.blobUrl+e.companyLogo:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.companyName),i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngIf",31===(null==n.task?null:n.task.taskCategoryID)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate3"](" Missed ",e.missedDeadlinesPastMonth," deadlines, ",i["\u0275\u0275pipeBind1"](22,7,"")," ",i["\u0275\u0275pipeBind2"](23,9,e.lifeTimeRevenue,"1.2-2")," lifetime revenue "),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](e.comment)}}function zo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",24),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2).index;return i["\u0275\u0275nextContext"](3).prevStep(t)}),i["\u0275\u0275element"](1,"i",25),i["\u0275\u0275text"](2," Prev "),i["\u0275\u0275elementEnd"]()}}function Wo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"p",18),i["\u0275\u0275text"](2,"Please list your customers. You can skip to the next step if you don't have any customers at the moment."),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",67),i["\u0275\u0275template"](4,qo,27,12,"ng-container",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"span",68),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).addCustomer()}),i["\u0275\u0275text"](6,"Add Customer"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",21),i["\u0275\u0275template"](8,zo,3,0,"span",22),i["\u0275\u0275elementStart"](9,"button",23),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](3).nextStep(t)}),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",t.customers),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",e>0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e===t.sections.length-1?"Submit":"Next"," ")}}function Xo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"li"),i["\u0275\u0275elementStart"](1,"a",42),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](5).selectCustomerContact(t,!0)}),i["\u0275\u0275text"](2,"Send Feedback"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function Yo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",52),i["\u0275\u0275elementStart"](2,"span",53),i["\u0275\u0275element"](3,"img",69),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",35),i["\u0275\u0275elementStart"](5,"h2"),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",37),i["\u0275\u0275elementStart"](8,"div",38),i["\u0275\u0275elementStart"](9,"button",39),i["\u0275\u0275element"](10,"span",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"ul",41),i["\u0275\u0275elementStart"](12,"li"),i["\u0275\u0275elementStart"](13,"a",42),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"](5).editProspect(n)}),i["\u0275\u0275text"](14,"Edit"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"li"),i["\u0275\u0275elementStart"](16,"a",42),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"](5).deleteProspect(n)}),i["\u0275\u0275text"](17,"Delete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](18,Xo,3,0,"li",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"div",57),i["\u0275\u0275elementStart"](20,"span"),i["\u0275\u0275text"](21),i["\u0275\u0275pipe"](22,"userCurrency"),i["\u0275\u0275pipe"](23,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"div",57),i["\u0275\u0275elementStart"](25,"span"),i["\u0275\u0275text"](26),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("src",e.companyLogo?n.blobUrl+e.companyLogo:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.companyName),i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngIf",31===(null==n.task?null:n.task.taskCategoryID)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate3"](" Missed ",e.missedDeadlinesPastMonth," deadlines, ",i["\u0275\u0275pipeBind1"](22,7,"")," ",i["\u0275\u0275pipeBind2"](23,9,e.lifeTimeRevenue,"1.2-2")," possible revenue "),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](e.comment)}}function Ko(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",24),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2).index;return i["\u0275\u0275nextContext"](3).prevStep(t)}),i["\u0275\u0275element"](1,"i",25),i["\u0275\u0275text"](2," Prev "),i["\u0275\u0275elementEnd"]()}}function Qo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"p",18),i["\u0275\u0275text"](2,"Please list your prospects. You can skip to the next step if you don't have any prospects at the moment."),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",67),i["\u0275\u0275template"](4,Yo,27,12,"ng-container",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"span",68),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).addProspect()}),i["\u0275\u0275text"](6,"Add Prospect"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",21),i["\u0275\u0275template"](8,Ko,3,0,"span",22),i["\u0275\u0275elementStart"](9,"button",23),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](3).nextStep(t)}),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",t.prospects),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",e>0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e===t.sections.length-1?"Submit":"Next"," ")}}function Jo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"app-section-exit-strategy",70),i["\u0275\u0275listener"]("sectionComplete",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).exitStrategyDone(t)})("prev",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](3).prevStep(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("prevAvailable",e>0)("isLastSection",e===t.sections.length-1)("exit",t.exitStrategy)}}const Zo=function(){return{standalone:!0}};function ea(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",72),i["\u0275\u0275elementStart"](1,"span",73),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",74),i["\u0275\u0275elementStart"](4,"textarea",75),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.comment=e}),i["\u0275\u0275text"](5,"                "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"textarea",76),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.sentimentDetail=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",37),i["\u0275\u0275elementStart"](8,"div",38),i["\u0275\u0275elementStart"](9,"button",39),i["\u0275\u0275element"](10,"span",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"ul",41),i["\u0275\u0275elementStart"](12,"li"),i["\u0275\u0275elementStart"](13,"a",42),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"](5).deleteRisk(n)}),i["\u0275\u0275text"](14,"Delete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,o=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("",n+1,"."),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.comment)("ngModelOptions",i["\u0275\u0275pureFunction0"](6,Zo))("focus",null!==o.riskFocus&&o.riskFocus===n),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.sentimentDetail)("ngModelOptions",i["\u0275\u0275pureFunction0"](7,Zo))}}function ta(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",24),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2).index;return i["\u0275\u0275nextContext"](3).prevStep(t)}),i["\u0275\u0275element"](1,"i",25),i["\u0275\u0275text"](2," Prev "),i["\u0275\u0275elementEnd"]()}}function na(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"form",3),i["\u0275\u0275elementStart"](2,"p",18),i["\u0275\u0275text"](3," Please list any risks your company faces and the steps you're taking to mitigate them "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,ea,15,8,"div",71),i["\u0275\u0275elementStart"](5,"span",68),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).addRisk()}),i["\u0275\u0275text"](6,"Add Risk"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",21),i["\u0275\u0275template"](8,ta,3,0,"span",22),i["\u0275\u0275elementStart"](9,"button",23),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).risksDone()}),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",t.riskSentiment),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",e>0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e===t.sections.length-1?"Submit":"Next"," ")}}function ia(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",52),i["\u0275\u0275elementStart"](1,"span",53),i["\u0275\u0275element"](2,"img",54),i["\u0275\u0275pipe"](3,"avatar"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",67),i["\u0275\u0275elementStart"](5,"div",35),i["\u0275\u0275elementStart"](6,"h2"),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",37),i["\u0275\u0275elementStart"](9,"div",38),i["\u0275\u0275elementStart"](10,"button",39),i["\u0275\u0275element"](11,"span",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"ul",41),i["\u0275\u0275elementStart"](13,"li"),i["\u0275\u0275elementStart"](14,"a",42),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"](5).editReference(n)}),i["\u0275\u0275text"](15,"Edit"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"li"),i["\u0275\u0275elementStart"](17,"a",42),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"](5).deleteReference(n)}),i["\u0275\u0275text"](18,"Delete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"div",57),i["\u0275\u0275elementStart"](20,"span"),i["\u0275\u0275text"](21),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"div",77),i["\u0275\u0275elementStart"](23,"p"),i["\u0275\u0275text"](24),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](25,"div",78),i["\u0275\u0275elementStart"](26,"span",79),i["\u0275\u0275element"](27,"i",80),i["\u0275\u0275text"](28),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](29,"span",79),i["\u0275\u0275element"](30,"i",81),i["\u0275\u0275text"](31),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",i["\u0275\u0275pipeBind1"](3,8,e.profilePhoto),i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate2"]("",e.firstName," ",e.surname,""),i["\u0275\u0275advance"](14),i["\u0275\u0275textInterpolate2"]("",(null==e?null:e.designation)||"designation",", ",(null==e?null:e.companyName)||"company",""),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.contactConnectDetail||"BIO"),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",(null==e?null:e.emailAddress)||"email"," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",(null==e?null:e.mobileNumber)||"phone"," ")}}function oa(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",24),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2).index;return i["\u0275\u0275nextContext"](3).prevStep(t)}),i["\u0275\u0275element"](1,"i",25),i["\u0275\u0275text"](2," Prev "),i["\u0275\u0275elementEnd"]()}}function aa(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"p",18),i["\u0275\u0275text"](2," Please provide the names and contact details of 3 references whom we can contact. At least one should be a business reference and the others may be personal. "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",49),i["\u0275\u0275template"](4,ia,32,10,"div",50),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"span",68),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).addReference()}),i["\u0275\u0275text"](6,"Add Reference"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",21),i["\u0275\u0275template"](8,oa,3,0,"span",22),i["\u0275\u0275elementStart"](9,"button",23),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](3).nextStep(t)}),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",t.references),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",e>0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e===t.sections.length-1?"Submit":"Next"," ")}}function ra(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",24),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2).index;return i["\u0275\u0275nextContext"](3).prevStep(t)}),i["\u0275\u0275element"](1,"i",25),i["\u0275\u0275text"](2," Prev "),i["\u0275\u0275elementEnd"]()}}function sa(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"form",3,82),i["\u0275\u0275elementStart"](3,"div",83),i["\u0275\u0275elementStart"](4,"label",84),i["\u0275\u0275text"](5,"First, tell us how you month went."),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",85),i["\u0275\u0275elementStart"](7,"button",86),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).monthlyReview.discussionValue=4}),i["\u0275\u0275text"](8," Very Good "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"button",87),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).monthlyReview.discussionValue=3}),i["\u0275\u0275text"](10," Good "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"button",87),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).monthlyReview.discussionValue=2}),i["\u0275\u0275text"](12," Bad "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"button",88),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).monthlyReview.discussionValue=1}),i["\u0275\u0275text"](14," Very Bad "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"div",89),i["\u0275\u0275elementStart"](16,"textarea",90),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).monthlyReview.discussionTopic=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](17,"div",91),i["\u0275\u0275elementStart"](18,"div",21),i["\u0275\u0275template"](19,ra,3,0,"span",22),i["\u0275\u0275elementStart"](20,"button",33),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).monthlySentimentDone()}),i["\u0275\u0275text"](21),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](2),t=i["\u0275\u0275nextContext"]().index,n=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](7),i["\u0275\u0275classProp"]("btn-info",4===n.monthlyReview.discussionValue)("btn-light",4!==n.monthlyReview.discussionValue),i["\u0275\u0275advance"](2),i["\u0275\u0275classProp"]("btn-info",3===n.monthlyReview.discussionValue)("btn-light",3!==n.monthlyReview.discussionValue),i["\u0275\u0275advance"](2),i["\u0275\u0275classProp"]("btn-info",2===n.monthlyReview.discussionValue)("btn-light",2!==n.monthlyReview.discussionValue),i["\u0275\u0275advance"](2),i["\u0275\u0275classProp"]("btn-info",1===n.monthlyReview.discussionValue)("btn-light",1!==n.monthlyReview.discussionValue),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",n.monthlyReview.discussionTopic),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t>0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",e.invalid||!n.monthlyReview.discussionValue),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t===n.sections.length-1?"Submit":"Next"," ")}}function la(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"app-invoice-summary",92),i["\u0275\u0275listener"]("prev",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](3).prevStep(t)})("invoiceUpdated",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](3).nextStep(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("yearID",t.yearID)("monthID",t.monthID)("prevAvailable",e>0)("isLastSection",e===t.sections.length-1)("step",t.invoiceStep)("companyID",t.taskOwner.companyID)("contactID",t.taskOwner.contactID)}}function ca(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"app-section-goal-status-update",93),i["\u0275\u0275listener"]("prev",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](3).prevStep(t)})("sectionDone",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](3).nextStep(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("prevAvailable",e>0)("isLastSection",e===t.sections.length-1)("goal",t.goal)("user",t.user)("companyID",t.taskOwner.companyID)("contactID",t.taskOwner.contactID)}}const da=function(){return[18,9]};function pa(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,yo,8,13,"div",9),i["\u0275\u0275template"](2,bo,1,2,"app-section-company",10),i["\u0275\u0275template"](3,xo,11,8,"ng-container",5),i["\u0275\u0275template"](4,So,2,5,"ng-container",5),i["\u0275\u0275template"](5,Co,2,4,"ng-container",5),i["\u0275\u0275template"](6,Do,1,6,"app-section-project-plan",11),i["\u0275\u0275template"](7,wo,1,5,"app-section-budget",12),i["\u0275\u0275template"](8,Po,13,6,"ng-container",5),i["\u0275\u0275template"](9,Vo,9,4,"ng-container",5),i["\u0275\u0275template"](10,No,4,2,"ng-container",5),i["\u0275\u0275template"](11,Uo,2,4,"ng-container",5),i["\u0275\u0275template"](12,$o,5,2,"ng-container",5),i["\u0275\u0275template"](13,Wo,11,3,"ng-container",5),i["\u0275\u0275template"](14,Qo,11,3,"ng-container",5),i["\u0275\u0275template"](15,Jo,2,3,"ng-container",5),i["\u0275\u0275template"](16,na,11,3,"ng-container",5),i["\u0275\u0275template"](17,aa,11,3,"ng-container",5),i["\u0275\u0275template"](18,sa,22,20,"ng-container",5),i["\u0275\u0275template"](19,la,2,7,"ng-container",5),i["\u0275\u0275template"](20,ca,2,6,"ng-container",5),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=t.index,o=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n===o.activeSectionIndex&&(12!==e.taskSectionCategoryID||12===e.taskSectionCategoryID&&o.customFormTask&&2!==o.customFormTask.formTypeID)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===e.taskSectionCategoryID&&n===o.activeSectionIndex&&(null==o.companyProfile?null:o.companyProfile.companyID)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===e.taskSectionCategoryID&&n===o.activeSectionIndex),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",3===e.taskSectionCategoryID&&n===o.activeSectionIndex&&!o.productLoading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",5===e.taskSectionCategoryID&&n===o.activeSectionIndex&&!o.productLoading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",16===e.taskSectionCategoryID&&o.product.companyProductID&&o.activeSectionIndex===n&&(null==o.goal?null:o.goal.taskID)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",26===e.taskSectionCategoryID&&o.activeSectionIndex===n&&(null==o.goal?null:o.goal.taskID)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",4===e.taskSectionCategoryID&&n===o.activeSectionIndex),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",13===e.taskSectionCategoryID&&o.activeSectionIndex===n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",12===e.taskSectionCategoryID&&o.activeSectionIndex===n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",7===e.taskSectionCategoryID&&o.activeSectionIndex===n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pureFunction0"](20,da).includes(e.taskSectionCategoryID)&&o.activeSectionIndex===n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",10===e.taskSectionCategoryID&&o.activeSectionIndex===n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",11===e.taskSectionCategoryID&&o.activeSectionIndex===n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",14===e.taskSectionCategoryID&&o.activeSectionIndex===n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",15===e.taskSectionCategoryID&&o.activeSectionIndex===n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",17===e.taskSectionCategoryID&&o.activeSectionIndex===n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",19===e.taskSectionCategoryID&&n===o.activeSectionIndex),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",22===e.taskSectionCategoryID&&o.activeSectionIndex===n&&o.taskOwner),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",20===e.taskSectionCategoryID&&n===o.activeSectionIndex&&o.goal)}}function ma(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,pa,21,21,"ng-container",8),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.sections)}}function ua(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",3),i["\u0275\u0275template"](1,so,1,1,"app-section-pre-diagnostic",4),i["\u0275\u0275template"](2,fo,3,2,"ng-container",5),i["\u0275\u0275template"](3,ma,2,1,"ng-container",5),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.companyProfile&&e.isEdge&&!e.preDiagnosticDone),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1!==(null==e.taskOwner?null:e.taskOwner.taskStatusID)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===(null==e.taskOwner?null:e.taskOwner.taskStatusID)&&e.preDiagnosticDone||e.editToggle)}}function ha(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",97),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](3).lockApplication()}),i["\u0275\u0275text"](1,"Lock Application"),i["\u0275\u0275elementEnd"]()}}function fa(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"p",95),i["\u0275\u0275element"](2,"i",60),i["\u0275\u0275text"](3),i["\u0275\u0275template"](4,ha,2,0,"span",96),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",null==e.companyStage?null:e.companyStage.companyName," has not submitted their application yet. You will be notified when they do. "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.task.submittedBy===e.contactID||e.isProgramAdmin)}}function ga(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.taskSection," ")}}function va(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1," Form Submission "),i["\u0275\u0275elementContainerEnd"]())}function ya(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",105),i["\u0275\u0275element"](1,"i",106),i["\u0275\u0275elementEnd"]())}function ba(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td",101),i["\u0275\u0275elementStart"](2,"div",102),i["\u0275\u0275elementStart"](3,"h1",103),i["\u0275\u0275template"](4,ga,2,1,"ng-container",5),i["\u0275\u0275template"](5,va,2,0,"ng-container",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,ya,2,0,"div",104),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",12!==e.taskSectionCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",12===e.taskSectionCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===(null==e?null:e.taskOwnerSectionStatusID))}}function Ia(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](6);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" , ",e.companyProfile.physicalAddress,"")}}function xa(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td",111),i["\u0275\u0275text"](2,"Business Objectives"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",110),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](6);i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",null==e.companyProfile?null:e.companyProfile.companyObjectives," ")}}function Sa(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",79),i["\u0275\u0275element"](1,"i",113),i["\u0275\u0275elementStart"](2,"a",114),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](6);i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate1"]("href","https://",e.companyProfile.website,"",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](null==e.companyProfile?null:e.companyProfile.website)}}function Ca(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"tr"),i["\u0275\u0275elementStart"](2,"td",107),i["\u0275\u0275text"](3,"Company Name:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"td",108),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"tr"),i["\u0275\u0275elementStart"](7,"td",109),i["\u0275\u0275text"](8,"Industry:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"td",110),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"tr"),i["\u0275\u0275elementStart"](12,"td",111),i["\u0275\u0275text"](13,"Mission:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"td",110),i["\u0275\u0275text"](15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"tr"),i["\u0275\u0275elementStart"](17,"td",111),i["\u0275\u0275text"](18,"Address:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"td",110),i["\u0275\u0275text"](20),i["\u0275\u0275template"](21,Ia,2,1,"ng-container",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"tr"),i["\u0275\u0275elementStart"](23,"td",111),i["\u0275\u0275text"](24,"Phone Number:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](25,"td",110),i["\u0275\u0275text"](26),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](27,xa,5,1,"tr",5),i["\u0275\u0275elementStart"](28,"tr"),i["\u0275\u0275elementStart"](29,"td",111),i["\u0275\u0275text"](30,"Website"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](31,"td",110),i["\u0275\u0275template"](32,Sa,4,2,"span",112),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",null==e.companyProfile?null:e.companyProfile.companyName," "),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",null==e.companyProfile?null:e.companyProfile.industry," "),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",null==e.companyProfile?null:e.companyProfile.companyMission," "),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",null==e.companyProfile?null:e.companyProfile.companyLocation," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==e.companyProfile?null:e.companyProfile.physicalAddress),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",null==e.companyProfile?null:e.companyProfile.telephoneNumber," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isQstp),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",null==e.companyProfile?null:e.companyProfile.website)}}function Da(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",120),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](3).index;return i["\u0275\u0275nextContext"](4).markSectionDone(t)}),i["\u0275\u0275text"](1,"Done "),i["\u0275\u0275elementEnd"]()}}function wa(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td",117),i["\u0275\u0275elementStart"](2,"span",118),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](6).onTriggerTeamAdd()}),i["\u0275\u0275text"](3," Add Team Member "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,Da,2,0,"button",119),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",2!==e.taskOwnerSectionStatusID)}}function ka(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"tr"),i["\u0275\u0275elementStart"](2,"td",115),i["\u0275\u0275elementStart"](3,"app-team",116),i["\u0275\u0275listener"]("triggerDismiss",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](5).teamTrigger=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,wa,5,1,"tr",5),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("limitedView",!0)("triggerAdd",e.teamTrigger)("companyID",e.masterCompanyID)("canEdit",e.taskOwner.contactID===e.contactID&&!e.disabledActions)("allowFilter",e.taskOwner.contactID===e.contactID&&!e.disabledActions),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.taskOwner.contactID===e.contactID&&!e.disabledActions)}}function Ea(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td",101),i["\u0275\u0275elementStart"](2,"p",44),i["\u0275\u0275element"](3,"i",45),i["\u0275\u0275text"](4," Section is not complete "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}function Ma(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",105),i["\u0275\u0275element"](1,"i",106),i["\u0275\u0275elementEnd"]())}function Oa(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](8);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("Yes - ",e.product.businessModelConfirmedDescription,"")}}function Pa(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"No"),i["\u0275\u0275elementContainerEnd"]())}function Ta(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,Oa,2,1,"ng-container",5),i["\u0275\u0275template"](2,Pa,2,0,"ng-container",5),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](7);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.product.businessModelConfirmed),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.product.businessModelConfirmed)}}function Aa(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",105),i["\u0275\u0275element"](1,"i",106),i["\u0275\u0275elementEnd"]())}function _a(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](8);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("Yes - ",e.product.intellectualPropertyProtectionRequiredDescription,"")}}function Fa(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"No"),i["\u0275\u0275elementContainerEnd"]())}function Ra(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,_a,2,1,"ng-container",5),i["\u0275\u0275template"](2,Fa,2,0,"ng-container",5),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](7);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.product.intellectualPropertyProtectionRequired),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.product.intellectualPropertyProtectionRequired)}}function La(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](8);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("Yes - ",e.product.externalIntellectualPropertyDependant,"")}}function Va(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"No"),i["\u0275\u0275elementContainerEnd"]())}function ja(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,La,2,1,"ng-container",5),i["\u0275\u0275template"](2,Va,2,0,"ng-container",5),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](7);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.product.externalIntellectualPropertyDependantRequired),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.product.externalIntellectualPropertyDependantRequired)}}function Ba(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](8);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("Yes - ",e.product.licensesInPlaceDescription,"")}}function Na(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"No"),i["\u0275\u0275elementContainerEnd"]())}function Ua(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,Ba,2,1,"ng-container",5),i["\u0275\u0275template"](2,Na,2,0,"ng-container",5),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](7);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.product.licensesInPlace),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.product.licensesInPlace)}}function Ga(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](8);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("Yes - ",e.product.domainNamesRegisteredDescription,"")}}function $a(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"No"),i["\u0275\u0275elementContainerEnd"]())}function Ha(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,Ga,2,1,"ng-container",5),i["\u0275\u0275template"](2,$a,2,0,"ng-container",5),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](7);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.product.domainNamesRegistered),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.product.domainNamesRegistered)}}function qa(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",105),i["\u0275\u0275element"](1,"i",106),i["\u0275\u0275elementEnd"]())}function za(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"tr"),i["\u0275\u0275elementStart"](2,"td",107),i["\u0275\u0275text"](3,"Product Name:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"td",108),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"tr"),i["\u0275\u0275elementStart"](7,"td",111),i["\u0275\u0275text"](8,"Product Description:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"td",110),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"tr"),i["\u0275\u0275elementStart"](12,"td",111),i["\u0275\u0275text"](13,"Product Status:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"td",110),i["\u0275\u0275text"](15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"tr"),i["\u0275\u0275elementStart"](17,"td",111),i["\u0275\u0275text"](18,"Background:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"td",110),i["\u0275\u0275text"](20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"tr"),i["\u0275\u0275elementStart"](22,"td",101),i["\u0275\u0275elementStart"](23,"div",102),i["\u0275\u0275elementStart"](24,"span",121),i["\u0275\u0275text"](25," Business Model "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](26,Ma,2,0,"div",104),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](27,"tr"),i["\u0275\u0275elementStart"](28,"td",122),i["\u0275\u0275text"](29," How are you going to make money: "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"td",55),i["\u0275\u0275text"](31),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](32,"tr"),i["\u0275\u0275elementStart"](33,"td",122),i["\u0275\u0275text"](34," Who is going to pay you for the service/product? "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](35,"td",55),i["\u0275\u0275text"](36),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"tr"),i["\u0275\u0275elementStart"](38,"td",122),i["\u0275\u0275text"](39," Have these assumptions been tested? "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](40,"td",55),i["\u0275\u0275template"](41,Ta,3,2,"ng-container",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](42,"tr"),i["\u0275\u0275elementStart"](43,"td",101),i["\u0275\u0275elementStart"](44,"div",102),i["\u0275\u0275elementStart"](45,"span",121),i["\u0275\u0275text"](46," Intellectual Property "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](47,Aa,2,0,"div",104),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](48,"tr"),i["\u0275\u0275elementStart"](49,"td",123),i["\u0275\u0275text"](50," Describe Intellectual property: "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](51,"td",124),i["\u0275\u0275text"](52),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](53,"tr"),i["\u0275\u0275elementStart"](54,"td",123),i["\u0275\u0275text"](55," Who Owns it? "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](56,"td",124),i["\u0275\u0275text"](57),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](58,"tr"),i["\u0275\u0275elementStart"](59,"td",123),i["\u0275\u0275text"](60," How this intellectual property is currently protected? "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](61,"td",124),i["\u0275\u0275text"](62),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](63,"tr"),i["\u0275\u0275elementStart"](64,"td",122),i["\u0275\u0275text"](65," Do you require intellectual property protection? "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](66,"td",55),i["\u0275\u0275template"](67,Ra,3,2,"ng-container",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](68,"tr"),i["\u0275\u0275elementStart"](69,"td",122),i["\u0275\u0275text"](70," Does your success depend on any external intellectual properties? "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](71,"td",55),i["\u0275\u0275template"](72,ja,3,2,"ng-container",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](73,"tr"),i["\u0275\u0275elementStart"](74,"td",122),i["\u0275\u0275text"](75," Do you have licenses or agreements in place? "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](76,"td",55),i["\u0275\u0275template"](77,Ua,3,2,"ng-container",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](78,"tr"),i["\u0275\u0275elementStart"](79,"td",122),i["\u0275\u0275text"](80," Have you registered domain names? "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](81,"td",55),i["\u0275\u0275template"](82,Ha,3,2,"ng-container",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](83,"tr"),i["\u0275\u0275elementStart"](84,"td",101),i["\u0275\u0275elementStart"](85,"div",102),i["\u0275\u0275elementStart"](86,"span",121),i["\u0275\u0275text"](87," Technology "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](88,qa,2,0,"div",104),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](89,"tr"),i["\u0275\u0275elementStart"](90,"td",125),i["\u0275\u0275text"](91," Describe technology: "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](92,"td",126),i["\u0275\u0275text"](93),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](94,"tr"),i["\u0275\u0275elementStart"](95,"td",125),i["\u0275\u0275text"](96," Describe how this technology applies to your target market: "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](97,"td",126),i["\u0275\u0275text"](98),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](99,"tr"),i["\u0275\u0275elementStart"](100,"td",125),i["\u0275\u0275text"](101," Has the technology proven to be feasible? "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](102,"td",126),i["\u0275\u0275text"](103),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](104,"tr"),i["\u0275\u0275elementStart"](105,"td",125),i["\u0275\u0275text"](106," Please identify and describe competing technologies: "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](107,"td",126),i["\u0275\u0275text"](108),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](6);i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](null==e.product?null:e.product.productName),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](null==e.product?null:e.product.productPitch),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](null==e.product?null:e.product.companyProductStatus),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](null==e.product?null:e.product.backgroundStory),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",null==e.product?null:e.product.businessModel),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",null==e.product?null:e.product.businessModel," "),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",null==e.product?null:e.product.paymentSource," "),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",null!==e.product.businessModelConfirmed),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",null==e.product?null:e.product.intellectualPropertyOverview),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",null==e.product?null:e.product.intellectualPropertyOverview," "),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",null==e.product?null:e.product.intellectualPropertyOwner," "),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",null==e.product?null:e.product.intellectualPropertyProtection," "),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",null!==e.product.intellectualPropertyProtectionRequired),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",null!==e.product.externalIntellectualPropertyDependantRequired),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",null!==e.product.licensesInPlace),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",null!==e.product.domainNamesRegistered),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",null==e.product?null:e.product.technologyUsed),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"]("",null==e.product?null:e.product.technologyUsed," "),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"]("",null==e.product?null:e.product.technologyUsedApplicable," "),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"]("",null==e.product?null:e.product.technologyUsedResult," "),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"]("",null==e.product?null:e.product.competitorTechnologies," ")}}function Wa(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,Ea,5,0,"tr",5),i["\u0275\u0275template"](2,za,109,21,"ng-container",5),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!(null!=e.product&&e.product.companyProductID)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==e.product?null:e.product.companyProductID)}}function Xa(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td",101),i["\u0275\u0275elementStart"](2,"p",44),i["\u0275\u0275element"](3,"i",45),i["\u0275\u0275text"](4," Section is not complete "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}function Ya(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"tr"),i["\u0275\u0275elementStart"](2,"td",107),i["\u0275\u0275text"](3,"Who are the buyers: "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"td",108),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"tr"),i["\u0275\u0275elementStart"](7,"td",111),i["\u0275\u0275text"](8,"Market size & growth rate: "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"td",110),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"tr"),i["\u0275\u0275elementStart"](12,"td",111),i["\u0275\u0275text"](13,"What is problem you're solving for customers? "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"td",110),i["\u0275\u0275text"](15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"tr"),i["\u0275\u0275elementStart"](17,"td",111),i["\u0275\u0275text"](18,"How are you going to solve it? "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"td",110),i["\u0275\u0275text"](20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"tr"),i["\u0275\u0275elementStart"](22,"td",111),i["\u0275\u0275text"](23,"Who are your competitors "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"td",110),i["\u0275\u0275text"](25),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"tr"),i["\u0275\u0275elementStart"](27,"td",111),i["\u0275\u0275text"](28,"How are you going to do this better than your customers "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](29,"td",110),i["\u0275\u0275text"](30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](31,"tr"),i["\u0275\u0275elementStart"](32,"td",111),i["\u0275\u0275text"](33," How will you maintain and develop your market? "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"td",110),i["\u0275\u0275text"](35),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](6);i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](null==e.market?null:e.market.companyProductMarket),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](null==e.market?null:e.market.companyProductMarketSize),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](null==e.market?null:e.market.companyMarketProblem),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](null==e.market?null:e.market.companyMarketSolution),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](null==e.market?null:e.market.competitors),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](null==e.market?null:e.market.competitiveAdvantage),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](null==e.market?null:e.market.marketMaintenanceStrategy)}}function Ka(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,Xa,5,0,"tr",5),i["\u0275\u0275template"](2,Ya,36,7,"ng-container",5),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!(null!=e.market&&e.market.companyProductMarketID)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==e.market?null:e.market.companyProductMarketID)}}function Qa(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td",55),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",55),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",55),i["\u0275\u0275text"](6),i["\u0275\u0275pipe"](7,"percent"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](6);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.firstname," ",e.surname,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.country||"Nationality"),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](7,4,e.shares/n.sharePool.shares)," ")}}function Ja(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td",128),i["\u0275\u0275elementStart"](2,"p",44),i["\u0275\u0275element"](3,"i",45),i["\u0275\u0275text"](4," Section is not complete "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}function Za(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"tr"),i["\u0275\u0275elementStart"](2,"td",115),i["\u0275\u0275elementStart"](3,"table",31),i["\u0275\u0275elementStart"](4,"thead"),i["\u0275\u0275elementStart"](5,"tr"),i["\u0275\u0275elementStart"](6,"th",127),i["\u0275\u0275text"](7,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",127),i["\u0275\u0275text"](9,"Nationality"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",127),i["\u0275\u0275text"](11,"Shares"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"tbody"),i["\u0275\u0275template"](13,Qa,8,6,"tr",8),i["\u0275\u0275template"](14,Ja,5,0,"tr",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](13),i["\u0275\u0275property"]("ngForOf",e.shareHolders),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.shareHolders.length)}}function er(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"tr"),i["\u0275\u0275elementStart"](2,"td",129),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td"),i["\u0275\u0275element"](6,"div",130),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate2"](" ",null==e.taskOwner?null:e.taskOwner.companyName," is expecting to generate ",i["\u0275\u0275pipeBind2"](4,2,e.totalRevenue,"1.1-2")," in revenue over next 3 years ")}}function tr(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",52),i["\u0275\u0275elementStart"](2,"span",53),i["\u0275\u0275element"](3,"img",69),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",35),i["\u0275\u0275elementStart"](5,"h2"),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",57),i["\u0275\u0275elementStart"](8,"span"),i["\u0275\u0275text"](9),i["\u0275\u0275pipe"](10,"userCurrency"),i["\u0275\u0275pipe"](11,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",57),i["\u0275\u0275elementStart"](13,"span"),i["\u0275\u0275text"](14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](6);i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("src",e.companyLogo?n.blobUrl+e.companyLogo:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.companyName),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate3"](" Missed ",e.missedDeadlinesPastMonth," deadlines, ",i["\u0275\u0275pipeBind1"](10,6,"")," ",i["\u0275\u0275pipeBind2"](11,8,e.lifeTimeRevenue,"1.2-2")," lifetime revenue "),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](e.comment)}}function nr(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"tr"),i["\u0275\u0275elementStart"](2,"td",131),i["\u0275\u0275elementStart"](3,"div",67),i["\u0275\u0275template"](4,tr,15,11,"ng-container",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",e.customers)}}function ir(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",52),i["\u0275\u0275elementStart"](2,"span",53),i["\u0275\u0275element"](3,"img",69),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",35),i["\u0275\u0275elementStart"](5,"h2"),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",57),i["\u0275\u0275elementStart"](8,"span",55),i["\u0275\u0275text"](9),i["\u0275\u0275pipe"](10,"userCurrency"),i["\u0275\u0275pipe"](11,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",57),i["\u0275\u0275elementStart"](13,"span",55),i["\u0275\u0275text"](14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](6);i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("src",e.companyLogo?n.blobUrl+e.companyLogo:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.companyName),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate3"](" Missed ",e.missedDeadlinesPastMonth," deadlines, ",i["\u0275\u0275pipeBind1"](10,6,"")," ",i["\u0275\u0275pipeBind2"](11,8,e.lifeTimeRevenue,"1.2-2")," possible revenue "),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](e.comment)}}function or(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"tr"),i["\u0275\u0275elementStart"](2,"td",131),i["\u0275\u0275elementStart"](3,"div",67),i["\u0275\u0275template"](4,ir,15,11,"ng-container",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",e.prospects)}}function ar(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",135),i["\u0275\u0275element"](1,"i",60),i["\u0275\u0275text"](2," Form task do not exist. "),i["\u0275\u0275elementEnd"]())}function rr(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",97),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](7).unlockApplication()}),i["\u0275\u0275text"](1,"Unlock Application"),i["\u0275\u0275elementEnd"]()}}function sr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"p",135),i["\u0275\u0275element"](1,"i",60),i["\u0275\u0275text"](2," Section is not complete. "),i["\u0275\u0275template"](3,rr,2,0,"span",96),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](6);i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",e.task.submittedBy===e.contactID||e.isProgramAdmin)}}function lr(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",97),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](7).unlockApplication()}),i["\u0275\u0275text"](1,"Unlock Application"),i["\u0275\u0275elementEnd"]()}}function cr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"p",135),i["\u0275\u0275element"](1,"i",60),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"date"),i["\u0275\u0275pipe"](4,"dateObject"),i["\u0275\u0275template"](5,lr,2,0,"span",96),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](6);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" Form has been submitted on ",i["\u0275\u0275pipeBind2"](3,2,i["\u0275\u0275pipeBind1"](4,5,null==e.customFormOwner?null:e.customFormOwner.dateSentForSignOff),"dd MMM, yyyy"),". "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",e.task.submittedBy===e.contactID||e.isProgramAdmin)}}function dr(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"button",136),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](6).navigateToFormReport()}),i["\u0275\u0275text"](2," Read Answers "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}}function pr(e,t){if(1&e&&i["\u0275\u0275element"](0,"app-form-review-feedback",137),2&e){const e=i["\u0275\u0275nextContext"](6);i["\u0275\u0275property"]("formFieldAnswerCategoryID",e.formFieldAnswerCategoryID)("contactID",e.customFormOwner.contactID)("formID",e.customFormOwner.formID)("taskOwner",e.customFormOwner)("showScore",!1)("tableView",!0)("answerReferenceID",e.customFormOwner.taskOwnerID)}}function mr(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"tr"),i["\u0275\u0275elementStart"](2,"td",115),i["\u0275\u0275elementStart"](3,"div",132),i["\u0275\u0275template"](4,ar,3,0,"p",133),i["\u0275\u0275template"](5,sr,4,1,"p",133),i["\u0275\u0275template"](6,cr,6,7,"p",133),i["\u0275\u0275template"](7,dr,3,0,"ng-container",5),i["\u0275\u0275template"](8,pr,1,7,"app-form-review-feedback",134),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",!e.customFormTask),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(!e.customFormOwner||e.customFormOwner&&1===e.customFormOwner.taskStatusID)&&e.customFormTask),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.customFormOwner&&1!==e.customFormOwner.taskStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.customFormOwner&&2===e.customFormOwner.formTypeID&&1!==e.customFormOwner.taskStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",3===(null==e.customFormOwner?null:e.customFormOwner.taskStatusID)&&2!==e.customFormOwner.formTypeID)}}function ur(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",52),i["\u0275\u0275elementStart"](1,"span",53),i["\u0275\u0275element"](2,"img",54),i["\u0275\u0275pipe"](3,"avatar"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",35),i["\u0275\u0275elementStart"](5,"h2",55),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",57),i["\u0275\u0275elementStart"](8,"span",55),i["\u0275\u0275text"](9),i["\u0275\u0275pipe"](10,"date"),i["\u0275\u0275pipe"](11,"dateObject"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",58),i["\u0275\u0275elementStart"](13,"p",55),i["\u0275\u0275text"](14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",i["\u0275\u0275pipeBind1"](3,5,e.profilePhoto),i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate2"]("",e.firstName," ",e.surname,""),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](10,7,i["\u0275\u0275pipeBind1"](11,10,e.dateConnected),"dd MMM, yyyy")),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](e.contactConnectDetail||"BIO")}}function hr(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",59),i["\u0275\u0275element"](1,"i",60),i["\u0275\u0275text"](2,"No Board Members "),i["\u0275\u0275elementEnd"]())}function fr(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"tr"),i["\u0275\u0275elementStart"](2,"td",115),i["\u0275\u0275elementStart"](3,"div",49),i["\u0275\u0275template"](4,ur,15,12,"div",50),i["\u0275\u0275template"](5,hr,3,0,"p",51),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",e.boardMembers),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.boardMembers.length)}}function gr(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"tr"),i["\u0275\u0275elementStart"](2,"td",138),i["\u0275\u0275text"](3,"Exit Strategy:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"td",108),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",null==e.companyProfile?null:e.companyProfile.exitStrategy," ")}}function vr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td",142),i["\u0275\u0275elementStart"](2,"p",143),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"td",144),i["\u0275\u0275elementStart"](5,"div",145),i["\u0275\u0275elementStart"](6,"p",146),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.comment),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](e.sentimentDetail)}}function yr(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"tr"),i["\u0275\u0275elementStart"](2,"td",115),i["\u0275\u0275elementStart"](3,"table",139),i["\u0275\u0275elementStart"](4,"thead"),i["\u0275\u0275elementStart"](5,"tr"),i["\u0275\u0275elementStart"](6,"th",140),i["\u0275\u0275text"](7," Describe the risk your company faces "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",141),i["\u0275\u0275text"](9,"What are you doing to mitigate the risk "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"tbody"),i["\u0275\u0275template"](11,vr,8,2,"tr",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](11),i["\u0275\u0275property"]("ngForOf",e.riskSentiment)}}function br(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",150),i["\u0275\u0275element"](1,"i",151),i["\u0275\u0275text"](2," This section is not completed "),i["\u0275\u0275elementEnd"]())}function Ir(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",152),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2).index;return i["\u0275\u0275nextContext"](4).setUpPlan(t)}),i["\u0275\u0275text"](1," See Action Plan "),i["\u0275\u0275elementEnd"]()}}function xr(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"tr"),i["\u0275\u0275elementStart"](2,"td",147),i["\u0275\u0275template"](3,br,3,0,"p",148),i["\u0275\u0275template"](4,Ir,2,0,"span",149),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",e.goal&&1===(null==e.goal.taskOwners[0]?null:e.goal.taskOwners[0].taskStatusID)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.goal&&1!==(null==e.goal.taskOwners[0]?null:e.goal.taskOwners[0].taskStatusID))}}function Sr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",52),i["\u0275\u0275elementStart"](1,"span",53),i["\u0275\u0275element"](2,"img",54),i["\u0275\u0275pipe"](3,"avatar"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",35),i["\u0275\u0275elementStart"](5,"h2",55),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",57),i["\u0275\u0275elementStart"](8,"span",55),i["\u0275\u0275text"](9),i["\u0275\u0275pipe"](10,"date"),i["\u0275\u0275pipe"](11,"dateObject"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",58),i["\u0275\u0275elementStart"](13,"p",55),i["\u0275\u0275text"](14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",i["\u0275\u0275pipeBind1"](3,5,e.profilePhoto),i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate2"]("",e.firstName," ",e.surname,""),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](10,7,i["\u0275\u0275pipeBind1"](11,10,e.dateConnected),"dd MMM, yyyy")),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](e.contactConnectDetail||"BIO")}}function Cr(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",59),i["\u0275\u0275element"](1,"i",60),i["\u0275\u0275text"](2,"No References "),i["\u0275\u0275elementEnd"]())}function Dr(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"tr"),i["\u0275\u0275elementStart"](2,"td",115),i["\u0275\u0275elementStart"](3,"div",49),i["\u0275\u0275template"](4,Sr,15,12,"div",50),i["\u0275\u0275template"](5,Cr,3,0,"p",51),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",e.references),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.references.length)}}function wr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",164),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"date"),i["\u0275\u0275pipe"](3,"dateObject"),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](2,1,i["\u0275\u0275pipeBind1"](3,4,e.investmentDate),"dd MMM yyyy")," ")}}function kr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td",162),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",162),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"userCurrency"),i["\u0275\u0275pipe"](6,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.companyName," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"](" ",i["\u0275\u0275pipeBind1"](5,3,"")," ",i["\u0275\u0275pipeBind2"](6,5,e.investmentAmount,"1.2-2")," ")}}function Er(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",156),i["\u0275\u0275elementStart"](1,"div",157),i["\u0275\u0275elementStart"](2,"h3",158),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,wr,4,6,"span",159),i["\u0275\u0275elementStart"](5,"span",160),i["\u0275\u0275text"](6,"Details:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"table",161),i["\u0275\u0275elementStart"](8,"tbody"),i["\u0275\u0275template"](9,kr,7,8,"tr",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"tfoot"),i["\u0275\u0275elementStart"](11,"tr"),i["\u0275\u0275element"](12,"td",162),i["\u0275\u0275elementStart"](13,"td",163),i["\u0275\u0275text"](14),i["\u0275\u0275pipe"](15,"userCurrency"),i["\u0275\u0275pipe"](16,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,o=i["\u0275\u0275nextContext"](6);i["\u0275\u0275classProp"]("border-bottom",o.investments.length>1&&n!==o.investments.length-1),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.investmentRound),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.investmentDate),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngForOf",e.investors),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate2"]("",i["\u0275\u0275pipeBind1"](15,7,""),"",i["\u0275\u0275pipeBind2"](16,9,e.investmentAmount,"1.2-2"),"")}}function Mr(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"tr"),i["\u0275\u0275elementStart"](2,"td",153),i["\u0275\u0275elementStart"](3,"div",154),i["\u0275\u0275elementStart"](4,"span"),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"userCurrency"),i["\u0275\u0275pipe"](7,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,Er,17,12,"div",155),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate3"]("Raised ",i["\u0275\u0275pipeBind1"](6,4,""),"",i["\u0275\u0275pipeBind2"](7,6,e.totalRaised,"1.2-2")," in ",e.investments.length," rounds"),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",e.investments)}}const Or=function(){return[6]};function Pr(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,ba,7,3,"tr",5),i["\u0275\u0275template"](2,Ca,33,8,"ng-container",5),i["\u0275\u0275template"](3,ka,5,6,"ng-container",5),i["\u0275\u0275template"](4,Wa,3,2,"ng-container",5),i["\u0275\u0275template"](5,Ka,3,2,"ng-container",5),i["\u0275\u0275template"](6,Za,15,2,"ng-container",5),i["\u0275\u0275template"](7,er,7,5,"ng-container",5),i["\u0275\u0275template"](8,nr,5,1,"ng-container",5),i["\u0275\u0275template"](9,or,5,1,"ng-container",5),i["\u0275\u0275template"](10,mr,9,5,"ng-container",5),i["\u0275\u0275template"](11,fr,6,2,"ng-container",5),i["\u0275\u0275template"](12,gr,6,1,"ng-container",5),i["\u0275\u0275template"](13,yr,12,1,"ng-container",5),i["\u0275\u0275template"](14,xr,5,2,"ng-container",5),i["\u0275\u0275template"](15,Dr,6,2,"ng-container",5),i["\u0275\u0275template"](16,Mr,9,9,"ng-container",5),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!i["\u0275\u0275pureFunction0"](16,Or).includes(e.taskSectionCategoryID)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===e.taskSectionCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===e.taskSectionCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",3===e.taskSectionCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",5===e.taskSectionCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",4===e.taskSectionCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",26===e.taskSectionCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",10===e.taskSectionCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",11===e.taskSectionCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",12===e.taskSectionCategoryID&&!n.customFormLoading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",13===e.taskSectionCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",14===e.taskSectionCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",15===e.taskSectionCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",16===e.taskSectionCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",17===e.taskSectionCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",7===e.taskSectionCategoryID)}}function Tr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"table",100),i["\u0275\u0275template"](1,Pr,17,17,"ng-container",8),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.sections)}}function Ar(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",175),i["\u0275\u0275elementStart"](1,"span",176),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"p",177),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.firstName," ",e.surname,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.discussionBody)}}function _r(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",175),i["\u0275\u0275elementStart"](1,"span",176),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"p",177),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.firstName," ",e.surname,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.discussionBody)}}function Fr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",175),i["\u0275\u0275elementStart"](1,"span",176),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"p",177),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.firstName," ",e.surname,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.discussionBody)}}function Rr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",175),i["\u0275\u0275elementStart"](1,"span",176),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"p",177),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.firstName," ",e.surname,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.discussionBody)}}function Lr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",175),i["\u0275\u0275elementStart"](1,"span",176),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"p",177),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.firstName," ",e.surname,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.discussionBody)}}function Vr(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1," Need Assistance "),i["\u0275\u0275elementContainerEnd"]())}function jr(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"On Track"),i["\u0275\u0275elementContainerEnd"]())}function Br(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Pending"),i["\u0275\u0275elementContainerEnd"]())}function Nr(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Completed"),i["\u0275\u0275elementContainerEnd"]())}function Ur(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,jr,2,0,"ng-container",5),i["\u0275\u0275template"](2,Br,2,0,"ng-container",5),i["\u0275\u0275template"](3,Nr,2,0,"ng-container",5),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===(null==e.goal.taskOwners[0]?null:e.goal.taskOwners[0].taskStatusID)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===(null==e.goal.taskOwners[0]?null:e.goal.taskOwners[0].taskStatusID)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",3===(null==e.goal.taskOwners[0]?null:e.goal.taskOwners[0].taskStatusID))}}const Gr=function(e,t,n,i){return{"tag-red":e,"tag-blue":t,"tag-orange":n,"tag-green":i}};function $r(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",178),i["\u0275\u0275template"](1,Vr,2,0,"ng-container",5),i["\u0275\u0275template"](2,Ur,4,3,"ng-container",5),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction4"](3,Gr,null==e.goal.taskOwners[0]?null:e.goal.taskOwners[0].flagged,!(null!=e.goal.taskOwners[0]&&e.goal.taskOwners[0].flagged)&&1===(null==e.goal.taskOwners[0]?null:e.goal.taskOwners[0].taskStatusID),!(null!=e.goal.taskOwners[0]&&e.goal.taskOwners[0].flagged)&&2===(null==e.goal.taskOwners[0]?null:e.goal.taskOwners[0].taskStatusID),!(null!=e.goal.taskOwners[0]&&e.goal.taskOwners[0].flagged)&&3===(null==e.goal.taskOwners[0]?null:e.goal.taskOwners[0].taskStatusID))),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==e.goal.taskOwners[0]?null:e.goal.taskOwners[0].flagged),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!(null!=e.goal.taskOwners[0]&&e.goal.taskOwners[0].flagged))}}function Hr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",175),i["\u0275\u0275elementStart"](1,"span",176),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"p",177),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.firstName," ",e.surname,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.discussionBody)}}function qr(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",67),i["\u0275\u0275elementStart"](1,"div",165),i["\u0275\u0275elementStart"](2,"h3",166),i["\u0275\u0275text"](3,"1. Sentiment"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"span",167),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,Ar,5,3,"div",168),i["\u0275\u0275pipe"](7,"slice"),i["\u0275\u0275elementStart"](8,"div",169),i["\u0275\u0275elementStart"](9,"div",89),i["\u0275\u0275elementStart"](10,"textarea",170),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](3).overallComment=t})("keyup.enter",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"](3);return n.postSectionComment(t.target.value,n.discussionCategoryEnum.overallStabilityReview)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",165),i["\u0275\u0275elementStart"](12,"h3",171),i["\u0275\u0275text"](13,"2. Team"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"span",167),i["\u0275\u0275text"](15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](16,_r,5,3,"div",168),i["\u0275\u0275pipe"](17,"slice"),i["\u0275\u0275elementStart"](18,"div",169),i["\u0275\u0275elementStart"](19,"div",89),i["\u0275\u0275elementStart"](20,"textarea",170),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](3).teamComment=t})("keyup.enter",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"](3);return n.postSectionComment(t.target.value,n.discussionCategoryEnum.teamCapacityReview)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"div",165),i["\u0275\u0275elementStart"](22,"h3",171),i["\u0275\u0275text"](23,"3. Customers"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"span",167),i["\u0275\u0275text"](25),i["\u0275\u0275pipe"](26,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](27,Fr,5,3,"div",168),i["\u0275\u0275pipe"](28,"slice"),i["\u0275\u0275elementStart"](29,"div",169),i["\u0275\u0275elementStart"](30,"div",89),i["\u0275\u0275elementStart"](31,"textarea",170),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](3).customerComment=t})("keyup.enter",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"](3);return n.postSectionComment(t.target.value,n.discussionCategoryEnum.customerSatisfactionReview)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](32,"div",165),i["\u0275\u0275elementStart"](33,"h3",166),i["\u0275\u0275text"](34,"4. Prospects"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](35,"span",167),i["\u0275\u0275text"](36),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](37,Rr,5,3,"div",168),i["\u0275\u0275pipe"](38,"slice"),i["\u0275\u0275elementStart"](39,"div",169),i["\u0275\u0275elementStart"](40,"div",89),i["\u0275\u0275elementStart"](41,"textarea",170),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](3).prospectComment=t})("keyup.enter",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"](3);return n.postSectionComment(t.target.value,n.discussionCategoryEnum.demandReview)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](42,"div",165),i["\u0275\u0275elementStart"](43,"h3",166),i["\u0275\u0275text"](44,"5. Sales"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](45,"span",167),i["\u0275\u0275text"](46),i["\u0275\u0275pipe"](47,"userCurrency"),i["\u0275\u0275pipe"](48,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](49,Lr,5,3,"div",168),i["\u0275\u0275pipe"](50,"slice"),i["\u0275\u0275elementStart"](51,"div",169),i["\u0275\u0275elementStart"](52,"div",89),i["\u0275\u0275elementStart"](53,"textarea",170),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](3).salesComment=t})("keyup.enter",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"](3);return n.postSectionComment(t.target.value,n.discussionCategoryEnum.salesReview)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](54,"div",165),i["\u0275\u0275elementStart"](55,"h3",172),i["\u0275\u0275text"](56,"6. Goal Status"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](57,"div",173),i["\u0275\u0275elementStart"](58,"span",36),i["\u0275\u0275text"](59),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](60,$r,3,8,"span",174),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](61,Hr,5,3,"div",168),i["\u0275\u0275pipe"](62,"slice"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",null==e.monthlyReview?null:e.monthlyReview.discussionBody," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind3"](7,25,e.overallIndicatorReview,0,2)),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",e.overallComment)("ngModelOptions",i["\u0275\u0275pureFunction0"](57,Zo)),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",e.teamCount," person hired. "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind3"](17,29,e.teamReview,0,2)),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",e.teamComment)("ngModelOptions",i["\u0275\u0275pureFunction0"](58,Zo)),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate2"](" ",e.customers.length," new customer(s). ",i["\u0275\u0275pipeBind2"](26,33,e.customerSatisfactionRating,"1.2-2"),"% approval rating "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind3"](28,36,e.customerIndicatorReview,0,2)),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",e.customerComment)("ngModelOptions",i["\u0275\u0275pureFunction0"](59,Zo)),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",e.prospects.length," new prospect(s). "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind3"](38,40,e.prospectIndicatorReview,0,2)),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",e.prospectComment)("ngModelOptions",i["\u0275\u0275pureFunction0"](60,Zo)),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate2"](" ",i["\u0275\u0275pipeBind1"](47,44,""),"",i["\u0275\u0275pipeBind2"](48,46,e.totalSales,"1.2-2")," generated. "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind3"](50,49,e.salesIndicatorReview,0,2)),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",e.salesComment)("ngModelOptions",i["\u0275\u0275pureFunction0"](61,Zo)),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](null==e.goal?null:e.goal.taskTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.goal),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind3"](62,53,e.goalStatus,0,2))}}function zr(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,Tr,2,1,"table",98),i["\u0275\u0275template"](2,qr,63,62,"div",99),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",31!==e.task.taskCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",31===e.task.taskCategoryID)}}function Wr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",94),i["\u0275\u0275template"](1,fa,5,2,"ng-container",5),i["\u0275\u0275template"](2,zr,3,2,"ng-container",5),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===e.taskOwner.taskStatusID&&38===e.task.taskCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1!==e.taskOwner.taskStatusID)}}const Xr=n("2BfV"),Yr=n("Tos5"),Kr=n("M8aS"),Qr=n("zF3M");Xr(m),Yr(m),Kr(m),Qr(m);let Jr=(()=>{class e{constructor(e,t,n,o,s,l,c,m,h,f,g,v,y,b,I,x,S,C,w,k,E,M){this.taskService=e,this.userService=t,this.companyService=n,this.notificationService=o,this.toastrService=s,this.router=l,this.contactService=c,this.sharePoolService=m,this.sentimentService=h,this.financialService=f,this.formService=g,this.programsService=v,this.permissionService=y,this.discussionService=b,this.companyProductService=I,this.portfolioService=x,this.networkService=S,this.signalRService=C,this.listService=w,this.investmentService=k,this.distributionService=E,this.modal=M,this.sectionDone=new i.EventEmitter,this.isPreDiagnostic=new i.EventEmitter,this.stageUpdates=new i.EventEmitter,this.sections=[],this.supporters=[],this.sectionsCompleted=0,this.productSections=[],this.activeSectionIndex=0,this.customers=[],this.prospects=[],this.exitStrategy=new D,this.product=new a.a,this.market=new r.a,this.budget=[],this.totalRevenue=0,this.shareHolders=[],this.months=p.a.create(),this.years=[],this.formCategoryID=8,this.formFieldAnswerCategoryID=1,this.boardMembers=[],this.references=[],this.riskSentiment=[],this.riskFocus=null,this.riskDetailFocus=null,this.blobUrl=d.a.apiBlobUrl+"/256px/",this.investments=[],this.totalRaised=0,this.edgeCompanyID=3630,this.editToggle=!1,this.countries=[],this.programAdmins=[],this.monthlyReview=new Ae.a,this.financials=[],this.totalSales=0,this.overallIndicatorReview=[],this.salesIndicatorReview=[],this.customerIndicatorReview=[],this.prospectIndicatorReview=[],this.teamReview=[],this.teamComment="",this.overallComment="",this.customerComment="",this.salesComment="",this.prospectComment="",this.team=[],this.teamCount=0,this.goalStatus=[],this.customerSatisfaction=[],this.customerSatisfactionRating=0,this.discussionCategoryEnum=Ae.b,this.invoiceStep=1,this.destroy$=new u.a,this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID}ngOnInit(){if(this.isQstp=window.location.hostname.toLocaleLowerCase().includes("qstp"),31===this.task.taskCategoryID){const e=new Date(this.task.endDate);this.yearID=e.getFullYear(),this.monthID=e.getMonth()+1}else this.yearID=(new Date).getFullYear(),this.years=[this.yearID,this.yearID+1,this.yearID+2];this.getCountryList(),this.getCompany(),this.productSections=this.sections.filter(e=>[23,24].includes(e.taskSectionCategoryID)).map(e=>e.taskSectionCategoryID),this.sections=this.sections.filter(e=>![23,24].includes(e.taskSectionCategoryID)),this.sections.some(e=>[3,5,6,20].includes(e.taskSectionCategoryID))&&this.getProduct(),this.sections.some(e=>10===e.taskSectionCategoryID)&&this.getCustomers(),this.sections.some(e=>11===e.taskSectionCategoryID)&&this.getProspects(),this.sections.some(e=>26===e.taskSectionCategoryID)&&this.getBudget(),this.sections.some(e=>4===e.taskSectionCategoryID)&&this.getShareHolders(),this.sections.some(e=>12===e.taskSectionCategoryID)&&this.getCustomFormTask(),this.sections.some(e=>13===e.taskSectionCategoryID)&&this.getBoardMembers(),this.sections.some(e=>15===e.taskSectionCategoryID)&&this.getRiskSentiments(),this.sections.some(e=>17===e.taskSectionCategoryID)&&this.getReferences(),this.sections.some(e=>7===e.taskSectionCategoryID)&&this.getInvestments(),this.sections.some(e=>19===e.taskSectionCategoryID)&&this.getMonthlySentiment(),this.sections.some(e=>22===e.taskSectionCategoryID)&&this.getFinancials(),this.sections.some(e=>2===e.taskSectionCategoryID)&&this.disabledActions&&this.getTeam(),38===this.taskOwner.taskCategoryID?this.getCompanyStage():this.preDiagnosticDone=!0,31===this.task.taskCategoryID&&this.getNetworkMember();const e=this.sections.findIndex(e=>2!==e.taskOwnerSectionStatusID);this.activeSectionIndex=-1!==e?e:0}getCountryList(){this.countryLoading=!0,this.listService.getCountryList().pipe(Object(s.a)(this.destroy$)).subscribe(e=>{this.countries=e,this.countryLoading=!1})}getCompanyStage(){this.stageLoading=!0,this.portfolioService.getCompanyRoadmapStages(this.taskOwner.companyID,0,0,0,this.taskOwner.referenceID,0).pipe(Object(s.a)(this.destroy$)).subscribe(e=>{var t;this.companyStage=e.find(e=>e.contactID===this.taskOwner.contactID),this.isEdge=2422===(null===(t=this.companyStage)||void 0===t?void 0:t.programInstanceID),this.isEdge?this.checkPreDiagnostic():this.preDiagnosticDone=!0,this.companyStage&&this.companyStage.programID&&this.getProgramAdmins(this.companyStage.programID),this.stageLoading=!1})}getProgramAdmins(e){this.adminsLoading=!0,this.permissionService.getPermission(Te.b.ProgramManager,e,0,0).pipe(Object(s.a)(this.destroy$)).subscribe(e=>{this.programAdmins=e,this.isProgramAdmin=e.some(e=>e.contactID===this.contactID),this.adminsLoading=!1},()=>{this.adminsLoading=!1})}getCompany(){this.companyLoading=!0,this.companyService.getCompanyProfile(this.masterCompanyID).pipe(Object(l.a)(e=>(this.companyProfile=e,this.companyService.getCompanyLocation(e.companyID)))).subscribe(e=>{const t=e[0]||null;t&&(this.companyProfile.companyLocation=(null==t?void 0:t.city)||(null==t?void 0:t.companyLocation),this.companyProfile.physicalAddress=null==t?void 0:t.physicalAddress),this.exitStrategy.exitStrategyID=this.companyProfile.exitStrategyID,this.exitStrategy.exitStrategyDetail=this.companyProfile.exitStrategyDetail,this.exitStrategy.exitStrategyDate=this.companyProfile.exitStrategyDate,this.exitStrategy.exitStrategy=this.companyProfile.exitStrategy,this.companyLoading=!1})}getProduct(){this.productLoading=!0,this.companyProductService.getProduct(this.masterCompanyID,0).pipe(Object(s.a)(this.destroy$)).subscribe(e=>{e[0]?(this.product=e[0],this.getMarket(),this.sections.some(e=>16===e.taskSectionCategoryID||20===e.taskSectionCategoryID)&&this.getGoals()):this.productLoading=!1})}getMarket(){this.companyProductService.getProductMarket(0,this.product.companyProductID).pipe(Object(s.a)(this.destroy$)).subscribe(e=>{e[0]&&(this.market=e[0]),this.productLoading=!1})}getCustomers(){this.companyService.getCompanyConnect(this.masterCompanyID,2).pipe(Object(s.a)(this.destroy$)).subscribe(e=>{this.customers=e.filter(e=>{if(31===this.task.taskCategoryID){const t=new Date(e.dateAssociated);return this.yearID===t.getFullYear()&&t.getMonth()+1===this.monthID}return!0})})}addCustomer(){this.modal.open(Pe,{backdrop:"static",size:"lg",keyboard:!1}).result.then(e=>{this.customers.push(e)})}editCustomer(e){const t=this.customers[e],n=this.modal.open(Pe,{backdrop:"static",size:"lg",keyboard:!1});n.componentInstance.customer=Object(c.l)(t),n.componentInstance.isEdit=!0,n.result.then(t=>{this.customers[e]=t})}deleteCustomer(e){const t=this.modal.open(C.a);t.componentInstance.objectType="Customer",t.componentInstance.objectDetails=this.customers[e].companyName,t.result.then(t=>{"Yes"===t&&this.companyService.deleteConnect(this.customers[e].companyConnectID).subscribe(()=>{this.customers.splice(e,1)})})}getProspects(){this.companyService.getCompanyConnect(this.masterCompanyID,3).subscribe(e=>{this.prospects=e.filter(e=>{if(31===this.task.taskCategoryID){const t=new Date(e.dateAssociated);return this.yearID===t.getFullYear()&&t.getMonth()+1===this.monthID}return!0})})}addProspect(){const e=this.modal.open(Pe,{backdrop:"static",size:"lg",keyboard:!1});e.componentInstance.isProspect=!0,e.result.then(e=>{this.prospects.push(e)})}editProspect(e){const t=this.prospects[e],n=this.modal.open(Pe,{backdrop:"static",size:"lg",keyboard:!1});n.componentInstance.customer=Object(c.l)(t),n.componentInstance.isProspect=!0,n.componentInstance.isEdit=!0,n.result.then(t=>{this.prospects[e]=t})}deleteProspect(e){const t=this.modal.open(C.a);t.componentInstance.objectType="Prospect",t.componentInstance.objectDetails=this.prospects[e].companyName,t.result.then(t=>{"Yes"===t&&this.companyService.deleteConnect(this.prospects[e].companyConnectID).subscribe(()=>{this.prospects.splice(e,1)})})}getBudget(){this.budgetLoading=!0,this.financialService.getBudgets({companyBudgetID:0,companyID:this.masterCompanyID,companyFinancialCategoryID:0,monthID:0,yearID:0,companyAccountID:0}).pipe(Object(s.a)(this.destroy$)).subscribe(e=>{this.budget=e,this.budgetLoading=!1,this.disabledActions&&this.generateBudgetChart()})}generateBudgetChart(){const e={chart:{type:"column",height:180},title:{text:""},xAxis:{categories:this.years,gridLineWidth:0,title:!1,labels:{enabled:!1}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},series:[],responsive:{rules:[{condition:{maxWidth:600},chartOptions:{legend:{align:"center",verticalAlign:"bottom",layout:"horizontal"},yAxis:{labels:{align:"left",x:0,y:-5},title:{text:null}},subtitle:{text:null},credits:{enabled:!1}}}]}},t={type:"column",name:"Budget",data:[],showInLegend:!1,color:"#accafc",legend:{enabled:!1}};this.years.forEach(e=>{const n=this.budget.filter(t=>t.yearID===e&&1===t.financialCategoryTypeID).reduce((e,t)=>e+(t.budgetAmount||0),0);t.data.push(n)}),this.totalRevenue=this.budget.filter(e=>1===e.financialCategoryTypeID&&this.years.includes(e.yearID)).reduce((e,t)=>e+(t.budgetAmount||0),0),e.series.push(t),this.budgetChart=m.chart("budgetChart",e),this.budgetLoading=!1}getShareHolders(){this.sharesLoading=!0,this.sharePoolService.getShareList(this.masterCompanyID,0).pipe(Object(l.a)(e=>(this.sharePool=e[0]||null,this.sharePool?this.sharePoolService.getShareTransaction(this.sharePool.sharePoolID):Object(h.a)([]))),Object(s.a)(this.destroy$)).subscribe(e=>{var t;this.shareHolders=e.map(e=>(e.shareholding&&(e.shareHolding=e.shareholding),e)),this.sharePool||(null===(t=this.taskOwner)||void 0===t?void 0:t.contactID)!==this.contactID?this.sharesLoading=!1:this.createPool()})}createPool(){const e=new g;e.companyID=this.taskOwner.companyID,e.sharePoolTitle=this.taskOwner.companyName+" shares",e.shareCategoryID=1,e.shares=1e6,e.shareValue=1,e.dateIssued=Object(c.a)(new Date),this.sharePoolService.postShare(e).subscribe(t=>{e.sharePoolID=t.inOut_SharePoolID,this.sharePool=e,this.sharesLoading=!1})}selectHolder(){const e=this.modal.open(I.a);e.componentInstance.isSingleSelect=!0,e.componentInstance.isMinimalist=!0,e.componentInstance.allowNewContact=!0,e.componentInstance.shareHolder=!0,e.componentInstance.title="Select Shareholder",e.result.then(e=>{const t=e[0];this.shareHolders.filter(e=>e.referenceID===t.contactID).length?this.toastrService.warning("This Share Holder already exist!"):this.addHolder(t)})}addHolder(e){const t=new y;t.referenceID=e.contactID,t.firstname=e.firstname||e.firstName,t.surname=e.surname,t.profilePhoto=e.profilePhoto,t.country=e.country,t.dateIssued=Object(c.a)(new Date),t.shareHolderCategoryID=1,t.sharePoolID=this.sharePool.sharePoolID;const n=this.modal.open(V,{backdrop:"static"});n.componentInstance.shareHolder=t,n.componentInstance.totalShareIssued=this.shareHolders.reduce((e,t)=>e+(t.shareHolding||0),0)||0,n.result.then(e=>{var t;e.country=null===(t=this.countries.find(t=>t.countryID===e.countryID))||void 0===t?void 0:t.country,this.shareHolders.push(e)})}deleteHolder(e){const t=this.shareHolders[e];if(!t.shareTransactionID)return void this.shareHolders.splice(e,1);const n=this.modal.open(C.a);n.componentInstance.objectType="Share Holder",n.componentInstance.objectDetails="Holder # "+t.shareTransactionID,n.result.then(n=>{"Yes"===n&&this.sharePoolService.deleteShareTransaction(t.shareTransactionID).subscribe(()=>{this.shareHolders.splice(e,1)})})}editHolder(e){const t=this.shareHolders[e],n=this.modal.open(V,{backdrop:"static"});n.componentInstance.shareHolder=Object(c.l)(t),n.componentInstance.totalShareIssued=(this.shareHolders.reduce((e,t)=>e+(t.shareHolding||0),0)||0)-(t.shareHolding||0),n.result.then(t=>{t.country=this.countries.find(e=>e.countryID===t.countryID).country,this.shareHolders[e]=t})}getCustomFormTask(){this.customFormLoading=!0;let e=this.sections.find(e=>12===e.taskSectionCategoryID).taskSectionID,t=0;31===this.task.taskCategoryID&&(e=this.task.taskID,t=this.task.taskID),this.taskService.getTask(0,1,e,0,0,0,0,0,!1,t).pipe(Object(l.a)(e=>(this.customFormTask=e[0]||null,this.customFormTask?this.taskService.getTaskOwners(e[0].taskID,0,0,this.taskOwner.contactID,0,0):Object(h.a)([])))).subscribe(e=>{var t;this.customFormOwner=e.find(e=>e.contactID===this.taskOwner.contactID)||null,!this.customFormOwner&&this.customFormTask&&(null===(t=this.taskOwner)||void 0===t?void 0:t.contactID)===this.contactID&&this.addCustomFormOwner(),this.customFormTask&&this.formService.getForm(0,0,this.customFormTask.formID).subscribe(e=>{e[0]&&(e[0].thankyouMessage&&(e[0].thankYouMessage=e[0].thankyouMessage),this.form=e[0])}),this.customFormLoading=!1})}addCustomFormOwner(){this.loading=!0;const e=this.customFormTask,t=new o.a;t.taskID=e.taskID,t.contactID=this.taskOwner.contactID,t.companyID=this.taskOwner.companyID,t.deadline=Object(c.a)(new Date),t.endDate=Object(c.a)(new Date),t.taskCategoryID=e.taskCategoryID,this.taskService.addTaskOwner(t).subscribe(e=>{this.customFormOwner=t,this.customFormOwner.formID=this.customFormTask.formID,this.loading=!1})}navigateToFormReport(){var e;this.router.navigate(["/form/report",this.customFormTask.formID,this.formCategoryID,this.customFormOwner.taskOwnerID,this.formFieldAnswerCategoryID],{queryParams:{programInstanceStageID:(null===(e=this.companyStage)||void 0===e?void 0:e.programInstanceStageID)||0}})}getBoardMembers(){this.boardMembersLoading=!0,this.contactService.getContactConnect(this.masterCompanyID,this.taskOwner.contactID,11,0,"",1,100,0).pipe(Object(s.a)(this.destroy$)).subscribe(e=>{this.boardMembers=e,this.boardMembersLoading=!1})}addBoardMember(){const e=this.modal.open(I.a);e.componentInstance.isSingleSelect=!0,e.componentInstance.isMinimalist=!0,e.componentInstance.allowNewContact=!0,e.componentInstance.boardMember=!0,e.componentInstance.title="Select Board Member",e.result.then(e=>{e[0]&&0===this.boardMembers.filter(t=>t.contactID===e[0].contactID).length&&this.postBoardMember(e[0])})}editBoardMember(e){const t=this.boardMembers[e],n=this.modal.open(x.a);n.componentInstance.header="Edit Board Member",n.componentInstance.label="Brief Bio",n.componentInstance.isBoardMember=!0,n.componentInstance.contact=Object(c.l)(t),n.result.then(e=>{t.contactConnectDetail=e.comment,t.dateConnected=e.date,t.firstName=e.contact.firstName,t.surname=e.contact.surname,this.contactService.updateContactConnected(t).subscribe()})}deleteBoardMember(e){const t=this.boardMembers[e],n=this.modal.open(C.a);n.componentInstance.objectType="Board Member",n.componentInstance.objectDetails=`${t.firstname} ${t.surname}`,n.result.then(n=>{"Yes"===n&&this.contactService.deleteContactConnect(t.contactConnectID).subscribe(()=>{this.toastrService.success("Board member has been deleted"),this.boardMembers.splice(e)})})}postBoardMember(e){const t=this.modal.open(x.a);t.componentInstance.header="Add Board Member",t.componentInstance.label="Brief Bio",t.componentInstance.contact=e,t.componentInstance.isBoardMember=!0,t.result.then(t=>{const n={contactID:e.contactID,companyID:this.companyID,submittedByContactID:this.contactID,referenceID:0,contactConnectCategoryID:11,dateConnected:t.date,connectUntil:null,contactConnectDetail:t.comment,contactConnectStatusID:1};this.loading=!0,this.contactService.createContactConnected(n).subscribe(n=>{(e=Object.assign(Object.assign({},t.contact),n)).contactConnectDetail=t.comment,e.contactConnectID=n.inOut_Output,this.boardMembers.push(e),this.loading=!1})})}getRiskSentiments(){this.riskSentimentLoading=!0,this.sentimentService.getSentiments(0,0,0,0,S.b.riskExcellingOverall,0,this.masterCompanyID,this.taskOwner.contactID).subscribe(e=>{this.riskSentiment=e.filter(e=>1===e.sentimentRatingID),this.riskSentiment.length||this.addRisk(),this.riskSentimentLoading=!1})}addRisk(){this.riskFocus=null,this.riskDetailFocus=null;const e=new S.a;e.contactID=this.contactID,e.referenceID=0,e.sentimentCategoryID=S.b.riskExcellingOverall,e.sentimentRatingID=1,e.createdByCompanyID=this.masterCompanyID,e.createdByContactID=this.contactID,e.datePosted=Object(c.a)(new Date),e.comment="",e.sentimentDetail="",this.riskSentiment.push(e),this.riskFocus=this.riskSentiment.length-1}updateRisk(e){const t=this.riskSentiment[e];t.comment&&this.sentimentService.updateSentiment(t).subscribe()}deleteRisk(e){const t=this.modal.open(C.a);t.componentInstance.objectType="Sentiment",t.componentInstance.objectDetails="Risk",t.result.then(t=>{if("Yes"===t){if(!this.riskSentiment[e].sentimentID)return void this.riskSentiment.splice(e,1);this.sentimentService.deleteSentiment(this.riskSentiment[e].sentimentID).subscribe(()=>{this.riskSentiment.splice(e,1)})}})}risksDone(){this.riskSentiment.forEach((e,t)=>{e.sentimentID?this.updateRisk(t):e.comment&&this.sentimentService.addSentiment(e).subscribe(n=>{e.sentimentID=n.inOut_SentimentID,this.riskSentiment[t]=e})}),this.nextStep(this.activeSectionIndex)}onTriggerTeamAdd(){this.teamTrigger=!0}markSectionDone(e){this.riskFocus=null,this.riskDetailFocus=null,window.scroll({top:0,left:0,behavior:"smooth"}),this.sectionDone.emit(e)}setUpPlan(e){this.router.navigate(["/goal",this.goal.taskID],{queryParams:{sectionID:this.sections[e].taskSectionID}})}getGoals(){this.goalLoading=!0,this.taskService.getTask(0,6,this.product.companyProductID,0,0,0,0,0,!0).pipe(Object(s.a)(this.destroy$)).subscribe(e=>{var t;this.goal=e[0]||null,this.goal&&this.disabledActions&&(null===(t=this.goal.taskOwners[0])||void 0===t?void 0:t.discussionID)&&this.getGoalDiscussions(this.goal.taskOwners[0].discussionID),this.goal||this.taskOwner.contactID!==this.contactID||this.createGoalProduct(),this.goalLoading=!1})}createGoalProduct(){const e=this.product;this.goalLoading=!0;const t=new b.a;t.taskTitle=e.productName+" project plan",t.taskCategoryID=6,t.submittedBy=this.contactID,t.companyID=this.companyID,t.endDate=Object(c.a)(new Date),t.referenceID=e.companyProductID,this.taskService.addTask(t).pipe(Object(l.a)(e=>{t.taskID=e.inOut_TaskID;const n=new o.a;return n.contactID=this.contactID,n.companyID=this.companyID,n.taskID=t.taskID,n.endDate=t.endDate,this.taskService.addTaskOwner(n)})).subscribe(e=>{t.taskOwners=[e],t.taskStatusID=1,this.supporters.forEach(e=>{const n=new w.a;n.contactID=e.contactID,n.taskID=t.taskID,this.taskService.addTaskSupporter(n).subscribe()}),this.goal=t,this.createGoalDiscussion(t,e)})}createGoalDiscussion(e,t){this.discussionService.insertDiscussion({discussionTopic:e.taskTitle,discussionCategoryID:6,referenceID:t.taskOwnerID,isDirectMessage:!0,discussionCreatedByContactID:this.contactID,discussionBody:e.taskTitle,parentDiscussionID:0}).subscribe(e=>{this.discussionService.addMember({discussionID:e.discussionID,contactID:this.contactID,isAdmin:!0}).subscribe(),this.goalLoading=!1})}getReferences(){this.referenceLoading=!0,this.contactService.getContactConnect(this.masterCompanyID,this.taskOwner.contactID,12,0,"",1,100,0).pipe(Object(s.a)(this.destroy$)).subscribe(e=>{this.references=e,this.referenceLoading=!1})}addReference(){const e=this.modal.open(I.a);e.componentInstance.isSingleSelect=!0,e.componentInstance.isMinimalist=!0,e.componentInstance.allowNewContact=!0,e.componentInstance.isReference=!0,e.componentInstance.title="Select Reference",e.result.then(e=>{e[0]&&0===this.references.filter(t=>t.contactID===e[0].contactID).length&&this.postReference(e[0])})}editReference(e){const t=this.references[e],n=this.modal.open(x.a);n.componentInstance.header="Edit Reference",n.componentInstance.label="Details",n.componentInstance.isReference=!0,n.componentInstance.contact=Object(c.l)(t),n.result.then(e=>{t.contactConnectDetail=e.comment,t.dateConnected=e.date,t.firstName=e.contact.firstName,t.surname=e.contact.surname,this.contactService.updateContactConnected(t).subscribe()})}deleteReference(e){const t=this.references[e],n=this.modal.open(C.a);n.componentInstance.objectType="Reference",n.componentInstance.objectDetails=`${t.firstname} ${t.surname}`,n.result.then(n=>{"Yes"===n&&this.contactService.deleteContactConnect(t.contactConnectID).subscribe(()=>{this.toastrService.success("Reference has been deleted"),this.references.splice(e)})})}postReference(e){const t=this.modal.open(x.a);t.componentInstance.header="Add Reference",t.componentInstance.label="Details",t.componentInstance.contact=e,t.componentInstance.isReference=!0,t.result.then(t=>{const n={contactID:e.contactID,companyID:this.companyID,submittedByContactID:this.contactID,referenceID:0,contactConnectCategoryID:12,dateConnected:t.date,connectUntil:null,contactConnectDetail:t.comment,contactConnectStatusID:1};this.loading=!0,this.contactService.createContactConnected(n).subscribe(n=>{(e=Object.assign(Object.assign({},t.contact),n)).contactConnectDetail=t.comment,e.contactConnectID=n.inOut_Output,this.references.push(e),this.loading=!1})})}getInvestments(){this.investmentLoading=!0;let e=[];this.investmentService.getInvestments(this.masterCompanyID).pipe(Object(l.a)(t=>{const n=[];return e=Object(c.j)(t,"investmentID"),e.filter(e=>{n.push(this.investmentService.getInvestors(e.investmentID,0,0))}),n.length?Object(f.a)(n):Object(h.a)(n)}),Object(s.a)(this.destroy$)).subscribe(t=>{t.forEach(t=>{if(t[0]){const n=e.findIndex(e=>e.investmentID===t[0].investmentID);-1!==n&&(e[n].investors=t,e[n].investmentAmount=t.reduce((e,t)=>e+(t.investmentAmount||0),0))}}),this.investments=e,this.totalRaised=this.investments.reduce((e,t)=>e+(t.investmentAmount||0),0),this.investmentLoading=!1})}companyDone(e){this.companyProfile=e,this.nextStep(this.activeSectionIndex)}productDone(e){this.product=e,this.goal||this.createGoalProduct(),this.nextStep(this.activeSectionIndex)}marketDone(e){this.market=e,this.nextStep(this.activeSectionIndex)}investmentDone(e){this.investments=e,this.nextStep(this.activeSectionIndex)}investmentDataUpdate(e){this.investments=e,this.totalRaised=this.investments.reduce((e,t)=>e+(t.investmentAmount||0),0)}exitStrategyDone(e){this.exitStrategy=e,this.companyProfile.exitStrategyID=e.exitStrategyID,this.companyProfile.exitStrategyDetail=e.exitStrategyDetail,this.companyProfile.exitStrategy=e.exitStrategy,this.companyProfile.exitStrategyDate=e.exitStrategyDate,this.nextStep(this.activeSectionIndex)}nextStep(e){if(this.companyStage&&e===this.sections.length-1){const t=this.modal.open(_e,{backdrop:"static",keyboard:!1});t.componentInstance.form=this.form,t.result.then(t=>{var n;if(!t)return;const i=e+1;this.sections[i]&&(this.activeSectionIndex=i),this.customFormOwner&&(this.customFormOwner.taskStatusID=[2837,2791].includes(this.customFormTask.formID)||2===(null===(n=this.customFormOwner)||void 0===n?void 0:n.formTypeID)?2:3,this.customFormOwner.dateSentForSignOff=Object(c.a)(new Date),this.taskService.updateTaskOwner(this.customFormOwner).subscribe()),this.companyStage&&2===this.companyStage.companyProgramStageStatusID&&(this.companyStage.companyProgramStageStatusID=j.b.Application_Completed_Ready_for_Review,this.portfolioService.updateStage(this.companyStage).subscribe()),this.markSectionDone(e),this.taskOwner.taskStatusID=3,this.thankYouEmail(),this.programAdmins.length&&this.noticeApplicationAdmin()})}else{const t=e+1;this.sections[t]&&(22===this.sections[t].taskSectionCategoryID&&(this.invoiceStep=1),this.activeSectionIndex=t),this.markSectionDone(e)}}noticeApplicationAdmin(){this.programAdmins.forEach(e=>{const t=`${this.taskOwner.firstName} ${this.taskOwner.surname}| has submitted an application for ${this.companyStage.programTitle}`,n={notificationCategoryID:B.a.applicant_preview,referenceID:this.companyStage.companyProgramInstanceStageID,contactID:e.contactID,description:t,createdContact:this.contactID},i=Object(c.a)(new Date)+"|"+this.taskOwner.taskOwnerID,o={date:Object(c.a)(new Date),body:t.replace("|",""),topic:t.replace("|",""),senderFullName:"",senderPhoto:"",notificationId:Math.floor(1e3*Math.random()),channel:"dashboard",reference:this.companyStage.companyProgramInstanceStageID,notificationType:N.a.connectRequest,senderId:n.createdContact,receivers:[n.contactID],uniqueId:i,discussionId:0};this.notificationService.noticeNotification(n).subscribe(()=>{this.signalRService.transferMessage("dashboard",o)})});const e=U.a.fullDomain()+"/enrollment/admin/stage/"+this.companyStage.companyProgramInstanceStageID,t=this.companyStage.programStageTitle+" Application Submitted",n={distributionTitle:t,distributionCategoryID:null,referenceID:this.companyStage.companyProgramInstanceStageID,distributionDate:null,userID:this.user.contactID,emailBody:G.a.template(`\n\t\t\t\t\t<p>${this.taskOwner.firstName} ${this.taskOwner.surname} has submitted an application for ${this.companyStage.programTitle}</p>\n\t\t\t\t\t<p><span class="btn btn-primary" style="margin: 0; padding: 0"><a href="${e}">Review Application</a></span></p>\n\t\t`),subjectLine:t,senderEmail:"info@incubatorportal.com",senderName:`${this.user.firstName} ${this.user.surname}`,replyTo:null,contacts:this.programAdmins.map(e=>e.contactID)};this.distributionService.create(n).subscribe()}thankYouEmail(){let e=`\n\t\t<p>Hi ${this.user.firstName},</p>\n\t\t<p>\n\t\t Thanks for applying to ${this.companyStage.programTitle}, your submission has been received by ${this.companyStage.masterCompanyName||"our company"} for review. Email communication about the status of your application will be sent in the next few weeks.\n\t\t</p>\n        `;this.companyStage.masterCompanyLogo&&(e=G.a.logo(`${this.blobUrl}${this.companyStage.masterCompanyLogo}`)+e);const t={distributionTitle:"Program Application",distributionCategoryID:16,referenceID:this.companyStage.programInstanceID,distributionDate:null,emailBody:G.a.template(e),subjectLine:this.companyStage.programTitle+" Application",senderEmail:"info@incubatorportal.com",senderName:"",replyTo:null,contacts:[this.contactID]};this.distributionService.create(t).subscribe()}prevStep(e){window.scroll({top:0,left:0,behavior:"smooth"}),22===this.sections[e-1].taskSectionCategoryID&&(this.invoiceStep=2),this.activeSectionIndex=e-1}checkPreDiagnostic(){this.preDiagnosticChecking=!0,this.companyService.getFinancialHistorical(this.taskOwner.companyID).subscribe(e=>{this.preDiagnosticDone=e.length>0,this.isPreDiagnostic.emit(this.isEdge&&!this.preDiagnosticDone),this.preDiagnosticChecking=!1})}preDiagnosticCompleted(e){this.companyProfile=e,this.preDiagnosticDone=!0,this.isPreDiagnostic.emit(!1)}getMonthlySentiment(){this.monthlyReviewLoading=!0,this.discussionService.fetchDiscussions(this.taskOwner.contactID,this.task.taskID,Ae.b.howMonthGo,0,0).subscribe(e=>{e[0]?this.monthlyReview=e[0]:(this.monthlyReview.referenceID=this.task.taskID,this.monthlyReview.discussionCreatedByContactID=this.contactID,this.monthlyReview.discussionCategoryID=Ae.b.howMonthGo,this.monthlyReview.discussionBody=this.monthlyReview.discussionTopic),this.monthlyReviewLoading=!1})}monthlySentimentDone(){var e;this.monthlyReviewLoading=!0,this.monthlyReview.parentDiscussionID=(null===(e=this.supportGroupDiscussion)||void 0===e?void 0:e.discussionID)||0,this.monthlyReview.discussionBody=this.monthlyReview.discussionTopic,this.monthlyReview.discussionID?this.discussionService.updateDiscussion(this.monthlyReview).subscribe(()=>{this.monthlyReviewLoading=!1,this.nextStep(this.activeSectionIndex)}):this.discussionService.insertDiscussion(this.monthlyReview).subscribe(e=>{this.monthlyReviewLoading=!1,this.monthlyReview.discussionID=e.discussionID,this.nextStep(this.activeSectionIndex)})}selectCustomerContact(e,t=!1){const n=t?this.prospects[e]:this.customers[e],i=this.modal.open(I.a);i.componentInstance.teamMember=!0,i.result.then(e=>{e.forEach(e=>{this.sendSentiments(e,n,t)}),e.length&&this.toastrService.success("Monthly Feedback has been sent")})}sendSentiments(e,t,n=!1){const i=U.a.fullDomain()+"/customer/satisfaction/response?ref="+Object(c.n)(t.companyConnectID.toString())+"&contact="+Object(c.n)(e.contactID.toString());let o=`\n<p>Hi ${e.firstName}</p>\n<p>As part our commitment to providing high quality products and services to ${t.companyName} we've prepared a short feedback form which we'd like you to complete.</p>\n<p>Please click the button below to get started</p>\n<br>\n<p>\n<span class="btn btn-primary" style="margin: 0; padding: 0"><a href="${i}">Submit Feedback</a></span>\n</p>\n<br>\n`;this.taskOwner.companyLogo&&(o=G.a.logo(this.blobUrl+this.taskOwner.companyLogo)+o);const a={distributionTitle:n?"Prospect Feedback":"Customer Feedback",distributionCategoryID:14,referenceID:t.companyConnectID,distributionDate:null,userID:this.contactID,emailBody:G.a.template(o),subjectLine:n?"Prospect Feedback":"Customer Feedback",senderEmail:"info@incubatorportal.com",senderName:`${this.user.firstName} ${this.user.surname}`,replyTo:null,contacts:[e.contactID]};this.distributionService.create(a).subscribe(()=>{},()=>{})}getFinancials(){this.financialLoading=!0,this.financialService.getFinancial({companyID:this.masterCompanyID,financialCategoryID:0,monthID:this.monthID||0,yearID:this.yearID}).subscribe(e=>{this.financials=e,this.totalSales=this.financials.filter(e=>1===e.financialCategoryTypeID).reduce((e,t)=>e+t.actualAmount,0),this.financialLoading=!1})}getNetworkMember(){this.loading=!0,this.networkService.getNetwork(0,0,0,0,this.task.referenceID,0,1).pipe(Object(l.a)(e=>this.networkService.getNetworkMember(e[0].networkID,2,0,this.masterCompanyID,0,0)),Object(l.a)(e=>this.discussionService.fetchDiscussions(0,e[0].networkMemberID,3,0,0,0))).subscribe(e=>{this.supportGroupDiscussion=e[0]||null,this.disabledActions&&this.initIndicatorReview(),this.loading=!1})}initIndicatorReview(){this.reviewsLoading=!0,Object(f.a)(this.discussionService.fetchDiscussions(0,this.task.taskID,0,this.supportGroupDiscussion.discussionID,0,0,1,1,0),this.sentimentService.getSentiments(0,0,0,0,2,0,this.masterCompanyID,0)).pipe(Object(s.a)(this.destroy$)).subscribe(e=>{const t=e[0];this.overallIndicatorReview=t.filter(e=>e.discussionCategoryID===Ae.b.overallStabilityReview),this.salesIndicatorReview=t.filter(e=>e.discussionCategoryID===Ae.b.salesReview),this.prospectIndicatorReview=t.filter(e=>e.discussionCategoryID===Ae.b.demandReview),this.customerIndicatorReview=t.filter(e=>e.discussionCategoryID===Ae.b.customerSatisfactionReview),this.teamReview=t.filter(e=>e.discussionCategoryID===Ae.b.teamCapacityReview),this.monthlyReview=t.filter(e=>e.discussionCategoryID===Ae.b.howMonthGo&&e.discussionCreatedByContactID===this.taskOwner.contactID)[0]||null,this.customerSatisfaction=e[1].sort((e,t)=>new Date(t.datePosted).getTime()-new Date(e.datePosted).getTime()).sort((e,t)=>e.sentimentRatingID-t.sentimentRatingID),this.indicatorAverageRating(),this.reviewsLoading=!1})}indicatorAverageRating(){this.customerSatisfactionRating=this.customerSatisfaction.reduce((e,t)=>{let n=0;switch(t.sentimentRatingID){case 1:n=25;break;case 2:n=50;break;case 3:n=75;break;default:n=100}return e+n},0)/this.customerSatisfaction.length}getTeam(){this.contactService.getContacts(this.masterCompanyID).subscribe(e=>{this.team=e.filter(e=>{if(e.dateEmployed){const t=new Date(e.dateEmployed);return this.yearID<=t.getFullYear()&&this.monthID<=t.getMonth()+1}return!1}),this.teamCount=this.team.length,this.loading=!1},()=>{this.loading=!1})}getGoalDiscussions(e){this.discussionService.fetchDiscussions(0,0,0,e,0,0).subscribe(e=>{this.goalStatus=e})}postSectionComment(e,t){if(!e)return;const n=new Ae.a;switch(n.parentDiscussionID=this.supportGroupDiscussion.discussionID,n.discussionTopic=e,n.discussionBody=e,n.discussionCategoryID=t,n.discussionCreatedByContactID=this.contactID,n.referenceID=this.task.taskID,n.surname=this.user.surname,n.firstName=this.user.surname,t){case Ae.b.salesReview:this.salesIndicatorReview.unshift(n),this.salesComment="";break;case Ae.b.teamCapacityReview:this.teamReview.unshift(n),this.teamComment="";break;case Ae.b.demandReview:this.prospectIndicatorReview.unshift(n),this.prospectComment="";break;case Ae.b.overallStabilityReview:this.overallIndicatorReview.unshift(n),this.overallComment="";break;case Ae.b.customerSatisfactionReview:this.customerIndicatorReview.unshift(n),this.customerComment=""}this.discussionService.insertDiscussion(n).subscribe()}unlockApplication(){this.customFormOwner.taskStatusID=1,this.taskOwner.taskStatusID=1,this.taskService.updateTaskOwner(this.taskOwner).subscribe(),this.taskService.updateTaskOwner(this.customFormOwner).subscribe(),this.companyStage&&(this.companyStage.companyProgramStageStatusID=j.b.Underway,this.stageUpdates.emit(this.companyStage),this.portfolioService.updateStage(this.companyStage).subscribe());const e=U.a.fullDomain()+"/task/"+this.task.taskID;let t=`\n          <p>Hi ${this.taskOwner.firstName}</p>\n\t\t\t\t\t<p>Your ${this.companyStage.programTitle} application has been opened for editing. Sign in to access your application or click the link below to edit your answers.</p>\n\t\t\t\t\t<p><span class="btn btn-primary" style="margin: 0; padding: 0"><a href="${e}">Update Application</a></span></p>\n\t\t`;this.companyStage.masterCompanyLogo&&(t=G.a.logo(this.blobUrl+this.companyStage.masterCompanyLogo)+t);const n=this.companyStage.programStageTitle+" application update",i={distributionTitle:n,distributionCategoryID:null,referenceID:this.companyStage.companyProgramInstanceStageID,distributionDate:null,userID:this.user.contactID,emailBody:G.a.template(t),subjectLine:n,senderEmail:"info@incubatorportal.com",senderName:`${this.user.firstName} ${this.user.surname}`,replyTo:null,contacts:[this.taskOwner.contactID]};this.distributionService.create(i).subscribe()}lockApplication(){this.taskOwner.taskStatusID=3,this.customFormOwner&&(this.customFormOwner.taskStatusID=3,this.taskService.updateTaskOwner(this.customFormOwner).subscribe()),this.companyStage&&(this.companyStage.companyProgramStageStatusID=j.b.Application_Completed_Ready_for_Review,this.stageUpdates.emit(this.companyStage),this.portfolioService.updateStage(this.companyStage).subscribe()),this.taskService.updateTaskOwner(this.taskOwner).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](ee.a),i["\u0275\u0275directiveInject"](O.a),i["\u0275\u0275directiveInject"](ne.a),i["\u0275\u0275directiveInject"](Fe.a),i["\u0275\u0275directiveInject"](J.b),i["\u0275\u0275directiveInject"](Re.c),i["\u0275\u0275directiveInject"](M.a),i["\u0275\u0275directiveInject"](T),i["\u0275\u0275directiveInject"](ie.a),i["\u0275\u0275directiveInject"](Le.a),i["\u0275\u0275directiveInject"](Ve.a),i["\u0275\u0275directiveInject"](je.a),i["\u0275\u0275directiveInject"](Be.a),i["\u0275\u0275directiveInject"](te.a),i["\u0275\u0275directiveInject"](Ne.a),i["\u0275\u0275directiveInject"](Ue.a),i["\u0275\u0275directiveInject"](Ge.a),i["\u0275\u0275directiveInject"]($e.a),i["\u0275\u0275directiveInject"](He.a),i["\u0275\u0275directiveInject"](qe.a),i["\u0275\u0275directiveInject"](ze.a),i["\u0275\u0275directiveInject"](E.p))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-task-sections-preview"]],inputs:{sections:"sections",task:"task",taskOwner:"taskOwner",masterCompanyID:"masterCompanyID",disabledActions:"disabledActions",supporters:"supporters",sectionsCompleted:"sectionsCompleted"},outputs:{sectionDone:"sectionDone",isPreDiagnostic:"isPreDiagnostic",stageUpdates:"stageUpdates"},decls:3,vars:3,consts:[[1,"d-flex","flex-column","w-100","flex-grow-1",3,"avnonLoader"],["class","d-flex flex-column flex-grow-1",4,"ngIf"],["class","table-responsive w-100",4,"ngIf"],[1,"d-flex","flex-column","flex-grow-1"],["class","flex-grow-1",3,"company","sectionComplete",4,"ngIf"],[4,"ngIf"],[1,"flex-grow-1",3,"company","sectionComplete"],[1,"pl-3","pr-3","pt-2","pb-2","mt-2","pre-line"],[4,"ngFor","ngForOf"],["class","d-flex pl-3 pr-3 pt-2 pb-2 border-bottom mb-2 align-items-center",4,"ngIf"],["class","flex-grow-1",3,"isLastSection","company","sectionComplete",4,"ngIf"],["class","flex-grow-1",3,"prevAvailable","product","goal","isQstp","parentTaskID","isLastSection","sectionComplete","prev",4,"ngIf"],["class","flex-grow-1",3,"prevAvailable","goal","isQstp","parentTaskID","isLastSection","sectionComplete","prev",4,"ngIf"],[1,"d-flex","pl-3","pr-3","pt-2","pb-2","border-bottom","mb-2","align-items-center"],[1,"mb-0"],[1,"ml-auto","mr-1",3,"value","height","showValue","max"],[1,"flex-grow-1",3,"isLastSection","company","sectionComplete"],[1,"d-flex","w-100","mb-auto","flex-column"],[1,"pl-3","pr-3"],[1,"w-100",3,"limitedView","preventNavigation","triggerAdd","companyID","canEdit","allowFilter","triggerDismiss"],[1,"cursor-pointer","text-primary","ml-3","mr-auto",3,"click"],[1,"d-flex","w-100","pl-3","pr-3","twitter-fill","pt-2","pb-2","bottom-non-sticky","border-top"],["class","font-weight-bold cursor-pointer mr-4",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","ml-auto",3,"click"],[1,"font-weight-bold","cursor-pointer","mr-4",3,"click"],[1,"fas","fa-caret-left"],[1,"flex-grow-1",3,"prevAvailable","ipVisible","techVisible","isLastSection","product","sectionComplete","prev"],[1,"flex-grow-1",3,"market","prevAvailable","isLastSection","product","sectionComplete","prev"],[1,"flex-grow-1",3,"prevAvailable","product","goal","isQstp","parentTaskID","isLastSection","sectionComplete","prev"],[1,"flex-grow-1",3,"prevAvailable","goal","isQstp","parentTaskID","isLastSection","sectionComplete","prev"],[1,"table-responsive"],[1,"table","shares-table"],[1,"cursor-pointer","text-primary","mb-auto","ml-3","mr-3",3,"click"],[1,"btn","btn-sm","btn-primary","ml-auto",3,"disabled","click"],[1,"text-muted","font-weight-normal","pt-2"],[1,"d-flex"],[1,"mr-2"],[1,"actions","ml-auto"],["ngbDropdown","","display","dynamic","container","body"],["type","button","ngbDropdownToggle","","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],["colspan","3"],[1,"twitter-fill","p-2"],[1,"fas","fa-exclamation-circle","mr-1"],["class","twitter-fill p-2 ml-3 mr-3",4,"ngIf"],["class","d-flex w-100 flex-wrap",4,"ngIf"],[1,"twitter-fill","p-2","ml-3","mr-3"],[1,"d-flex","w-100","flex-wrap"],["class","entry border-bottom-0",4,"ngFor","ngForOf"],["class","pl-3 pr-3 pt-2 pb-2 twitter-fill w-100",4,"ngIf"],[1,"entry","border-bottom-0"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","Avatar",1,"img-fluid","img-48","cover",3,"src"],[1,"fz-14"],["class","actions ml-auto",4,"ngIf"],[1,"meta"],[1,"entry-content"],[1,"pl-3","pr-3","pt-2","pb-2","twitter-fill","w-100"],[1,"fas","fa-info-circle","mr-1"],[1,"d-flex","flex-column","w-100","pt-1","flex-grow-1"],["class","pl-3 pr-3 pt-2 pb-2 twitter-fill w-100 mb-1",4,"ngIf"],["class","d-flex flex-column flex-grow-1 mb-auto",3,"formCategoryID","formFieldAnswerCategoryID","formID","taskOwner","answerReferenceID","taskOwnerID","task","baselineOwner","isLastSection","prevAvailable","companyStage","taskOwnerSection","prev","sectionComplete",4,"ngIf"],[1,"pl-3","pr-3","pt-2","pb-2","twitter-fill","w-100","mb-1"],[1,"d-flex","flex-column","flex-grow-1","mb-auto",3,"formCategoryID","formFieldAnswerCategoryID","formID","taskOwner","answerReferenceID","taskOwnerID","task","baselineOwner","isLastSection","prevAvailable","companyStage","taskOwnerSection","prev","sectionComplete"],[1,"flex-grow-1",3,"prevAvailable","investments","totalRaised","isLastSection","sectionComplete","dataUpdated","prev"],[1,"d-flex","flex-column"],[1,"cursor-pointer","text-primary","ml-3","mr-3","mt-3","mb-auto",3,"click"],["alt","Avatar",1,"img-fluid","img-48",3,"src"],[1,"flex-grow-1",3,"prevAvailable","isLastSection","exit","sectionComplete","prev"],["class","d-flex w-100 pb-1 pl-3 pr-3",4,"ngFor","ngForOf"],[1,"d-flex","w-100","pb-1","pl-3","pr-3"],[1,"font-weight-bold","mr-1"],[1,"form-group","d-flex","flex-column","mb-1","flex-grow-1"],["appKeyupDebounce","","placeholder","Describe the risk your company faces","rows","1","autosize","",1,"form-control","mb-1",3,"ngModel","ngModelOptions","focus","ngModelChange"],["placeholder","Describe the steps you're taking to mitigate the risk","rows","1","autosize","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"entry-content","pl-0"],[1,"icon-list","pl-0"],[1,"text-muted","other","mt-2","mr-4"],[1,"fas","fa-list-alt","mr-1"],[1,"fas","fa-list-alt","ml-1","mr-1"],["sentimentForm","ngForm"],[1,"form-group","d-flex","flex-column","pl-3","pr-3"],["for","comment"],[1,"d-flex","flex-wrap","w-100"],["id","rating","type","button",1,"btn","btn-sm","mb-1","mr-1",3,"click"],["type","button",1,"btn","btn-sm","mb-1","mr-1",3,"click"],["type","button",1,"btn","btn-sm","mb-1",3,"click"],[1,"comment-input"],["name","comment","id","comment","placeholder","Please provide a brief summary of any key highlights or issues experienced this month","required","",1,"form-control","mt-1",3,"ngModel","ngModelChange"],[1,"mb-auto"],[1,"d-flex","flex-column","flex-grow-1",3,"yearID","monthID","prevAvailable","isLastSection","step","companyID","contactID","prev","invoiceUpdated"],[1,"d-flex","flex-column","flex-grow-1",3,"prevAvailable","isLastSection","goal","user","companyID","contactID","prev","sectionDone"],[1,"table-responsive","w-100"],[1,"text-dark","m-0","p-2","twitter-fill"],["class","cursor-pointer text-primary",3,"click",4,"ngIf"],[1,"cursor-pointer","text-primary",3,"click"],["class","table baseline-table",4,"ngIf"],["class","d-flex flex-column",4,"ngIf"],[1,"table","baseline-table"],["colspan","2"],[1,"d-flex","w-100","align-items-center"],[1,"mr-2","mt-1","mb-1"],["class","status-icon-borderless ml-auto",4,"ngIf"],[1,"status-icon-borderless","ml-auto"],[1,"fas","fa-check"],[1,"border-right","fz-14","twitter-border-color","text-muted","info-section-row","pt-2"],[1,"fz-14","pt-2"],[1,"border-right","fz-14","text-muted","border-top-0"],[1,"fz-14","border-top-0"],[1,"border-right","fz-14","twitter-border-color","border-top-0","text-muted"],["class","text-muted other mt-2 mr-4",4,"ngIf"],[1,"fas","fa-link"],["target","_blank",1,"text-muted","ml-1",3,"href"],["colspan","2",1,"p-0"],[3,"limitedView","triggerAdd","companyID","canEdit","allowFilter","triggerDismiss"],["colspan","2",1,"text-right","border-0"],[1,"text-primary","cursor-pointer","float-left",3,"click"],["class","btn btn-primary ml-2 btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-primary","ml-2","btn-sm",3,"click"],[1,"font-weight-bold","mr-2","mt-1","mb-1"],[1,"border-right","fz-14","twitter-border-color","text-muted"],[1,"fz-14","twitter-border-color","text-muted","pt-2","pb-2","border-right"],[1,"fz-14","pt-2","twitter-border-color","pb-2"],[1,"fz-14","twitter-border-color","text-muted","pt-2","border-right"],[1,"fz-14","twitter-border-color","pt-2"],[1,"fz-14","text-muted","font-weight-normal","pt-2"],["colspan","3",1,"pl-0","pl-0"],[1,"pt-2"],["id","budgetChart"],["colspan","2",1,"pl-0","pr-0","fz-14"],[1,"d-flex","flex-column","w-100","pt-2"],["class","pl-3 pr-3 pt-2 pb-2 mb-0 twitter-fill w-100 mb-1",4,"ngIf"],[3,"formFieldAnswerCategoryID","contactID","formID","taskOwner","showScore","tableView","answerReferenceID",4,"ngIf"],[1,"pl-3","pr-3","pt-2","pb-2","mb-0","twitter-fill","w-100","mb-1"],[1,"btn","btn-sm","btn-outline-primary","ml-auto","mr-3",3,"click"],[3,"formFieldAnswerCategoryID","contactID","formID","taskOwner","showScore","tableView","answerReferenceID"],[1,"fz-14","text-muted","info-section-row","pt-2"],[1,"table"],[1,"border-top-0","border-bottom","border-right","twitter-border-color","w-50","text-muted","fz-14","font-weight-normal"],[1,"border-top-0","border-bottom","twitter-border-color","fz-14","text-muted","font-weight-normal"],[1,"border-top-0","fz-14","border-right","twitter-border-color"],[1,"pre-wrap","m-0"],[1,"border-top-0","fz-14"],[1,"d-flex","w-100"],[1,"pre-wrap","mb-0","mr-2"],["colspan","2",1,"fz-14","info-section-row","pt-3","p-0"],["class","pl-3 pr-3 pt-2 pb-2 twitter-fill",4,"ngIf"],["class","text-primary cursor-pointer mr-1 float-left ml-3 mb-1",3,"click",4,"ngIf"],[1,"pl-3","pr-3","pt-2","pb-2","twitter-fill"],[1,"fas","fa-info-circle"],[1,"text-primary","cursor-pointer","mr-1","float-left","ml-3","mb-1",3,"click"],[1,"p-0"],[1,"filter-actions","d-flex","w-100","align-items-center","pl-3","pr-3","border-bottom"],["class","d-flex flex-column pb-3 pt-3",3,"border-bottom",4,"ngFor","ngForOf"],[1,"d-flex","flex-column","pb-3","pt-3"],[1,"d-flex","align-items-center","pl-3","pr-3","mb-0"],[1,"m-0"],["class","meta pl-3 pr-3",4,"ngIf"],[1,"mt-3","mb-0","pl-3","pr-3"],[1,"table","w-100","mb-0","mt-1"],[1,"border-0","pt-1","pb-1","pl-3","pr-3"],[1,"pt-1","pb-1","pl-3","pr-3","border-top"],[1,"meta","pl-3","pr-3"],[1,"d-flex","flex-column","align-items-start","pt-3","pb-3","border-bottom"],[1,"ml-3","mr-3","border-bottom","pr-3","section-title"],[1,"mb-3","pl-3","pr-3"],["class","comment-card mb-1 ml-3 mr-3",4,"ngFor","ngForOf"],[1,"w-100","pl-3","pr-3","mt-4"],["autosize","","placeholder","Write a comment",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],[1,"ml-3","mr-3","pr-3","border-bottom","section-title"],[1,"pl-3","pr-3","section-title"],[1,"d-flex","align-items-center","pl-3","pr-3","mb-2","w-100"],["class","tag tag-filled ml-auto",3,"ngClass",4,"ngIf"],[1,"comment-card","mb-1","ml-3","mr-3"],[1,"full-name"],[1,"mb-0","pre-line"],[1,"tag","tag-filled","ml-auto",3,"ngClass"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,ua,4,3,"div",1),i["\u0275\u0275template"](2,Wr,3,2,"div",2),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("avnonLoader",t.monthlyReviewLoading||t.adminsLoading||t.reviewsLoading||t.financialLoading||t.preDiagnosticChecking||t.companyLoading||t.productLoading||t.loading||t.budgetLoading||t.customFormLoading||t.boardMembersLoading||t.referenceLoading||t.goalLoading||t.investmentLoading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.disabledActions),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.disabledActions))},directives:[A.a,F.n,ct,F.m,E.u,bt,Ke.a,Pt,At,jt,Qt,E.i,E.m,E.k,ui,Ri,Ni,_.E,_.r,_.s,_.b,_t.a,dt.a,_.q,_.t,re.a,_.A,no,ao,ro.a,F.l],pipes:[F.f,R.a,F.e,Pi.a,$t.a,F.t,F.v],styles:[".baseline-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{border-top:0}.baseline-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.25rem 1rem}.baseline-table[_ngcontent-%COMP%]   .info-section-row[_ngcontent-%COMP%]{width:220px}.monthly-review-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-right:1px solid #dfdfdf;width:150px}.monthly-review-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-left:0;padding-right:0}.monthly-review-table[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]{padding-left:52px}.status-icon-borderless[_ngcontent-%COMP%]{height:32px;min-width:32px;display:flex;align-items:center;color:#6c757d;border-radius:50%;font-size:14px;justify-content:center}.shares-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:0!important;padding:.25rem 1rem}.shares-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:pointer}.shares-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#f0f3ff}.shares-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:0;padding:.15rem 1rem}[_nghost-%COMP%]{display:flex;flex-direction:column}.section-title[_ngcontent-%COMP%]{font-size:17px!important}"]}),e})()},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"3cmB":function(e,t,n){"use strict";var i=n("Y7yP"),o=n("Ju5/"),a=Object(i.a)(o.a,"Map");t.a=a},"4Ptv":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("ofXK"),o=n("fXoL");let a=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})()},"4TQh":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("ofXK"),o=n("fXoL");let a=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})()},"4gaG":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("7RJT"),o=n("fXoL");let a=(()=>{class e{constructor(){this.isMobileScreenSize$=new i.BehaviorSubject(!1),this.isMobileScreenSize=this.isMobileScreenSize$.asObservable()}changeState(e){this.isMobileScreenSize$.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"4uGG":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});class i{constructor(){this.indicatorID=null,this.indicatorCategoryID=null,this.indicator=null,this.indicatorDescription=null,this.referenceID=null,this.submittedByID=null,this.lastReviewScore=null}}class o{constructor(){this.companyProgramInstanceIndicatorID=null,this.companyProgramInstanceID=null,this.companyProgramInstanceStageID=null,this.indicatorID=null,this.dateSubmitted=null,this.indicator=null,this.indicatorCategoryID=null,this.indicatorDescription=null,this.indicatorStableDescription=null,this.indicatorUnstableDescription=null,this.referenceID=null,this.submittedByID=null,this.companyID=null,this.goals=[],this.sentiments=[],this.reviews=[]}}},"5Jv4":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("cxbk"),o=n("fXoL"),a=n("tk/3");let r=(()=>{class e{constructor(e){this.http=e,this.baseUrl=i.a.apiUrl}getInvestments(e=0,t=0,n=0,i="2000-01-01",o="2000-01-01"){return this.http.get(this.baseUrl+"/Investment?CompanyID="+e+"&InvestmentID="+t+"&MasterCompanyID="+n+"&StartDate="+i+"&EndDate="+o)}postInvestment(e){return this.http.post(this.baseUrl+"/Investment",e)}updateInvestment(e){return this.http.put(this.baseUrl+"/Investment",e)}deleteInvestment(e){return this.http.delete(`${this.baseUrl}/Investment/${e}`)}getInvestors(e=0,t=0,n=0){return this.http.get(this.baseUrl+"/Investment/investor?InvestmentID="+e+"&CompanyID="+t+"&InvestmentInvestorID="+n)}postInvestor(e){return this.http.post(this.baseUrl+"/Investment/investor",e)}updateInvestor(e){return this.http.put(this.baseUrl+"/Investment/investor",e)}deleteInvestor(e){return this.http.delete(`${this.baseUrl}/Investment/investor/${e}`)}getInvestmentRound(){return this.http.get(this.baseUrl+"/Investment/round")}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](a.b))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"5WsY":function(e,t,n){"use strict";var i=n("vJtL"),o=n("Js68");t.a=function(e){return null!=e&&Object(o.a)(e.length)&&!Object(i.a)(e)}},"6lqT":function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{}},"6pDZ":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n("ofXK"),o=n("3Pt+"),a=n("/ogr"),r=n("iv3V"),s=n("V6Zj"),l=n("1kSV"),c=n("fXoL");let d=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,o.l,l.l,a.a,r.a,s.a,l.v]]}),e})()},"76iY":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("ofXK"),o=n("fXoL");let a=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})()},"7AQL":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("ofXK"),o=n("3Pt+"),a=n("1kSV"),r=n("iv3V"),s=n("j4PG"),l=n("fXoL");let c=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,o.l,a.v,r.a,s.a]]}),e})()},"7RJT":function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=n("ds6q"),a=n("Mxlh"),r=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return i(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new a.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(o.Subject);t.BehaviorSubject=r},"7gMY":function(e,t,n){"use strict";var i=n("9f76"),o=n("/1FC"),a=n("WOAq"),r=/^(?:0|[1-9]\d*)$/,s=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t},l=n("oYcn"),c=Object.prototype.hasOwnProperty;t.a=function(e,t){var n=Object(o.a)(e),r=!n&&Object(i.a)(e),d=!n&&!r&&Object(a.a)(e),p=!n&&!r&&!d&&Object(l.a)(e),m=n||r||d||p,u=m?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],h=u.length;for(var f in e)!t&&!c.call(e,f)||m&&("length"==f||d&&("offset"==f||"parent"==f)||p&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||s(f,h))||u.push(f);return u}},"7itd":function(e,t,n){!function(e,t,n){"use strict";var i=function(){return function(e){e&&Object.assign(this,e)}}(),o=function(){function t(e,t){this.el=e,this.ngZone=t,this.onAddressChange=new n.EventEmitter}return t.prototype.ngAfterViewInit=function(){this.options||(this.options=new i),this.initialize()},t.prototype.isGoogleLibExists=function(){return!(!google||!google.maps||!google.maps.places)},t.prototype.initialize=function(){var e=this;if(!this.isGoogleLibExists())throw new Error("Google maps library can not be found");if(this.autocomplete=new google.maps.places.Autocomplete(this.el.nativeElement,this.options),!this.autocomplete)throw new Error("Autocomplete is not initialized");null!=!this.autocomplete.addListener&&(this.eventListener=this.autocomplete.addListener("place_changed",function(){e.handleChangeEvent()})),this.el.nativeElement.addEventListener("keydown",function(t){t.key&&"enter"==t.key.toLowerCase()&&t.target===e.el.nativeElement&&(t.preventDefault(),t.stopPropagation())}),window&&window.navigator&&window.navigator.userAgent&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&setTimeout(function(){var e=document.getElementsByClassName("pac-container");if(e){var t=Array.from(e);if(t)for(var n=0,i=t;n<i.length;n++){var o=i[n];o&&o.addEventListener("touchend",function(e){e.stopImmediatePropagation()})}}},500)},t.prototype.reset=function(){this.autocomplete.setComponentRestrictions(this.options.componentRestrictions),this.autocomplete.setTypes(this.options.types)},t.prototype.handleChangeEvent=function(){var e=this;this.ngZone.run(function(){e.place=e.autocomplete.getPlace(),e.place&&e.onAddressChange.emit(e.place)})},t.ctorParameters=function(){return[{type:n.ElementRef},{type:n.NgZone}]},t.propDecorators={options:[{type:n.Input,args:["options"]}],onAddressChange:[{type:n.Output}]},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.NgZone))},t.\u0275dir=e.\u0275\u0275defineDirective({type:t,selectors:[["","ngx-google-places-autocomplete",""]],inputs:{options:"options"},outputs:{onAddressChange:"onAddressChange"},exportAs:["ngx-places"]}),t}();t.GooglePlaceModule=function(){function t(){}return t.ctorParameters=function(){return[]},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({factory:function(e){return new(e||t)}}),t}(),t.GooglePlaceDirective=o,Object.defineProperty(t,"__esModule",{value:!0})}(n("fXoL"),t,n("fXoL"))},"8CXc":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("tk/3"),o=n("lJxs"),a=n("Fjb4"),r=n("XNiG"),s=n("2Vo4"),l=n("fXoL");let c=(()=>{class e{constructor(e){this.http=e,this.BaseURI="https://api.incubatorportal.com/api",this.subject=new r.a,this.obsForComponent=this.subject.asObservable(),this.program$=new r.a,this.stage$=new r.a,this.instance$=new r.a,this.instanceGroup$=new s.a(null),this.showInitialStageForm=new r.a}programStoreRx(e){this.program$.next(e)}getProgramStoreRx(){return this.program$.asObservable()}stageStoreRx(e){this.stage$.next(e)}getStageStoreRx(){return this.stage$.asObservable()}instanceStoreRx(e){this.instance$.next(e)}getInstanceStoreRx(){return this.instance$.asObservable()}storeGroupRx(e){this.instanceGroup$.next(e)}getGroupRx(){return this.instanceGroup$.asObservable()}setValue(e){this.subject.next(e)}sendSelectedProgram(e){this.subject.next(e),console.log(e,"service result")}getOpenPrograms(e,t){return this.http.get(this.BaseURI+"/company/program/instance/open?companyID="+e+"&contactID="+t)}getProgramProfile(e){return this.http.get(`${this.BaseURI}/company/program/${e}`)}getProgramInstanceStageCourses(e){return this.http.get(this.BaseURI+"/company/program/instance/course?ProgramInstanceStageID="+e)}getProgramInstanceStageStatus(e){return this.http.get(this.BaseURI+"/company/program/instance/stage/status?ProgramInstanceStageID="+e)}deleteProgramInstanceStageStatus(e){const t={headers:new i.f({"Content-Type":"application/json"}),body:{ProgramInstanceStageStatusID:e}};return this.http.delete(this.BaseURI+"/company/program/instance/stage/status",t).pipe(Object(o.a)(e=>e))}createProgramInstanceStageStatus(e){return this.http.post(this.BaseURI+"/company/program/instance/stage/status",e).pipe(Object(o.a)(e=>e))}updateProgramInstanceStageStatus(e){return this.http.put(this.BaseURI+"/company/program/instance/stage/status",e).pipe(Object(o.a)(e=>e))}submitProgramInstanceStageCourses(e){return this.http.post(this.BaseURI+"/company/program/instance/course",e).pipe(Object(o.a)(e=>e))}deleteProgramInstanceStageCourse(e){return this.http.delete(`${this.BaseURI}/company/program/instance/course/${e}`).pipe(Object(o.a)(e=>e))}deleteProgramInstanceStageGoal(e){return this.http.delete(`${this.BaseURI}/company/program/instance/stage/goal/${e}`).pipe(Object(o.a)(e=>e))}updateProgramInstanceStageActivation(e){return this.http.put(this.BaseURI+"/company/program/instance/stage/activation",e)}getPrograms(e){return this.http.get(`${this.BaseURI}/company/program/all/${e}`).pipe(Object(o.a)(e=>e.map(e=>new a.a(e))))}prePopulateProgramInstanceStage(e){return this.http.post(this.BaseURI+"/company/program/instance/stage/prepopulate",e).pipe(Object(o.a)(e=>e))}prePopulateProgramInstanceStageItems(e){return this.http.post(this.BaseURI+"/company/program/instance/stage/item/prepopulate",e).pipe(Object(o.a)(e=>e))}createProgram(e){return this.http.post(this.BaseURI+"/company/program",e).pipe(Object(o.a)(e=>e))}createProgramInstance(e){return this.http.post(this.BaseURI+"/company/program/instance",e).pipe(Object(o.a)(e=>e))}createProgramInstanceStage(e){return this.http.post(this.BaseURI+"/company/program/instance/stage",e).pipe(Object(o.a)(e=>e))}createProgramInstanceStageGoal(e){return this.http.post(this.BaseURI+"/company/program/instance/stage/goal",e).pipe(Object(o.a)(e=>e))}updateProgramInstanceStage(e){return this.http.put(this.BaseURI+"/company/program/instance/stage",e).pipe(Object(o.a)(e=>e))}updateProgramInstanceStageItem(e){return this.http.put(this.BaseURI+"/company/program/instance/stage/item",e).pipe(Object(o.a)(e=>e))}deleteProgramInstanceStage(e){return this.http.delete(`${this.BaseURI}/company/program/instance/stage/${e}`).pipe(Object(o.a)(e=>e))}updateProgram(e){return this.http.put(this.BaseURI+"/company/program",e).pipe(Object(o.a)(e=>e))}updateProgramInstance(e){return this.http.put(this.BaseURI+"/company/program/instance",e).pipe(Object(o.a)(e=>e))}deleteProgram(e){return this.http.delete(`${this.BaseURI}/company/program/${e}`).pipe(Object(o.a)(e=>e))}deleteProgramInstance(e){return this.http.delete(`${this.BaseURI}/company/program/instance/${e}`).pipe(Object(o.a)(e=>e))}getProgramcycles(e){return this.http.get(`${this.BaseURI}/company/program/instance/all/${e}`).pipe(Object(o.a)(e=>e))}getProgramInstanceProfile(e){return this.http.get(`${this.BaseURI}/company/program/instance/${e}`).pipe(Object(o.a)(e=>e))}getProgramInstanceStages(e){return this.http.get(`${this.BaseURI}/company/program/instance/stage/all/${e}`).pipe(Object(o.a)(e=>e))}getProgramInstanceStageGoal(e){return this.http.get(this.BaseURI+"/Company/program/instance/stage/goal?ProgramInstanceStageID="+e)}getProgramInstanceStageItems(e){return this.http.get(`${this.BaseURI}/company/program/instance/stage/item/all/${e}`).pipe(Object(o.a)(e=>e))}getProgramInstanceStageProfile(e){return this.http.get(`${this.BaseURI}/company/program/instance/stage/${e}`).pipe(Object(o.a)(e=>e))}getOpenInstances(e=0,t=0){return this.http.get(`${this.BaseURI}/company/program/instance/open?contactID=${e}&companyID=${t}`)}getStageCriteria(e=0,t=0,n=0){return this.http.get(`${this.BaseURI}/Company/program/instance/stage/criteria?ProgramInstanceStageCriteriaID=${e}&ProgramInstanceStageID=${t}&ProgramInstanceStageCriteriaCategoryID=${n}`)}addStageCriteria(e){return this.http.post(this.BaseURI+"/Company/program/instance/stage/criteria",e)}updateStageCriteria(e){return this.http.put(this.BaseURI+"/Company/program/instance/stage/criteria",e)}deleteStageCriteria(e){const t={headers:new i.f({"Content-Type":"application/json"}),body:{programInstanceStageCriteriaID:e}};return this.http.delete(this.BaseURI+"/Company/program/instance/stage/criteria",t)}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275inject"](i.b))},e.\u0275prov=l["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"8M4i":function(e,t,n){"use strict";var i=n("ylTp"),o=Object.prototype,a=o.hasOwnProperty,r=o.toString,s=i.a?i.a.toStringTag:void 0,l=Object.prototype.toString,c=i.a?i.a.toStringTag:void 0;t.a=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":c&&c in Object(e)?function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(l){}var o=r.call(e);return i&&(t?e[s]=n:delete e[s]),o}(e):function(e){return l.call(e)}(e)}},"8ZIy":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("Wgwc"),o=n("8J6U"),a=n("fXoL");let r=(()=>{class e{transform(e,t=!1,n=!1,a=!1){if(!e)return"Not Defined";if(t)return Object(o.a)(new Date(e),"dd MMM yyyy");if(n)return Object(o.a)(new Date(e),"dd MMM");const r=i().startOf("day"),s=i(e).startOf("day"),l=r.diff(s,"day"),c=r.diff(s,"month"),d=r.diff(s,"year");return a?0===l?Object(o.a)(new Date(e),"HH:mm"):Object(o.a)(new Date(e),"dd MMM"):0!==d?d>0?d+" year(s) ago":Object(o.a)(new Date(e),"dd MMM yyyy"):0!==c?c>0?c+" month(s) ago":Object(o.a)(new Date(e),"dd MMM yyyy"):0!==l?1===l?"Yesterday":l>0?l+" days(s) ago":Object(o.a)(new Date(e),"dd MMM yyyy"):"Today"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=a["\u0275\u0275definePipe"]({name:"dayAgo",type:e,pure:!0}),e})()},"8stm":function(e,t,n){"use strict";n.d(t,"a",function(){return Ae});var i=n("tk/3"),o=n("ofXK"),a=n("HNxE"),r=n("zs7b"),s=function(e){return e[e.TEAM_MEMBER=1]="TEAM_MEMBER",e[e.MENTOR=2]="MENTOR",e[e.STUDENT=3]="STUDENT",e}({}),l=n("AytR"),c=n("LRne"),d=n("Kj3r"),p=n("/uUt"),m=n("eIep"),u=n("JIr8"),h=n("mOT8"),f=n("n1y0"),g=n("OzGw"),v=n("gk2U"),y=n("fXoL"),b=n("1kSV"),I=n("WhH8"),x=n("esnG"),S=n("Hu2X"),C=n("kmKP"),D=n("tyNb"),w=n("5eHb"),k=n("FhWM"),E=n("3Pt+"),M=n("Jn3s"),O=n("xdDH"),P=n("f3yp"),T=n("sYmb");function A(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate2"](" ",e.actionType," ",y["\u0275\u0275pipeBind1"](2,2,"PEOPLE.TEAM-MEMBER")," ")}}function _(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate2"]("",e.actionType," ",y["\u0275\u0275pipeBind1"](2,2,"PEOPLE.MENTOR"),"")}}function F(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate2"]("",e.actionType," ",y["\u0275\u0275pipeBind1"](2,2,"PEOPLE.STUDENT"),"")}}function R(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate2"]("",e.actionType," ",y["\u0275\u0275pipeBind1"](2,2,"PEOPLE.PROFILE"),"")}}function L(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span",30),y["\u0275\u0275template"](1,A,3,4,"span",31),y["\u0275\u0275template"](2,_,3,4,"span",31),y["\u0275\u0275template"](3,F,3,4,"span",31),y["\u0275\u0275template"](4,R,3,4,"span",31),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275property"]("ngSwitch",e.contactType),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngSwitchCase",1),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngSwitchCase",2),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngSwitchCase",3),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngSwitchCase",4)}}function V(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate2"]("",e.actionType," ",y["\u0275\u0275pipeBind1"](2,2,"PEOPLE.BOARD-MEMBER"),"")}}function j(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate2"]("",e.actionType," ",y["\u0275\u0275pipeBind1"](2,2,"PEOPLE.SHAREHOLDER"),"")}}function B(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate2"]("",e.actionType," ",y["\u0275\u0275pipeBind1"](2,2,"PEOPLE.REFERENCE"),"")}}function N(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate2"]("",e.actionType," ",y["\u0275\u0275pipeBind1"](2,2,"PEOPLE.DELEGATE"),"")}}function U(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275text"](1),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("",e.actionType," Company Owner")}}function G(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275template"](1,V,3,4,"ng-container",3),y["\u0275\u0275template"](2,j,3,4,"ng-container",3),y["\u0275\u0275template"](3,B,3,4,"ng-container",3),y["\u0275\u0275template"](4,N,3,4,"ng-container",3),y["\u0275\u0275template"](5,U,2,1,"ng-container",3),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.boardMember),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.shareHolder),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.isReference),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.isDelegateInvite),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.companyOwner)}}function $(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"li"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.errorMessage," ")}}function H(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,$,2,1,"li",35),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e)}}function q(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"ul",34),y["\u0275\u0275template"](1,H,2,1,"ng-container",35),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.errorMesssages.errors)}}function z(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",32),y["\u0275\u0275template"](1,q,2,1,"ul",33),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.errorMesssages.errors)}}function W(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",36),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"FORMS.EMAIL-IN-USED-WARNING")," "))}function X(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",15),y["\u0275\u0275elementStart"](1,"label",37),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"small",38),y["\u0275\u0275text"](5),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",39),y["\u0275\u0275elementStart"](8,"input",40,41),y["\u0275\u0275listener"]("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().fileChangeEvent(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"img",42),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275reference"](9).click()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,3,"PEOPLE.PROFILE-PHOTO")),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](6,5,"FORMS.PROFILE-PHOTO-SPECS-INFO")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("src",e.profilePhoto,y["\u0275\u0275sanitizeUrl"])}}function Y(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"small",43),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"FORMS.EMAIL-TAKEN-WARNING")," "))}function K(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",14),y["\u0275\u0275elementStart"](1,"div",15),y["\u0275\u0275elementStart"](2,"label",44),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"select",45),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().contact.raceID=t}),y["\u0275\u0275elementStart"](6,"option",46),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"option",46),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"option",46),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"option",46),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](18,"option",46),y["\u0275\u0275text"](19),y["\u0275\u0275pipe"](20,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](21,"option",46),y["\u0275\u0275text"](22),y["\u0275\u0275pipe"](23,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](4,14,"PEOPLE.RACE-GROUP")," *"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.contact.raceID),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngValue",null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](8,16,"COMMON.PLEASE-SELECT")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngValue",0),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](11,18,"COMMON.NOT-APPLICABLE")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngValue",9),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](14,20,"COMMON.RACE.WHITE")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngValue",10),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](17,22,"COMMON.RACE.AFRICAN")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngValue",11),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](20,24,"COMMON.RACE.INDIAN")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngValue",12),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](23,26,"COMMON.RACE.COLOURED"))}}function Q(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",46),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;y["\u0275\u0275property"]("ngValue",e),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("",e," ")}}function J(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",46),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;y["\u0275\u0275property"]("ngValue",e.value),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("",e.name," ")}}function Z(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",46),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;y["\u0275\u0275property"]("ngValue",e),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("",e," ")}}function ee(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",14),y["\u0275\u0275elementStart"](1,"div",15),y["\u0275\u0275elementStart"](2,"label",47),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"div",48),y["\u0275\u0275elementStart"](6,"select",49),y["\u0275\u0275listener"]("change",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onChangeDoBDate()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().dateofBirth.year=t}),y["\u0275\u0275template"](7,Q,2,2,"option",50),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"select",51),y["\u0275\u0275listener"]("change",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onChangeDoBDate()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().dateofBirth.month=t}),y["\u0275\u0275template"](9,J,2,2,"option",50),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"select",52),y["\u0275\u0275listener"]("change",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onChangeDoBDate()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().dateofBirth.day=t}),y["\u0275\u0275template"](11,Z,2,2,"option",50),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](4,7,"PEOPLE.DATE-OF-BIRTH")," *"),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngModel",e.dateofBirth.year),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.years),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.dateofBirth.month),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.months),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.dateofBirth.day),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.dateofBirthDays)}}function te(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",46),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;y["\u0275\u0275property"]("ngValue",e.countryID),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.country)}}function ne(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",14),y["\u0275\u0275elementStart"](1,"div",15),y["\u0275\u0275elementStart"](2,"label",53),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"select",54),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().contact.countryID=t}),y["\u0275\u0275elementStart"](6,"option",46),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](9,te,2,2,"option",50),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](4,5,"PEOPLE.NATIONALITY")," *"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.contact.countryID),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngValue",null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](8,7,"COMMON.PLEASE-SELECT")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",e.countries)}}function ie(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"label",57),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",4===e.contactType||e.isDelegateInvite||e.companyOwner?"City":"Where is this team member based?"," * ")}}function oe(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"label",57),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" City where ",e.shareHolder?"shareholder":e.boardMember?"board member":"reference"," is based * ")}}function ae(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",14),y["\u0275\u0275elementStart"](1,"div",15),y["\u0275\u0275template"](2,ie,2,1,"label",55),y["\u0275\u0275template"](3,oe,2,1,"label",55),y["\u0275\u0275elementStart"](4,"input",56),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().contact.city=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",!e.isReference&&!e.boardMember&&!e.shareHolder),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.isReference||e.boardMember||e.shareHolder),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.contact.city)}}function re(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",14),y["\u0275\u0275elementStart"](1,"div",15),y["\u0275\u0275elementStart"](2,"label",58),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"select",59),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().contact.gender=t}),y["\u0275\u0275elementStart"](6,"option",46),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"option",60),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"option",61),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](4,6,"PEOPLE.GENDER")," *"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.contact.gender),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngValue",null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("- ",y["\u0275\u0275pipeBind1"](8,8,"COMMON.PLEASE-SELECT")," -"),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](11,10,"COMMON.MALE")),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](14,12,"COMMON.FEMALE"))}}function se(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",14),y["\u0275\u0275elementStart"](1,"div",15),y["\u0275\u0275elementStart"](2,"label",62),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"input",63),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().contact.designation=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](4,2,"PEOPLE.JOB-TITLE")," *"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.contact.designation)}}function le(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",14),y["\u0275\u0275elementStart"](1,"div",15),y["\u0275\u0275elementStart"](2,"label",64),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"input",65),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().contact.idNumber=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](4,2,"PEOPLE.ID-NUMBER")," *"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.contact.idNumber)}}function ce(e,t){1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementContainerEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"PEOPLE.HEADLINE")," * "))}function de(e,t){1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275text"](1," Profile * "),y["\u0275\u0275elementContainerEnd"]())}function pe(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",66),y["\u0275\u0275elementStart"](1,"div",15),y["\u0275\u0275elementStart"](2,"label",67),y["\u0275\u0275template"](3,ce,3,3,"ng-container",3),y["\u0275\u0275template"](4,de,2,0,"ng-container",3),y["\u0275\u0275elementStart"](5,"small",68),y["\u0275\u0275text"](6),y["\u0275\u0275pipe"](7,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"input",69),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().contact.headline=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",!e.boardMember&&!e.companyOwner&&!e.shareHolder),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.boardMember||e.companyOwner||e.shareHolder),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](7,6,"PEOPLE.MAX-HEADLINE-INFO")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("maxLength",140)("placeholder",4===e.contactType?"Describe yourself in 1 sentence":e.shareHolder?"Provide a brief profile of this shareholder":e.boardMember?"Provide a brief profile of this board member":e.isDelegateInvite?"Describe what this delegate does in 1 sentence":"Describe what this team member does in 1 sentence")("ngModel",e.contact.headline)}}function me(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",66),y["\u0275\u0275elementStart"](1,"div",15),y["\u0275\u0275elementStart"](2,"label",70),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"textarea",71),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().contact.personalProfile=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](4,2,"PEOPLE.ABOUT-ME")," *"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.contact.personalProfile)}}function ue(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",14),y["\u0275\u0275elementStart"](1,"div",15),y["\u0275\u0275elementStart"](2,"label",62),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"input",72),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).contact.designation=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](4,2,"PEOPLE.JOB-TITLE")," *"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.contact.designation)}}function he(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",46),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;y["\u0275\u0275property"]("ngValue",e),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("",e," ")}}function fe(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",46),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;y["\u0275\u0275property"]("ngValue",e.value),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("",e.name," ")}}function ge(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",46),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;y["\u0275\u0275property"]("ngValue",e),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("",e," ")}}function ve(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",14),y["\u0275\u0275elementStart"](1,"div",15),y["\u0275\u0275elementStart"](2,"label",73),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"div",48),y["\u0275\u0275elementStart"](6,"select",74),y["\u0275\u0275listener"]("change",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onChangeEmployedDate()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).dateEmployed.year=t}),y["\u0275\u0275template"](7,he,2,2,"option",50),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"select",75),y["\u0275\u0275listener"]("change",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onChangeEmployedDate()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).dateEmployed.month=t}),y["\u0275\u0275template"](9,fe,2,2,"option",50),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"select",76),y["\u0275\u0275listener"]("change",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onChangeEmployedDate()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).dateEmployed.day=t}),y["\u0275\u0275template"](11,ge,2,2,"option",50),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](4,7,"PEOPLE.START-DATE")," *"),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngModel",e.dateEmployed.year),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.years),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.dateEmployed.month),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.months),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.dateEmployed.day),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.dateEmployedDays)}}function ye(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",14),y["\u0275\u0275elementStart"](1,"div",15),y["\u0275\u0275elementStart"](2,"label",77),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"select",78),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).contact.employmentTypeID=t}),y["\u0275\u0275elementStart"](6,"option",46),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"option",79),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"option",80),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"option",81),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](4,7,"PEOPLE.EMPLOYMENT-TYPE")," *"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.contact.employmentTypeID),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngValue",null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("- ",y["\u0275\u0275pipeBind1"](8,9,"COMMON.PLEASE-SELECT")," -"),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](11,11,"PEOPLE.FULL-PERMANENT")),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](14,13,"PEOPLE.FULL-CONTRACT")),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](17,15,"PEOPLE.FULL-TIME-FREELANCER"))}}function be(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",14),y["\u0275\u0275elementStart"](1,"div",15),y["\u0275\u0275elementStart"](2,"label",82),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"select",83),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).contact.founder=t}),y["\u0275\u0275elementStart"](6,"option",46),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"option",46),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"option",46),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](4,8,"PEOPLE.COMPANY-FOUNDER"),"? *"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.contact.founder),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngValue",null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("- ",y["\u0275\u0275pipeBind1"](8,10,"COMMON.PLEASE-SELECT")," -"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngValue",!0),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](11,12,"COMMON.YES")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngValue",!1),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](14,14,"COMMON.NO"))}}function Ie(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",14),y["\u0275\u0275elementStart"](1,"div",15),y["\u0275\u0275elementStart"](2,"label",84),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"select",85),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).contact.managementTeam=t}),y["\u0275\u0275elementStart"](6,"option",46),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"option",46),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"option",46),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](4,8,"PEOPLE.IS-MANAGEMENT"),"?"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.contact.managementTeam),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngValue",null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("- ",y["\u0275\u0275pipeBind1"](8,10,"COMMON.PLEASE-SELECT")," -"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngValue",!0),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](11,12,"COMMON.YES")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngValue",!1),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](14,14,"COMMON.NO"))}}function xe(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",14),y["\u0275\u0275elementStart"](1,"div",15),y["\u0275\u0275elementStart"](2,"label",86),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"select",87),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).contact.technicalTeam=t}),y["\u0275\u0275elementStart"](6,"option",46),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"option",46),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"option",46),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](4,8,"PEOPLE.IS-TECHNICAL"),"?"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.contact.technicalTeam),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngValue",null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("- ",y["\u0275\u0275pipeBind1"](8,10,"COMMON.PLEASE-SELECT")," -"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngValue",!0),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](11,12,"COMMON.YES")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngValue",!1),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](14,14,"COMMON.NO"))}}function Se(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",14),y["\u0275\u0275elementStart"](1,"div",15),y["\u0275\u0275elementStart"](2,"label",88),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"select",89),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).contact.employmentStatusID=t}),y["\u0275\u0275elementStart"](6,"option",46),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"option",46),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"option",46),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"option",46),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](4,10,"PEOPLE.EMPLOYMENT-STATUS")," *"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.contact.employmentStatusID),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngValue",null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("- ",y["\u0275\u0275pipeBind1"](8,12,"COMMON.PLEASE-SELECT")," -"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngValue",1),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](11,14,"PEOPLE.EMPLOYED")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngValue",2),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](14,16,"PEOPLE.RESIGNED")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngValue",3),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](17,18,"PEOPLE.TERMINATED"))}}function Ce(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",46),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;y["\u0275\u0275property"]("ngValue",e),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("",e," ")}}function De(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",46),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;y["\u0275\u0275property"]("ngValue",e.value),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("",e.name," ")}}function we(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",46),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;y["\u0275\u0275property"]("ngValue",e),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("",e," ")}}function ke(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",14),y["\u0275\u0275elementStart"](1,"div",15),y["\u0275\u0275elementStart"](2,"label",90),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275pipe"](5,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"div",48),y["\u0275\u0275elementStart"](7,"select",91),y["\u0275\u0275listener"]("change",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onChangeExitDate()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).dateTerminated.year=t}),y["\u0275\u0275template"](8,Ce,2,2,"option",50),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"select",92),y["\u0275\u0275listener"]("change",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onChangeExitDate()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).dateTerminated.month=t}),y["\u0275\u0275template"](10,De,2,2,"option",50),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"select",93),y["\u0275\u0275listener"]("change",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onChangeExitDate()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).dateTerminated.day=t}),y["\u0275\u0275template"](12,we,2,2,"option",50),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate3"]("",y["\u0275\u0275pipeBind1"](4,9,"PEOPLE.DATE")," ",e.contact.firstName," ",y["\u0275\u0275pipeBind1"](5,11,"PEOPLE.LEFT-THE-COMPANY")," * "),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",e.dateTerminated.year),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.years),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.dateTerminated.month),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.months),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.dateTerminated.day),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.dateExitDays)}}function Ee(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"hr"),y["\u0275\u0275elementStart"](2,"h3"),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"div",13),y["\u0275\u0275template"](6,ue,6,4,"div",23),y["\u0275\u0275template"](7,ve,12,9,"div",23),y["\u0275\u0275template"](8,ye,18,17,"div",23),y["\u0275\u0275template"](9,be,15,16,"div",23),y["\u0275\u0275template"](10,Ie,15,16,"div",23),y["\u0275\u0275template"](11,xe,15,16,"div",23),y["\u0275\u0275template"](12,Se,18,20,"div",23),y["\u0275\u0275template"](13,ke,13,13,"div",23),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,9,"PEOPLE.COMPANY-INFORMATION")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",e.baselineContact||2!==e.contactType&&!e.customerContact),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2!==e.contactType&&!e.customerContact||e.baselineContact),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2!==e.contactType&&!e.customerContact||e.baselineContact),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2!==e.contactType&&!e.customerContact||e.baselineContact),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",(2!==e.contactType&&!e.customerContact||e.baselineContact)&&e.isQstp),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",(2!==e.contactType&&!e.customerContact||e.baselineContact)&&e.isQstp),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2!==e.contactType&&!e.customerContact&&e.contact.contactCompanyID),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2!==e.contactType&&3===e.contact.employmentStatusID&&e.contact.contactCompanyID)}}function Me(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span",98),y["\u0275\u0275element"](1,"img",99),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"div",100),y["\u0275\u0275element"](3,"ngb-highlight",101),y["\u0275\u0275element"](4,"ngb-highlight",101),y["\u0275\u0275elementEnd"]()),2&e){const e=t.result,n=t.term,i=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("src",e.companyLogo?i.blobUrl+e.companyLogo:i.defaultLogo,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("result",e.companyName)("term",n),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("result",e.city)("term",n)}}function Oe(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",102),y["\u0275\u0275elementStart"](1,"span"),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"a",103),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onAddCompany()}),y["\u0275\u0275text"](5),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](3,2,"COMMON.NO-RESULTS"),"? - "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](6,4,"COMMON.ADD-A-NEW-COMPANY")))}function Pe(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"hr"),y["\u0275\u0275elementStart"](2,"h3"),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"div",13),y["\u0275\u0275elementStart"](6,"div",66),y["\u0275\u0275elementStart"](7,"div",94),y["\u0275\u0275template"](8,Me,5,5,"ng-template",null,95,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275elementStart"](10,"input",96),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().companyModel=t})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onCompanyInput(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](11,Oe,7,6,"div",97),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"div",66),y["\u0275\u0275elementStart"](13,"div",15),y["\u0275\u0275elementStart"](14,"label",62),y["\u0275\u0275text"](15),y["\u0275\u0275pipe"](16,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"input",72),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().contact.designation=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](9),t=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,9,"PEOPLE.COMPANY-INFORMATION")),y["\u0275\u0275advance"](7),y["\u0275\u0275property"]("placeholder",t.boardMember?"Where does this board member work?":t.isReference?"Work Place":"Where does this share holder work")("ngModel",t.companyModel)("ngbTypeahead",t.companySearch)("resultTemplate",e)("inputFormatter",t.companyFormatter),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.addNewCompany),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](16,11,"PEOPLE.JOB-TITLE")," *"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",t.contact.designation)}}function Te(e,t){1&e&&y["\u0275\u0275element"](0,"app-spinner")}let Ae=(()=>{class e{constructor(e,t,n,i,o,f,g,v,y){this.modal=e,this.ngbActiveModal=t,this.contactService=n,this.documentService=i,this.companyService=o,this.userService=f,this.router=g,this.toastrService=v,this.listService=y,this.apiBlobUrl=l.a.apiBlobUrl,this.contactType=s.TEAM_MEMBER,this.isProcessing=!1,this.contact=new a.a,this.contactCompany=new a.b,this.selectedFile=null,this.imageChangedEvent="",this.croppedImage="",this.profilePhoto="assets/img/trainer-holder.png",this.years=[],this.months=r.a.create(),this.dateofBirthDays=[],this.dateofBirth={year:null,month:null,day:null},this.dateEmployedDays=[],this.dateEmployed={year:null,month:null,day:null},this.dateExitDays=[],this.dateTerminated={year:null,month:null,day:null},this.companyModel=new h.a,this.addNewCompany=!1,this.newCompanyName="",this.specialities=[],this.blobUrl=l.a.apiBlobUrl+"/256px/",this.defaultLogo="/assets/img/card-placeholder.jpg",this.companyFormatter=e=>e.companyName,this.companySearch=e=>e.pipe(Object(d.a)(300),Object(p.a)(),Object(m.a)(e=>{const t=this.companyService.getCompanyList(e,0).pipe(Object(u.a)(()=>Object(c.a)([])));return t.subscribe(t=>{this.newCompanyName="",this.addNewCompany=!1,t&&0===t.length&&(this.addNewCompany=!0,this.newCompanyName=e)}),t})),this.user=this.userService.user.getValue()}ngOnInit(){this.isQstp=window.location.hostname.toLocaleLowerCase().includes("qstp"),this.isEnterprise=4092===this.user.companyID,this.getCountries(),this.contactID=this.user.contactID,null===this.contact.employmentStatusID&&(this.contact.employmentStatusID=1),this.setDefaultForValueForDateControl(),this.fillContactProfile(),this.contact.contactID&&(this.companyModel.companyName=this.contact.companyName,this.companyModel.companyID=this.contact.companyID,this.contact.contactEmailAddress&&(this.contact.emailAddress=this.contact.contactEmailAddress),this.originEmail=this.contact.emailAddress)}setDefaultForValueForDateControl(){const e=new Date,t=e.getFullYear();this.dateofBirth.day=e.getDate(),this.dateofBirth.month=e.getMonth()+1,this.dateofBirth.year=t-20,this.dateEmployed.day=e.getDate(),this.dateEmployed.month=e.getMonth()+1,this.dateEmployed.year=t,this.dateTerminated.day=e.getDate(),this.dateTerminated.month=e.getMonth()+1,this.dateTerminated.year=t;for(let n=t-100;n<=t+100;++n)this.years.push(n);this.onChangeDoBDate(),this.onChangeEmployedDate(),this.onChangeExitDate()}buildListMonths(e,t){const n=new Date(e,t,0).getDate(),i=[];for(let o=1;o<=n;o++)i.push(o);return i}onChangeDoBDate(){this.dateofBirthDays=this.buildListMonths(this.dateofBirth.year,this.dateofBirth.month)}onChangeEmployedDate(){this.dateEmployedDays=this.buildListMonths(this.dateEmployed.year,this.dateEmployed.month)}onChangeExitDate(){this.dateExitDays=this.buildListMonths(this.dateTerminated.year,this.dateTerminated.month)}onCancel(){this.ngbActiveModal.dismiss()}fillContactProfile(){if(this.contact.dateofBirth){const e=new Date(this.contact.dateofBirth);this.dateofBirth.year=e.getFullYear(),this.dateofBirth.month=e.getMonth()+1,this.dateofBirth.day=e.getDate(),this.onChangeDoBDate()}if(this.contact.dateEmployed){const e=new Date(this.contact.dateEmployed);this.dateEmployed.year=e.getFullYear(),this.dateEmployed.month=e.getMonth()+1,this.dateEmployed.day=e.getDate(),this.onChangeEmployedDate()}if(this.contact.dateExit){const e=new Date(this.contact.dateExit);this.dateTerminated.year=e.getFullYear(),this.dateTerminated.month=e.getMonth()+1,this.dateTerminated.day=e.getDate(),this.onChangeExitDate()}this.contact.contactID&&null!==this.contact.profilePhoto&&(this.profilePhoto=this.apiBlobUrl+"/1024px/"+this.contact.profilePhoto),this.contact.contactID&&(this.adminCheck=this.contact.contactID===this.contactID)}onSubmit(e){var t;const n="yyyy-MM-dd HH:mm:ss",i="en-UK",a=new Date(this.dateofBirth.year,this.dateofBirth.month-1,this.dateofBirth.day,0,0),r=Object(o.y)(a,n,i);let s=null;if(null===(t=this.dateEmployed)||void 0===t?void 0:t.year){const e=new Date(this.dateEmployed.year,this.dateEmployed.month-1,this.dateEmployed.day,0,0);s=Object(o.y)(e,n,i)}let l=null;if(this.contact.employmentStatusID>1){const e=new Date(this.dateTerminated.year,this.dateTerminated.month-1,this.dateTerminated.day,0,0);l=Object(o.y)(e,n,i)}this.contact.dateofBirth=r,this.contact.dateEmployed=s,this.contact.dateExit=l,this.companyOwner&&(this.contact.founder=!0),this.contact.contactID?this.updateContact():this.createContact()}createContact(){this.isProcessing=!0,this.errorMesssages=null,this.contactService.createContact({city:this.contact.city,countryID:this.contact.countryID,dateofBirth:this.contact.dateofBirth,emailAddress:this.contact.emailAddress,firstName:this.contact.firstName,gender:this.contact.gender,headline:this.contact.headline,homeAddress:this.contact.homeAddress,mobileNumber:this.contact.mobileNumber,personalProfile:this.contact.personalProfile,raceID:this.contact.raceID,surname:this.contact.surname,telephoneNumberHome:this.contact.telephoneNumberHome,telephoneNumberOffice:this.contact.telephoneNumberOffice}).subscribe(e=>{if(e){if(this.contact.contactID=e.inOut_ContactID,this.selectedFile)return void this.insertDocument();if((this.customerContact||this.baselineContact||this.contactType===s.TEAM_MEMBER||this.boardMember||this.shareHolder||this.isReference)&&!this.hideCompany)return void this.addContactCompany();this.isProcessing=!1,this.ngbActiveModal.close(this.contact)}},e=>{this.handleErrorResponse(e),this.isProcessing=!1})}addContactCompany(){this.contactService.addContactCompany({contactID:this.contact.contactID,companyID:this.contactType===s.MENTOR||this.boardMember||this.shareHolder||this.isReference?this.companyModel.companyID:this.companyID,dateEmployed:this.contact.dateEmployed,designationID:0,designation:this.contact.designation,divisionID:0,departmentID:0,subDepartmentID:0,employmentStatusID:this.contact.employmentStatusID,staffNumber:"NA",employmentTypeID:this.contact.employmentTypeID,primaryCompany:!0,dateExit:this.contact.dateExit,founder:this.contact.founder,idNumber:this.contact.idNumber,managementTeam:this.contact.managementTeam,technicalTeam:this.contact.technicalTeam}).subscribe(e=>{this.customerContact?this.ngbActiveModal.close(this.contact):this.createContactConnected()},e=>{this.handleErrorResponse(e),this.isProcessing=!1})}createContactConnected(){const e=Object(o.y)(new Date,"yyyy-MM-dd HH:mm:ss","en-UK"),t={contactID:this.contact.contactID,companyID:this.companyID,submittedByContactID:+localStorage.getItem("CoID"),referenceID:0,contactConnectCategoryID:1,dateConnected:e,connectUntil:e,contactConnectDetail:"",contactConnectStatusID:0};this.contactService.createContactConnected(t).subscribe(()=>{this.isProcessing=!1,this.ngbActiveModal.close(this.contact)},e=>{this.handleErrorResponse(e),this.isProcessing=!1})}updateContact(){this.isProcessing=!0,this.contactService.update({city:this.contact.city,countryID:this.contact.countryID,dateofBirth:this.contact.dateofBirth,emailAddress:this.contact.emailAddress,firstName:this.contact.firstName,gender:this.contact.gender,headline:this.contact.headline,homeAddress:this.contact.homeAddress,mobileNumber:this.contact.mobileNumber,personalProfile:this.contact.personalProfile,raceID:this.contact.raceID,surname:this.contact.surname,telephoneNumberHome:this.contact.telephoneNumberHome,telephoneNumberOffice:this.contact.telephoneNumberOffice,contactID:this.contact.contactID,idNumber:this.contact.idNumber,managementTeam:this.contact.managementTeam,technicalTeam:this.contact.technicalTeam}).subscribe(()=>{this.boardMember||this.shareHolder||!this.isReference||this.updateContactCompany(),this.selectedFile?this.insertDocument(!0):(this.isProcessing=!1,this.ngbActiveModal.close(this.contact))},e=>{this.handleErrorResponse(e),this.isProcessing=!1})}updateContactCompany(){this.contactService.updateContactCompany({contactCompanyID:this.contact.contactCompanyID,companyID:this.contactType===s.MENTOR?this.companyModel.companyID:this.companyID,dateEmployed:this.contact.dateEmployed,designationID:0,divisionID:0,departmentID:0,subDepartmentID:0,employmentStatusID:this.contact.employmentStatusID,staffNumber:"NA",employmentTypeID:this.contact.employmentTypeID,primaryCompany:!0,dateExit:this.contact.dateExit,founder:this.contact.founder,designation:this.contact.designation,idNumber:this.contact.idNumber,managementTeam:this.contact.managementTeam,technicalTeam:this.contact.technicalTeam}).subscribe(()=>{this.selectedFile||(this.ngbActiveModal.close(this.contact),this.isProcessing=!1)},e=>{this.handleErrorResponse(e),this.isProcessing=!1})}changeContactPhoto(){const e=this.modal.open(v.a,{windowClass:"myCustomModalClass"});e.componentInstance.previousImage=this.profilePhoto,e.componentInstance.referenceID=this.contact.contactID,e.componentInstance.documentCategoryID=3,e.result.then(e=>{if(e){this.selectedFile=e;const t=new FileReader;t.readAsDataURL(e),t.onload=e=>{this.profilePhoto=t.result}}}).catch(e=>{console.log(e)})}insertDocument(e=!1){const t=new FormData;t.append("image",this.selectedFile,this.selectedFile.name),this.documentService.insertDocument(t,3,this.contact.contactID,+localStorage.getItem("CoID"),1,0).subscribe(t=>{if(console.log(t),t.type===i.e.UploadProgress)this.uploadProgress="Upload Progress:"+Math.round(t.loaded/t.total*100)+"%";else if(t.type===i.e.Response){const n=t.body[0];if(n.documentID&&(this.contact.profilePhoto=n.documentPath),(this.customerContact||this.baselineContact||this.contactType===s.TEAM_MEMBER||this.boardMember||this.shareHolder||this.isReference)&&!this.hideCompany&&!e)return void this.addContactCompany();this.isProcessing=!1,this.ngbActiveModal.close(this.contact)}},e=>{this.handleErrorResponse(e),this.isProcessing=!1})}handleErrorResponse(e){e&&(this.errorMesssages=e.error,document.querySelector(".modal").scrollTop=0)}onAddCompany(){const e=this.modal.open(f.a,{size:"lg"}),t=new h.a;t.companyName=this.newCompanyName,e.componentInstance.company=t,e.result.then(e=>{e&&e.companyID&&(this.companyModel=e,this.newCompanyName="",this.addNewCompany=!1)},()=>{})}fileChangeEvent(e){if(e.target.files[0]){this.imageChangedEvent=e,this.selectedFile=e.target.files[0];const t=new FileReader;t.readAsDataURL(this.selectedFile),t.onload=e=>{this.profilePhoto=t.result}}}onDeleteContact(){const e=this.modal.open(g.a,{backdrop:"static"});e.componentInstance.objectType="Contact",e.componentInstance.objectDetails=this.contact.firstName+" "+this.contact.surname+" contact",e.result.then(e=>{"Yes"!==e||this.contactService.deleteContact(this.contact.contactID).subscribe(()=>{this.userService.logout()})})}emailCheck(e){const t=e.controls.email;t.invalid||this.originEmail!==t.value&&this.userService.emailExists({email:t.value}).subscribe(e=>{this.duplicateEmail=e})}getCountries(){this.listService.getCountryList().subscribe(e=>{this.countries=e})}onCompanyInput(e){this.companyModel&&this.companyModel.companyName?(this.newCompanyName="",this.addNewCompany=!1):(this.newCompanyName=e,this.addNewCompany=!0)}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](b.p),y["\u0275\u0275directiveInject"](b.a),y["\u0275\u0275directiveInject"](I.a),y["\u0275\u0275directiveInject"](x.a),y["\u0275\u0275directiveInject"](S.a),y["\u0275\u0275directiveInject"](C.a),y["\u0275\u0275directiveInject"](D.c),y["\u0275\u0275directiveInject"](w.b),y["\u0275\u0275directiveInject"](k.a))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-team-add-form"]],decls:62,vars:47,consts:[[1,"modal-header"],[1,"modal-title"],[3,"ngSwitch",4,"ngIf"],[4,"ngIf"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["novalidate","",3,"avnonLoader","ngSubmit"],["f","ngForm"],[1,"add-team-form-content"],["class","form-group mb-3",4,"ngIf"],[1,"row","p-0"],[1,"col-sm-6"],[1,"form-group","mb-3"],["for","firstname",1,"m-0"],["type","text","placeholder","Enter First name","autocomplete","off","name","firstname","id","firstname","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","surname",1,"m-0"],["type","text","placeholder","Enter Last name","id","surname","autocomplete","off","name","surname","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","emailAddress",1,"m-0"],["type","email","placeholder","Enter Email address","id","emailAddress","autocomplete","off","appKeyupDebounce","","name","email","required","",1,"form-control",3,"ngModel","onEvent","blur","ngModelChange"],["id","emailHelp","class","form-text text-danger text-left",4,"ngIf"],["class","col-sm-6",4,"ngIf"],["for","contactNumber",1,"m-0"],["type","text","placeholder","Enter Contact Number","autocomplete","off","name","contactNumber","id","contactNumber","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","col-sm-12",4,"ngIf"],[1,"text-right","py-2"],["type","button",1,"btn","btn-outline-primary","mr-2",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"ngSwitch"],[4,"ngSwitchCase"],["role","alert",1,"alert","alert-danger"],["class","m-0 p-0",4,"ngIf"],[1,"m-0","p-0"],[4,"ngFor","ngForOf"],[1,"alert","alert-danger"],["for","logo",1,"m-0"],[1,"form-text","text-muted"],[1,"photo-upload-preview"],["accept","image/*","type","file","id","logo",2,"display","none",3,"change"],["fileInput",""],[1,"img-fluid","avatar-upload",3,"src","click"],["id","emailHelp",1,"form-text","text-danger","text-left"],["for","raceID",1,"m-0"],["name","raceID","id","raceID",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],["for","dateofBirthYear",1,"m-0"],[1,"input-group"],["name","dateofBirthYear","id","dateofBirthYear","required","",1,"w-auto","form-control",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["name","dateofBirthMonth","required","",1,"w-auto","form-control",3,"ngModel","change","ngModelChange"],["name","dateofBirthDay","required","",1,"w-auto","form-control",3,"ngModel","change","ngModelChange"],["for","required",1,"mb-0"],["type","text","name","required","required","","id","required",1,"form-control",3,"ngModel","ngModelChange"],["class","m-0","for","city",4,"ngIf"],["type","text","placeholder","Enter City","autocomplete","off","name","city","id","city","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","city",1,"m-0"],["for","gender",1,"m-0"],["name","gender","id","gender","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","male"],["value","female"],["for","jobTitle",1,"m-0"],["type","text","placeholder","Enter Job Title","autocomplete","off","name","designation","required","","id","jobTitle",1,"form-control",3,"ngModel","ngModelChange"],["for","IDNumber",1,"m-0"],["type","text","placeholder","ID Number","autocomplete","off","name","IDNumber","required","","id","IDNumber",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],["for","headline",1,"m-0","w-100"],[1,"float-right","text-right","mb-0"],["type","text","id","headline","name","headline","required","",1,"form-control",3,"maxLength","placeholder","ngModel","ngModelChange"],["for","personalProfile",1,"m-0"],["placeholder","About me","autocomplete","off","id","personalProfile","name","personalProfile","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter Job Title","autocomplete","off","name","designation","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","startDate",1,"m-0"],["name","dateEmployedYear","required","",1,"w-auto","form-control",3,"ngModel","change","ngModelChange"],["name","dateEmployedMonth","required","",1,"w-auto","form-control",3,"ngModel","change","ngModelChange"],["name","dateEmployedDay","required","",1,"w-auto","form-control",3,"ngModel","change","ngModelChange"],["for","employmentType",1,"m-0"],["type","email","name","employmentTypeID","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["value","3"],["for","founder",1,"m-0"],["name","founder","id","founder","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","managementTeam",1,"m-0"],["name","managementTeam","id","managementTeam","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","technicalTeam",1,"m-0"],["name","technicalTeam","id","technicalTeam","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","employmentStatusID",1,"m-0"],["type","employmentStatusID","name","employmentStatusID","id","employmentStatusID","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","endDate",1,"m-0"],["name","dateTerminatedYear","required","","id","endDate",1,"w-auto","form-control",3,"ngModel","change","ngModelChange"],["name","dateTerminatedMonth","required","",1,"w-auto","form-control",3,"ngModel","change","ngModelChange"],["name","dateTerminatedDay","required","",1,"w-auto","form-control",3,"ngModel","change","ngModelChange"],[1,"form-group","position-relative"],["trainingProviderResults",""],["type","text","name","company",1,"form-control",3,"placeholder","ngModel","ngbTypeahead","resultTemplate","inputFormatter","ngModelChange"],["class","w-100",4,"ngIf"],[1,"logo"],["alt","Text",1,"img-fluid",3,"src"],[1,"meta-data","d-flex","flex-column"],[3,"result","term"],[1,"w-100"],[1,"text-primary","cursor-pointer",3,"click"]],template:function(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275elementStart"](1,"h5",1),y["\u0275\u0275template"](2,L,5,5,"span",2),y["\u0275\u0275template"](3,G,6,5,"span",3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"button",4),y["\u0275\u0275listener"]("click",function(){return t.onCancel()}),y["\u0275\u0275elementStart"](5,"span",5),y["\u0275\u0275text"](6,"\xd7"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",6),y["\u0275\u0275template"](8,z,2,1,"div",7),y["\u0275\u0275template"](9,W,3,3,"div",8),y["\u0275\u0275elementStart"](10,"form",9,10),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](11);return t.onSubmit(n)}),y["\u0275\u0275elementStart"](12,"div",11),y["\u0275\u0275elementStart"](13,"h3"),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](16,X,11,7,"div",12),y["\u0275\u0275elementStart"](17,"div",13),y["\u0275\u0275elementStart"](18,"div",14),y["\u0275\u0275elementStart"](19,"div",15),y["\u0275\u0275elementStart"](20,"label",16),y["\u0275\u0275text"](21),y["\u0275\u0275pipe"](22,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](23,"input",17),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.contact.firstName=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](24,"div",14),y["\u0275\u0275elementStart"](25,"div",15),y["\u0275\u0275elementStart"](26,"label",18),y["\u0275\u0275text"](27),y["\u0275\u0275pipe"](28,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](29,"input",19),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.contact.surname=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"div",14),y["\u0275\u0275elementStart"](31,"div",15),y["\u0275\u0275elementStart"](32,"label",20),y["\u0275\u0275text"](33),y["\u0275\u0275pipe"](34,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](35,"input",21),y["\u0275\u0275listener"]("onEvent",function(){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](11);return t.emailCheck(n)})("blur",function(){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](11);return t.emailCheck(n)})("ngModelChange",function(e){return t.contact.emailAddress=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](36,Y,3,3,"small",22),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](37,K,24,28,"div",23),y["\u0275\u0275template"](38,ee,12,9,"div",23),y["\u0275\u0275elementStart"](39,"div",14),y["\u0275\u0275elementStart"](40,"div",15),y["\u0275\u0275elementStart"](41,"label",24),y["\u0275\u0275text"](42),y["\u0275\u0275pipe"](43,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](44,"input",25),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.contact.mobileNumber=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](45,ne,10,9,"div",23),y["\u0275\u0275template"](46,ae,5,3,"div",23),y["\u0275\u0275template"](47,re,15,14,"div",23),y["\u0275\u0275template"](48,se,6,4,"div",23),y["\u0275\u0275template"](49,le,6,4,"div",23),y["\u0275\u0275template"](50,pe,9,8,"div",26),y["\u0275\u0275template"](51,me,6,4,"div",26),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](52,Ee,14,11,"ng-container",3),y["\u0275\u0275template"](53,Pe,18,13,"ng-container",3),y["\u0275\u0275elementStart"](54,"div",27),y["\u0275\u0275elementStart"](55,"button",28),y["\u0275\u0275listener"]("click",function(){return t.onCancel()}),y["\u0275\u0275text"](56),y["\u0275\u0275pipe"](57,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](58,"button",29),y["\u0275\u0275template"](59,Te,1,0,"app-spinner",3),y["\u0275\u0275text"](60),y["\u0275\u0275pipe"](61,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](11);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",!(t.boardMember||t.shareHolder||t.isReference||t.isDelegateInvite||t.companyOwner)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.boardMember||t.shareHolder||t.isReference||t.isDelegateInvite||t.companyOwner),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf",t.errorMesssages),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.duplicateEmail),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("avnonLoader",t.isProcessing),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](15,33,"PEOPLE.PERSONAL-INFORMATION")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",!(t.customerContact||t.companyOwner||t.shareHolder||t.boardMember||t.isReference)),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](22,35,"PEOPLE.FIRST-NAME")," *"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",t.contact.firstName),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](28,37,"PEOPLE.LAST-NAME")," *"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",t.contact.surname),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](34,39,"PEOPLE.EMAIL-ADDRESS")," *"),y["\u0275\u0275advance"](2),y["\u0275\u0275classProp"]("error",t.duplicateEmail),y["\u0275\u0275property"]("ngModel",t.contact.emailAddress),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.duplicateEmail),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",(2!==t.contactType&&!t.customerContact||t.baselineContact)&&!t.isQstp&&!t.isReference),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2!==t.contactType&&!t.customerContact&&!t.companyOwner&&!t.isReference),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](43,41,"PEOPLE.CONTACT-NUMBER")," *"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",t.contact.mobileNumber),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!t.customerContact&&!t.isReference),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!t.customerContact),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!t.isReference),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.customerContact||t.companyOwner),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.isEnterprise),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!t.customerContact&&!t.baselineContact&&(!t.isEnterprise||t.isEnterprise&&t.contact.contactID===t.contactID)&&!t.companyOwner&&!t.isReference),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!t.customerContact&&!t.baselineContact&&4===t.contactType),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!t.hideCompany&&!t.boardMember&&!t.shareHolder&&!t.isReference&&!t.isDelegateInvite&&(!t.isEnterprise||t.isEnterprise&&t.contact.contactID===t.contactID)&&!t.companyOwner),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",(t.boardMember||t.shareHolder||t.isReference)&&!t.contact.contactID),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](57,43,"COMMON.CANCEL")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("disabled",t.isProcessing||e.invalid||t.duplicateEmail),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.isProcessing),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](61,45,"COMMON.SUBMIT")," ")}},directives:[o.n,E.E,E.r,E.s,M.a,E.b,E.A,E.q,E.t,O.a,o.p,o.q,o.m,E.B,E.v,E.D,b.E,b.n,P.a],pipes:[T.c],styles:[".form-control-headline[_ngcontent-%COMP%]{height:auto;min-height:unset}.photo-upload-preview[_ngcontent-%COMP%]   .avatar-upload[_ngcontent-%COMP%]{height:140px}.form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:red}.alert[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.add-team-form-content[_ngcontent-%COMP%]{max-height:85vh;overflow-y:auto;overflow-x:hidden}ul.speciality[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}  ngb-typeahead-window{width:100%;overflow-y:auto;max-height:380px;max-width:480px}  ngb-typeahead-window .dropdown-item{display:flex;align-items:center}  ngb-typeahead-window .dropdown-item .logo{width:64px;height:64px;display:flex;align-items:center}  ngb-typeahead-window .dropdown-item img{max-width:64px;max-height:64px}  ngb-typeahead-window .dropdown-item .meta-data{display:flex;flex-direction:column;margin-left:12px}  .pac-container.map-selector{z-index:999999!important}agm-map[_ngcontent-%COMP%]{height:160px;width:300px;float:left;margin-right:10px}"]}),e})()},9122:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});const i=[{permissionAreaID:1,permissionArea:"Users"},{permissionAreaID:2,permissionArea:"Documents"},{permissionAreaID:3,permissionArea:"Applications"},{permissionAreaID:4,permissionArea:"Programs"},{permissionAreaID:5,permissionArea:"Course Library"},{permissionAreaID:6,permissionArea:"Calendar"},{permissionAreaID:7,permissionArea:"Dashboard"},{permissionAreaID:8,permissionArea:"Mentor Network"},{permissionAreaID:9,permissionArea:"Investor Network"},{permissionAreaID:10,permissionArea:"Startup Network"},{permissionAreaID:11,permissionArea:"Service Provider Network"},{permissionAreaID:12,permissionArea:"Community Network"},{permissionAreaID:13,permissionArea:"Venues"},{permissionAreaID:14,permissionArea:"Forms"},{permissionAreaID:15,permissionArea:"Training Coordinator"},{permissionAreaID:16,permissionArea:"Admin"},{permissionAreaID:17,permissionArea:"Startup Supporter"},{permissionAreaID:18,permissionArea:"Program Manager"}];var o=function(e){return e[e.Users=1]="Users",e[e.Documents=2]="Documents",e[e.Applications=3]="Applications",e[e.Programs=4]="Programs",e[e.Course_Library=5]="Course_Library",e[e.Calendar=6]="Calendar",e[e.Dashboard=7]="Dashboard",e[e.Mentor_Network=8]="Mentor_Network",e[e.Investor_Network=9]="Investor_Network",e[e.Startup_Network=10]="Startup_Network",e[e.Service_Provider_Network=11]="Service_Provider_Network",e[e.Community_Network=12]="Community_Network",e[e.Venues=13]="Venues",e[e.Forms=14]="Forms",e[e.Training_Coordinator=15]="Training_Coordinator",e[e.Admin=16]="Admin",e[e.Startup_Supporter=17]="Startup_Supporter",e[e.ProgramManager=18]="ProgramManager",e}({})},"9AGB":function(e,t,n){"use strict";var i=n("yoF8");function o(e){return 0===e.length?i.identity:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)},t.pipeFromArray=o},"9F88":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n("rOaL"),o=n("Xdyb"),a=n("fXoL"),r=n("1kSV"),s=n("esnG"),l=n("ofXK"),c=n("pqhe");function d(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"tr",3),a["\u0275\u0275elementStart"](1,"td",4),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](e);const n=t.$implicit;return a["\u0275\u0275nextContext"]().onPreviewImage(n)}),a["\u0275\u0275element"](2,"app-document-thumbnail",5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("linkName",e.documentTitle)("isImage",e.documentType.includes("image"))("document",e)("isVideo",e.documentType.includes("video")||e.documentType.includes("application/octet-stream"))("documentPath",e.documentPath)}}let p=(()=>{class e{constructor(e,t){this.modal=e,this.documentsService=t,this.referenceID=0,this.isProcessing=!1,this.tabActive=1,this.documentsFilted=[],this.allDocuments=[],this.TIME_RELOAD_DATA=60}ngOnInit(){this.contactID=+localStorage.getItem("CoID"),this.getDocuments()}getDocuments(){(this.referenceID||this.reference2ID)&&this.documentsService.getDocuments(this.documentCategoryID,this.referenceID,0,this.reference2ID,0).subscribe(e=>{this.documentsFilted=e,this.allDocuments=[...this.documentsFilted]})}onPreviewImage(e){if(e.documentType.includes("image")){const t=this.modal.open(i.a,{size:"gallery",centered:!0});t.componentInstance.documents=this.documentsFilted,t.componentInstance.documentActive=e}else if(e.documentType.includes("video")){const t=this.modal.open(o.a,{size:"lg"});t.componentInstance.document=e,t.componentInstance.showTitle=!1}}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](r.p),a["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-documents-list"]],inputs:{referenceID:"referenceID",reference2ID:["referenceID2","reference2ID"],documentCategoryID:"documentCategoryID"},decls:4,vars:1,consts:[[1,"table-responsive"],[1,"table","table-borderless","m-0","file-list-table"],["class","cursor-pointer",4,"ngFor","ngForOf"],[1,"cursor-pointer"],[3,"click"],[3,"linkName","isImage","document","isVideo","documentPath"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"table",1),a["\u0275\u0275elementStart"](2,"tbody"),a["\u0275\u0275template"](3,d,3,5,"tr",2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.documentsFilted))},directives:[l.m,c.a],styles:[".file-list-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:1px solid #dfdfdf}.file-list-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:1px solid #dfdfdf}"]}),e})()},"9f76":function(e,t,n){"use strict";var i=n("8M4i"),o=n("EUcb"),a=function(e){return Object(o.a)(e)&&"[object Arguments]"==Object(i.a)(e)},r=Object.prototype,s=r.hasOwnProperty,l=r.propertyIsEnumerable,c=a(function(){return arguments}())?a:function(e){return Object(o.a)(e)&&s.call(e,"callee")&&!l.call(e,"callee")};t.a=c},A63E:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("tk/3"),o=n("AytR"),a=n("VgRj"),r=n("fXoL");const s=""+o.a.apiUrl,l=""+o.a.token;let c=(()=>{class e{constructor(e){this.http=e,this.httpOptions={headers:new i.f({"Content-Type":"application/json",Token:l})}}getCategories(e,t=0,n=0){return this.http.get(`${s}/financialCategory?companyID=${e}&FinancialCategoryClassificationID=${t}&FinancialCategoryTypeID=${n}`,this.httpOptions)}getBudgets(e){return this.http.get(`${s}/company/budget?${a.a.toUrlEncodedString(e)}`,this.httpOptions)}getFinancial(e){return this.http.get(`${s}/company/financial?${a.a.toUrlEncodedString(e)}`,this.httpOptions)}storeCategory(e){return this.http.post(s+"/financialCategory",JSON.stringify(e),this.httpOptions)}updateCategory(e){return this.http.put(s+"/financialCategory",JSON.stringify(e),this.httpOptions)}storeBudgets(e){return this.http.post(s+"/company/budget/batch",JSON.stringify({items:e}),this.httpOptions)}storeBudget(e){return this.http.post(s+"/company/budget",e)}updateBudgets(e){return JSON.stringify({items:e}),this.http.put(s+"/company/budget/batch",JSON.stringify({items:e}),this.httpOptions)}storeFinancial(e){return this.http.post(s+"/company/financial/batch",JSON.stringify({items:e}),this.httpOptions)}updateFinancial(e){return this.http.put(s+"/company/financial/batch",JSON.stringify({items:e}),this.httpOptions)}deleteCategory(e){return this.http.delete(`${s}/financialCategory/${e}`,this.httpOptions)}getTransactionByAccountID(e,t=0,n=0,i="",o="",a=0,r=0,l=!1,c=0){return this.http.get(`${s}/Transaction?companyAccountID=${e}\n\t\t&transactionCategoryID=${t}\n\t\t&financialCategoryID=${n}\n\t\t&startDate=${i}\n\t\t&endDate=${o}\n\t\t&referenceID=${a}\n\t\t&transactionID=${r}\n\t\t&verified=${l}\n\t\t&companyID=${c}`)}updateTransaction(e){return this.http.put(s+"/Transaction",e)}portfolioFinancial(e=0,t=0,n=0,i=0,o=0,a=0,r=0,l=0){return this.http.get(`${s}/company/financial/portfolio?\nCompanyID=${e}\n&MonthID=${t}\n&YearID=${n}\n&ProgramID=${i}\n&ProgramInstanceID=${o}\n&CompanyLocationID=${a}\n&MasterCompanyID=${r}\n&FinancialCategoryID=${l}`)}budgetByYear(e){return this.http.get(`${s}/Company/budget/byyear?CompanyID=${e}`)}financialHistoryAverage(e){return this.http.get(`${s}/Company/financial/historical/average?CompanyID=${e}`)}deleteFinancial(e){return this.http.delete(`${s}/Company/financial/${e}`)}deleteTransaction(e){return this.http.delete(`${s}/Transaction/${e}`,this.httpOptions)}getListTransactionByEventId(e,t){return this.http.get(`${s}/Transaction/event?CompanyAccountID=${e}&EventID=${t}`)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](i.b))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"Ay/5":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});class i{}var o=function(e){return e[e.Not_yet_started=1]="Not_yet_started",e[e.Underway=2]="Underway",e[e.Stage_Completed=3]="Stage_Completed",e[e.Stage_Failed_Declined=4]="Stage_Failed_Declined",e[e.Application_Completed_Ready_for_Review=5]="Application_Completed_Ready_for_Review",e[e.Application_Under_Review=6]="Application_Under_Review",e[e.Application_Review_Complete=7]="Application_Review_Complete",e}({})},BoU9:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});class i{constructor(){this.membersReadMessage=[],this.parentDiscussionID=null,this.replyDisussionID=null,this.discussionValue=null,this.repliedDiscussion=null,this.taskOwner=null,this.childDiscussions=[],this.unread=null,this.latestMessage=null,this.latestMessagePosted=null}}var o=function(e){return e[e.requestSignOff=7]="requestSignOff",e[e.acceptSignOff=8]="acceptSignOff",e[e.declineSignOff=9]="declineSignOff",e[e.canceledSignOff=11]="canceledSignOff",e[e.flaggedTask=13]="flaggedTask",e[e.unFlaggedTask=14]="unFlaggedTask",e[e.salesReview=109]="salesReview",e[e.customerSatisfactionReview=110]="customerSatisfactionReview",e[e.demandReview=111]="demandReview",e[e.teamCapacityReview=112]="teamCapacityReview",e[e.overallStabilityReview=113]="overallStabilityReview",e[e.howMonthGo=114]="howMonthGo",e[e.notificationAlternative=115]="notificationAlternative",e[e.taskAlternative=116]="taskAlternative",e}({})},CGVT:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("fXoL");let o=(()=>{class e{transform(e){const t=e.find(e=>e.answer&&e.answer.formFieldAnswerID);return t&&t.answer.formFieldAnswerID?t.answer.formFieldAnswerID:null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"checkboxValue",type:e,pure:!1}),e})()},Cbnz:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("fXoL");let o=(()=>{class e{transform(e,t){return t?e.filter(e=>(e.firstName+" "+e.surname).toLocaleLowerCase().includes(t.toLocaleLowerCase())):e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"contactSelectorFilter",type:e,pure:!0}),e})()},Ce4a:function(e,t,n){"use strict";var i=n("Ju5/");t.a=i.a.Uint8Array},CzEO:function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return g});var i=n("ofXK"),o=n("fXoL"),a=n("mrSG"),r=n("jhN1"),s=n("3Pt+");const l=[[["","quill-editor-toolbar",""]]],c=["[quill-editor-toolbar]"],d={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},p=(e,t)=>e||t||"html",m=new o.InjectionToken("config");let u=(()=>{class e{constructor(e){this.config=e,this.count=0,this.config||(this.config={modules:d})}getQuill(){return this.count++,this.Quill||1!==this.count||(this.$importPromise=new Promise(e=>Object(a.a)(this,void 0,void 0,function*(){var t,i;const o=yield n.e(70).then(n.t.bind(null,"kzlf",7));this.Quill=o.default?o.default:o,null===(t=this.config.customOptions)||void 0===t||t.forEach(e=>{const t=this.Quill.import(e.import);t.whitelist=e.whitelist,this.Quill.register(t,!0,this.config.suppressGlobalRegisterWarning)}),null===(i=this.config.customModules)||void 0===i||i.forEach(({implementation:e,path:t})=>{this.Quill.register(t,e,this.config.suppressGlobalRegisterWarning)}),e(this.Quill)}))),this.$importPromise}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](m))},e.\u0275prov=Object(o["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(o["\u0275\u0275inject"])(m))},token:e,providedIn:"root"}),e})(),h=(()=>{class e{constructor(e,t,n,i,a,r,s){this.elementRef=e,this.domSanitizer=t,this.doc=n,this.platformId=i,this.renderer=a,this.zone=r,this.service=s,this.required=!1,this.customToolbarPosition="top",this.sanitize=!1,this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.onEditorCreated=new o.EventEmitter,this.onEditorChanged=new o.EventEmitter,this.onContentChanged=new o.EventEmitter,this.onSelectionChanged=new o.EventEmitter,this.onFocus=new o.EventEmitter,this.onBlur=new o.EventEmitter,this.disabled=!1,this.valueGetter=(e,t)=>{let n=t.querySelector(".ql-editor").innerHTML;"<p><br></p>"!==n&&"<div><br></div>"!==n||(n=null);let i=n;const o=p(this.format,this.service.config.format);if("text"===o)i=e.getText();else if("object"===o)i=e.getContents();else if("json"===o)try{i=JSON.stringify(e.getContents())}catch(a){i=e.getText()}return i},this.valueSetter=(e,t)=>{const n=p(this.format,this.service.config.format);if("html"===n)return this.sanitize&&(t=this.domSanitizer.sanitize(o.SecurityContext.HTML,t)),e.clipboard.convert(t);if("json"===n)try{return JSON.parse(t)}catch(i){return[{insert:t}]}return t},this.selectionChangeHandler=(e,t,n)=>{const i=!e&&!!this.onModelTouched;(this.onBlur.observers.length||this.onFocus.observers.length||this.onSelectionChanged.observers.length||i)&&this.zone.run(()=>{null===e?this.onBlur.emit({editor:this.quillEditor,source:n}):null===t&&this.onFocus.emit({editor:this.quillEditor,source:n}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:t,range:e,source:n}),i&&this.onModelTouched()})},this.textChangeHandler=(e,t,n)=>{const i=this.quillEditor.getText(),o=this.quillEditor.getContents();let a=this.editorElem.querySelector(".ql-editor").innerHTML;"<p><br></p>"!==a&&"<div><br></div>"!==a||(a=null);const r=this.trackChanges||this.service.config.trackChanges,s=("user"===n||r&&"all"===r)&&!!this.onModelChange;(this.onContentChanged.observers.length||s)&&this.zone.run(()=>{s&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:o,delta:e,editor:this.quillEditor,html:a,oldDelta:t,source:n,text:i})})},this.editorChangeHandler=(e,t,n,i)=>{if(this.onEditorChanged.observers.length)if("text-change"===e){const o=this.quillEditor.getText(),a=this.quillEditor.getContents();let r=this.editorElem.querySelector(".ql-editor").innerHTML;"<p><br></p>"!==r&&"<div><br></div>"!==r||(r=null),this.zone.run(()=>{this.onEditorChanged.emit({content:a,delta:t,editor:this.quillEditor,event:e,html:r,oldDelta:n,source:i,text:o})})}else this.onEditorChanged.emit({editor:this.quillEditor,event:e,oldRange:n,range:t,source:i})}}static normalizeClassNames(e){return e.trim().split(" ").reduce((e,t)=>{const n=t.trim();return n&&e.push(n),e},[])}ngAfterViewInit(){return Object(a.a)(this,void 0,void 0,function*(){if(Object(i.D)(this.platformId))return;const e=yield this.service.getQuill();this.elementRef.nativeElement.insertAdjacentHTML("top"===this.customToolbarPosition?"beforeend":"afterbegin",this.preserveWhitespace?"<pre quill-editor-element></pre>":"<div quill-editor-element></div>"),this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const t=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),n=Object.assign({},this.modules||this.service.config.modules);t?n.toolbar=t:void 0===n.toolbar&&(n.toolbar=d.toolbar);let o=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===o&&(o="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(e=>{this.renderer.setStyle(this.editorElem,e,this.styles[e])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(t=>{const n=e.import(t.import);n.whitelist=t.whitelist,e.register(n,!0)}),this.customModules.forEach(({implementation:t,path:n})=>{e.register(n,t)});let a=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;a||(a=this.service.config.bounds?this.service.config.bounds:this.doc.body);let r=this.debug;!r&&!1!==r&&this.service.config.debug&&(r=this.service.config.debug);let s=this.readOnly;s||!1===this.readOnly||(s=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let l=this.scrollingContainer;l||null===this.scrollingContainer||(l=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let c=this.formats;if(c||void 0!==c||(c=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{var t,i,d;if(this.quillEditor=new e(this.editorElem,{bounds:a,debug:r,formats:c,modules:n,placeholder:o,readOnly:s,scrollingContainer:l,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.linkPlaceholder){const e=null===(i=null===(t=this.quillEditor)||void 0===t?void 0:t.theme)||void 0===i?void 0:i.tooltip,n=null===(d=null==e?void 0:e.root)||void 0===d?void 0:d.querySelector("input[data-link]");(null==n?void 0:n.dataset)&&(n.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===p(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const e=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(e,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.quillEditor.on("editor-change",this.editorChangeHandler),this.quillEditor.on("selection-change",this.selectionChangeHandler),this.quillEditor.on("text-change",this.textChangeHandler),setTimeout(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor)})})}ngOnDestroy(){this.quillEditor&&(this.quillEditor.off("selection-change",this.selectionChangeHandler),this.quillEditor.off("text-change",this.textChangeHandler),this.quillEditor.off("editor-change",this.editorChangeHandler))}ngOnChanges(e){if(this.quillEditor){if(e.readOnly&&this.quillEditor.enable(!e.readOnly.currentValue),e.placeholder&&(this.quillEditor.root.dataset.placeholder=e.placeholder.currentValue),e.styles){const t=e.styles.currentValue,n=e.styles.previousValue;n&&Object.keys(n).forEach(e=>{this.renderer.removeStyle(this.editorElem,e)}),t&&Object.keys(t).forEach(e=>{this.renderer.setStyle(this.editorElem,e,this.styles[e])})}if(e.classes){const t=e.classes.currentValue,n=e.classes.previousValue;n&&this.removeClasses(n),t&&this.addClasses(t)}}}addClasses(t){e.normalizeClassNames(t).forEach(e=>{this.renderer.addClass(this.editorElem,e)})}removeClasses(t){e.normalizeClassNames(t).forEach(e=>{this.renderer.removeClass(this.editorElem,e)})}writeValue(e){if(this.filterNull&&null===e)return;if(this.content=e,!this.quillEditor)return;const t=p(this.format,this.service.config.format),n=this.valueSetter(this.quillEditor,e);if(this.compareValues){const e=this.quillEditor.getContents();if(JSON.stringify(e)===JSON.stringify(n))return}e?"text"===t?this.quillEditor.setText(e):this.quillEditor.setContents(n):this.quillEditor.setText("")}setDisabledState(e=this.disabled){this.disabled=e,this.quillEditor&&(e?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}registerOnValidatorChange(e){this.onValidatorChanged=e}validate(){if(!this.quillEditor)return null;const e={};let t=!0;const n=this.quillEditor.getText(),i=this.trimOnValidation?n.trim().length:1===n.length&&0===n.trim().length?0:n.length-1;return this.minLength&&i&&i<this.minLength&&(e.minLengthError={given:i,minLength:this.minLength},t=!1),this.maxLength&&i>this.maxLength&&(e.maxLengthError={given:i,maxLength:this.maxLength},t=!1),this.required&&!i&&(e.requiredError={empty:!0},t=!1),t?null:e}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](o.ElementRef),o["\u0275\u0275directiveInject"](r.b),o["\u0275\u0275directiveInject"](i.d),o["\u0275\u0275directiveInject"](o.PLATFORM_ID),o["\u0275\u0275directiveInject"](o.Renderer2),o["\u0275\u0275directiveInject"](o.NgZone),o["\u0275\u0275directiveInject"](u))},e.\u0275dir=o["\u0275\u0275defineDirective"]({type:e,inputs:{required:"required",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",styles:"styles",strict:"strict",customOptions:"customOptions",customModules:"customModules",preserveWhitespace:"preserveWhitespace",trimOnValidation:"trimOnValidation",compareValues:"compareValues",filterNull:"filterNull",valueGetter:"valueGetter",valueSetter:"valueSetter",format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",formats:"formats",scrollingContainer:"scrollingContainer",bounds:"bounds",trackChanges:"trackChanges",classes:"classes",linkPlaceholder:"linkPlaceholder"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[o["\u0275\u0275NgOnChangesFeature"]]}),e})(),f=(()=>{class e extends h{constructor(e,t,n,i,o,a,r){super(e,t,n,i,o,a,r)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](o.ElementRef),o["\u0275\u0275directiveInject"](r.b),o["\u0275\u0275directiveInject"](i.d),o["\u0275\u0275directiveInject"](o.PLATFORM_ID),o["\u0275\u0275directiveInject"](o.Renderer2),o["\u0275\u0275directiveInject"](o.NgZone),o["\u0275\u0275directiveInject"](u))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["quill-editor"]],features:[o["\u0275\u0275ProvidersFeature"]([{multi:!0,provide:s.p,useExisting:Object(o.forwardRef)(()=>e)},{multi:!0,provide:s.o,useExisting:Object(o.forwardRef)(()=>e)}]),o["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:c,decls:1,vars:0,template:function(e,t){1&e&&(o["\u0275\u0275projectionDef"](l),o["\u0275\u0275projection"](0))},encapsulation:2}),e})(),g=(()=>{class e{constructor(e,t){this.sanitizer=e,this.service=t,this.content="",this.innerHTML="",this.themeClass="ql-snow"}ngOnChanges(e){e.theme?this.themeClass=`ql-${e.theme.currentValue||(this.service.config.theme?this.service.config.theme:"snow")} ngx-quill-view-html`:this.theme||(this.themeClass=`ql-${this.service.config.theme?this.service.config.theme:"snow"} ngx-quill-view-html`),e.content&&(this.innerHTML=this.sanitizer.bypassSecurityTrustHtml(e.content.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](r.b),o["\u0275\u0275directiveInject"](u))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["quill-view-html"]],inputs:{content:"content",theme:"theme"},features:[o["\u0275\u0275NgOnChangesFeature"]],decls:2,vars:2,consts:[[1,"ql-container",3,"ngClass"],[1,"ql-editor",3,"innerHTML"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275element"](1,"div",1),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275property"]("ngClass",t.themeClass),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("innerHTML",t.innerHTML,o["\u0275\u0275sanitizeHtml"]))},directives:[i.l],styles:["\n.ql-container.ngx-quill-view-html {\n  border: 0;\n}\n"],encapsulation:2}),e})(),v=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[{provide:m,useValue:t}]}}}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[u],imports:[[i.c]]}),e})()},D7eP:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var i=n("myoa"),o=n("fXoL"),a=n("skrp"),r=n("ofXK"),s=n("TIDI"),l=n("Xdyb");function c(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",3),o["\u0275\u0275element"](1,"youtube-player",4),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("videoId",e.videoId)}}function d(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",3),o["\u0275\u0275element"](1,"media-player",5),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("autoplay",!1)("trackAudit",e.trackAudit)("ampLink",e.ampLink)("downloadAvailable",!1)}}function p(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",14),o["\u0275\u0275element"](1,"img",15),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("src",null==e.linkPreview?null:e.linkPreview.image,o["\u0275\u0275sanitizeUrl"])}}function m(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",14),o["\u0275\u0275element"](1,"img",15),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("src",null==e.linkPreview?null:e.linkPreview.image,o["\u0275\u0275sanitizeUrl"])}}function u(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",6),o["\u0275\u0275template"](1,p,2,1,"div",7),o["\u0275\u0275elementStart"](2,"div",8),o["\u0275\u0275template"](3,m,2,1,"div",7),o["\u0275\u0275elementStart"](4,"div",9),o["\u0275\u0275elementStart"](5,"h5",10),o["\u0275\u0275text"](6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"p",11),o["\u0275\u0275text"](8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"p",11),o["\u0275\u0275elementStart"](10,"small",12),o["\u0275\u0275elementStart"](11,"a",13),o["\u0275\u0275text"](12),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",null==e.linkPreview?null:e.linkPreview.image),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",null==e.linkPreview?null:e.linkPreview.image),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](null==e.linkPreview?null:e.linkPreview.title),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](null==e.linkPreview?null:e.linkPreview.description),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("href",null==e.linkPreview?null:e.linkPreview.url,o["\u0275\u0275sanitizeUrl"]),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](null==e.linkPreview?null:e.linkPreview.url)}}let h=(()=>{class e{constructor(e){this.linkService=e}ngOnInit(){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",document.body.appendChild(e)}ngOnChanges(e){if(i.b.isYoutubeLink(this.linkUrl)){const e=this.linkUrl.split("v=")[1];this.videoId=e.includes("ab_channel")?e.split("&ab_channel=")[0]:e}else i.b.isAzure(this.linkUrl)?this.ampLink=this.linkUrl:this.linkService.fetchLink(this.linkUrl).subscribe(e=>{this.linkPreview=e},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](a.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-link-preview"]],inputs:{linkUrl:"linkUrl",trackAudit:"trackAudit"},features:[o["\u0275\u0275NgOnChangesFeature"]],decls:4,vars:3,consts:[[1,"entry-media"],["class","embedded",4,"ngIf"],["class","row no-gutters entry-media",4,"ngIf"],[1,"embedded"],["height","100%","width","100%",3,"videoId"],[3,"autoplay","trackAudit","ampLink","downloadAvailable"],[1,"row","no-gutters","entry-media"],["class","col-4 d-flex align-items-center",4,"ngIf"],[1,"col-8"],[1,"card-body","small"],[1,"card-title"],[1,"card-text"],[1,"text-muted"],[3,"href"],[1,"col-4","d-flex","align-items-center"],["alt","...",1,"card-img",3,"src"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275template"](1,c,2,1,"div",1),o["\u0275\u0275template"](2,d,2,4,"div",1),o["\u0275\u0275template"](3,u,13,6,"div",2),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.videoId),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.ampLink),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.videoId&&!t.ampLink))},directives:[r.n,s.a,l.a],styles:[".embedded[_ngcontent-%COMP%]{border-radius:10px;height:400px;width:100%;min-width:600px}@media (max-width:600px){.embedded[_ngcontent-%COMP%]{min-width:100%}}.embedded[_ngcontent-%COMP%]   media-player[_ngcontent-%COMP%], .embedded[_ngcontent-%COMP%]   youtube-player[_ngcontent-%COMP%]{border-radius:10px;width:100%;height:100%;display:flex;overflow:hidden;flex-direction:column}"]}),e})()},Dhwl:function(e,t,n){"use strict";n.d(t,"a",function(){return I});var i=n("8J6U"),o=n("8stm"),a=n("fXoL"),r=n("1kSV"),s=n("WhH8"),l=n("kmKP"),c=n("Jn3s"),d=n("ofXK"),p=n("3Pt+"),m=n("SdWN");function u(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",20),a["\u0275\u0275elementStart"](1,"div",21),a["\u0275\u0275elementStart"](2,"button",22),a["\u0275\u0275element"](3,"span",23),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"ul",24),a["\u0275\u0275elementStart"](5,"li"),a["\u0275\u0275elementStart"](6,"a",25),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"](2).editContact()}),a["\u0275\u0275text"](7,"Edit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function h(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",15),a["\u0275\u0275elementStart"](1,"span",16),a["\u0275\u0275element"](2,"img",17),a["\u0275\u0275pipe"](3,"avatar"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",18),a["\u0275\u0275elementStart"](5,"h2"),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](7,u,8,0,"div",19),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("src",a["\u0275\u0275pipeBind1"](3,4,e.contact.profilePhoto),a["\u0275\u0275sanitizeUrl"]),a["\u0275\u0275advance"](4),a["\u0275\u0275textInterpolate2"]("",e.contact.firstName," ",e.contact.surname,""),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!e.contact.userID||(null==e.contact?null:e.contact.contactID)===e.user.contactID)}}function f(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275elementStart"](1,"div",9),a["\u0275\u0275elementStart"](2,"label",26),a["\u0275\u0275text"](3,"Email Address *"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"input",27),a["\u0275\u0275listener"]("ngModelChange",function(t){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().contact.emailAddress=t}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",9),a["\u0275\u0275elementStart"](6,"label",28),a["\u0275\u0275text"](7,"Phone Number *"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"input",29),a["\u0275\u0275listener"]("ngModelChange",function(t){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().contact.mobileNumber=t}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngModel",e.contact.emailAddress),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngModel",e.contact.mobileNumber)}}function g(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",9),a["\u0275\u0275elementStart"](1,"label",30),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",31),a["\u0275\u0275elementStart"](4,"input",32,33),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275reference"](5).toggle()})("ngModelChange",function(t){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().date=t}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"div",34),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275reference"](5).toggle()}),a["\u0275\u0275elementStart"](7,"span",35),a["\u0275\u0275element"](8,"span",36),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"]("When did ",e.contact.firstname," become a board member *"),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngModel",e.date)}}function v(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",9),a["\u0275\u0275elementStart"](1,"label",10),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"textarea",37),a["\u0275\u0275listener"]("ngModelChange",function(t){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().extraComment=t}),a["\u0275\u0275text"](4,"\t\t\t"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"]("",e.extraLabel," *"),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngModel",e.extraComment)}}function y(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",40),a["\u0275\u0275text"](1,"Support Group"),a["\u0275\u0275elementEnd"]()),2&e&&a["\u0275\u0275property"]("ngValue",50)}function b(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",9),a["\u0275\u0275elementStart"](1,"label",38),a["\u0275\u0275text"](2,"Group Type *"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"select",39),a["\u0275\u0275listener"]("ngModelChange",function(t){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().discussionCategoryID=t}),a["\u0275\u0275elementStart"](4,"option",40),a["\u0275\u0275text"](5,"General Group"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](6,y,2,1,"option",41),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngModel",e.discussionCategoryID),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngValue",2),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",3558===e.companyID)}}let I=(()=>{class e{constructor(e,t,n,i){this.activeModal=e,this.modal=t,this.contactService=n,this.userService=i,this.comment="",this.isRequired=!0,this.date={year:null,month:null,day:null},this.user=this.userService.user.getValue(),this.companyID=this.user.companyID}ngOnInit(){if(this.contact&&this.contact.dateConnected){const e=new Date(this.contact.dateConnected);this.date.year=e.getFullYear(),this.date.month=e.getMonth()+1,this.date.day=e.getDate()}this.contact&&this.contact.contactConnectDetail&&(this.comment=this.contact.contactConnectDetail),this.contact&&this.contact.contactID&&this.getContact()}submit(){if(this.isReference&&(this.contact.userID&&this.contact.contactID!==this.user.contactID||this.contactService.update(this.contact).subscribe()),this.discussionCategoryID)this.activeModal.close({comment:this.comment,discussionCategoryID:this.discussionCategoryID});else if(this.isExtraComment)this.activeModal.close({comment:this.comment,extraComment:this.extraComment});else if(this.contact){let e=new Date;this.date.year&&(e=new Date(this.date.year,this.date.month-1,this.date.day));const t=Object(i.a)(e);this.activeModal.close({comment:this.comment,date:t,contact:this.contact})}else this.activeModal.close(this.comment)}editContact(){const e=this.modal.open(o.a,{size:"lg"});e.componentInstance.contact=Object(i.l)(this.contact),e.componentInstance.actionType="Edit",e.componentInstance.boardMember=this.isBoardMember,e.componentInstance.shareHolder=this.isShareholder,e.componentInstance.isReference=this.isReference,e.result.then(e=>{e&&(this.contact=e,this.user.contactID===this.contact.contactID&&(this.user.profilePhoto=this.contact.profilePhoto,this.user.surname=this.contact.surname,this.user.firstName=this.contact.firstName,this.user.emailAddress=this.contact.emailAddress,this.userService.user.next(this.user)))},()=>{})}getContact(){this.contactLoading=!0,this.contactService.getContactList("0",this.contact.contactID,0).subscribe(e=>{e[0]&&(this.contact=e[0]),this.contactLoading=!1})}dismiss(){this.activeModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](r.a),a["\u0275\u0275directiveInject"](r.p),a["\u0275\u0275directiveInject"](s.a),a["\u0275\u0275directiveInject"](l.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-common-comment-box"]],decls:22,vars:12,consts:[[1,"modal-header"],["id","postModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","pl-0","pr-0",3,"avnonLoader"],["class","entry mb-2 pt-1",4,"ngIf"],[1,"pl-3","pr-3","form-block","pt-0","pm-0","m-0",3,"ngSubmit"],["f","ngForm"],[4,"ngIf"],[1,"form-group"],["for","comment"],["name","comment","id","comment",1,"form-control",3,"placeholder","ngModel","required","ngModelChange"],["class","form-group",4,"ngIf"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"entry","mb-2","pt-1"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","Avatar",1,"img-fluid","img-48","cover",3,"src"],[1,"d-flex","align-items-start"],["class","actions ml-auto",4,"ngIf"],[1,"actions","ml-auto"],["ngbDropdown","","display","dynamic","container","body"],["type","button","ngbDropdownToggle","","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],["for","emailAddress"],["type","text","required","","name","emailAddress","id","emailAddress",1,"form-control",3,"ngModel","ngModelChange"],["for","mobileNumber"],["type","text","required","","name","mobileNumber","id","mobileNumber",1,"form-control",3,"ngModel","ngModelChange"],["for","startDate"],[1,"input-group"],["autocomplete","off","placeholder","dd-mm-yyyy","name","startDate","required","","ngbDatepicker","","id","startDate",1,"form-control",3,"ngModel","click","ngModelChange"],["startDatePicker","ngbDatepicker"],[1,"input-group-append",3,"click"],[1,"input-group-text","bg-transparent"],[1,"calendar-icon","icon-sm"],["name","extraComment","id","extraComment","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","discussionCategoryID"],["name","discussionCategoryID","id","discussionCategoryID",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngIf"]],template:function(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"h5",1),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",2),a["\u0275\u0275listener"]("click",function(){return t.dismiss()}),a["\u0275\u0275elementStart"](4,"span",3),a["\u0275\u0275text"](5,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"div",4),a["\u0275\u0275template"](7,h,8,6,"div",5),a["\u0275\u0275elementStart"](8,"form",6,7),a["\u0275\u0275listener"]("ngSubmit",function(){return t.submit()}),a["\u0275\u0275template"](10,f,9,2,"ng-container",8),a["\u0275\u0275elementStart"](11,"div",9),a["\u0275\u0275elementStart"](12,"label",10),a["\u0275\u0275text"](13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"textarea",11),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.comment=e}),a["\u0275\u0275text"](15,"\t\t\t"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](16,g,9,2,"div",12),a["\u0275\u0275template"](17,v,5,2,"div",12),a["\u0275\u0275template"](18,b,7,3,"div",12),a["\u0275\u0275elementStart"](19,"div",13),a["\u0275\u0275elementStart"](20,"button",14),a["\u0275\u0275text"](21,"Submit "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){const e=a["\u0275\u0275reference"](9);a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.header," "),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("avnonLoader",t.contactLoading),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.contact),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",t.contact&&t.isReference),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate1"]("",t.label," *"),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("placeholder",t.isReference?"Please describe the reference, is it personal or business and include a contact number and email address":t.contact?"Brief Bio":"Comment")("ngModel",t.comment)("required",t.isRequired),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",t.contact&&!t.isReference),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.isExtraComment),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.discussionCategoryID),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("disabled",e.invalid)}},directives:[c.a,d.n,p.E,p.r,p.s,p.b,p.q,p.t,p.A,r.i,r.m,r.k,r.o,p.B,p.v,p.D],pipes:[m.a],styles:[".entry[_ngcontent-%COMP%]:hover{background:#fff}"]}),e})()},DlmY:function(e,t,n){"use strict";var i=n("Y7yP"),o=Object(i.a)(Object,"create"),a=Object.prototype.hasOwnProperty,r=Object.prototype.hasOwnProperty;function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}s.prototype.clear=function(){this.__data__=o?o(null):{},this.size=0},s.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},s.prototype.get=function(e){var t=this.__data__;if(o){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0},s.prototype.has=function(e){var t=this.__data__;return o?void 0!==t[e]:r.call(t,e)},s.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o&&void 0===t?"__lodash_hash_undefined__":t,this};var l=s,c=n("nLtN"),d=n("3cmB"),p=function(e,t){var n,i,o=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map};function m(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}m.prototype.clear=function(){this.size=0,this.__data__={hash:new l,map:new(d.a||c.a),string:new l}},m.prototype.delete=function(e){var t=p(this,e).delete(e);return this.size-=t?1:0,t},m.prototype.get=function(e){return p(this,e).get(e)},m.prototype.has=function(e){return p(this,e).has(e)},m.prototype.set=function(e,t){var n=p(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},t.a=m},Ds8A:function(e,t,n){e.exports=function(){"use strict";return function(e,t,n){var i=t.prototype;n.utc=function(e){return new t({date:e,utc:!0,args:arguments})},i.utc=function(e){var t=n(this.toDate(),{locale:this.$L,utc:!0});return e?t.add(this.utcOffset(),"minute"):t},i.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var o=i.parse;i.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),o.call(this,e)};var a=i.init;i.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else a.call(this)};var r=i.utcOffset;i.utcOffset=function(e,t){var n=this.$utils().u;if(n(e))return this.$u?0:n(this.$offset)?r.call(this):this.$offset;var i=Math.abs(e)<=16?60*e:e,o=this;if(t)return o.$offset=i,o.$u=0===e,o;if(0!==e){var a=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(o=this.local().add(i+a,"minute")).$offset=i,o.$x.$localOffset=a}else o=this.utc();return o};var s=i.format;i.format=function(e){return s.call(this,e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":""))},i.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||(new Date).getTimezoneOffset());return this.$d.valueOf()-6e4*e},i.isUTC=function(){return!!this.$u},i.toISOString=function(){return this.toDate().toISOString()},i.toString=function(){return this.toDate().toUTCString()};var l=i.toDate;i.toDate=function(e){return"s"===e&&this.$offset?n(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():l.call(this)};var c=i.diff;i.diff=function(e,t,i){if(e&&this.$u===e.$u)return c.call(this,e,t,i);var o=this.local(),a=n(e).local();return c.call(o,a,t,i)}}}()},E7AJ:function(e,t,n){"use strict";n.d(t,"a",function(){return I});var i=n("fXoL"),o=n("tk/3"),a=n("LRne"),r=n("lJxs"),s=n("JIr8"),l=n("AytR"),c=n("1kSV"),d=n("esnG"),p=n("ofXK"),m=n("Jn3s"),u=n("pqhe");const h=["fileUpload"];function f(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",12),i["\u0275\u0275elementStart"](1,"h5",13),i["\u0275\u0275text"](2," File Management "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",14),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onCancel()}),i["\u0275\u0275elementStart"](4,"span",15),i["\u0275\u0275text"](5,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("hidden",!e.isModal)}}function g(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr",16),i["\u0275\u0275elementStart"](1,"td",17),i["\u0275\u0275element"](2,"app-document-thumbnail",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",19),i["\u0275\u0275elementStart"](4,"ngb-progressbar",20),i["\u0275\u0275text"](5,"Completed"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"td",21),i["\u0275\u0275elementStart"](7,"button",22),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit,o=t.index;return i["\u0275\u0275nextContext"]().onDeleteDocument(n.documentID,o)}),i["\u0275\u0275element"](8,"i",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("linkName",e.documentTitle)("isImage",e.documentType.includes("image"))("document",e)("isVideo",e.documentType.includes("video")||e.documentType.includes("application/octet-stream"))("documentPath",e.documentPath),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",100)}}function v(e,t){if(1&e&&i["\u0275\u0275element"](0,"img",30),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("src",null==e||null==e.data?null:e.data.imageURL,i["\u0275\u0275sanitizeUrl"])}}function y(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td",24),i["\u0275\u0275template"](2,v,1,1,"img",25),i["\u0275\u0275elementStart"](3,"span",26),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",27),i["\u0275\u0275element"](6,"ngb-progressbar",28),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td",21),i["\u0275\u0275elementStart"](8,"button",22),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"]().onRemoveFile(n)}),i["\u0275\u0275element"](9,"img",29),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",null==e||null==e.data?null:e.data.imageURL),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.data.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",e.progress)}}const b=function(e,t){return{"p-2":e,"p-0":t}};let I=(()=>{class e{constructor(e,t){this.modal=e,this.documentsService=t,this.isProcessing=!1,this.folders=[{documentFolderID:0,documentFolder:"Select Folder"}],this._documents=[],this.documentsChange=new i.EventEmitter,this.uploadDirectly=!0,this.apiBlobUrl=l.a.apiBlobUrl,this.files=[],this.urls=[],this.uploadedFiles=[]}get documents(){return this._documents}set documents(e){this._documents=e,this.documentsChange.emit(e)}ngOnInit(){console.log(this.modal),this.isModal=!this.modal,this.contactID=+localStorage.getItem("CoID")}ngOnChanges(e){var t;(null===(t=e.uploadDirectly)||void 0===t?void 0:t.currentValue)&&this.onUpload()}uploadFile(e,t){const n=new FormData;n.append("file",e.data),e.inProgress=!0,this.documentsService.insertDocument(n,this.documentCategoryID,this.referenceID,this.contactID,this.documentFolderID?this.documentFolderID:0,this.reference2ID,t).pipe(Object(r.a)(t=>{switch(t.type){case o.e.UploadProgress:e.progress=Math.round(100*t.loaded/t.total);break;case o.e.Response:return t}}),Object(s.a)(()=>(e.inProgress=!1,Object(a.a)(e.data.name+" upload failed.")))).subscribe(t=>{"object"==typeof t&&(e.inProgress=!1,this.insertDocument=t.body[0],e.documentID=t.body[0].documentID,this.uploadedFiles.push(t.body[0]),this._documents.push(this.insertDocument),this.files=this.files.filter(e=>e.documentID!==t.body[0].documentID),this.files&&0===this.files.length&&(this.modal.close(this.uploadedFiles),this.isOnWindow||this.modal.dismiss()))})}onRemoveFile(e){this.files.splice(e,1)}onDeleteDocument(e,t){this.documentsService.deleteDocument(e).subscribe(),this._documents.splice(t,1),this.documentsChange.emit(this._documents)}uploadFiles(){this.fileUpload.nativeElement&&(this.fileUpload.nativeElement.value="",this.files.forEach(e=>{var t,n;let i=!1;(null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.type)||void 0===n?void 0:n.includes("video"))&&(i=!0),this.uploadFile(e,i)}))}onSelectFiles(){const e=this.fileUpload.nativeElement;e.onchange=()=>{for(let t=0;t<e.files.length;t++){const n=e.files[t],i=new FileReader;i.readAsDataURL(n),i.onload=e=>{var t;n.imageURL=(null===(t=null==n?void 0:n.type)||void 0===t?void 0:t.includes("image"))?i.result:"assets/img/file-icon-txt.svg",n.documentFolderID=0},this.files.push({data:n,inProgress:!1,progress:0})}this.onUpload()},e.click()}onUpload(){this.uploadDirectly?this.uploadFiles():this.documentsChange.emit(this.files)}onCancel(){this.modal.close()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](c.a),i["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-file-management"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](h,!0),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.fileUpload=e.first)}},inputs:{isOnWindow:"isOnWindow",referenceID:"referenceID",reference2ID:"reference2ID",type:"type",documentCategoryID:"documentCategoryID",documentFolderID:"documentFolderID",documents:"documents",uploadDirectly:"uploadDirectly",smallUploadBtn:"smallUploadBtn",paddingRemoved:"paddingRemoved",hideHeader:"hideHeader"},outputs:{documentsChange:"documentsChange"},features:[i["\u0275\u0275NgOnChangesFeature"]],decls:13,vars:12,consts:[["class","modal-header",3,"hidden",4,"ngIf"],[1,"modal-body",3,"ngClass"],[1,"table-responsive","tbl-file-management",3,"avnonLoader"],[1,"table","m-0"],[1,"border-bottom"],["class","cursor-pointer",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"d-flex","pt-4","filter-container"],[1,"flex-grow-1"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click"],["type","file","id","fileUpload","name","fileUpload","multiple","multiple",2,"display","none"],["fileUpload",""],[1,"modal-header",3,"hidden"],["id","financialCategoryModal",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"cursor-pointer"],[1,"filter-container"],[3,"linkName","isImage","document","isVideo","documentPath"],[1,"col-progressbar","d-none"],["type","success",3,"value"],[1,"col-action"],["type","button",1,"btn","btn-sm","border-0","pr-0",3,"click"],[1,"fas","fa-trash"],[1,"col-file-upload"],[3,"src",4,"ngIf"],["id","file-label"],[1,"col-progressbar"],["showValue","true","type","success",3,"value"],["src","assets/img/trash.svg","alt",""],[3,"src"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,f,6,1,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"table",3),i["\u0275\u0275elementStart"](4,"tbody",4),i["\u0275\u0275template"](5,g,9,6,"tr",5),i["\u0275\u0275template"](6,y,10,3,"tr",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",7),i["\u0275\u0275elementStart"](8,"div",8),i["\u0275\u0275elementStart"](9,"button",9),i["\u0275\u0275listener"]("click",function(){return t.onSelectFiles()}),i["\u0275\u0275text"](10," Select files "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](11,"input",10,11)),2&e&&(i["\u0275\u0275property"]("ngIf",!t.hideHeader),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction2"](9,b,t.isModal,!t.isModal)),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("none-height",!t._documents.length),i["\u0275\u0275property"]("avnonLoader",t.isProcessing),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",t._documents),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.files),i["\u0275\u0275advance"](3),i["\u0275\u0275classProp"]("btn-sm",t.smallUploadBtn))},directives:[p.n,p.l,m.a,p.m,u.a,c.u],styles:[".tbl-file-management[_ngcontent-%COMP%]{min-height:10vh;max-height:73vh;overflow:auto}.tbl-file-management.none-height[_ngcontent-%COMP%]{min-height:auto!important}.tbl-file-management[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .col-action[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{opacity:1;pointer-events:auto!important}.tbl-file-management[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .tbl-file-management[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle}.tbl-file-management[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .col-progressbar[_ngcontent-%COMP%]{width:280px}.tbl-file-management[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .col-action[_ngcontent-%COMP%]{width:50px;padding-right:0}.tbl-file-management[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .col-action[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:2px 0 3px!important;opacity:0;pointer-events:none}.tbl-file-management[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .col-action[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#aaa}.tbl-file-management[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .col-action[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{opacity:.8}.tbl-file-management[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .col-file-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.tbl-file-management[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .col-folder[_ngcontent-%COMP%]{width:180px}"]}),e})()},E7c6:function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{constructor(){this.companyProductMarket=null,this.companyProductID=null,this.marketCategoryID=null,this.hasEarlyAdopters=null,this.hasPayingCustomers=null,this.hasConfirmedPricing=null,this.lastReviewedByID=null,this.marketMaintenanceStrategy=null}}},EUcb:function(e,t,n){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},FWf1:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=n("pshJ"),a=n("GiSu"),r=n("zB/H"),s=n("p//D"),l=n("n3uD"),c=n("MkmW"),d=function(e){function t(n,i,o){var r=e.call(this)||this;switch(r.syncErrorValue=null,r.syncErrorThrown=!1,r.syncErrorThrowable=!1,r.isStopped=!1,arguments.length){case 0:r.destination=a.empty;break;case 1:if(!n){r.destination=a.empty;break}if("object"==typeof n){n instanceof t?(r.syncErrorThrowable=n.syncErrorThrowable,r.destination=n,n.add(r)):(r.syncErrorThrowable=!0,r.destination=new p(r,n));break}default:r.syncErrorThrowable=!0,r.destination=new p(r,n,i,o)}return r}return i(t,e),t.prototype[s.rxSubscriber]=function(){return this},t.create=function(e,n,i){var o=new t(e,n,i);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(r.Subscription);t.Subscriber=d;var p=function(e){function t(t,n,i,r){var s,l=e.call(this)||this;l._parentSubscriber=t;var c=l;return o.isFunction(n)?s=n:n&&(s=n.next,i=n.error,r=n.complete,n!==a.empty&&(c=Object.create(n),o.isFunction(c.unsubscribe)&&l.add(c.unsubscribe.bind(c)),c.unsubscribe=l.unsubscribe.bind(l))),l._context=c,l._next=s,l._error=i,l._complete=r,l}return i(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;l.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=l.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):c.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;c.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};l.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),l.config.useDeprecatedSynchronousErrorHandling)throw n;c.hostReportError(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!l.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return l.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(c.hostReportError(i),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(d);t.SafeSubscriber=p},FddC:function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{constructor(e){if(this.approved=null,this.taskSupporterID=null,this.taskID=null,this.contactID=null,this.firstName=null,this.surname=null,this.fullName=null,this.profilePhoto=null,this.dateSignedOff=null,this.viewed=null,e){const t=this;for(const n of Object.keys(e))t.hasOwnProperty(n)&&(t[n]=e[n]);this.fullName=`${this.firstName} ${this.surname}`}}updateID(e){return this.taskSupporterID=e.inOut_TaskSupporterID,this}}},FhWM:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("AytR"),o=n("fXoL"),a=n("tk/3");let r=(()=>{class e{constructor(e){this.httpClient=e,this.baseUrl=i.a.apiUrl}getTimezoneList(){return this.httpClient.get(this.baseUrl+"/List/timezone")}getCurrencyList(){return this.httpClient.get(this.baseUrl+"/List/currency")}getCountryList(){return this.httpClient.get(this.baseUrl+"/List/country")}getCityList(e){return this.httpClient.get(this.baseUrl+"/List/city?countryID="+e)}getQualificationList(){return this.httpClient.get(this.baseUrl+"/List/qualificationcategory")}getQualificationSubList(e=0){return this.httpClient.get(`${this.baseUrl}/List/qualificationsubcategory?QualificationCategoryID=${e}`)}getLevelList(e=2){return this.httpClient.get(`${this.baseUrl}/List/qualificationlevel?QualificationLevelCategoryID=${e}`)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](a.b))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},FiyT:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=function(e){function t(t,n){var i=e.call(this)||this;return i.subject=t,i.subscriber=n,i.closed=!1,i}return i(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n("zB/H").Subscription);t.SubjectSubscription=o},Fjb4:function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{constructor(e){if(this.programID=null,this.programTitle=null,this.programOverview=null,this.programProfile=null,this.programBanner=null,this.companyID=null,this.programCost=null,this.duration=null,this.programInstanceID=null,this.durationTypeID=null,this.entryRequirements=null,this.targetAudience=null,this.programTypeID=null,this.courseID=null,this.courseTitle=null,this.instances=[],this.companyLogo=null,this.logo=null,this.companyName=null,e){const t=this;for(const n of Object.keys(e))t.hasOwnProperty(n)&&(t[n]=e[n])}}}},FvYy:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var i=n("fXoL"),o=n("tk/3"),a=n("AytR"),r=n("6lqT"),s=n("XNiG"),l=n("quSY"),c=n("1G5W"),d=n("esnG"),p=n("jhN1"),m=n("kmKP"),u=n("Jn3s"),h=n("ofXK"),f=n("Xdyb"),g=n("1kSV");const v=["fileUpload"];function y(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275element"](1,"media-player",11),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("document",e.document)}}function b(e,t){if(1&e&&i["\u0275\u0275element"](0,"img",12),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("src",e.bannerSrc,i["\u0275\u0275sanitizeUrl"])}}function I(e,t){if(1&e&&i["\u0275\u0275element"](0,"ngb-progressbar",13),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("value",e.uploadProgress)}}function x(e,t){if(1&e&&i["\u0275\u0275element"](0,"ngb-progressbar",14),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("value",e.streamProcessing)}}function S(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",15),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onClick()}),i["\u0275\u0275element"](1,"i",16),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("video",e.isVideo),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.buttonText?e.buttonText:"Upload Cover"," ")}}function C(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",17),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().cancelUpload()}),i["\u0275\u0275element"](1,"i",18),i["\u0275\u0275text"](2," Cancel upload "),i["\u0275\u0275elementEnd"]()}}function D(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",19),i["\u0275\u0275text"](1,"Your video is encoding and will be available soon"),i["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",20),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().deleteFile()}),i["\u0275\u0275elementStart"](1,"span",21),i["\u0275\u0275text"](2,"Close"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("is-video",e.isVideo),i["\u0275\u0275property"]("disabled",e.deleting)}}let k=(()=>{class e{constructor(e,t,n,o){var c;this.documentService=e,this.changeDetectorRef=t,this.domSanitizer=n,this.userService=o,this.isUploading=!1,this.apiBlobUrl=a.a.apiBlobUrl+/1024px/,this.fileSelected=new i.EventEmitter,this.uploadStatus=new i.EventEmitter,this.fileUploaded=new i.EventEmitter,this.canEdit=!1,this.fileTypes=["image/*","video/*"],this.bannerSrc="assets/img/banner-placeholder.png",this.isVideo=!1,this.document=new r.a,this.files=[],this.cronTime=5e3,this.loop=0,this.ampLink="",this.isEncoding=!1,this.streamProcessing=0,this.destroy$=new s.a,this.uploadSub$=new l.a,this.user=this.userService.user.getValue(),this.contactID=(null===(c=this.user)||void 0===c?void 0:c.contactID)||0}ngOnChanges(e){e&&e.referenceID&&e.referenceID.currentValue&&!e.referenceID.isFirstChange()&&(this.formPlaybackUpload&&this.files.length>0?this.uploadFiles():this.getDocument()),e&&e.bannerUrl&&(this.bannerSrc=this.bannerUrl?this.bannerUrl:this.bannerSrc)}ngOnInit(){this.getDocument()}getDocument(){this.referenceID?(this.loading=!0,this.documentService.getDocument(this.referenceID,this.documentCategoryID,0,0,1).subscribe(e=>{if(e.length>0){const t=e[e.length-1];this.document=t,t.documentType.includes("video")||t.documentType.includes("application/octet-stream")?(t.ampLink?(this.isEncoding=!1,this.thumbnail="",this.isVideo=!0):(this.isVideo=!1,this.bannerSrc=this.thumbnail?this.thumbnail:"assets/img/banner-placeholder.png",this.isEncoding=!0,this.streamProcessing=t.streamProcessing,this.startWorker(t)),this.uploadStatus.emit(t.streamProcessing)):(this.bannerSrc=t.documentPath?this.apiBlobUrl+t.documentPath:"assets/img/banner-placeholder.png",this.changeDetectorRef.detectChanges())}else this.bannerSrc="assets/img/banner-placeholder.png";this.loading=!1},()=>{this.loading=!1})):this.bannerSrc=this.bannerUrl?this.bannerUrl:this.bannerSrc}onClick(){if(!this.canEdit)return;const e=this.fileUpload.nativeElement;e.onchange=()=>{var t;for(let n=0;n<e.files.length;n++){const i=e.files[n];if(this.isVideo=!1,this.isEncoding=!1,null===(t=i.type)||void 0===t?void 0:t.includes("image")){this.isVideo=!1;const e=new FileReader;e.onload=e=>{this.bannerSrc=e.target.result,this.isVideo=!1,this.changeDetectorRef.detectChanges()},e.readAsDataURL(i)}else{const e=URL.createObjectURL(i),t=document.createElement("video"),n=document.createElement("canvas"),o=n.getContext("2d");t.preload="metadata",t.src=e,t.muted=!0,t.load(),t.play();const a=()=>{n.width=t.videoWidth,n.height=t.videoHeight,o.drawImage(t,0,0,n.width,n.height),this.bannerSrc=this.domSanitizer.bypassSecurityTrustUrl(n.toDataURL()),this.thumbnail=this.domSanitizer.bypassSecurityTrustUrl(n.toDataURL()),this.changeDetectorRef.detectChanges(),t.pause(),t.removeEventListener("timeupdate",a)};t.addEventListener("timeupdate",()=>{setTimeout(()=>{a()},500)})}this.files.push({data:i,inProgress:!1,progress:0})}this.formPlaybackUpload&&(!this.document||this.document&&!this.document.documentID)?this.referenceID?this.uploadFiles():this.fileSelected.emit(this.files):this.uploadFiles()},e.click()}uploadFiles(){this.fileUpload.nativeElement.value="",this.files.forEach(e=>{var t,n,i,o;let a=!1;((null===(n=null===(t=e.data)||void 0===t?void 0:t.type)||void 0===n?void 0:n.includes("video"))||(null===(o=null===(i=e.data)||void 0===i?void 0:i.type)||void 0===o?void 0:o.includes("application/octet-stream")))&&(a=!0),this.uploadFile(e,a)})}uploadFile(e,t){const n=new FormData;n.append("file",e.data),e.inProgress=!0,this.isUploading=!0,clearInterval(this.cronWorker),this.uploadSub$=this.documentService.insertDocument(n,this.documentCategoryID,this.referenceID,this.contactID,1,0,t,"").subscribe(t=>{switch(this.files=[],t.type){case o.e.UploadProgress:this.uploadProgress=Math.round(100*t.loaded/t.total),this.uploadStatus.emit(0);break;case o.e.Response:const n=t.body[0];n.documentID&&(this.fileUploaded.emit(n),(n.documentType.includes("video")||n.documentType.includes("application/octet-stream"))&&(this.ampLink="",this.loop=0,this.isEncoding=!0,this.startWorker(n))),e.inProgress=!1,this.isUploading=!1}})}startWorker(e){this.cronWorker=setInterval(()=>{if(this.ampLink||40===this.loop)return clearInterval(this.cronWorker),void(this.isEncoding=!1);this.documentService.getDocument(e.referenceID,e.documentCategoryID,e.documentUploadedByID,0,1).pipe(Object(c.a)(this.destroy$)).subscribe(t=>{const n=t.filter(t=>t.documentID===e.documentID)[0];this.streamProcessing=n.streamProcessing,n.ampLink&&(this.ampLink=n.ampLink,this.isEncoding=!1,this.thumbnail="",this.document=n,this.isVideo=!0,this.changeDetectorRef.detectChanges(),clearInterval(this.cronWorker)),this.uploadStatus.emit(n.streamProcessing)}),this.loop++},this.cronTime)}cancelUpload(){this.isEncoding=!1,this.isUploading=!1,this.isVideo=!1,this.uploadSub$&&!this.uploadSub$.closed&&(this.uploadSub$.unsubscribe(),this.getDocument())}deleteFile(){this.deleting=!0,this.documentService.deleteDocument(this.document.documentID).subscribe(()=>{this.uploadStatus.emit(0),this.document=null,this.bannerSrc="assets/img/banner-placeholder.png",this.isVideo=!1,this.deleting=!1},()=>{this.deleting=!1})}ngOnDestroy(){clearInterval(this.cronWorker),this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](d.a),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](p.b),i["\u0275\u0275directiveInject"](m.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-banner"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](v,!0),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.fileUpload=e.first)}},inputs:{canEdit:"canEdit",documentCategoryID:"documentCategoryID",referenceID:"referenceID",bannerUrl:"bannerUrl",formPlaybackUpload:"formPlaybackUpload",fileTypes:"fileTypes",buttonText:"buttonText"},outputs:{fileSelected:"fileSelected",uploadStatus:"uploadStatus",fileUploaded:"fileUploaded"},features:[i["\u0275\u0275NgOnChangesFeature"]],decls:12,vars:10,consts:[[1,"banner-container",3,"avnonLoader"],[4,"ngIf","ngIfElse"],["elseDisplayBanner",""],["class","uploading-progress","showValue","true","type","success",3,"value",4,"ngIf"],["class","encoding-progress","showValue","true","type","success",3,"value",4,"ngIf"],["type","file","id","fileUpload","name","fileUpload",2,"display","none",3,"accept"],["fileUpload",""],["class","btn-sm btn btn-light btn-upload","type","button",3,"video","click",4,"ngIf"],["class","btn-sm btn btn-danger btn-upload","type","button",3,"click",4,"ngIf"],["class","text-danger encoding-text",4,"ngIf"],["type","button","class","close btn-close btn-remove-file delete-file-btn",3,"disabled","is-video","click",4,"ngIf"],[3,"document"],["alt","",1,"img-fluid","banner-img",3,"src"],["showValue","true","type","success",1,"uploading-progress",3,"value"],["showValue","true","type","success",1,"encoding-progress",3,"value"],["type","button",1,"btn-sm","btn","btn-light","btn-upload",3,"click"],[1,"fas","fa-camera","mr-1"],["type","button",1,"btn-sm","btn","btn-danger","btn-upload",3,"click"],[1,"fas","fa-times","mr-1"],[1,"text-danger","encoding-text"],["type","button",1,"close","btn-close","btn-remove-file","delete-file-btn",3,"disabled","click"],["aria-hidden","true",1,"sr-only"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,y,2,1,"ng-container",1),i["\u0275\u0275template"](2,b,1,1,"ng-template",null,2,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](4,I,1,1,"ngb-progressbar",3),i["\u0275\u0275template"](5,x,1,1,"ngb-progressbar",4),i["\u0275\u0275element"](6,"input",5,6),i["\u0275\u0275template"](8,S,3,3,"button",7),i["\u0275\u0275template"](9,C,3,0,"button",8),i["\u0275\u0275template"](10,D,2,0,"p",9),i["\u0275\u0275template"](11,w,3,3,"button",10),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275reference"](3);i["\u0275\u0275property"]("avnonLoader",t.loading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isVideo)("ngIfElse",e),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.isUploading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isEncoding),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("accept",t.fileTypes),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.isUploading&&!t.isEncoding&&t.canEdit),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isUploading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isEncoding||t.thumbnail),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.document&&t.document.documentUploadedByID===t.contactID&&t.canEdit)}},directives:[u.a,h.n,f.a,g.u],styles:[".content-banner[_ngcontent-%COMP%]{position:relative;float:left;width:100%;max-height:206px!important;min-height:206px!important}.content-banner[_ngcontent-%COMP%]:hover   .delete-file-btn[_ngcontent-%COMP%]{display:inline-block}.content-banner[_ngcontent-%COMP%]   .uploading-progress[_ngcontent-%COMP%]{position:absolute;top:0;right:0;left:0}.content-banner[_ngcontent-%COMP%]   .encoding-progress[_ngcontent-%COMP%]{bottom:0;right:0;left:0;position:absolute}.content-banner[_ngcontent-%COMP%]   .encoding-text[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:30px;font-size:22px;font-weight:700}.content-banner[_ngcontent-%COMP%]   .btn-upload[_ngcontent-%COMP%]{position:absolute;right:20px;z-index:2;bottom:20px}.content-banner[_ngcontent-%COMP%]   .btn-upload.video[_ngcontent-%COMP%]{bottom:60px}.content-banner[_ngcontent-%COMP%]   media-player[_ngcontent-%COMP%]{width:100%;height:100%}.content-banner[_ngcontent-%COMP%]   .delete-file-btn[_ngcontent-%COMP%]{position:absolute;right:20px;top:10px;cursor:pointer;box-shadow:0 0 10px #aaa;width:24px;height:24px;text-align:center;border-radius:50%;background-position:50%;background-color:#fff;z-index:2;display:none;margin:0}.content-banner[_ngcontent-%COMP%]   .delete-file-btn.is-video[_ngcontent-%COMP%]{top:40px}.banner-img[_ngcontent-%COMP%]{max-height:206px;object-fit:cover;width:100%}.btn-upload[_ngcontent-%COMP%]{position:absolute;right:20px;z-index:2;bottom:20px}.banner-container[_ngcontent-%COMP%]:hover   .delete-file-btn[_ngcontent-%COMP%]{display:inline-block}.banner-container[_ngcontent-%COMP%]   .delete-file-btn[_ngcontent-%COMP%]{position:absolute;right:20px;top:10px;cursor:pointer;box-shadow:0 0 10px #aaa;width:24px;height:24px;text-align:center;border-radius:50%;background-position:50%;background-color:#fff;z-index:2;display:none;margin:0}"]}),e})()},GKkB:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("ofXK"),o=n("fXoL");let a=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})()},GMZp:function(e,t,n){"use strict";t.isObject=function(e){return null!==e&&"object"==typeof e}},GUj1:function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{constructor(e){if(this.companyLocationID=null,this.companyLocation=null,this.companyID=null,this.city=null,this.countryID=null,this.physicalAddress=null,this.googleMapURL=null,this.latitude=null,this.longitude=null,this.profilePhoto=null,e){const t=this;for(const n of Object.keys(e))t.hasOwnProperty(n)&&(t[n]=e[n])}}}},GXd7:function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{static create(){return[{value:1,name:"January"},{value:2,name:"February"},{value:3,name:"March"},{value:4,name:"April"},{value:5,name:"May"},{value:6,name:"June"},{value:7,name:"July"},{value:8,name:"August"},{value:9,name:"September"},{value:10,name:"October"},{value:11,name:"November"},{value:12,name:"December"}]}}},GiSu:function(e,t,n){"use strict";var i=n("n3uD"),o=n("MkmW");t.empty={closed:!0,next:function(e){},error:function(e){if(i.config.useDeprecatedSynchronousErrorHandling)throw e;o.hostReportError(e)},complete:function(){}}},Grqx:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("ofXK"),o=n("1kSV"),a=n("fXoL");let r=(()=>{class e{}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,o.q]]}),e})()},HewK:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var i=n("LRne"),o=n("cp0P"),a=n("XNiG"),r=n("1G5W"),s=n("lJxs"),l=n("tk/3"),c=n("QF1F"),d=n("6lqT"),p=n("fXoL"),m=n("1kSV"),u=n("esnG"),h=n("ofXK"),f=n("nNlV"),g=n("sYmb");function v(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"app-preview-file-upload",13),p["\u0275\u0275listener"]("removeFile",function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().removeFile(t)}),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275property"]("documents",e.documents)}}let y=(()=>{class e{constructor(e,t){this.activeModel=e,this.documentService=t,this.fakeId=0,this.isProcessing=!1,this.documents=[],this.referenceID=null,this.documentFolderID=0,this.documentCategoryID=null,this.documentsWillRemove=[],this.unsubscribe=[]}ngOnInit(){}onFileSelect(e){const t=e.target.files;for(let n=0;n<t.length;n++){const e=t.item(n);if(e.type&&/^image\//.test(e.type)){const t=new FileReader;t.readAsDataURL(e),t.onload=()=>{e.imageUrl=t.result}}else if(e.type&&/^video\//.test(e.type)){const t=15,n=new FileReader;n.readAsDataURL(e),n.onload=n=>{e.videoUrl=n.target.result;const i=document.createElement("video");i.setAttribute("src",n.target.result),i.addEventListener("loadedmetadata",function(){this.currentTime=i.duration<t?i.duration/2:t},!1),i.addEventListener("loadeddata",()=>{setTimeout(()=>{const t=document.createElement("canvas");t.getContext("2d").drawImage(i,0,0,i.videoWidth,i.videoHeight),e.imageUrl=t.toDataURL()},300)},!1)}}const i=new c.a;i.data=e,i.progress=0;const o=new d.a;i.fakeId=this.fakeId++,o.file=i,this.documents.unshift(o)}}removeFile(e){const t=e.file;if(t){const e=this.documents.findIndex(e=>e.file?e.file.fakeId===t.fakeId:e.documentID===t.id);-1!==e&&this.documents[e].documentID&&this.documentsWillRemove.push(this.documents[e].documentID),this.documents.splice(e,1)}else this.removeDocument(e)}removeDocument(e){this.documentService.deleteDocument(e.documentID).subscribe(()=>{this.documents.forEach((t,n)=>{t.documentID===e.documentID&&this.documents.splice(n,1)})})}onUploadDocument(){this.saveDocuments(this.documents)}saveDocuments(e){if(!e||0===e.length)return this.activeModel.close(!1),Object(i.a)([]);const t=this.documents.filter(e=>!e.documentID);return this.isProcessing=!0,Object(o.a)(t.map((e,n)=>{var i,o,c;const d=new FormData;d.append("file",e.file.data),this.unsubscribe.push({id:e.file.fakeId,sub:new a.a});let p=!1;return(null===(c=null===(o=null===(i=e.file)||void 0===i?void 0:i.data)||void 0===o?void 0:o.type)||void 0===c?void 0:c.includes("video"))&&(p=!0),this.documentService.insertDocument(d,this.documentCategoryID,this.referenceID,+localStorage.getItem("CoID"),this.documentFolderID,0,p,e.documentDescription?e.documentDescription:"").pipe(Object(r.a)(this.unsubscribe[n].sub),Object(s.a)(t=>{switch(t.type){case l.e.UploadProgress:e.file.status="uploading",e.file.progress=Math.round(100*t.loaded/t.total);break;case l.e.Response:return e.file.status="done",t.body[0]}})).subscribe(n=>{n&&this.syncDocumentData(e,n,t)})}))}syncDocumentData(e,t,n){const i=this.documents.findIndex(t=>t.file?t.file.fakeId===e.file.fakeId:t.documentID===e.file.id);-1!==i&&(this.documents[i]=t),this.unsubscribe.length===n.length&&(this.isProcessing=!1,this.activeModel.close(!0))}close(){this.activeModel.close(!1)}ngOnDestroy(){this.unsubscribe.map(e=>{e&&e.sub&&!e.sub.closed&&(e.sub.next(),e.sub.complete())})}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](m.a),p["\u0275\u0275directiveInject"](u.a))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-modify-upload-photo"]],inputs:{documents:"documents",referenceID:"referenceID",documentFolderID:"documentFolderID",documentCategoryID:"documentCategoryID"},decls:20,vars:11,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modify-upload-photo"],[3,"documents","removeFile",4,"ngIf"],[1,"d-flex"],[1,"upload-button","flex-grow-1"],[1,"btn","btn-outline-info","my-2",3,"click"],["type","file","multiple","",1,"d-none",3,"change"],["fileInput",""],["type","button",1,"btn","btn-primary","my-2",3,"disabled","click"],[3,"documents","removeFile"]],template:function(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",0),p["\u0275\u0275elementStart"](1,"h3",1),p["\u0275\u0275text"](2),p["\u0275\u0275pipe"](3,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](4,"button",2),p["\u0275\u0275listener"]("click",function(){return t.close()}),p["\u0275\u0275elementStart"](5,"span",3),p["\u0275\u0275text"](6,"\xd7"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](7,"div",4),p["\u0275\u0275elementStart"](8,"div",5),p["\u0275\u0275template"](9,v,1,1,"app-preview-file-upload",6),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](10,"div",7),p["\u0275\u0275elementStart"](11,"div",8),p["\u0275\u0275elementStart"](12,"button",9),p["\u0275\u0275listener"]("click",function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275reference"](16).click()}),p["\u0275\u0275text"](13),p["\u0275\u0275pipe"](14,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](15,"input",10,11),p["\u0275\u0275listener"]("change",function(e){return t.onFileSelect(e)}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](17,"button",12),p["\u0275\u0275listener"]("click",function(){return t.onUploadDocument()}),p["\u0275\u0275text"](18),p["\u0275\u0275pipe"](19,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}2&e&&(p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](3,5,"COMMON.UPLOAD-PHOTOS")," "),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("ngIf",t.documents&&t.documents.length>0),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](14,7,"COMMON.UPLOAD-FILES")," "),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("disabled",t.isProcessing||t.documents&&0===t.documents.length),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](19,9,"COMMON.DONE")," "))},directives:[h.n,f.a],pipes:[g.c],styles:[".modify-upload-photo[_ngcontent-%COMP%]{min-height:calc(100vh - 225px)}"]}),e})()},IAdc:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n("Kqap"),o=n("BFxc"),a=n("xbPD"),r=n("mCNh");function s(e,t,n){return 0===n?[t]:(e.push(t),e)}function l(){return function(e,t){return arguments.length>=2?function(n){return Object(r.a)(Object(i.a)(e,t),Object(o.a)(1),Object(a.a)(t))(n)}:function(t){return Object(r.a)(Object(i.a)((t,n,i)=>e(t,n,i+1)),Object(o.a)(1))(t)}}(s,[])}},ILaC:function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},IyfZ:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("AytR"),o=n("fXoL"),a=n("tk/3");let r=(()=>{class e{constructor(e){this.http=e,this.BaseURI=i.a.apiUrl}getLike(e){return this.http.get(this.BaseURI+"/like?likeCategoryID="+e.likeCategoryID+"&referenceID="+e.referenceID+"&contactID="+e.contactID)}createLike(e){return this.http.post(this.BaseURI+"/like",e)}updateLike(e){return this.http.put(this.BaseURI+"/like",e)}deleteLike(e){return this.http.delete(this.BaseURI+"/Like/"+e)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](a.b))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},IzLi:function(e,t,n){"use strict";t.a=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},Jiv2:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n("ofXK"),o=n("3Pt+"),a=n("o4o7"),r=n("1kSV"),s=n("oAWB"),l=n("j4PG"),c=n("fXoL");let d=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,o.l,a.a,r.x,s.a,l.a]]}),e})()},Js68:function(e,t,n){"use strict";t.a=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},"Ju5/":function(e,t,n){"use strict";var i=n("XqMk"),o="object"==typeof self&&self&&self.Object===Object&&self,a=i.a||o||Function("return this")();t.a=a},Kj3r:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("7o/Q"),o=n("D0XW");function a(e,t=o.a){return n=>n.lift(new r(e,t))}class r{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new s(e,this.dueTime,this.scheduler))}}class s extends i.a{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(l,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function l(e){e.debouncedNext()}},L3Qv:function(e,t,n){"use strict";t.a=function(){return!1}},LBXl:function(e,t,n){"use strict";t.UnsubscriptionError=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},Ll2f:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});class i{constructor(){this.lookupCategoryID=null,this.referenceID=null,this.lookupName=null,this.lookupID=null}}var o=function(e){return e[e.Company=1]="Company",e[e.Contact=2]="Contact",e[e.Instance=3]="Instance",e}({})},M8aS:function(e,t,n){var i,o,a;a=function(e){function t(e,t,n,i){e.hasOwnProperty(t)||(e[t]=i.apply(null,n))}t(e=e?e._modules:{},"Extensions/Pane.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Color/Palette.js"],e["Core/Pointer.js"],e["Core/Utilities.js"],e["Mixins/CenteredSeries.js"]],function(e,t,n,i,o,a){function r(e,t,n){return Math.sqrt(Math.pow(e-n[0],2)+Math.pow(t-n[1],2))<=n[2]/2}var s=o.addEvent,l=o.extend,c=o.merge,d=o.pick,p=o.splat;return e.prototype.collectionsWithUpdate.push("pane"),o=function(){function e(e,t){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:n.neutralColor20,backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,n.backgroundColor],[1,n.neutralColor10]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(e,t)}return e.prototype.init=function(e,t){this.chart=t,this.background=[],t.pane.push(this),this.setOptions(e)},e.prototype.setOptions=function(e){this.options=c(this.defaultOptions,this.chart.angular?{background:{}}:void 0,e)},e.prototype.render=function(){var e=this.options,t=this.options.background,n=this.chart.renderer;if(this.group||(this.group=n.g("pane-group").attr({zIndex:e.zIndex||0}).add()),this.updateCenter(),t)for(t=p(t),e=Math.max(t.length,this.background.length||0),n=0;n<e;n++)t[n]&&this.axis?this.renderBackground(c(this.defaultBackgroundOptions,t[n]),n):this.background[n]&&(this.background[n]=this.background[n].destroy(),this.background.splice(n,1))},e.prototype.renderBackground=function(e,t){var n="animate",i={class:"highcharts-pane "+(e.className||"")};this.chart.styledMode||l(i,{fill:e.backgroundColor,stroke:e.borderColor,"stroke-width":e.borderWidth}),this.background[t]||(this.background[t]=this.chart.renderer.path().add(this.group),n="attr"),this.background[t][n]({d:this.axis.getPlotBandPath(e.from,e.to,e)}).attr(i)},e.prototype.updateCenter=function(e){this.center=(e||this.axis||{}).center=a.getCenter.call(this)},e.prototype.update=function(e,t){c(!0,this.options,e),c(!0,this.chart.options.pane,e),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(e){e.pane===this&&(e.pane=null,e.update({},t))},this)},e}(),e.prototype.getHoverPane=function(e){var t,n=this;return e&&n.pane.forEach(function(i){var o=e.chartX-n.plotLeft,a=e.chartY-n.plotTop;r(n.inverted?a:o,n.inverted?o:a,i.center)&&(t=i)}),t},s(e,"afterIsInsidePlot",function(e){this.polar&&(e.isInsidePlot=this.pane.some(function(t){return r(e.x,e.y,t.center)}))}),s(i,"beforeGetHoverData",function(e){var t=this.chart;t.polar?(t.hoverPane=t.getHoverPane(e),e.filter=function(n){return n.visible&&!(!e.shared&&n.directTouch)&&d(n.options.enableMouseTracking,!0)&&(!t.hoverPane||n.xAxis.pane===t.hoverPane)}):t.hoverPane=void 0}),s(i,"afterGetHoverData",function(e){var t=this.chart;e.hoverPoint&&e.hoverPoint.plotX&&e.hoverPoint.plotY&&t.hoverPane&&!r(e.hoverPoint.plotX,e.hoverPoint.plotY,t.hoverPane.center)&&(e.hoverPoint=void 0)}),t.Pane=o,t.Pane}),t(e,"Core/Axis/HiddenAxis.js",[],function(){return function(){function e(){}return e.init=function(e){e.getOffset=function(){},e.redraw=function(){this.isDirty=!1},e.render=function(){this.isDirty=!1},e.createLabelCollector=function(){return function(){}},e.setScale=function(){},e.setCategories=function(){},e.setTitle=function(){},e.isHidden=!0},e}()}),t(e,"Core/Axis/RadialAxis.js",[e["Core/Axis/Axis.js"],e["Core/Axis/Tick.js"],e["Core/Axis/HiddenAxis.js"],e["Core/Utilities.js"]],function(e,t,n,i){var o=i.addEvent,a=i.correctFloat,r=i.defined,s=i.extend,l=i.fireEvent,c=i.merge,d=i.pick,p=i.relativeLength,m=i.wrap;return(i=function(){function t(){}return t.init=function(t){var n=e.prototype;t.setOptions=function(e){(e=this.options=c(t.constructor.defaultOptions,this.defaultPolarOptions,e)).plotBands||(e.plotBands=[]),l(this,"afterSetOptions")},t.getOffset=function(){n.getOffset.call(this),this.chart.axisOffset[this.side]=0},t.getLinePath=function(e,t,n){var i=this.chart,o=d(t,(e=this.pane.center)[2]/2-this.offset),a=this.left||0,r=this.top||0;return void 0===n&&(n=this.horiz?0:this.center&&-this.center[3]/2),n&&(o+=n),this.isCircular||void 0!==t?((t=this.chart.renderer.symbols.arc(a+e[0],r+e[1],o,o,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[a+e[0]],t.yBounds=[r+e[1]-o]):(t=this.postTranslate(this.angleRad,o),t=[["M",this.center[0]+i.plotLeft,this.center[1]+i.plotTop],["L",t.x,t.y]]),t},t.setAxisTranslation=function(){n.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},t.beforeSetTickPositions=function(){this.autoConnect=this.isCircular&&void 0===d(this.userMax,this.options.max)&&a(this.endAngleRad-this.startAngleRad)===a(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)},t.setAxisSize=function(){if(n.setAxisSize.call(this),this.isRadial){this.pane.updateCenter(this);var e=this.center=s([],this.pane.center);if(this.isCircular)this.sector=this.endAngleRad-this.startAngleRad;else{var t=this.postTranslate(this.angleRad,e[3]/2);e[0]=t.x-this.chart.plotLeft,e[1]=t.y-this.chart.plotTop}this.len=this.width=this.height=(e[2]-e[3])*d(this.sector,1)/2}},t.getPosition=function(e,t){return e=this.translate(e),this.postTranslate(this.isCircular?e:this.angleRad,d(this.isCircular?t:0>e?0:e,this.center[2]/2)-this.offset)},t.postTranslate=function(e,t){var n=this.chart,i=this.center;return e=this.startAngleRad+e,{x:n.plotLeft+i[0]+Math.cos(e)*t,y:n.plotTop+i[1]+Math.sin(e)*t}},t.getPlotBandPath=function(e,t,n){var i=function(e){if("string"==typeof e){var t=parseInt(e,10);return p.test(e)&&(t=t*r/100),t}return e},o=this.center,a=this.startAngleRad,r=o[2]/2,s=Math.min(this.offset,0),l=this.left||0,c=this.top||0,p=/%$/,m=this.isCircular,u=d(i(n.outerRadius),r),h=i(n.innerRadius);if(i=d(i(n.thickness),10),"polygon"===this.options.gridLineInterpolation)s=this.getPlotLinePath({value:e}).concat(this.getPlotLinePath({value:t,reverse:!0}));else{if(e=Math.max(e,this.min),t=Math.min(t,this.max),e=this.translate(e),t=this.translate(t),m||(u=e||0,h=t||0),"circle"!==n.shape&&m)n=a+(e||0),a+=t||0;else{n=-Math.PI/2,a=1.5*Math.PI;var f=!0}s=this.chart.renderer.symbols.arc(l+o[0],c+o[1],u-=s,u,{start:Math.min(n,a),end:Math.max(n,a),innerR:d(h,u-(i-s)),open:f}),m&&(m=(a+n)/2,l=l+o[0]+o[2]/2*Math.cos(m),s.xBounds=m>-Math.PI/2&&m<Math.PI/2?[l,this.chart.plotWidth]:[0,l],s.yBounds=[c+o[1]+o[2]/2*Math.sin(m)],s.yBounds[0]+=m>-Math.PI&&0>m||m>Math.PI?-10:10)}return s},t.getCrosshairPosition=function(e,t,n){var i=e.value,o=this.pane.center;if(this.isCircular){if(r(i))e.point&&(a=e.point.shapeArgs||{}).start&&(i=this.chart.inverted?this.translate(e.point.rectPlotY,!0):e.point.x);else{var a=e.chartX||0,s=e.chartY||0;i=this.translate(Math.atan2(s-n,a-t)-this.startAngleRad,!0)}a=(e=this.getPosition(i)).x,s=e.y}else r(i)||(a=e.chartX,s=e.chartY),r(a)&&r(s)&&(n=o[1]+this.chart.plotTop,i=this.translate(Math.min(Math.sqrt(Math.pow(a-t,2)+Math.pow(s-n,2)),o[2]/2)-o[3]/2,!0));return[i,a||0,s||0]},t.getPlotLinePath=function(e){var t=this,n=t.pane.center,i=t.chart,o=i.inverted,a=e.value,r=e.reverse,s=t.getPosition(a),l=t.pane.options.background?t.pane.options.background[0]||t.pane.options.background:{},c=l.innerRadius||"0%",d=l.outerRadius||"100%";l=n[0]+i.plotLeft;var m,u=n[1]+i.plotTop,h=s.x,f=s.y,g=t.height;if(s=n[3]/2,e.isCrosshair&&(a=(f=this.getCrosshairPosition(e,l,u))[0],h=f[1],f=f[2]),t.isCircular)a=Math.sqrt(Math.pow(h-l,2)+Math.pow(f-u,2)),r="string"==typeof c?p(c,1):c/a,i="string"==typeof d?p(d,1):d/a,n&&s&&(r<(a=s/a)&&(r=a),i<a&&(i=a)),n=[["M",l+r*(h-l),u-r*(u-f)],["L",h-(1-i)*(h-l),f+(1-i)*(u-f)]];else if((a=t.translate(a))&&(0>a||a>g)&&(a=0),"circle"===t.options.gridLineInterpolation)n=t.getLinePath(0,a,s);else if(n=[],i[o?"yAxis":"xAxis"].forEach(function(e){e.pane===t.pane&&(m=e)}),m)for(l=m.tickPositions,m.autoConnect&&(l=l.concat([l[0]])),r&&(l=l.slice().reverse()),a&&(a+=s),h=0;h<l.length;h++)u=m.getPosition(l[h],a),n.push(h?["L",u.x,u.y]:["M",u.x,u.y]);return n},t.getTitlePosition=function(){var e=this.center,t=this.chart,n=this.options.title;return{x:t.plotLeft+e[0]+(n.x||0),y:t.plotTop+e[1]-{high:.5,middle:.25,low:0}[n.align]*e[2]+(n.y||0)}},t.createLabelCollector=function(){var e=this;return function(){if(e.isRadial&&e.tickPositions&&!0!==e.options.labels.allowOverlap)return e.tickPositions.map(function(t){return e.ticks[t]&&e.ticks[t].label}).filter(function(e){return!!e})}}},t.compose=function(e,i){o(e,"init",function(i){var o,a=this.chart,r=a.inverted,s=a.angular,l=a.polar,d=this.isXAxis,p=this.coll,m=s&&d,u=a.options;i=i.userOptions.pane||0,i=this.pane=a.pane&&a.pane[i],"colorAxis"===p?this.isRadial=!1:(s?(m?n.init(this):t.init(this),(o=!d)&&(this.defaultPolarOptions=t.defaultRadialGaugeOptions)):l&&(t.init(this),this.defaultPolarOptions=(o=this.horiz)?t.defaultCircularOptions:c("xAxis"===p?e.defaultOptions:e.defaultYAxisOptions,t.defaultRadialOptions),r&&"yAxis"===p&&(this.defaultPolarOptions.stackLabels=e.defaultYAxisOptions.stackLabels)),s||l?(this.isRadial=!0,u.chart.zoomType=null,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&a.labelCollectors.push(this.labelCollector)):this.isRadial=!1,i&&o&&(i.axis=this),this.isCircular=o)}),o(e,"afterInit",function(){var e=this.chart,t=this.options,n=this.pane,i=n&&n.options;e.angular&&this.isXAxis||!n||!e.angular&&!e.polar||(this.angleRad=(t.angle||0)*Math.PI/180,this.startAngleRad=(i.startAngle-90)*Math.PI/180,this.endAngleRad=(d(i.endAngle,i.startAngle+360)-90)*Math.PI/180,this.offset=t.offset||0)}),o(e,"autoLabelAlign",function(e){this.isRadial&&(e.align=void 0,e.preventDefault())}),o(e,"destroy",function(){if(this.chart&&this.chart.labelCollectors){var e=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;0<=e&&this.chart.labelCollectors.splice(e,1)}}),o(e,"initialAxisTranslation",function(){this.isRadial&&this.beforeSetTickPositions()}),o(i,"afterGetPosition",function(e){this.axis.getPosition&&s(e.pos,this.axis.getPosition(this.pos))}),o(i,"afterGetLabelPosition",function(e){var t=this.axis,n=this.label;if(n){var i=n.getBBox(),o=t.options.labels,a=o.y,r=20,s=o.align,l=(t.translate(this.pos)+t.startAngleRad+Math.PI/2)/Math.PI*180%360,c=Math.round(l),m="end",u=0>c?c+360:c,h=u,f=0,g=0,v=null===o.y?.3*-i.height:0;if(t.isRadial){var y=t.getPosition(this.pos,t.center[2]/2+p(d(o.distance,-25),t.center[2]/2,-t.center[2]/2));"auto"===o.rotation?n.attr({rotation:l}):null===a&&(a=t.chart.renderer.fontMetrics(n.styles&&n.styles.fontSize).b-i.height/2),null===s&&(t.isCircular?(i.width>t.len*t.tickInterval/(t.max-t.min)&&(r=0),s=l>r&&l<180-r?"left":l>180+r&&l<360-r?"right":"center"):s="center",n.attr({align:s})),"auto"===s&&2===t.tickPositions.length&&t.isCircular&&(90<u&&180>u?u=180-u:270<u&&360>=u&&(u=540-u),180<h&&360>=h&&(h=360-h),t.pane.options.startAngle!==c&&t.pane.options.startAngle!==c+360&&t.pane.options.startAngle!==c-360||(m="start"),s=-90<=c&&90>=c||-360<=c&&-270>=c||270<=c&&360>=c?"start"===m?"right":"left":"start"===m?"left":"right",70<h&&110>h&&(s="center"),15>u||180<=u&&195>u?f=.3*i.height:15<=u&&35>=u?f="start"===m?0:.75*i.height:195<=u&&215>=u?f="start"===m?.75*i.height:0:35<u&&90>=u?f="start"===m?.25*-i.height:i.height:215<u&&270>=u&&(f="start"===m?i.height:.25*-i.height),15>h?g="start"===m?.15*-i.height:.15*i.height:165<h&&180>=h&&(g="start"===m?.15*i.height:.15*-i.height),n.attr({align:s}),n.translate(g,f+v)),e.pos.x=y.x+o.x,e.pos.y=y.y+a}}}),m(i.prototype,"getMarkPath",function(e,t,n,i,o,a,r){var s=this.axis;return s.isRadial?["M",t,n,"L",(e=s.getPosition(this.pos,s.center[2]/2+i)).x,e.y]:e.call(this,t,n,i,o,a,r)})},t.defaultCircularOptions={gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},t.defaultRadialGaugeOptions={labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},t.defaultRadialOptions={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},t}()).compose(e,t),i}),t(e,"Series/AreaRange/AreaRangePoint.js",[e["Series/Area/AreaSeries.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"]],function(e,t,n){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=t.prototype,a=n.defined,r=n.isNumber;return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.high=void 0,t.low=void 0,t.options=void 0,t.plotHigh=void 0,t.plotLow=void 0,t.plotHighX=void 0,t.plotLowX=void 0,t.plotX=void 0,t.series=void 0,t}return i(t,e),t.prototype.setState=function(){var e=this.state,t=this.series,n=t.chart.polar;a(this.plotHigh)||(this.plotHigh=t.yAxis.toPixels(this.high,!0)),a(this.plotLow)||(this.plotLow=this.plotY=t.yAxis.toPixels(this.low,!0)),t.stateMarkerGraphic&&(t.lowerStateMarkerGraphic=t.stateMarkerGraphic,t.stateMarkerGraphic=t.upperStateMarkerGraphic),this.graphic=this.upperGraphic,this.plotY=this.plotHigh,n&&(this.plotX=this.plotHighX),o.setState.apply(this,arguments),this.state=e,this.plotY=this.plotLow,this.graphic=this.lowerGraphic,n&&(this.plotX=this.plotLowX),t.stateMarkerGraphic&&(t.upperStateMarkerGraphic=t.stateMarkerGraphic,t.stateMarkerGraphic=t.lowerStateMarkerGraphic,t.lowerStateMarkerGraphic=void 0),o.setState.apply(this,arguments)},t.prototype.haloPath=function(){var e=this.series.chart.polar,t=[];return this.plotY=this.plotLow,e&&(this.plotX=this.plotLowX),this.isInside&&(t=o.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,e&&(this.plotX=this.plotHighX),this.isTopInside&&(t=t.concat(o.haloPath.apply(this,arguments))),t},t.prototype.isValid=function(){return r(this.low)&&r(this.high)},t}(e.prototype.pointClass)}),t(e,"Series/AreaRange/AreaRangeSeries.js",[e["Series/AreaRange/AreaRangePoint.js"],e["Series/Area/AreaSeries.js"],e["Series/Column/ColumnSeries.js"],e["Core/Globals.js"],e["Core/Series/Series.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,n,i,o,a,r){var s=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),l=t.prototype,c=n.prototype,d=i.noop,p=o.prototype,m=r.defined,u=r.extend,h=r.isArray,f=r.pick,g=r.merge;return n=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.lowerStateMarkerGraphic=void 0,t.xAxis=void 0,t.setStackedPoints=d,t}return s(n,e),n.prototype.toYData=function(e){return[e.low,e.high]},n.prototype.highToXY=function(e){var t=this.chart,n=this.xAxis.postTranslate(e.rectPlotX,this.yAxis.len-e.plotHigh);e.plotHighX=n.x-t.plotLeft,e.plotHigh=n.y-t.plotTop,e.plotLowX=e.plotX},n.prototype.translate=function(){var e=this,t=e.yAxis,n=!!e.modifyValue;l.translate.apply(e),e.points.forEach(function(i){var o=i.high,a=i.plotY;i.isNull?i.plotY=null:(i.plotLow=a,i.plotHigh=t.translate(n?e.modifyValue(o,i):o,0,1,0,1),n&&(i.yBottom=i.plotHigh))}),this.chart.polar&&this.points.forEach(function(t){e.highToXY(t),t.tooltipPos=[(t.plotHighX+t.plotLowX)/2,(t.plotHigh+t.plotLow)/2]})},n.prototype.getGraphPath=function(e){var t,n=[],i=[],o=l.getGraphPath,a=this.options,r=this.chart.polar,s=r&&!1!==a.connectEnds,c=a.connectNulls,d=a.step;for(t=(e=e||this.points).length;t--;){var p=e[t],m=r?{plotX:p.rectPlotX,plotY:p.yBottom,doCurve:!1}:{plotX:p.plotX,plotY:p.plotY,doCurve:!1};p.isNull||s||c||e[t+1]&&!e[t+1].isNull||i.push(m);var u={polarPlotY:p.polarPlotY,rectPlotX:p.rectPlotX,yBottom:p.yBottom,plotX:f(p.plotHighX,p.plotX),plotY:p.plotHigh,isNull:p.isNull};i.push(u),n.push(u),p.isNull||s||c||e[t-1]&&!e[t-1].isNull||i.push(m)}return e=o.call(this,e),d&&(!0===d&&(d="left"),a.step={left:"right",center:"center",right:"left"}[d]),n=o.call(this,n),i=o.call(this,i),a.step=d,a=[].concat(e,n),!this.chart.polar&&i[0]&&"M"===i[0][0]&&(i[0]=["L",i[0][1],i[0][2]]),this.graphPath=a,this.areaPath=e.concat(i),a.isArea=!0,a.xMap=e.xMap,this.areaPath.xMap=e.xMap,a},n.prototype.drawDataLabels=function(){var e,t,n=this.points,i=n.length,o=[],a=this.options.dataLabels,r=this.chart.inverted;if(h(a))var s=a[0]||{enabled:!1},l=a[1]||{enabled:!1};else(s=u({},a)).x=a.xHigh,s.y=a.yHigh,(l=u({},a)).x=a.xLow,l.y=a.yLow;if(s.enabled||this._hasPointLabels){for(e=i;e--;)if(t=n[e]){var c=s.inside?t.plotHigh<t.plotLow:t.plotHigh>t.plotLow;t.y=t.high,t._plotY=t.plotY,t.plotY=t.plotHigh,o[e]=t.dataLabel,t.dataLabel=t.dataLabelUpper,t.below=c,r?s.align||(s.align=c?"right":"left"):s.verticalAlign||(s.verticalAlign=c?"top":"bottom")}for(this.options.dataLabels=s,p.drawDataLabels&&p.drawDataLabels.apply(this,arguments),e=i;e--;)(t=n[e])&&(t.dataLabelUpper=t.dataLabel,t.dataLabel=o[e],delete t.dataLabels,t.y=t.low,t.plotY=t._plotY)}if(l.enabled||this._hasPointLabels){for(e=i;e--;)(t=n[e])&&(t.below=!(c=l.inside?t.plotHigh<t.plotLow:t.plotHigh>t.plotLow),r?l.align||(l.align=c?"left":"right"):l.verticalAlign||(l.verticalAlign=c?"bottom":"top"));this.options.dataLabels=l,p.drawDataLabels&&p.drawDataLabels.apply(this,arguments)}if(s.enabled)for(e=i;e--;)(t=n[e])&&(t.dataLabels=[t.dataLabelUpper,t.dataLabel].filter(function(e){return!!e}));this.options.dataLabels=a},n.prototype.alignDataLabel=function(){c.alignDataLabel.apply(this,arguments)},n.prototype.drawPoints=function(){var e,t=this.points.length;for(p.drawPoints.apply(this,arguments),e=0;e<t;){var n=this.points[e];n.origProps={plotY:n.plotY,plotX:n.plotX,isInside:n.isInside,negative:n.negative,zone:n.zone,y:n.y},n.lowerGraphic=n.graphic,n.graphic=n.upperGraphic,n.plotY=n.plotHigh,m(n.plotHighX)&&(n.plotX=n.plotHighX),n.y=n.high,n.negative=n.high<(this.options.threshold||0),n.zone=this.zones.length&&n.getZone(),this.chart.polar||(n.isInside=n.isTopInside=void 0!==n.plotY&&0<=n.plotY&&n.plotY<=this.yAxis.len&&0<=n.plotX&&n.plotX<=this.xAxis.len),e++}for(p.drawPoints.apply(this,arguments),e=0;e<t;)(n=this.points[e]).upperGraphic=n.graphic,n.graphic=n.lowerGraphic,u(n,n.origProps),delete n.origProps,e++},n.defaultOptions=g(t.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),n}(t),u(n.prototype,{pointArrayMap:["low","high"],pointValKey:"low",deferTranslatePolar:!0,pointClass:e}),a.registerSeriesType("arearange",n),n}),t(e,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[e["Series/AreaRange/AreaRangeSeries.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,n){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=t.seriesTypes.spline,a=n.merge;n=n.extend;var r=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.options=void 0,e.data=void 0,e.points=void 0,e}return i(n,t),n.defaultOptions=a(e.defaultOptions),n}(e);return n(r.prototype,{getPointSpline:o.prototype.getPointSpline}),t.registerSeriesType("areasplinerange",r),r}),t(e,"Series/ColumnRange/ColumnRangePoint.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=e.seriesTypes;return e=o.column.prototype.pointClass,(t=t.extend)((o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.series=void 0,t.options=void 0,t.barX=void 0,t.pointWidth=void 0,t.shapeArgs=void 0,t.shapeType=void 0,t}return i(t,e),t}(o.arearange.prototype.pointClass)).prototype,{setState:e.prototype.setState}),o}),t(e,"Series/ColumnRange/ColumnRangeSeries.js",[e["Series/ColumnRange/ColumnRangePoint.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,n,i){var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();t=t.noop;var a=n.seriesTypes,r=a.arearange,s=a.column,l=s.prototype,c=r.prototype,d=i.clamp,p=i.merge,m=i.pick;i=i.extend;var u={pointRange:null,marker:null,states:{hover:{halo:!1}}};return a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.points=void 0,t.options=void 0,t}return o(t,e),t.prototype.setOptions=function(){return p(!0,arguments[0],{stacking:void 0}),c.setOptions.apply(this,arguments)},t.prototype.translate=function(){var e,t,n=this,i=n.yAxis,o=n.xAxis,a=o.startAngleRad,r=n.chart,s=n.xAxis.isRadial,c=Math.max(r.chartWidth,r.chartHeight)+999;l.translate.apply(n),n.points.forEach(function(l){var p=l.shapeArgs,u=n.options.minPointLength;l.plotHigh=t=d(i.translate(l.high,0,1,0,1),-c,c),l.plotLow=d(l.plotY,-c,c);var h=t,f=m(l.rectPlotY,l.plotY)-t;Math.abs(f)<u?(f+=u-=f,h-=u/2):0>f&&(h-=f*=-1),s?(e=l.barX+a,l.shapeType="arc",l.shapeArgs=n.polarArc(h+f,h,e,e+l.pointWidth)):(p.height=f,p.y=h,l.tooltipPos=r.inverted?[i.len+i.pos-r.plotLeft-h-f/2,o.len+o.pos-r.plotTop-p.x-p.width/2,f]:[o.left-r.plotLeft+p.x+p.width/2,i.pos-r.plotTop+h+f/2,f])})},t.prototype.crispCol=function(){return l.crispCol.apply(this,arguments)},t.prototype.drawPoints=function(){return l.drawPoints.apply(this,arguments)},t.prototype.drawTracker=function(){return l.drawTracker.apply(this,arguments)},t.prototype.getColumnMetrics=function(){return l.getColumnMetrics.apply(this,arguments)},t.prototype.pointAttribs=function(){return l.pointAttribs.apply(this,arguments)},t.prototype.adjustForMissingColumns=function(){return l.adjustForMissingColumns.apply(this,arguments)},t.prototype.animate=function(){return l.animate.apply(this,arguments)},t.prototype.translate3dPoints=function(){return l.translate3dPoints.apply(this,arguments)},t.prototype.translate3dShapes=function(){return l.translate3dShapes.apply(this,arguments)},t.defaultOptions=p(s.defaultOptions,r.defaultOptions,u),t}(r),i(a.prototype,{directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:t,getSymbol:t,polarArc:function(){return l.polarArc.apply(this,arguments)},pointClass:e}),n.registerSeriesType("columnrange",a),a}),t(e,"Series/ColumnPyramid/ColumnPyramidSeries.js",[e["Series/Column/ColumnSeries.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,n){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=e.prototype,a=n.clamp,r=n.merge,s=n.pick;return n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return i(n,t),n.prototype.translate=function(){var e=this,t=e.chart,n=e.options,i=e.dense=2>e.closestPointRange*e.xAxis.transA;i=e.borderWidth=s(n.borderWidth,i?0:1);var r=e.yAxis,l=n.threshold,c=e.translatedThreshold=r.getThreshold(l),d=s(n.minPointLength,5),p=e.getColumnMetrics(),m=p.width,u=e.barW=Math.max(m,1+2*i),h=e.pointXOffset=p.offset;t.inverted&&(c-=.5),n.pointPadding&&(u=Math.ceil(u)),o.translate.apply(e),e.points.forEach(function(i){var o=s(i.yBottom,c),p=999+Math.abs(o),f=a(i.plotY,-p,r.len+p);p=i.plotX+h;var g,v=u/2,y=Math.min(f,o);o=Math.max(f,o)-y,i.barX=p,i.pointWidth=m,i.tooltipPos=t.inverted?[r.len+r.pos-t.plotLeft-f,e.xAxis.len-p-v,o]:[p+v,f+r.pos-t.plotTop,o],f=l+(i.total||i.y),"percent"===n.stacking&&(f=l+(0>i.y)?-100:100),f=r.toPixels(f,!0);var b=(g=t.plotHeight-f-(t.plotHeight-c))?v*(y-f)/g:0,I=g?v*(y+o-f)/g:0;g=p-b+v,b=p+b+v;var x=p+I+v;I=p-I+v;var S=y-d,C=y+o;0>i.y&&(S=y,C=y+o+d),t.inverted&&(I=v*(f-((x=t.plotWidth-y)-o))/(g=f-(t.plotWidth-c)),b=(g=p+v+(b=v*(f-x)/g))-2*b,x=p-I+v,I=p+I+v,S=y,C=y+o-d,0>i.y&&(C=y+o+d)),i.shapeType="path",i.shapeArgs={x:g,y:S,width:b-g,height:o,d:[["M",g,S],["L",b,S],["L",x,C],["L",I,C],["Z"]]}})},n.defaultOptions=r(e.defaultOptions,{}),n}(e),t.registerSeriesType("columnpyramid",n),n}),t(e,"Series/Gauge/GaugePoint.js",[e["Core/Series/SeriesRegistry.js"]],function(e){var t=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();return function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t.shapeArgs=void 0,t}return t(n,e),n.prototype.setState=function(e){this.state=e},n}(e.series.prototype.pointClass)}),t(e,"Series/Gauge/GaugeSeries.js",[e["Series/Gauge/GaugePoint.js"],e["Core/Globals.js"],e["Core/Color/Palette.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,n,i,o){var a=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();t=t.noop;var r=i.series,s=i.seriesTypes.column,l=o.clamp,c=o.isNumber,d=o.extend,p=o.merge,m=o.pick,u=o.pInt;return o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.points=void 0,t.options=void 0,t.yAxis=void 0,t}return a(t,e),t.prototype.translate=function(){var e=this.yAxis,t=this.options,n=e.center;this.generatePoints(),this.points.forEach(function(i){var o=p(t.dial,i.dial),a=u(m(o.radius,"80%"))*n[2]/200,r=u(m(o.baseLength,"70%"))*a/100,s=u(m(o.rearLength,"10%"))*a/100,d=o.baseWidth||3,h=o.topWidth||1,f=t.overshoot,g=e.startAngleRad+e.translate(i.y,null,null,null,!0);(c(f)||!1===t.wrap)&&(f=c(f)?f/180*Math.PI:0,g=l(g,e.startAngleRad-f,e.endAngleRad+f)),g=180*g/Math.PI,i.shapeType="path",i.shapeArgs={d:o.path||[["M",-s,-d/2],["L",r,-d/2],["L",a,-h/2],["L",a,h/2],["L",r,d/2],["L",-s,d/2],["Z"]],translateX:n[0],translateY:n[1],rotation:g},i.plotX=n[0],i.plotY=n[1]})},t.prototype.drawPoints=function(){var e=this,t=e.chart,i=e.yAxis.center,o=e.pivot,a=e.options,r=a.pivot,s=t.renderer;e.points.forEach(function(i){var o=i.graphic,r=i.shapeArgs,l=r.d,c=p(a.dial,i.dial);o?(o.animate(r),r.d=l):i.graphic=s[i.shapeType](r).attr({rotation:r.rotation,zIndex:1}).addClass("highcharts-dial").add(e.group),t.styledMode||i.graphic[o?"animate":"attr"]({stroke:c.borderColor||"none","stroke-width":c.borderWidth||0,fill:c.backgroundColor||n.neutralColor100})}),o?o.animate({translateX:i[0],translateY:i[1]}):(e.pivot=s.circle(0,0,m(r.radius,5)).attr({zIndex:2}).addClass("highcharts-pivot").translate(i[0],i[1]).add(e.group),t.styledMode||e.pivot.attr({"stroke-width":r.borderWidth||0,stroke:r.borderColor||n.neutralColor20,fill:r.backgroundColor||n.neutralColor100}))},t.prototype.animate=function(e){var t=this;e||t.points.forEach(function(e){var n=e.graphic;n&&(n.attr({rotation:180*t.yAxis.startAngleRad/Math.PI}),n.animate({rotation:e.shapeArgs.rotation},t.options.animation))})},t.prototype.render=function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),r.prototype.render.call(this),this.group.clip(this.chart.clipRect)},t.prototype.setData=function(e,t){r.prototype.setData.call(this,e,!1),this.processData(),this.generatePoints(),m(t,!0)&&this.chart.redraw()},t.prototype.hasData=function(){return!!this.points.length},t.defaultOptions=p(r.defaultOptions,{dataLabels:{borderColor:n.neutralColor20,borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1}),t}(r),d(o.prototype,{angular:!0,directTouch:!0,drawGraph:t,drawTracker:s.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:e,trackerGroups:["group","dataLabelsGroup"]}),i.registerSeriesType("gauge",o),o}),t(e,"Series/BoxPlot/BoxPlotSeries.js",[e["Series/Column/ColumnSeries.js"],e["Core/Globals.js"],e["Core/Color/Palette.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,n,i,o){var a=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();t=t.noop;var r=o.extend,s=o.merge,l=o.pick;return o=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return a(i,t),i.prototype.pointAttribs=function(){return{}},i.prototype.translate=function(){var e=this.yAxis,n=this.pointArrayMap;t.prototype.translate.apply(this),this.points.forEach(function(t){n.forEach(function(n){null!==t[n]&&(t[n+"Plot"]=e.translate(t[n],0,1,0,1))}),t.plotHigh=t.highPlot})},i.prototype.drawPoints=function(){var e,t,n,i,o,a,r,s,c,d,p,m=this,u=m.options,h=m.chart,f=h.renderer,g=0,v=!1!==m.doQuartiles,y=m.options.whiskerLength;m.points.forEach(function(b){var I=b.graphic,x=I?"animate":"attr",S=b.shapeArgs,C={},D={},w={},k={},E=b.color||m.color;void 0!==b.plotY&&(r=Math.round(S.width),s=Math.floor(S.x),c=s+r,d=Math.round(r/2),e=Math.floor(v?b.q1Plot:b.lowPlot),t=Math.floor(v?b.q3Plot:b.lowPlot),n=Math.floor(b.highPlot),i=Math.floor(b.lowPlot),I||(b.graphic=I=f.g("point").add(m.group),b.stem=f.path().addClass("highcharts-boxplot-stem").add(I),y&&(b.whiskers=f.path().addClass("highcharts-boxplot-whisker").add(I)),v&&(b.box=f.path(void 0).addClass("highcharts-boxplot-box").add(I)),b.medianShape=f.path(void 0).addClass("highcharts-boxplot-median").add(I)),h.styledMode||(D.stroke=b.stemColor||u.stemColor||E,D["stroke-width"]=l(b.stemWidth,u.stemWidth,u.lineWidth),D.dashstyle=b.stemDashStyle||u.stemDashStyle||u.dashStyle,b.stem.attr(D),y&&(w.stroke=b.whiskerColor||u.whiskerColor||E,w["stroke-width"]=l(b.whiskerWidth,u.whiskerWidth,u.lineWidth),w.dashstyle=b.whiskerDashStyle||u.whiskerDashStyle||u.dashStyle,b.whiskers.attr(w)),v&&(C.fill=b.fillColor||u.fillColor||E,C.stroke=u.lineColor||E,C["stroke-width"]=u.lineWidth||0,C.dashstyle=b.boxDashStyle||u.boxDashStyle||u.dashStyle,b.box.attr(C)),k.stroke=b.medianColor||u.medianColor||E,k["stroke-width"]=l(b.medianWidth,u.medianWidth,u.lineWidth),k.dashstyle=b.medianDashStyle||u.medianDashStyle||u.dashStyle,b.medianShape.attr(k)),a=b.stem.strokeWidth()%2/2,b.stem[x]({d:I=[["M",g=s+d+a,t],["L",g,n],["M",g,e],["L",g,i]]}),v&&(a=b.box.strokeWidth()%2/2,e=Math.floor(e)+a,t=Math.floor(t)+a,b.box[x]({d:I=[["M",s+=a,t],["L",s,e],["L",c+=a,e],["L",c,t],["L",s,t],["Z"]]})),y&&(a=b.whiskers.strokeWidth()%2/2,n+=a,i+=a,p=/%$/.test(y)?d*parseFloat(y)/100:y/2,b.whiskers[x]({d:I=[["M",g-p,n],["L",g+p,n],["M",g-p,i],["L",g+p,i]]})),o=Math.round(b.medianPlot),a=b.medianShape.strokeWidth()%2/2,b.medianShape[x]({d:I=[["M",s,o+=a],["L",c,o]]}))})},i.prototype.toYData=function(e){return[e.low,e.q1,e.median,e.q3,e.high]},i.defaultOptions=s(e.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:n.backgroundColor,lineWidth:1,medianWidth:2,whiskerWidth:2}),i}(e),r(o.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:t,setStackedPoints:t}),i.registerSeriesType("boxplot",o),o}),t(e,"Series/ErrorBar/ErrorBarSeries.js",[e["Series/BoxPlot/BoxPlotSeries.js"],e["Series/Column/ColumnSeries.js"],e["Core/Color/Palette.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,n,i,o){var a=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=i.seriesTypes.arearange,s=o.merge;o=o.extend;var l=function(i){function o(){var e=null!==i&&i.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return a(o,i),o.prototype.getColumnMetrics=function(){return this.linkedParent&&this.linkedParent.columnMetrics||t.prototype.getColumnMetrics.call(this)},o.prototype.drawDataLabels=function(){var e=this.pointValKey;r&&(r.prototype.drawDataLabels.call(this),this.data.forEach(function(t){t.y=t[e]}))},o.prototype.toYData=function(e){return[e.low,e.high]},o.defaultOptions=s(e.defaultOptions,{color:n.neutralColor100,grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}),o}(e);return o(l.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),i.registerSeriesType("errorbar",l),l}),t(e,"Core/Axis/WaterfallAxis.js",[e["Extensions/Stacking.js"],e["Core/Utilities.js"]],function(e,t){var n,i=t.addEvent,o=t.objectEach;return function(t){function n(){var e=this.waterfall.stacks;e&&(e.changed=!1,delete e.alreadyChanged)}function a(){var e=this.options.stackLabels;e&&e.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function r(){for(var e=this.axes,t=this.series,n=t.length;n--;)t[n].options.stacking&&(e.forEach(function(e){e.isXAxis||(e.waterfall.stacks.changed=!0)}),n=0)}function s(){this.waterfall||(this.waterfall=new l(this))}var l=function(){function t(e){this.axis=e,this.stacks={changed:!1}}return t.prototype.renderStackTotals=function(){var t=this.axis,n=t.waterfall.stacks,i=t.stacking&&t.stacking.stackTotalGroup,a=new e(t,t.options.stackLabels,!1,0,void 0);this.dummyStackItem=a,o(n,function(t){o(t,function(t){a.total=t.stackTotal,t.label&&(a.label=t.label),e.prototype.render.call(a,i),t.label=a.label,delete a.label})}),a.total=null},t}();t.Composition=l,t.compose=function(e,t){i(e,"init",s),i(e,"afterBuildStacks",n),i(e,"afterRender",a),i(t,"beforeRedraw",r)}}(n||(n={})),n}),t(e,"Series/Waterfall/WaterfallPoint.js",[e["Series/Column/ColumnSeries.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"]],function(e,t,n){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=n.isNumber;return function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return i(n,e),n.prototype.getClassName=function(){var e=t.prototype.getClassName.call(this);return this.isSum?e+=" highcharts-sum":this.isIntermediateSum&&(e+=" highcharts-intermediate-sum"),e},n.prototype.isValid=function(){return o(this.y)||this.isSum||!!this.isIntermediateSum},n}(e.prototype.pointClass)}),t(e,"Series/Waterfall/WaterfallSeries.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Color/Palette.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"],e["Core/Axis/WaterfallAxis.js"],e["Series/Waterfall/WaterfallPoint.js"]],function(e,t,n,i,o,a,r){var s=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),l=i.seriesTypes,c=l.column,d=l.line,p=o.arrayMax,m=o.arrayMin,u=o.correctFloat;l=o.extend;var h=o.merge,f=o.objectEach,g=o.pick;return o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.chart=void 0,t.data=void 0,t.options=void 0,t.points=void 0,t.stackedYNeg=void 0,t.stackedYPos=void 0,t.stackKey=void 0,t.xData=void 0,t.yAxis=void 0,t.yData=void 0,t}return s(t,e),t.prototype.generatePoints=function(){var e;c.prototype.generatePoints.apply(this);var t=0;for(e=this.points.length;t<e;t++){var n=this.points[t];(n.isIntermediateSum||n.isSum)&&(n.y=u(this.processedYData[t]))}},t.prototype.translate=function(){var e,t=this.options,n=this.yAxis,i=g(t.minPointLength,5),o=i/2,a=t.threshold,r=t.stacking,s=n.waterfall.stacks[this.stackKey];c.prototype.translate.apply(this);var l=e=a,d=this.points,p=0;for(t=d.length;p<t;p++){var m=d[p],u=this.processedYData[p],h=m.shapeArgs,f=[0,u],v=m.y;if(r){if(s){if(f=s[p],"overlap"===r){var y=f.stackState[f.stateIndex--];y=0<=v?y:y-v,Object.hasOwnProperty.call(f,"absolutePos")&&delete f.absolutePos,Object.hasOwnProperty.call(f,"absoluteNeg")&&delete f.absoluteNeg}else 0<=v?(y=f.threshold+f.posTotal,f.posTotal-=v):(y=f.threshold+f.negTotal,f.negTotal-=v,y-=v),!f.posTotal&&Object.hasOwnProperty.call(f,"absolutePos")&&(f.posTotal=f.absolutePos,delete f.absolutePos),!f.negTotal&&Object.hasOwnProperty.call(f,"absoluteNeg")&&(f.negTotal=f.absoluteNeg,delete f.absoluteNeg);m.isSum||(f.connectorThreshold=f.threshold+f.stackTotal),n.reversed?(u=0<=v?y-v:y+v,v=y):(u=y,v=y-v),m.below=u<=g(a,0),h.y=n.translate(u,0,1,0,1),h.height=Math.abs(h.y-n.translate(v,0,1,0,1)),(v=n.waterfall.dummyStackItem)&&(v.x=p,v.label=s[p].label,v.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[p],this.stackedYPos[p]))}}else y=Math.max(l,l+v)+f[0],h.y=n.translate(y,0,1,0,1),m.isSum?(h.y=n.translate(f[1],0,1,0,1),h.height=Math.min(n.translate(f[0],0,1,0,1),n.len)-h.y):m.isIntermediateSum?(0<=v?(u=f[1]+e,v=e):(u=e,v=f[1]+e),n.reversed&&(u^=v,u^=v^=u),h.y=n.translate(u,0,1,0,1),h.height=Math.abs(h.y-Math.min(n.translate(v,0,1,0,1),n.len)),e+=f[1]):(h.height=0<u?n.translate(l,0,1,0,1)-h.y:n.translate(l,0,1,0,1)-n.translate(l-u,0,1,0,1),m.below=(l+=u)<g(a,0)),0>h.height&&(h.y+=h.height,h.height*=-1);m.plotY=h.y=Math.round(h.y)-this.borderWidth%2/2,h.height=Math.max(Math.round(h.height),.001),m.yBottom=h.y+h.height,h.height<=i&&!m.isNull?(h.height=i,h.y-=o,m.plotY=h.y,m.minPointLengthOffset=0>m.y?-o:o):(m.isNull&&(h.width=0),m.minPointLengthOffset=0),h=m.plotY+(m.negative?h.height:0),this.chart.inverted?m.tooltipPos[0]=n.len-h:m.tooltipPos[1]=h}},t.prototype.processData=function(t){var n,i,o,a,r,s=this.options,l=this.yData,c=s.data,d=l.length,p=s.threshold||0;for(r=i=n=o=a=0;r<d;r++){var m=l[r],h=c&&c[r]?c[r]:{};"sum"===m||h.isSum?l[r]=u(i):"intermediateSum"===m||h.isIntermediateSum?(l[r]=u(n),n=0):(i+=m,n+=m),o=Math.min(i,o),a=Math.max(i,a)}e.prototype.processData.call(this,t),s.stacking||(this.dataMin=o+p,this.dataMax=a)},t.prototype.toYData=function(e){return e.isSum?"sum":e.isIntermediateSum?"intermediateSum":e.y},t.prototype.updateParallelArrays=function(t,n){e.prototype.updateParallelArrays.call(this,t,n),"sum"!==this.yData[0]&&"intermediateSum"!==this.yData[0]||(this.yData[0]=null)},t.prototype.pointAttribs=function(e,t){var n=this.options.upColor;return n&&!e.options.color&&(e.color=0<e.y?n:null),delete(e=c.prototype.pointAttribs.call(this,e,t)).dashstyle,e},t.prototype.getGraphPath=function(){return[["M",0,0]]},t.prototype.getCrispPath=function(){var e,t=this.data,n=this.yAxis,i=t.length,o=Math.round(this.graph.strokeWidth())%2/2,a=Math.round(this.borderWidth)%2/2,r=this.xAxis.reversed,s=this.yAxis.reversed,l=this.options.stacking,c=[];for(e=1;e<i;e++){var d=t[e].shapeArgs,p=t[e-1],m=t[e-1].shapeArgs,u=n.waterfall.stacks[this.stackKey],h=0<p.y?-m.height:0;u&&m&&d&&(u=u[e-1],l?(u=u.connectorThreshold,h=Math.round(n.translate(u,0,1,0,1)+(s?h:0))-o):h=m.y+p.minPointLengthOffset+a-o,c.push(["M",(m.x||0)+(r?0:m.width||0),h],["L",(d.x||0)+(r&&d.width||0),h])),m&&c.length&&(!l&&0>p.y&&!s||0<p.y&&s)&&(c[c.length-2][2]+=m.height,c[c.length-1][2]+=m.height)}return c},t.prototype.drawGraph=function(){d.prototype.drawGraph.call(this),this.graph.attr({d:this.getCrispPath()})},t.prototype.setStackedPoints=function(){function e(e,t,n,i){if(I)for(;n<I;n++)g.stackState[n]+=i;else g.stackState[0]=e,I=g.stackState.length;g.stackState.push(g.stackState[I-1]+t)}var t,n,i,o=this.options,a=this.yAxis.waterfall.stacks,r=o.threshold,s=r||0,l=s,c=this.stackKey,d=this.xData,p=d.length;this.yAxis.stacking.usePercentage=!1;var m=n=i=s;if(this.visible||!this.chart.options.chart.ignoreHiddenSeries){var u=a.changed;(t=a.alreadyChanged)&&0>t.indexOf(c)&&(u=!0),a[c]||(a[c]={}),t=a[c];for(var h=0;h<p;h++){var f=d[h];t[f]&&!u||(t[f]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:u&&t[f]?t[f].label:void 0});var g=t[f],v=this.yData[h];0<=v?g.posTotal+=v:g.negTotal+=v;var y=o.data[h];f=g.absolutePos=g.posTotal;var b=g.absoluteNeg=g.negTotal;g.stackTotal=f+b;var I=g.stackState.length;y&&y.isIntermediateSum?(e(i,n,0,i),i=n,n=r,s^=l,s^=l^=s):y&&y.isSum?(e(r,m,I),s=r):(e(s,v,0,m),y&&(m+=v,n+=v)),g.stateIndex++,g.threshold=s,s+=g.stackTotal}a.changed=!1,a.alreadyChanged||(a.alreadyChanged=[]),a.alreadyChanged.push(c)}},t.prototype.getExtremes=function(){var e=this.options.stacking;if(e){var t=this.yAxis;t=t.waterfall.stacks;var n=this.stackedYNeg=[],i=this.stackedYPos=[];return f(t[this.stackKey],"overlap"===e?function(e){n.push(m(e.stackState)),i.push(p(e.stackState))}:function(e){n.push(e.negTotal+e.threshold),i.push(e.posTotal+e.threshold)}),{dataMin:m(n),dataMax:p(i)}}return{dataMin:this.dataMin,dataMax:this.dataMax}},t.defaultOptions=h(c.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:n.neutralColor80,dashStyle:"Dot",borderColor:n.neutralColor80,states:{hover:{lineWidthPlus:0}}}),t}(c),l(o.prototype,{getZonesGraphs:d.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:r}),i.registerSeriesType("waterfall",o),a.compose(t.Axis,e),o}),t(e,"Series/Polygon/PolygonSeries.js",[e["Core/Globals.js"],e["Mixins/LegendSymbol.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,n,i){var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();e=e.noop;var a=n.series,r=n.seriesTypes,s=r.area,l=r.line,c=r.scatter;r=i.extend;var d=i.merge;return i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return o(t,e),t.prototype.getGraphPath=function(){for(var e=l.prototype.getGraphPath.call(this),t=e.length+1;t--;)(t===e.length||"M"===e[t][0])&&0<t&&e.splice(t,0,["Z"]);return this.areaPath=e},t.prototype.drawGraph=function(){this.options.fillColor=this.color,s.prototype.drawGraph.call(this)},t.defaultOptions=d(c.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0}),t}(c),r(i.prototype,{type:"polygon",drawLegendSymbol:t.drawRectangle,drawTracker:a.prototype.drawTracker,setStackedPoints:e}),n.registerSeriesType("polygon",i),i}),t(e,"Series/Bubble/BubblePoint.js",[e["Core/Series/Point.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});return(n=n.extend)((t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.options=void 0,e.series=void 0,e}return o(n,t),n.prototype.haloPath=function(t){return e.prototype.haloPath.call(this,0===t?0:(this.marker&&this.marker.radius||0)+t)},n}(t.seriesTypes.scatter.prototype.pointClass)).prototype,{ttBelow:!1}),t}),t(e,"Series/Bubble/BubbleLegend.js",[e["Core/Chart/Chart.js"],e["Core/Color/Color.js"],e["Core/Globals.js"],e["Core/Legend.js"],e["Core/Color/Palette.js"],e["Core/Series/Series.js"],e["Core/Utilities.js"]],function(e,t,n,i,o,a,r){var s=t.parse,l=n.noop;t=r.addEvent;var c=r.arrayMax,d=r.arrayMin,p=r.isNumber,m=r.merge,u=r.objectEach,h=r.pick,f=r.setOptions,g=r.stableSort,v=r.wrap;return f({legend:{bubbleLegend:{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:10,color:void 0},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}}),f=function(){function e(e,t){this.options=this.symbols=this.visible=this.ranges=this.movementX=this.maxLabel=this.legendSymbol=this.legendItemWidth=this.legendItemHeight=this.legendItem=this.legendGroup=this.legend=this.fontMetrics=this.chart=void 0,this.setState=l,this.init(e,t)}return e.prototype.init=function(e,t){this.options=e,this.visible=!0,this.chart=t.chart,this.legend=t},e.prototype.addToLegend=function(e){e.splice(this.options.legendIndex,0,this)},e.prototype.drawLegendSymbol=function(e){var t=this.chart,n=this.options,i=h(e.options.itemDistance,20),o=n.ranges,a=n.connectorDistance;this.fontMetrics=t.renderer.fontMetrics(n.labels.style.fontSize.toString()+"px"),o&&o.length&&p(o[0].value)?(g(o,function(e,t){return t.value-e.value}),this.ranges=o,this.setOptions(),this.render(),t=this.getMaxLabelSize(),e=2*(o=this.ranges[0].radius),a=0<(a=a-o+t.width)?a:0,this.maxLabel=t,this.movementX="left"===n.labels.align?a:0,this.legendItemWidth=e+a+i,this.legendItemHeight=e+this.fontMetrics.h/2):e.options.bubbleLegend.autoRanges=!0},e.prototype.setOptions=function(){var e=this.ranges,t=this.options,n=this.chart.series[t.seriesIndex],i=this.legend.baseline,o={"z-index":t.zIndex,"stroke-width":t.borderWidth},a={"z-index":t.zIndex,"stroke-width":t.connectorWidth},r=this.getLabelStyles(),l=n.options.marker.fillOpacity,c=this.chart.styledMode;e.forEach(function(d,p){c||(o.stroke=h(d.borderColor,t.borderColor,n.color),o.fill=h(d.color,t.color,1!==l?s(n.color).setOpacity(l).get("rgba"):n.color),a.stroke=h(d.connectorColor,t.connectorColor,n.color)),e[p].radius=this.getRangeRadius(d.value),e[p]=m(e[p],{center:e[0].radius-e[p].radius+i}),c||m(!0,e[p],{bubbleStyle:m(!1,o),connectorStyle:m(!1,a),labelStyle:r})},this)},e.prototype.getLabelStyles=function(){var e=this.options,t={},n="left"===e.labels.align,i=this.legend.options.rtl;return u(e.labels.style,function(e,n){"color"!==n&&"fontSize"!==n&&"z-index"!==n&&(t[n]=e)}),m(!1,t,{"font-size":e.labels.style.fontSize,fill:h(e.labels.style.color,o.neutralColor100),"z-index":e.zIndex,align:i||n?"right":"left"})},e.prototype.getRangeRadius=function(e){var t=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,t.ranges[t.ranges.length-1].value,t.ranges[0].value,t.minSize,t.maxSize,e)},e.prototype.render=function(){var e=this.chart.renderer,t=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),this.legendSymbol=e.g("bubble-legend"),this.legendItem=e.g("bubble-legend-item"),this.legendSymbol.translateX=0,this.legendSymbol.translateY=0,this.ranges.forEach(function(e){e.value>=t&&this.renderRange(e)},this),this.legendSymbol.add(this.legendItem),this.legendItem.add(this.legendGroup),this.hideOverlappingLabels()},e.prototype.renderRange=function(e){var t=this.options,n=t.labels,i=this.chart.renderer,o=this.symbols,a=o.labels,r=e.center,s=Math.abs(e.radius),l=t.connectorDistance||0,c=n.align,d=n.style.fontSize;l=this.legend.options.rtl||"left"===c?-l:l;var p=this.ranges[0].radius||0,m=r-s-t.borderWidth/2+(n=t.connectorWidth)/2;d=d/2-(this.fontMetrics.h-d)/2;var u=i.styledMode;"center"===c&&(l=0,t.connectorDistance=0,e.labelStyle.align="center"),c=m+t.labels.y;var h=p+l+t.labels.x;o.bubbleItems.push(i.circle(p,r+((m%1?1:.5)-(n%2?0:.5)),s).attr(u?{}:e.bubbleStyle).addClass((u?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-symbol "+(t.className||"")).add(this.legendSymbol)),o.connectors.push(i.path(i.crispLine([["M",p,m],["L",p+l,m]],t.connectorWidth)).attr(u?{}:e.connectorStyle).addClass((u?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(t.connectorClassName||"")).add(this.legendSymbol)),e=i.text(this.formatLabel(e),h,c+d).attr(u?{}:e.labelStyle).addClass("highcharts-bubble-legend-labels "+(t.labels.className||"")).add(this.legendSymbol),a.push(e),e.placed=!0,e.alignAttr={x:h,y:c+d}},e.prototype.getMaxLabelSize=function(){var e,t;return this.symbols.labels.forEach(function(n){t=n.getBBox(!0),e=e?t.width>e.width?t:e:t}),e||{}},e.prototype.formatLabel=function(e){var t=this.options,n=t.labels.formatter,i=this.chart.numberFormatter;return(t=t.labels.format)?r.format(t,e):n?n.call(e):i(e.value,1)},e.prototype.hideOverlappingLabels=function(){var e=this.symbols;!this.options.labels.allowOverlap&&e&&(this.chart.hideOverlappingLabels(e.labels),e.labels.forEach(function(t,n){t.newOpacity?t.newOpacity!==t.oldOpacity&&e.connectors[n].show():e.connectors[n].hide()}))},e.prototype.getRanges=function(){var e,t=this.legend.bubbleLegend,n=t.options.ranges,i=Number.MAX_VALUE,o=-Number.MAX_VALUE;t.chart.series.forEach(function(t){t.isBubble&&!t.ignoreSeries&&(e=t.zData.filter(p)).length&&(i=h(t.options.zMin,Math.min(i,Math.max(d(e),!1===t.options.displayNegative?t.options.zThreshold:-Number.MAX_VALUE))),o=h(t.options.zMax,Math.max(o,c(e))))});var a=i===o?[{value:o}]:[{value:i},{value:(i+o)/2},{value:o,autoRanges:!0}];return n.length&&n[0].radius&&a.reverse(),a.forEach(function(e,t){n&&n[t]&&(a[t]=m(!1,n[t],e))}),a},e.prototype.predictBubbleSizes=function(){var e=this.chart,t=this.fontMetrics,n=e.legend.options,i="horizontal"===n.layout,o=i?e.legend.lastLineHeight:0,a=e.plotSizeX,r=e.plotSizeY,s=e.series[this.options.seriesIndex];e=Math.ceil(s.minPxSize);var l=Math.ceil(s.maxPxSize);s=s.options.maxSize;var c=Math.min(r,a);return n.floating||!/%$/.test(s)?t=l:(s=parseFloat(s),t=(c+o-t.h/2)*s/100/(s/100+1),(i&&r-t>=a||!i&&a-t>=r)&&(t=l)),[e,Math.ceil(t)]},e.prototype.updateRanges=function(e,t){var n=this.legend.options.bubbleLegend;n.minSize=e,n.maxSize=t,n.ranges=this.getRanges()},e.prototype.correctSizes=function(){var e=this.legend,t=this.chart.series[this.options.seriesIndex];1<Math.abs(Math.ceil(t.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,t.maxPxSize),e.render())},e}(),t(i,"afterGetAllItems",function(e){var t=this.bubbleLegend,i=this.options,o=i.bubbleLegend,a=this.chart.getVisibleBubbleSeriesIndex();t&&t.ranges&&t.ranges.length&&(o.ranges.length&&(o.autoRanges=!!o.ranges[0].autoRanges),this.destroyItem(t)),0<=a&&i.enabled&&o.enabled&&(o.seriesIndex=a,this.bubbleLegend=new n.BubbleLegend(o,this),this.bubbleLegend.addToLegend(e.allItems))}),e.prototype.getVisibleBubbleSeriesIndex=function(){for(var e=this.series,t=0;t<e.length;){if(e[t]&&e[t].isBubble&&e[t].visible&&e[t].zData.length)return t;t++}return-1},i.prototype.getLinesHeights=function(){var e,t=this.allItems,n=[],i=t.length,o=0;for(e=0;e<i;e++)if(t[e].legendItemHeight&&(t[e].itemHeight=t[e].legendItemHeight),t[e]===t[i-1]||t[e+1]&&t[e]._legendItemPos[1]!==t[e+1]._legendItemPos[1]){n.push({height:0});for(var a=n[n.length-1];o<=e;o++)t[o].itemHeight>a.height&&(a.height=t[o].itemHeight);a.step=e}return n},i.prototype.retranslateItems=function(e){var t,n,i,o=this.options.rtl,a=0;this.allItems.forEach(function(r,s){t=r.legendGroup.translateX,n=r._legendItemPos[1],((i=r.movementX)||o&&r.ranges)&&r.legendGroup.attr({translateX:i=o?t-r.options.maxSize/2:t+i}),s>e[a].step&&a++,r.legendGroup.attr({translateY:Math.round(n+e[a].height/2)}),r._legendItemPos[1]=n+e[a].height/2})},t(a,"legendItemClick",function(){var e=this.chart,t=this.visible,n=this.chart.legend;n&&n.bubbleLegend&&(this.visible=!t,this.ignoreSeries=t,e=0<=e.getVisibleBubbleSeriesIndex(),n.bubbleLegend.visible!==e&&(n.update({bubbleLegend:{enabled:e}}),n.bubbleLegend.visible=e),this.visible=t)}),v(e.prototype,"drawChartBox",function(e,t,n){var i=this.legend,o=0<=this.getVisibleBubbleSeriesIndex();if(i&&i.options.enabled&&i.bubbleLegend&&i.options.bubbleLegend.autoRanges&&o){var a=i.bubbleLegend.options;o=i.bubbleLegend.predictBubbleSizes(),i.bubbleLegend.updateRanges(o[0],o[1]),a.placed||(i.group.placed=!1,i.allItems.forEach(function(e){e.legendGroup.translateY=null})),i.render(),this.getMargins(),this.axes.forEach(function(e){e.visible&&e.render(),a.placed||(e.setScale(),e.updateNames(),u(e.ticks,function(e){e.isNew=!0,e.isNewLabel=!0}))}),a.placed=!0,this.getMargins(),e.call(this,t,n),i.bubbleLegend.correctSizes(),i.retranslateItems(i.getLinesHeights())}else e.call(this,t,n),i&&i.options.enabled&&i.bubbleLegend&&(i.render(),i.retranslateItems(i.getLinesHeights()))}),n.BubbleLegend=f,n.BubbleLegend}),t(e,"Series/Bubble/BubbleSeries.js",[e["Core/Axis/Axis.js"],e["Series/Bubble/BubblePoint.js"],e["Core/Color/Color.js"],e["Core/Globals.js"],e["Core/Series/Series.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,n,i,o,a,r){var s=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),l=n.parse;n=i.noop;var c=a.seriesTypes;i=c.column;var d=c.scatter,p=r.arrayMax,m=r.arrayMin,u=r.clamp,h=r.extend,f=r.isNumber,g=r.merge,v=r.pick,y=r.pInt;return r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.maxPxSize=void 0,t.minPxSize=void 0,t.options=void 0,t.points=void 0,t.radii=void 0,t.yData=void 0,t.zData=void 0,t}return s(t,e),t.prototype.animate=function(e){!e&&this.points.length<this.options.animationLimit&&this.points.forEach(function(e){var t=e.graphic;t&&t.width&&(this.hasRendered||t.attr({x:e.plotX,y:e.plotY,width:1,height:1}),t.animate(this.markerAttribs(e),this.options.animation))},this)},t.prototype.getRadii=function(e,t,n){var i=this.zData,o=this.yData,a=n.minPxSize,r=n.maxPxSize,s=[],l=0;for(n=i.length;l<n;l++)s.push(this.getRadius(e,t,a,r,i[l],o[l]));this.radii=s},t.prototype.getRadius=function(e,t,n,i,o,a){var r=this.options,s="width"!==r.sizeBy,l=r.zThreshold,c=t-e,d=.5;if(null===a||null===o)return null;if(f(o)){if(r.sizeByAbsoluteValue&&(o=Math.abs(o-l),c=Math.max(t-l,Math.abs(e-l)),e=0),o<e)return n/2-1;0<c&&(d=(o-e)/c)}return s&&0<=d&&(d=Math.sqrt(d)),Math.ceil(n+d*(i-n))/2},t.prototype.hasData=function(){return!!this.processedXData.length},t.prototype.pointAttribs=function(e,t){var n=this.options.marker.fillOpacity;return e=o.prototype.pointAttribs.call(this,e,t),1!==n&&(e.fill=l(e.fill).setOpacity(n).get("rgba")),e},t.prototype.translate=function(){var t,n=this.data,i=this.radii;for(e.prototype.translate.call(this),t=n.length;t--;){var o=n[t],a=i?i[t]:0;f(a)&&a>=this.minPxSize/2?(o.marker=h(o.marker,{radius:a,width:2*a,height:2*a}),o.dlBox={x:o.plotX-a,y:o.plotY-a,width:2*a,height:2*a}):o.shapeArgs=o.plotY=o.dlBox=void 0}},t.defaultOptions=g(d.defaultOptions,{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),t}(d),h(r.prototype,{alignDataLabel:i.prototype.alignDataLabel,applyZones:n,bubblePadding:!0,buildKDTree:n,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:t,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),e.prototype.beforePadding=function(){var e=this,t=this.len,n=this.chart,i=0,o=t,a=this.isXAxis,r=a?"xData":"yData",s=this.min,l={},c=Math.min(n.plotWidth,n.plotHeight),d=Number.MAX_VALUE,h=-Number.MAX_VALUE,g=this.max-s,b=t/g,I=[];this.series.forEach(function(t){var i=t.options;!t.bubblePadding||!t.visible&&n.options.chart.ignoreHiddenSeries||(e.allowZoomOutside=!0,I.push(t),a&&(["minSize","maxSize"].forEach(function(e){var t=i[e],n=/%$/.test(t);t=y(t),l[e]=n?c*t/100:t}),t.minPxSize=l.minSize,t.maxPxSize=Math.max(l.maxSize,l.minSize),(t=t.zData.filter(f)).length&&(d=v(i.zMin,u(m(t),!1===i.displayNegative?i.zThreshold:-Number.MAX_VALUE,d)),h=v(i.zMax,Math.max(h,p(t))))))}),I.forEach(function(t){var n=t[r],l=n.length;if(a&&t.getRadii(d,h,t),0<g)for(;l--;)if(f(n[l])&&e.dataMin<=n[l]&&n[l]<=e.max){var c=t.radii?t.radii[l]:0;i=Math.min((n[l]-s)*b-c,i),o=Math.max((n[l]-s)*b+c,o)}}),I.length&&0<g&&!this.logarithmic&&(o-=t,b*=(t+Math.max(0,i)-Math.min(o,t))/t,[["min","userMin",i],["max","userMax",o]].forEach(function(t){void 0===v(e.options[t[0]],e[t[1]])&&(e[t[0]]+=t[2]/b)}))},a.registerSeriesType("bubble",r),r}),t(e,"Series/PackedBubble/PackedBubblePoint.js",[e["Core/Chart/Chart.js"],e["Core/Series/Point.js"],e["Core/Series/SeriesRegistry.js"]],function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});return function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.degree=NaN,e.mass=NaN,e.radius=NaN,e.options=void 0,e.series=void 0,e.value=null,e}return o(i,n),i.prototype.destroy=function(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),t.prototype.destroy.apply(this,arguments)},i.prototype.firePointEvent=function(){var e=this.series.options;if(this.isParentNode&&e.parentNode){var n=e.allowPointSelect;e.allowPointSelect=e.parentNode.allowPointSelect,t.prototype.firePointEvent.apply(this,arguments),e.allowPointSelect=n}else t.prototype.firePointEvent.apply(this,arguments)},i.prototype.select=function(){var n=this.series.chart;this.isParentNode?(n.getSelectedPoints=n.getSelectedParentNodes,t.prototype.select.apply(this,arguments),n.getSelectedPoints=e.prototype.getSelectedPoints):t.prototype.select.apply(this,arguments)},i}(n.seriesTypes.bubble.prototype.pointClass)}),t(e,"Series/Networkgraph/DraggableNodes.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(e,t,n){var i=n.addEvent;t.dragNodesMixin={onMouseDown:function(e,t){t=this.chart.pointer.normalize(t),e.fixedPosition={chartX:t.chartX,chartY:t.chartY,plotX:e.plotX,plotY:e.plotY},e.inDragMode=!0},onMouseMove:function(e,t){if(e.fixedPosition&&e.inDragMode){var n=this.chart;t=n.pointer.normalize(t);var i=e.fixedPosition.chartX-t.chartX,o=e.fixedPosition.chartY-t.chartY;t=n.graphLayoutsLookup,(5<Math.abs(i)||5<Math.abs(o))&&n.isInsidePlot(i=e.fixedPosition.plotX-i,o=e.fixedPosition.plotY-o)&&(e.plotX=i,e.plotY=o,e.hasDragged=!0,this.redrawHalo(e),t.forEach(function(e){e.restartSimulation()}))}},onMouseUp:function(e,t){e.fixedPosition&&(e.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),e.inDragMode=e.hasDragged=!1,this.options.fixedDraggable||delete e.fixedPosition)},redrawHalo:function(e){e&&this.halo&&this.halo.attr({d:e.haloPath(this.options.states.hover.halo.size)})}},i(e,"load",function(){var e,t,n,o=this;o.container&&(e=i(o.container,"mousedown",function(e){var a=o.hoverPoint;a&&a.series&&a.series.hasDraggableNodes&&a.series.options.draggable&&(a.series.onMouseDown(a,e),t=i(o.container,"mousemove",function(e){return a&&a.series&&a.series.onMouseMove(a,e)}),n=i(o.container.ownerDocument,"mouseup",function(e){return t(),n(),a&&a.series&&a.series.onMouseUp(a,e)}))})),i(o,"destroy",function(){e()})})}),t(e,"Series/Networkgraph/Integrations.js",[e["Core/Globals.js"]],function(e){e.networkgraphIntegrations={verlet:{attractiveForceFunction:function(e,t){return(t-e)/e},repulsiveForceFunction:function(e,t){return(t-e)/e*(t>e?1:0)},barycenter:function(){var e=this.options.gravitationalConstant,t=this.barycenter.xFactor,n=this.barycenter.yFactor;t=(t-(this.box.left+this.box.width)/2)*e,n=(n-(this.box.top+this.box.height)/2)*e,this.nodes.forEach(function(e){e.fixedPosition||(e.plotX-=t/e.mass/e.degree,e.plotY-=n/e.mass/e.degree)})},repulsive:function(e,t,n){t=t*this.diffTemperature/e.mass/e.degree,e.fixedPosition||(e.plotX+=n.x*t,e.plotY+=n.y*t)},attractive:function(e,t,n){var i=e.getMass(),o=-n.x*t*this.diffTemperature;t=-n.y*t*this.diffTemperature,e.fromNode.fixedPosition||(e.fromNode.plotX-=o*i.fromNode/e.fromNode.degree,e.fromNode.plotY-=t*i.fromNode/e.fromNode.degree),e.toNode.fixedPosition||(e.toNode.plotX+=o*i.toNode/e.toNode.degree,e.toNode.plotY+=t*i.toNode/e.toNode.degree)},integrate:function(e,t){var n=-e.options.friction,i=e.options.maxSpeed,o=(t.plotX+t.dispX-t.prevX)*n;n*=t.plotY+t.dispY-t.prevY;var a=Math.abs,r=a(o)/(o||1);a=a(n)/(n||1),o=r*Math.min(i,Math.abs(o)),n=a*Math.min(i,Math.abs(n)),t.prevX=t.plotX+t.dispX,t.prevY=t.plotY+t.dispY,t.plotX+=o,t.plotY+=n,t.temperature=e.vectorLength({x:o,y:n})},getK:function(e){return Math.pow(e.box.width*e.box.height/e.nodes.length,.5)}},euler:{attractiveForceFunction:function(e,t){return e*e/t},repulsiveForceFunction:function(e,t){return t*t/e},barycenter:function(){var e=this.options.gravitationalConstant,t=this.barycenter.xFactor,n=this.barycenter.yFactor;this.nodes.forEach(function(i){if(!i.fixedPosition){var o=i.getDegree();i.dispX+=(t-i.plotX)*e*(o*=1+o/2)/i.degree,i.dispY+=(n-i.plotY)*e*o/i.degree}})},repulsive:function(e,t,n,i){e.dispX+=n.x/i*t/e.degree,e.dispY+=n.y/i*t/e.degree},attractive:function(e,t,n,i){var o=e.getMass(),a=n.x/i*t;t*=n.y/i,e.fromNode.fixedPosition||(e.fromNode.dispX-=a*o.fromNode/e.fromNode.degree,e.fromNode.dispY-=t*o.fromNode/e.fromNode.degree),e.toNode.fixedPosition||(e.toNode.dispX+=a*o.toNode/e.toNode.degree,e.toNode.dispY+=t*o.toNode/e.toNode.degree)},integrate:function(e,t){t.dispX+=t.dispX*e.options.friction,t.dispY+=t.dispY*e.options.friction;var n=t.temperature=e.vectorLength({x:t.dispX,y:t.dispY});0!==n&&(t.plotX+=t.dispX/n*Math.min(Math.abs(t.dispX),e.temperature),t.plotY+=t.dispY/n*Math.min(Math.abs(t.dispY),e.temperature))},getK:function(e){return Math.pow(e.box.width*e.box.height/e.nodes.length,.3)}}}}),t(e,"Series/Networkgraph/QuadTree.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(e,t){t=t.extend;var n=e.QuadTreeNode=function(e){this.box=e,this.boxSize=Math.min(e.width,e.height),this.nodes=[],this.body=this.isInternal=!1,this.isEmpty=!0};t(n.prototype,{insert:function(e,t){this.isInternal?this.nodes[this.getBoxPosition(e)].insert(e,t-1):(this.isEmpty=!1,this.body?t?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,t-1),this.body=!0),this.nodes[this.getBoxPosition(e)].insert(e,t-1)):((t=new n({top:e.plotX,left:e.plotY,width:.1,height:.1})).body=e,t.isInternal=!1,this.nodes.push(t)):(this.isInternal=!1,this.body=e))},updateMassAndCenter:function(){var e=0,t=0,n=0;this.isInternal?(this.nodes.forEach(function(i){i.isEmpty||(e+=i.mass,t+=i.plotX*i.mass,n+=i.plotY*i.mass)}),t/=e,n/=e):this.body&&(e=this.body.mass,t=this.body.plotX,n=this.body.plotY),this.mass=e,this.plotX=t,this.plotY=n},divideBox:function(){var e=this.box.width/2,t=this.box.height/2;this.nodes[0]=new n({left:this.box.left,top:this.box.top,width:e,height:t}),this.nodes[1]=new n({left:this.box.left+e,top:this.box.top,width:e,height:t}),this.nodes[2]=new n({left:this.box.left+e,top:this.box.top+t,width:e,height:t}),this.nodes[3]=new n({left:this.box.left,top:this.box.top+t,width:e,height:t})},getBoxPosition:function(e){var t=e.plotY<this.box.top+this.box.height/2;return e.plotX<this.box.left+this.box.width/2?t?0:3:t?1:2}}),t((e=e.QuadTree=function(e,t,i,o){this.box={left:e,top:t,width:i,height:o},this.maxDepth=25,this.root=new n(this.box,"0"),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}).prototype,{insertNodes:function(e){e.forEach(function(e){this.root.insert(e,this.maxDepth)},this)},visitNodeRecursive:function(e,t,n){var i;e||(e=this.root),e===this.root&&t&&(i=t(e)),!1!==i&&(e.nodes.forEach(function(e){if(e.isInternal){if(t&&(i=t(e)),!1===i)return;this.visitNodeRecursive(e,t,n)}else e.body&&t&&t(e.body);n&&n(e)},this),e===this.root&&n&&n(e))},calculateMassAndCenter:function(){this.visitNodeRecursive(null,null,function(e){e.updateMassAndCenter()})}})}),t(e,"Series/Networkgraph/Layouts.js",[e["Core/Chart/Chart.js"],e["Core/Animation/AnimationUtilities.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(e,t,n,i){var o=t.setAnimation;t=i.addEvent;var a=i.clamp,r=i.defined,s=i.extend,l=i.isFunction,c=i.pick;n.layouts={"reingold-fruchterman":function(){}},s(n.layouts["reingold-fruchterman"].prototype,{init:function(e){this.options=e,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=n.networkgraphIntegrations[e.integration],this.enableSimulation=e.enableSimulation,this.attractiveForce=c(e.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=c(e.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=e.approximation},updateSimulation:function(e){this.enableSimulation=c(e,this.options.enableSimulation)},start:function(){var e=this.series,t=this.options;this.currentStep=0,this.forces=e[0]&&e[0].forces||[],this.chart=e[0]&&e[0].chart,this.initialRendering&&(this.initPositions(),e.forEach(function(e){e.finishedAnimating=!0,e.render()})),this.setK(),this.resetSimulation(t),this.enableSimulation&&this.step()},step:function(){var e=this,t=this.series;e.currentStep++,"barnes-hut"===e.approximation&&(e.createQuadTree(),e.quadTree.calculateMassAndCenter()),e.forces.forEach(function(t){e[t+"Forces"](e.temperature)}),e.applyLimits(e.temperature),e.temperature=e.coolDown(e.startTemperature,e.diffTemperature,e.currentStep),e.prevSystemTemperature=e.systemTemperature,e.systemTemperature=e.getSystemTemperature(),e.enableSimulation&&(t.forEach(function(e){e.chart&&e.render()}),e.maxIterations--&&isFinite(e.temperature)&&!e.isStable()?(e.simulation&&n.win.cancelAnimationFrame(e.simulation),e.simulation=n.win.requestAnimationFrame(function(){e.step()})):e.simulation=!1)},stop:function(){this.simulation&&n.win.cancelAnimationFrame(this.simulation)},setArea:function(e,t,n,i){this.box={left:e,top:t,width:n,height:i}},setK:function(){this.k=this.options.linkLength||this.integration.getK(this)},addElementsToCollection:function(e,t){e.forEach(function(e){-1===t.indexOf(e)&&t.push(e)})},removeElementFromCollection:function(e,t){-1!==(e=t.indexOf(e))&&t.splice(e,1)},clear:function(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()},resetSimulation:function(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()},restartSimulation:function(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))},setMaxIterations:function(e){this.maxIterations=c(e,this.options.maxIterations)},setTemperature:function(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)},setDiffTemperature:function(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)},setInitialRendering:function(e){this.initialRendering=e},createQuadTree:function(){this.quadTree=new n.QuadTree(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)},initPositions:function(){var e=this.options.initialPositions;l(e)?(e.call(this),this.nodes.forEach(function(e){r(e.prevX)||(e.prevX=e.plotX),r(e.prevY)||(e.prevY=e.plotY),e.dispX=0,e.dispY=0})):"circle"===e?this.setCircularPositions():this.setRandomPositions()},setCircularPositions:function(){function e(t){t.linksFrom.forEach(function(t){r[t.toNode.id]||(r[t.toNode.id]=!0,a.push(t.toNode),e(t.toNode))})}var t=this.box,n=this.nodes,i=2*Math.PI/(n.length+1),o=n.filter(function(e){return 0===e.linksTo.length}),a=[],r={},s=this.options.initialPositionRadius;o.forEach(function(t){a.push(t),e(t)}),a.length?n.forEach(function(e){-1===a.indexOf(e)&&a.push(e)}):a=n,a.forEach(function(e,n){e.plotX=e.prevX=c(e.plotX,t.width/2+s*Math.cos(n*i)),e.plotY=e.prevY=c(e.plotY,t.height/2+s*Math.sin(n*i)),e.dispX=0,e.dispY=0})},setRandomPositions:function(){function e(e){return(e=e*e/Math.PI)-Math.floor(e)}var t=this.box,n=this.nodes,i=n.length+1;n.forEach(function(n,o){n.plotX=n.prevX=c(n.plotX,t.width*e(o)),n.plotY=n.prevY=c(n.plotY,t.height*e(i+o)),n.dispX=0,n.dispY=0})},force:function(e){this.integration[e].apply(this,Array.prototype.slice.call(arguments,1))},barycenterForces:function(){this.getBarycenter(),this.force("barycenter")},getBarycenter:function(){var e=0,t=0,n=0;return this.nodes.forEach(function(i){t+=i.plotX*i.mass,n+=i.plotY*i.mass,e+=i.mass}),this.barycenter={x:t,y:n,xFactor:t/e,yFactor:n/e}},barnesHutApproximation:function(e,t){var n=this.getDistXY(e,t),i=this.vectorLength(n);if(e!==t&&0!==i)if(t.isInternal)if(t.boxSize/i<this.options.theta&&0!==i){var o=this.repulsiveForce(i,this.k);this.force("repulsive",e,o*t.mass,n,i);var a=!1}else a=!0;else o=this.repulsiveForce(i,this.k),this.force("repulsive",e,o*t.mass,n,i);return a},repulsiveForces:function(){var e=this;e.nodes.forEach("barnes-hut"===e.approximation?function(t){e.quadTree.visitNodeRecursive(null,function(n){return e.barnesHutApproximation(t,n)})}:function(t){e.nodes.forEach(function(n){if(t!==n&&!t.fixedPosition){var i=e.getDistXY(t,n),o=e.vectorLength(i);if(0!==o){var a=e.repulsiveForce(o,e.k);e.force("repulsive",t,a*n.mass,i,o)}}})})},attractiveForces:function(){var e,t,n,i=this;i.links.forEach(function(o){o.fromNode&&o.toNode&&(e=i.getDistXY(o.fromNode,o.toNode),0!==(t=i.vectorLength(e))&&(n=i.attractiveForce(t,i.k),i.force("attractive",o,n,e,t)))})},applyLimits:function(){var e=this;e.nodes.forEach(function(t){t.fixedPosition||(e.integration.integrate(e,t),e.applyLimitBox(t,e.box),t.dispX=0,t.dispY=0)})},applyLimitBox:function(e,t){var n=e.radius;e.plotX=a(e.plotX,t.left+n,t.width-n),e.plotY=a(e.plotY,t.top+n,t.height-n)},coolDown:function(e,t,n){return e-t*n},isStable:function(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature},getSystemTemperature:function(){return this.nodes.reduce(function(e,t){return e+t.temperature},0)},vectorLength:function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},getDistR:function(e,t){return e=this.getDistXY(e,t),this.vectorLength(e)},getDistXY:function(e,t){var n=e.plotX-t.plotX;return{x:n,y:e=e.plotY-t.plotY,absX:Math.abs(n),absY:Math.abs(e)}}}),t(e,"predraw",function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(e){e.stop()})}),t(e,"render",function(){function e(e){e.maxIterations--&&isFinite(e.temperature)&&!e.isStable()&&!e.enableSimulation&&(e.beforeStep&&e.beforeStep(),e.step(),n=!1,t=!0)}var t=!1;if(this.graphLayoutsLookup){for(o(!1,this),this.graphLayoutsLookup.forEach(function(e){e.start()});!n;){var n=!0;this.graphLayoutsLookup.forEach(e)}t&&this.series.forEach(function(e){e&&e.layout&&e.render()})}}),t(e,"beforePrint",function(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(e){e.updateSimulation(!1)}),this.redraw())}),t(e,"afterPrint",function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(e){e.updateSimulation()}),this.redraw()})}),t(e,"Series/PackedBubble/PackedBubbleComposition.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(e,t,n){var i=t.layouts["reingold-fruchterman"],o=n.addEvent,a=n.extendClass,r=n.pick;e.prototype.getSelectedParentNodes=function(){var e=[];return this.series.forEach(function(t){t.parentNode&&t.parentNode.selected&&e.push(t.parentNode)}),e},t.networkgraphIntegrations.packedbubble={repulsiveForceFunction:function(e,t,n,i){return Math.min(e,(n.marker.radius+i.marker.radius)/2)},barycenter:function(){var e,t,n=this,i=n.options.gravitationalConstant,o=n.box,a=n.nodes;a.forEach(function(r){n.options.splitSeries&&!r.isParentNode?(e=r.series.parentNode.plotX,t=r.series.parentNode.plotY):(e=o.width/2,t=o.height/2),r.fixedPosition||(r.plotX-=(r.plotX-e)*i/(r.mass*Math.sqrt(a.length)),r.plotY-=(r.plotY-t)*i/(r.mass*Math.sqrt(a.length)))})},repulsive:function(e,t,n,i){var o=t*this.diffTemperature/e.mass/e.degree;t=n.x*o,n=n.y*o,e.fixedPosition||(e.plotX+=t,e.plotY+=n),i.fixedPosition||(i.plotX-=t,i.plotY-=n)},integrate:t.networkgraphIntegrations.verlet.integrate,getK:t.noop},t.layouts.packedbubble=a(i,{beforeStep:function(){this.options.marker&&this.series.forEach(function(e){e&&e.calculateParentRadius()})},setCircularPositions:function(){var e,t,n=this,i=n.box,o=n.nodes,a=2*Math.PI/(o.length+1),s=n.options.initialPositionRadius;o.forEach(function(o,l){n.options.splitSeries&&!o.isParentNode?(e=o.series.parentNode.plotX,t=o.series.parentNode.plotY):(e=i.width/2,t=i.height/2),o.plotX=o.prevX=r(o.plotX,e+s*Math.cos(o.index||l*a)),o.plotY=o.prevY=r(o.plotY,t+s*Math.sin(o.index||l*a)),o.dispX=0,o.dispY=0})},repulsiveForces:function(){var e,t,n,i=this,o=i.options.bubblePadding;i.nodes.forEach(function(a){a.degree=a.mass,a.neighbours=0,i.nodes.forEach(function(r){e=0,a===r||a.fixedPosition||!i.options.seriesInteraction&&a.series!==r.series||(n=i.getDistXY(a,r),0>(t=i.vectorLength(n)-(a.marker.radius+r.marker.radius+o))&&(a.degree+=.01,a.neighbours++,e=i.repulsiveForce(-t/Math.sqrt(a.neighbours),i.k,a,r)),i.force("repulsive",a,e*r.mass,n,r,t))})})},applyLimitBox:function(e){if(this.options.splitSeries&&!e.isParentNode&&this.options.parentNodeLimit){var t=this.getDistXY(e,e.series.parentNode),n=e.series.parentNodeRadius-e.marker.radius-this.vectorLength(t);0>n&&n>-2*e.marker.radius&&(e.plotX-=.01*t.x,e.plotY-=.01*t.y)}i.prototype.applyLimitBox.apply(this,arguments)}}),o(e,"beforeRedraw",function(){this.allDataPoints&&delete this.allDataPoints})}),t(e,"Series/PackedBubble/PackedBubbleSeries.js",[e["Core/Color/Color.js"],e["Core/Globals.js"],e["Series/PackedBubble/PackedBubblePoint.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,n,i,o){var a=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=e.parse,s=i.series,l=i.seriesTypes.bubble,c=o.addEvent,d=o.clamp,p=o.defined,m=o.extend,u=o.fireEvent,h=o.isArray,f=o.isNumber,g=o.merge,v=o.pick,y=t.dragNodesMixin;return e=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.chart=void 0,t.data=void 0,t.layout=void 0,t.options=void 0,t.points=void 0,t.xData=void 0,t}return a(n,e),n.prototype.accumulateAllPoints=function(e){var t,n,i=e.chart,o=[];for(t=0;t<i.series.length;t++)if((e=i.series[t]).is("packedbubble")&&e.visible||!i.options.chart.ignoreHiddenSeries)for(n=0;n<e.yData.length;n++)o.push([null,null,e.yData[n],e.index,n,{id:n,marker:{radius:0}}]);return o},n.prototype.addLayout=function(){var e=this.options.layoutAlgorithm,n=this.chart.graphLayoutsStorage,i=this.chart.graphLayoutsLookup,o=this.chart.options.chart;n||(this.chart.graphLayoutsStorage=n={},this.chart.graphLayoutsLookup=i=[]);var a=n[e.type];a||(e.enableSimulation=p(o.forExport)?!o.forExport:e.enableSimulation,n[e.type]=a=new t.layouts[e.type],a.init(e),i.splice(a.index,0,a)),this.layout=a,this.points.forEach(function(e){e.mass=2,e.degree=1,e.collisionNmb=1}),a.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),a.addElementsToCollection([this],a.series),a.addElementsToCollection(this.points,a.nodes)},n.prototype.addSeriesLayout=function(){var e=this.options.layoutAlgorithm,n=this.chart.graphLayoutsStorage,i=this.chart.graphLayoutsLookup,o=g(e,e.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation}),a=n[e.type+"-series"];a||(n[e.type+"-series"]=a=new t.layouts[e.type],a.init(o),i.splice(a.index,0,a)),this.parentNodeLayout=a,this.createParentNodes()},n.prototype.calculateParentRadius=function(){var e=this.seriesBox();this.parentNodeRadius=d(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,e?Math.max(Math.sqrt(Math.pow(e.width,2)+Math.pow(e.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)},n.prototype.calculateZExtremes=function(){var e=this.options.zMin,t=this.options.zMax,n=1/0,i=-1/0;return e&&t?[e,t]:(this.chart.series.forEach(function(e){e.yData.forEach(function(e){p(e)&&(e>i&&(i=e),e<n&&(n=e))})}),[e=v(e,n),t=v(t,i)])},n.prototype.checkOverlap=function(e,t){var n=e[0]-t[0],i=e[1]-t[1];return-.001>Math.sqrt(n*n+i*i)-Math.abs(e[2]+t[2])},n.prototype.createParentNodes=function(){var e,t=this,n=t.chart,i=t.parentNodeLayout,o=t.parentNode,a=t.pointClass;t.parentNodeMass=0,t.points.forEach(function(e){t.parentNodeMass+=Math.PI*Math.pow(e.marker.radius,2)}),t.calculateParentRadius(),i.nodes.forEach(function(n){n.seriesIndex===t.index&&(e=!0)}),i.setArea(0,0,n.plotWidth,n.plotHeight),e||(o||(o=(new a).init(this,{mass:t.parentNodeRadius/2,marker:{radius:t.parentNodeRadius},dataLabels:{inside:!1},dataLabelOnNull:!0,degree:t.parentNodeRadius,isParentNode:!0,seriesIndex:t.index})),t.parentNode&&(o.plotX=t.parentNode.plotX,o.plotY=t.parentNode.plotY),t.parentNode=o,i.addElementsToCollection([t],i.series),i.addElementsToCollection([o],i.nodes))},n.prototype.deferLayout=function(){var e=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),e.splitSeries&&this.addSeriesLayout())},n.prototype.destroy=function(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(function(e){e.removeElementFromCollection(this,e.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),s.prototype.destroy.apply(this,arguments)},n.prototype.drawDataLabels=function(){var e=this.options.dataLabels.textPath,t=this.points;s.prototype.drawDataLabels.apply(this,arguments),this.parentNode&&(this.parentNode.formatPrefix="parentNode",this.points=[this.parentNode],this.options.dataLabels.textPath=this.options.dataLabels.parentNodeTextPath,s.prototype.drawDataLabels.apply(this,arguments),this.points=t,this.options.dataLabels.textPath=e)},n.prototype.drawGraph=function(){if(this.layout&&this.layout.options.splitSeries){var e=this.chart,t=this.layout.options.parentNodeOptions.marker;t={fill:t.fillColor||r(this.color).brighten(.4).get(),opacity:t.fillOpacity,stroke:t.lineColor||this.color,"stroke-width":t.lineWidth};var n=this.visible?"inherit":"hidden";this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",n,.1,e.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius(),n=g({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},t),this.parentNode.graphic||(this.graph=this.parentNode.graphic=e.renderer.symbol(t.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(n)}},n.prototype.drawTracker=function(){var t=this.parentNode;if(e.prototype.drawTracker.call(this),t){var n=h(t.dataLabels)?t.dataLabels:t.dataLabel?[t.dataLabel]:[];t.graphic&&(t.graphic.element.point=t),n.forEach(function(e){e.div?e.div.point=t:e.element.point=t})}},n.prototype.getPointRadius=function(){var e,t,n,i,o=this,a=o.chart,r=o.options,s=r.useSimulation,l=Math.min(a.plotWidth,a.plotHeight),c={},p=[],m=a.allDataPoints;["minSize","maxSize"].forEach(function(e){var t=parseInt(r[e],10),n=/%$/.test(r[e]);c[e]=n?l*t/100:t*Math.sqrt(m.length)}),a.minRadius=e=c.minSize/Math.sqrt(m.length),a.maxRadius=t=c.maxSize/Math.sqrt(m.length);var u=s?o.calculateZExtremes():[e,t];(m||[]).forEach(function(a,r){n=s?d(a[2],u[0],u[1]):a[2],0===(i=o.getRadius(u[0],u[1],e,t,n))&&(i=null),m[r][2]=i,p.push(i)}),o.radii=p},n.prototype.init=function(){return s.prototype.init.apply(this,arguments),this.eventsToUnbind.push(c(this,"updatedData",function(){this.chart.series.forEach(function(e){e.type===this.type&&(e.isDirty=!0)},this)})),this},n.prototype.onMouseUp=function(e){if(e.fixedPosition&&!e.removed){var t,n=this.layout,i=this.parentNodeLayout;i&&n.options.dragBetweenSeries&&i.nodes.forEach(function(i){e&&e.marker&&i!==e.series.parentNode&&(t=n.getDistXY(e,i),0>n.vectorLength(t)-i.marker.radius-e.marker.radius&&(i.series.addPoint(g(e.options,{plotX:e.plotX,plotY:e.plotY}),!1),n.removeElementFromCollection(e,n.nodes),e.remove()))}),y.onMouseUp.apply(this,arguments)}},n.prototype.placeBubbles=function(e){var t,n=this.checkOverlap,i=this.positionBubble,o=[],a=1,r=0,s=0,l=[];if((e=e.sort(function(e,t){return t[2]-e[2]})).length){if(o.push([[0,0,e[0][2],e[0][3],e[0][4]]]),1<e.length)for(o.push([[0,0-e[1][2]-e[0][2],e[1][2],e[1][3],e[1][4]]]),t=2;t<e.length;t++)e[t][2]=e[t][2]||1,n(l=i(o[a][r],o[a-1][s],e[t]),o[a][0])?(o.push([]),s=0,o[a+1].push(i(o[a][r],o[a][0],e[t])),a++,r=0):1<a&&o[a-1][s+1]&&n(l,o[a-1][s+1])?(s++,o[a].push(i(o[a][r],o[a-1][s],e[t])),r++):(r++,o[a].push(l));this.chart.stages=o,this.chart.rawPositions=[].concat.apply([],o),this.resizeRadius(),l=this.chart.rawPositions}return l},n.prototype.positionBubble=function(e,t,n){var i=Math.sqrt,o=Math.asin,a=Math.acos,r=Math.pow,s=Math.abs;return i=i(r(e[0]-t[0],2)+r(e[1]-t[1],2)),a=a((r(i,2)+r(n[2]+t[2],2)-r(n[2]+e[2],2))/(2*(n[2]+t[2])*i)),o=o(s(e[0]-t[0])/i),e=(0>e[1]-t[1]?0:Math.PI)+a+o*(0>(e[0]-t[0])*(e[1]-t[1])?1:-1),[t[0]+(t[2]+n[2])*Math.sin(e),t[1]-(t[2]+n[2])*Math.cos(e),n[2],n[3],n[4]]},n.prototype.render=function(){var e=[];s.prototype.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(function(t){h(t.dataLabels)&&t.dataLabels.forEach(function(t){e.push(t)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(e))},n.prototype.resizeRadius=function(){var e,t,n,i=this.chart,o=i.rawPositions,a=Math.min,r=Math.max,s=i.plotLeft,l=i.plotTop,c=i.plotHeight,d=i.plotWidth,p=e=Number.POSITIVE_INFINITY,m=t=Number.NEGATIVE_INFINITY;for(n=0;n<o.length;n++){var u=o[n][2];p=a(p,o[n][0]-u),m=r(m,o[n][0]+u),e=a(e,o[n][1]-u),t=r(t,o[n][1]+u)}if(a=a.apply([],[(d-s)/(n=[m-p,t-e])[0],(c-l)/n[1]]),1e-10<Math.abs(a-1)){for(n=0;n<o.length;n++)o[n][2]*=a;this.placeBubbles(o)}else i.diffY=c/2+l-e-(t-e)/2,i.diffX=d/2+s-p-(m-p)/2},n.prototype.seriesBox=function(){var e,t=this.chart,n=Math.max,i=Math.min,o=[t.plotLeft,t.plotLeft+t.plotWidth,t.plotTop,t.plotTop+t.plotHeight];return this.data.forEach(function(t){p(t.plotX)&&p(t.plotY)&&t.marker.radius&&(o[0]=i(o[0],t.plotX-(e=t.marker.radius)),o[1]=n(o[1],t.plotX+e),o[2]=i(o[2],t.plotY-e),o[3]=n(o[3],t.plotY+e))}),f(o.width/o.height)?o:null},n.prototype.setVisible=function(){var e=this;s.prototype.setVisible.apply(e,arguments),e.parentNodeLayout&&e.graph?e.visible?(e.graph.show(),e.parentNode.dataLabel&&e.parentNode.dataLabel.show()):(e.graph.hide(),e.parentNodeLayout.removeElementFromCollection(e.parentNode,e.parentNodeLayout.nodes),e.parentNode.dataLabel&&e.parentNode.dataLabel.hide()):e.layout&&(e.visible?e.layout.addElementsToCollection(e.points,e.layout.nodes):e.points.forEach(function(t){e.layout.removeElementFromCollection(t,e.layout.nodes)}))},n.prototype.translate=function(){var e,t=this.chart,n=this.data,i=this.index,o=this.options.useSimulation;if(this.processedXData=this.xData,this.generatePoints(),p(t.allDataPoints)||(t.allDataPoints=this.accumulateAllPoints(this),this.getPointRadius()),o)var a=t.allDataPoints;else a=this.placeBubbles(t.allDataPoints),this.options.draggable=!1;for(e=0;e<a.length;e++)if(a[e][3]===i){var r=n[a[e][4]],s=a[e][2];o||(r.plotX=a[e][0]-t.plotLeft+t.diffX,r.plotY=a[e][1]-t.plotTop+t.diffY),r.marker=m(r.marker,{radius:s,width:2*s,height:2*s}),r.radius=s}o&&this.deferLayout(),u(this,"afterTranslate")},n.defaultOptions=g(l.defaultOptions,{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){return this.point.value},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:1,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}),n}(l),m(e.prototype,{alignDataLabel:s.prototype.alignDataLabel,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,onMouseDown:y.onMouseDown,onMouseMove:y.onMouseMove,pointArrayMap:["value"],pointClass:n,pointValKey:"value",redrawHalo:y.redrawHalo,requireSorting:!1,searchPoint:t.noop,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"]}),i.registerSeriesType("packedbubble",e),e}),t(e,"Extensions/Polar.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Extensions/Pane.js"],e["Core/Pointer.js"],e["Core/Series/Series.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Utilities.js"]],function(e,t,n,i,o,a,r,s,l){var c=e.animObject;r=r.seriesTypes;var d=l.addEvent,p=l.defined,m=l.find,u=l.isNumber,h=l.pick,f=l.splat,g=l.uniqueKey;e=l.wrap;var v=a.prototype;o=o.prototype,v.searchPointByAngle=function(e){var t=this.chart,n=this.xAxis.pane.center;return this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(e.chartX-n[0]-t.plotLeft,e.chartY-n[1]-t.plotTop)})},v.getConnectors=function(e,t,n,i){var o=i?1:0,a=0<=t&&t<=e.length-1?t:0>t?e.length-1+t:0,r=e[t=0>a-1?e.length-(1+o):a-1],s=r.plotX,l=(o=e[o=a+1>e.length-1?o:a+1]).plotX,c=o.plotY;s=(1.5*(o=e[a].plotX)+s)/2.5,r=(1.5*(a=e[a].plotY)+(r=r.plotY))/2.5,l=(1.5*o+l)/2.5;var d=(1.5*a+c)/2.5;c=Math.sqrt(Math.pow(s-o,2)+Math.pow(r-a,2));var p=Math.sqrt(Math.pow(l-o,2)+Math.pow(d-a,2));return s=Math.atan2(r-a,s-o),d=Math.PI/2+(s+Math.atan2(d-a,l-o))/2,Math.abs(s-d)>Math.PI/2&&(d-=Math.PI),s=o+Math.cos(d)*c,r=a+Math.sin(d)*c,o={rightContX:l=o+Math.cos(Math.PI+d)*p,rightContY:d=a+Math.sin(Math.PI+d)*p,leftContX:s,leftContY:r,plotX:o,plotY:a},n&&(o.prevPointCont=this.getConnectors(e,t,!1,i)),o},v.toXY=function(e){var t=this.chart,n=this.xAxis,i=this.yAxis,o=e.plotX,a=e.plotY,r=e.series,s=t.inverted,l=e.y,c=s?o:i.len-a;s&&r&&!r.isRadialBar&&(e.plotY=a="number"==typeof l&&i.translate(l)||0),e.rectPlotX=o,e.rectPlotY=a,i.center&&(c+=i.center[3]/2),i=s?i.postTranslate(a,c):n.postTranslate(o,c),e.plotX=e.polarPlotX=i.x-t.plotLeft,e.plotY=e.polarPlotY=i.y-t.plotTop,this.kdByAngle?(0>(t=(o/Math.PI*180+n.pane.options.startAngle)%360)&&(t+=360),e.clientX=t):e.clientX=e.plotX},r.spline&&(e(r.spline.prototype,"getPointSpline",function(e,t,n,i){return this.chart.polar?i?["C",(e=this.getConnectors(t,i,!0,this.connectEnds)).prevPointCont.rightContX,e.prevPointCont.rightContY,e.leftContX,e.leftContY,e.plotX,e.plotY]:["M",n.plotX,n.plotY]:e.call(this,t,n,i)}),r.areasplinerange&&(r.areasplinerange.prototype.getPointSpline=r.spline.prototype.getPointSpline)),d(a,"afterTranslate",function(){var e=this.chart;if(e.polar&&this.xAxis){if((this.kdByAngle=e.tooltip&&e.tooltip.shared)?this.searchPoint=this.searchPointByAngle:this.options.findNearestPointBy="xy",!this.preventPostTranslate)for(var t=this.points,i=t.length;i--;)this.toXY(t[i]),!e.hasParallelCoordinates&&!this.yAxis.reversed&&t[i].y<this.yAxis.min&&(t[i].isNull=!0);this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(d(this,"afterRender",function(){if(e.polar){var t=this.yAxis.pane.center;this.clipCircle?this.clipCircle.animate({x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2}):this.clipCircle=e.renderer.clipCircle(t[0],t[1],t[2]/2,t[3]/2),this.group.clip(this.clipCircle),this.setClip=n.noop}})))}},{order:2}),e(r.line.prototype,"getGraphPath",function(e,t){var n,i=this;if(this.chart.polar){for(t=t||this.points,n=0;n<t.length;n++)if(!t[n].isNull){var o=n;break}if(!1!==this.options.connectEnds&&void 0!==o){this.connectEnds=!0,t.splice(t.length,0,t[o]);var a=!0}t.forEach(function(e){void 0===e.polarPlotY&&i.toXY(e)})}return n=e.apply(this,[].slice.call(arguments,1)),a&&t.pop(),n});var y=function(e,t){var i,o,a,r,s=this,l=this.chart,d=this.options.animation,p=this.group,m=this.markerGroup,u=this.xAxis.center,f=l.plotLeft,g=l.plotTop;if(l.polar){if(s.isRadialBar)t||(s.startAngleRad=h(s.translatedThreshold,s.xAxis.startAngleRad),n.seriesTypes.pie.prototype.animate.call(s,t));else if(l.renderer.isSVG)if(d=c(d),s.is("column")){if(!t){var v=u[3]/2;s.points.forEach(function(e){a=(o=e.shapeArgs)&&o.r,r=o&&o.innerR,(i=e.graphic)&&o&&(i.attr({r:v,innerR:v}),i.animate({r:a,innerR:r},s.options.animation))})}}else t?(p.attr(e={translateX:u[0]+f,translateY:u[1]+g,scaleX:.001,scaleY:.001}),m&&m.attr(e)):(p.animate(e={translateX:f,translateY:g,scaleX:1,scaleY:1},d),m&&m.animate(e,d))}else e.call(this,t)};if(e(v,"animate",y),r.column){var b=r.arearange.prototype;(r=r.column.prototype).polarArc=function(e,t,n,i){var o=this.xAxis.center,a=this.yAxis.len,r=o[3]/2;return t=a-t+r,e=a-h(e,a)+r,this.yAxis.reversed&&(0>t&&(t=r),0>e&&(e=r)),{x:o[0],y:o[1],r:t,innerR:e,start:n,end:i}},e(r,"animate",y),e(r,"translate",function(e){var t=this.options,n=t.stacking,i=this.chart,o=this.xAxis,a=this.yAxis,r=a.reversed,s=a.center,c=o.startAngleRad,d=o.endAngleRad-c;if(this.preventPostTranslate=!0,e.call(this),o.isRadial){o=(e=this.points).length;var m=a.translate(a.min),h=a.translate(a.max);if(t=t.threshold||0,i.inverted&&u(t)){var f=a.translate(t);p(f)&&(0>f?f=0:f>d&&(f=d),this.translatedThreshold=f+c)}for(;o--;){var g=(t=e[o]).barX,v=t.x,y=t.y;if(t.shapeType="arc",i.inverted){if(t.plotY=a.translate(y),n&&a.stacking){if(y=a.stacking.stacks[(0>y?"-":"")+this.stackKey],this.visible&&y&&y[v]&&!t.isNull){var b=y[v].points[this.getStackIndicator(void 0,v,this.index).key],I=a.translate(b[0]);b=a.translate(b[1]),p(I)&&(I=l.clamp(I,0,d))}}else I=f,b=t.plotY;I>b&&(b=[I,I=b][0]),r?b>m?b=m:I<h?I=h:(I>m||b<h)&&(I=b=d):I<m?I=m:b>h?b=h:(b<m||I>h)&&(I=b=0),a.min>a.max&&(I=b=r?d:0),I+=c,b+=c,s&&(t.barX=g+=s[3]/2),v=Math.max(g,0),y=Math.max(g+t.pointWidth,0),t.shapeArgs={x:s&&s[0],y:s&&s[1],r:y,innerR:v,start:I,end:b},t.opacity=I===b?0:void 0,t.plotY=(p(this.translatedThreshold)&&(I<this.translatedThreshold?I:b))-c}else t.shapeArgs=this.polarArc(t.yBottom,t.plotY,I=g+c,I+t.pointWidth);this.toXY(t),i.inverted?(g=a.postTranslate(t.rectPlotY,g+t.pointWidth/2),t.tooltipPos=[g.x-i.plotLeft,g.y-i.plotTop]):t.tooltipPos=[t.plotX,t.plotY],s&&(t.ttBelow=t.plotY>s[1])}}}),r.findAlignments=function(e,t){return null===t.align&&(t.align=20<e&&160>e?"left":200<e&&340>e?"right":"center"),null===t.verticalAlign&&(t.verticalAlign=45>e||315<e?"bottom":135<e&&225>e?"top":"middle"),t},b&&(b.findAlignments=r.findAlignments),e(r,"alignDataLabel",function(e,t,n,i,o,a){var r=this.chart,s=h(i.inside,!!this.options.stacking);r.polar?(e=t.rectPlotX/Math.PI*180,r.inverted?(this.forceDL=r.isInsidePlot(t.plotX,Math.round(t.plotY),!1),s&&t.shapeArgs?o={x:(o=this.yAxis.postTranslate(((o=t.shapeArgs).start+o.end)/2-this.xAxis.startAngleRad,t.barX+t.pointWidth/2)).x-r.plotLeft,y:o.y-r.plotTop}:t.tooltipPos&&(o={x:t.tooltipPos[0],y:t.tooltipPos[1]}),i.align=h(i.align,"center"),i.verticalAlign=h(i.verticalAlign,"middle")):this.findAlignments&&(i=this.findAlignments(e,i)),v.alignDataLabel.call(this,t,n,i,o,a),this.isRadialBar&&t.shapeArgs&&t.shapeArgs.start===t.shapeArgs.end&&n.hide(!0)):e.call(this,t,n,i,o,a)})}e(o,"getCoordinates",function(e,t){var n=this.chart,i={xAxis:[],yAxis:[]};return n.polar?n.axes.forEach(function(e){var o=e.isXAxis,a=e.center;if("colorAxis"!==e.coll){var r=t.chartX-a[0]-n.plotLeft;a=t.chartY-a[1]-n.plotTop,i[o?"xAxis":"yAxis"].push({axis:e,value:e.translate(o?Math.PI-Math.atan2(r,a):Math.sqrt(Math.pow(r,2)+Math.pow(a,2)),!0)})}}):i=e.call(this,t),i}),s.prototype.clipCircle=function(e,t,n,i){var o=g(),a=this.createElement("clipPath").attr({id:o}).add(this.defs);return(e=i?this.arc(e,t,n,i,0,2*Math.PI).add(a):this.circle(e,t,n).add(a)).id=o,e.clipPath=a,e},d(t,"getAxes",function(){this.pane||(this.pane=[]),f(this.options.pane).forEach(function(e){new i(e,this)},this)}),d(t,"afterDrawChartBox",function(){this.pane.forEach(function(e){e.render()})}),d(a,"afterInit",function(){var e=this.chart;e.inverted&&e.polar&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0))}),e(t.prototype,"get",function(e,t){return m(this.pane||[],function(e){return e.options.id===t})||e.call(this,t)})}),t(e,"masters/highcharts-more.src.js",[],function(){})},e.exports?(a.default=a,e.exports=a):(i=[n("6n/F")],void 0===(o=(function(e){return a(e),a.Highcharts=e,a}).apply(t,i))||(e.exports=o))},MEae:function(e,t,n){"use strict";n.d(t,"a",function(){return A});var i=n("fXoL"),o=n("myoa"),a=n("AytR"),r=n("kmKP"),s=n("IyfZ"),l=n("tyNb"),c=n("ofXK"),d=n("1kSV"),p=n("enax"),m=n("D7eP"),u=n("CzEO"),h=n("SdWN"),f=n("0mlJ");function g(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",12),i["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),i["\u0275\u0275elementStart"](1,"button",13),i["\u0275\u0275element"](2,"span",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"ul",15),i["\u0275\u0275elementStart"](4,"li"),i["\u0275\u0275elementStart"](5,"a",16),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).onEdit()}),i["\u0275\u0275text"](6,"Edit"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"li"),i["\u0275\u0275elementStart"](8,"a",16),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).onDelete()}),i["\u0275\u0275text"](9,"Delete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function v(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"app-link-preview",19),i["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("linkUrl",e.discussion.urlLinks[e.discussion.urlLinks.length-1])}}function y(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",17),i["\u0275\u0275elementStart"](1,"p"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"app-image-layout",18),i["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,v,2,1,"ng-container",10),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.discussion.discussionBody?null:e.discussion.discussionBody.trim())||(null==e.discussion.discussionTopic?null:e.discussion.discussionTopic.trim())),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("images",e.galleryFiles)("files",e.files)("editable",!1),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!(null!=e.galleryFiles&&e.galleryFiles.length)&&(null==e.discussion.urlLinks?null:e.discussion.urlLinks.length))}}function b(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"app-link-preview",19),i["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("linkUrl",e.discussion.urlLinks[e.discussion.urlLinks.length-1])}}function I(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"div",17),i["\u0275\u0275elementStart"](2,"p"),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"app-image-layout",20),i["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,b,2,1,"ng-container",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"]((null==e.discussion.discussionBody?null:e.discussion.discussionBody.trim())||(null==e.discussion.discussionTopic?null:e.discussion.discussionTopic.trim())),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("hideImageView",e.hideImageView)("images",e.galleryFiles)("files",e.files)("editable",!1),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!(null!=e.galleryFiles&&e.galleryFiles.length)&&(null==e.discussion.urlLinks?null:e.discussion.urlLinks.length))}}function x(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"a",26),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](3).onNavigate()}),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.discussion.comments||0," ")}}function S(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",21),i["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),i["\u0275\u0275elementStart"](1,"div",22),i["\u0275\u0275template"](2,x,2,1,"a",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",24),i["\u0275\u0275elementStart"](4,"a",25),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).likeDiscussion()}),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!0!==e.isComment),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",e.discussion.likes||0," ")}}function C(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onNavigate()}),i["\u0275\u0275elementStart"](1,"span",3),i["\u0275\u0275element"](2,"img",4),i["\u0275\u0275pipe"](3,"avatar"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"h2",5),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"span",6),i["\u0275\u0275text"](7),i["\u0275\u0275pipe"](8,"date"),i["\u0275\u0275pipe"](9,"dateObject"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"div",7),i["\u0275\u0275template"](11,g,10,0,"div",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](12,y,5,5,"div",9),i["\u0275\u0275template"](13,I,6,6,"div",10),i["\u0275\u0275template"](14,S,6,2,"div",11),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("border-bottom-0",e.hideBorder),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",i["\u0275\u0275pipeBind1"](3,10,null==e.discussion?null:e.discussion.profilePhoto),i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate2"](" ",e.discussion.firstName," ",e.discussion.surname," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](8,12,i["\u0275\u0275pipeBind1"](9,15,e.discussion.dateCreated),"dd MMM, yyyy")),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",e.discussion.discussionCreatedByContactID===e.contactID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.regularList),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.regularList),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.hideLikeAndComment)}}function D(e,t){if(1&e&&i["\u0275\u0275element"](0,"quill-view-html",38),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("content",(null==e.discussion.discussionBody?null:e.discussion.discussionBody.trim())||(null==e.discussion.discussionTopic?null:e.discussion.discussionTopic.trim()))}}function w(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.discussion.discussionValue?"Logged subsidy amount":"Approved the request"," ")}}function k(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Uploaded an invoice"),i["\u0275\u0275elementContainerEnd"]())}function E(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Declined the request"),i["\u0275\u0275elementContainerEnd"]())}function M(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"p",39),i["\u0275\u0275template"](1,w,2,1,"ng-container",10),i["\u0275\u0275template"](2,k,2,0,"ng-container",10),i["\u0275\u0275template"](3,E,2,0,"ng-container",10),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",8===e.discussion.discussionCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",7===e.discussion.discussionCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",9===e.discussion.discussionCategoryID)}}function O(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"app-link-preview",19),i["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("linkUrl",e.discussion.urlLinks[e.discussion.urlLinks.length-1])}}function P(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",12),i["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),i["\u0275\u0275elementStart"](1,"button",40),i["\u0275\u0275element"](2,"span",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"ul",15),i["\u0275\u0275elementStart"](4,"li"),i["\u0275\u0275elementStart"](5,"a",16),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).onEdit()}),i["\u0275\u0275text"](6,"Edit"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"li"),i["\u0275\u0275elementStart"](8,"a",16),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).onDelete()}),i["\u0275\u0275text"](9,"Delete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function T(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",27),i["\u0275\u0275element"](1,"img",28),i["\u0275\u0275pipe"](2,"avatar"),i["\u0275\u0275elementStart"](3,"div",29),i["\u0275\u0275elementStart"](4,"div",30),i["\u0275\u0275elementStart"](5,"div",31),i["\u0275\u0275elementStart"](6,"span",32),i["\u0275\u0275text"](7),i["\u0275\u0275elementStart"](8,"span",33),i["\u0275\u0275text"](9),i["\u0275\u0275pipe"](10,"date"),i["\u0275\u0275pipe"](11,"dateObject"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](12,D,1,1,"quill-view-html",34),i["\u0275\u0275template"](13,M,4,3,"p",35),i["\u0275\u0275template"](14,O,2,1,"ng-container",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"div",36),i["\u0275\u0275template"](16,P,10,0,"div",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"app-image-layout",37),i["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("src",i["\u0275\u0275pipeBind1"](2,12,e.discussion.profilePhoto),i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate2"](" ",e.discussion.firstName," ",e.discussion.surname," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("- ",i["\u0275\u0275pipeBind2"](10,14,i["\u0275\u0275pipeBind1"](11,17,e.discussion.dateCreated),"dd MMM yyyy"),""),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",e.discussion.discussionBody||e.discussion.discussionTopic),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.discussion.discussionBody&&!e.discussion.discussionTopic&&e.supportTask),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!(null!=e.galleryFiles&&e.galleryFiles.length)&&(null==e.discussion.urlLinks?null:e.discussion.urlLinks.length)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.discussion.discussionCreatedByContactID===e.contactID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("images",e.galleryFiles)("files",e.files)("hideImageView",e.hideImageView)("editable",!1)}}let A=(()=>{class e{constructor(e,t,n){var o;this.userService=e,this.likeService=t,this.router=n,this.canPreview=!0,this.regularList=!0,this.isComment=!1,this.hideLikeAndComment=!1,this.hideBorder=!1,this.edit=new i.EventEmitter,this.delete=new i.EventEmitter,this.like=new i.EventEmitter,this.dislike=new i.EventEmitter,this.galleryFiles=[],this.documents=[],this.files=[],this.apiBlobUrl=a.a.apiBlobUrl+"/",this.user=this.userService.user.getValue(),this.contactID=(null===(o=this.user)||void 0===o?void 0:o.contactID)||0}ngOnInit(){if(console.log("\ud83d\ude80 > NewsItemComponent > ngOnInit > this.discussion",this.discussion),this.galleryFiles=this.getGalleryFiles(this.discussion.documents),this.documents=this.discussion.documents.filter(e=>!o.b.isGalleryDocument(e)).map(e=>Object.assign(Object.assign({},e),{documentPath:this.apiBlobUrl+e.documentPath})),this.files=this.documents.map(e=>this.getFile(e)),this.discussion&&this.discussion.discussionTopic){const e=this.discussion.discussionTopic.match(o.a);e&&(this.discussion.urlLinks=e.map(e=>e.trim()))}this.discussion&&this.likeService.getLike({likeCategoryID:2,referenceID:this.discussion.discussionID,contactID:this.contactID}).subscribe(e=>{this.likesList=e;let t=this.likesList.findIndex(e=>e.contactID===this.contactID);-1===t?this.isLike=!1:(this.isLike=!0,this.sessionLikeId=this.likesList[t].likeID)})}onDelete(){this.delete.emit(!0)}onEdit(){this.edit.emit(!0)}likeDiscussion(){this.contactID&&void 0!==this.isLike&&(!1===this.isLike?(this.like.emit(!0),this.isLike=!0,this.likeService.createLike({contactID:this.user.contactID,likeTypeID:0,referenceID:this.discussion.discussionID,likeCategoryID:2}).subscribe(e=>{this.sessionLikeId=e.inOut_LikeID},e=>console.log("Error",e))):(this.dislike.emit(!0),this.isLike=!1,this.likeService.deleteLike(this.sessionLikeId).subscribe(e=>{this.sessionLikeId=void 0},e=>console.log("Error",e))))}getGalleryFiles(e){return e.filter(e=>o.b.isGalleryDocument(e)).map(e=>{const t=o.b.isVideoDocument(e)?{videoUrl:this.apiBlobUrl+e.documentPath}:{imageUrl:`${this.apiBlobUrl}1024px/${e.documentPath}`};return Object.assign({id:e.documentID,documentPath:e.documentPath,data:t,type:e.documentType,progress:100},e)})}getFile(e){return Object.assign({id:e.documentID,documentPath:e.documentPath,data:{name:e.documentTitle},type:e.documentType,progress:100,fakeId:e.documentID},e)}onNavigate(){this.contactID&&this.canPreview&&this.router.navigate(["/discussion/preview",this.discussion.discussionID])}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.a),i["\u0275\u0275directiveInject"](s.a),i["\u0275\u0275directiveInject"](l.c))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-news-item"]],inputs:{discussion:"discussion",canPreview:"canPreview",regularList:"regularList",isComment:"isComment",hideLikeAndComment:"hideLikeAndComment",hideBorder:"hideBorder",newUI:"newUI",supportTask:"supportTask",hideImageView:"hideImageView"},outputs:{edit:"edit",delete:"delete",like:"like",dislike:"dislike"},decls:2,vars:2,consts:[["class","entry",3,"border-bottom-0","click",4,"ngIf"],["class","d-flex new-comment-ui pl-3 pr-3 pt-2 pb-2",4,"ngIf"],[1,"entry",3,"click"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","Profile Photo",1,"img-fluid","img-48","cover",3,"src"],[1,"inline"],[1,"meta"],[1,"actions"],["ngbDropdown","","class","dropdown",3,"click",4,"ngIf"],["class","entry-content",4,"ngIf"],[4,"ngIf"],["class","entry-feedback",3,"click",4,"ngIf"],["ngbDropdown","",1,"dropdown",3,"click"],["type","button","id","dd1","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-light","btn-30"],[1,"ico","dots-ico"],["aria-labelledby","dd1","ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["ngbDropdownItem","",1,"dropdown-item",3,"click"],[1,"entry-content"],[1,"w-100",3,"images","files","editable","click"],[1,"w-100",3,"linkUrl","click"],[1,"w-100",3,"hideImageView","images","files","editable","click"],[1,"entry-feedback",3,"click"],[1,"comments"],["class","comment-ico ico",3,"click",4,"ngIf"],[1,"likes"],[1,"heart-ico","ico",3,"click"],[1,"comment-ico","ico",3,"click"],[1,"d-flex","new-comment-ui","pl-3","pr-3","pt-2","pb-2"],["alt","profile photo",1,"img-40","img-border","rounded-border","mr-2",3,"src"],[1,"d-flex","flex-column","w-100","align-items-start"],[1,"d-flex"],[1,"comment-card"],[1,"full-name"],[1,"meta","font-weight-normal"],[3,"content",4,"ngIf"],["class","pre-line mb-1",4,"ngIf"],[1,"actions","ml-2"],[1,"w-100",3,"images","files","hideImageView","editable","click"],[3,"content"],[1,"pre-line","mb-1"],["type","button","id","d","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-light","btn-30"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,C,15,17,"div",0),i["\u0275\u0275template"](1,T,18,19,"div",1)),2&e&&(i["\u0275\u0275property"]("ngIf",!t.newUI),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.newUI))},directives:[c.n,d.i,d.m,d.k,d.j,p.a,m.a,u.c],pipes:[h.a,c.e,f.a],styles:[".img-48[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:30px;border:1px solid #dfdfdf}.new-comment-ui[_ngcontent-%COMP%]{display:flex;width:100%}.new-comment-ui[_ngcontent-%COMP%]:hover   .actions[_ngcontent-%COMP%]{opacity:1}.new-comment-ui[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{opacity:0}.new-comment-ui[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .ico[_ngcontent-%COMP%]{filter:grayscale(1);opacity:.8}@media (max-width:1024px){.new-comment-ui[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{opacity:1!important}}  quill-view-html .quill-editor{padding-left:0;padding-right:0;font-size:15px}"]}),e})()},MNGV:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("p+bo"),o=n("FddC");let a=(()=>{class e{static taskStatusName(t){switch(t){case e.NOT_STARTED:return"Not started";case e.DECLINED:case e.IN_PROGRESS:return"In Progress";case e.PENDING_REVIEW:return"Pending Sign-off";case e.ACCEPTED:return"Completed"}}static isOpen(t){return t===e.IN_PROGRESS||t===e.NOT_STARTED||t===e.DECLINED}}return e.NOT_STARTED=1,e.IN_PROGRESS=5,e.PENDING_REVIEW=2,e.ACCEPTED=3,e.DECLINED=4,e})(),r=(()=>{class e{static statusName(t){switch(t){case e.OPEN:return"Open";case e.CLOSED:return"Closed"}}}return e.OPEN=1,e.CLOSED=2,e})();class s{constructor(e){if(this.taskID=null,this.taskTitle="",this.taskDescription=null,this.startDate=null,this.endDate=null,this.contactID=null,this.taskStatusID=null,this.taskStatusID1=null,this.dateNotified=null,this.taskValue=null,this.taskCategoryID=null,this.referenceID=null,this.autoSignOff=null,this.taskModeID=null,this.dateAssigned=null,this.submittedBy=null,this.parentTaskID=null,this.parentTaskTitle=null,this.url=null,this.documentFolderID=null,this.taskClassificationID=null,this.taskTypeID=null,this.subReferenceID=null,this.index=null,this.taskOwnerID=null,this.taskSupporterID=null,this.formID=null,this.taskOwnerReferenceID=null,this.formName=null,this.taskOwners=[],this.taskSupporters=[],this.inOut_TaskID=null,this.completedCount=0,this.pendingCount=0,this.underWayCount=0,this.overdueCount=0,this.tempKey=null,this.companyName=null,this.companyID=null,this.totalScore=0,this.totalMaxScore=0,this.scopeID=null,this.flagged=null,this.dateSentForSignOff=null,this.companyLogo=null,this.formTypeID=null,this.taskBudget=null,this.taskSignOffCondition=null,this.supporterCompanyID=null,this.supporterCompanyName=null,this.unreadMessageCount=null,this.lastUpdatePosted=null,this.DATE_TIME_FIELD=["startDate","endDate"],e){const t=this;for(const n of Object.keys(e))t.hasOwnProperty(n)&&(t[n]=-1!==t.DATE_TIME_FIELD.indexOf(n)?e[n]?new Date(e[n]):null:"taskOwners"===n?e[n].map(e=>new i.a(e)):"taskSupporters"===n?e[n].map(e=>new o.a(e)):e[n])}}get overallStatus(){return this.taskOwners.length&&this.taskOwners.filter(e=>e.taskStatusID===a.ACCEPTED||e.taskStatusID===a.PENDING_REVIEW).length==this.taskOwners.length?r.CLOSED:r.OPEN}get overallStatusName(){return r.statusName(this.overallStatus)}get taskStatusColor(){return this.overallStatus===r.OPEN?"yellow":"green"}get isAutoSignOff(){return!this.taskSupporters.length||this.autoSignOff}isNew(e){if(!this.taskOwners.length)return!1;const t=this.taskOwners.find(t=>t.contactID===e);return!!t&&!t.viewed}get taskOwner(){return this.taskOwners.find(e=>this.taskOwnerID===e.taskOwnerID)}updateID(e){return this.taskID=e.inOut_TaskID,this}filterByStatus(e){return this.taskOwners.filter(t=>t.taskStatusID===e)}}},MkmW:function(e,t,n){"use strict";t.hostReportError=function(e){setTimeout(function(){throw e},0)}},Mxlh:function(e,t,n){"use strict";t.ObjectUnsubscribedError=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},OOVy:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("xgIS"),o=n("Kj3r"),a=n("/uUt"),r=n("lJxs"),s=n("fXoL"),l=n("skrp");let c=(()=>{class e{constructor(e,t){this.hostElement=e,this.linkService=t,this.LINK_DETECTION_REGEX=/(([a-z]+:\/\/)?(([a-z0-9\-]+\.)+([a-z]{2}|aero|arpa|biz|com|coop|edu|gov|info|int|jobs|mil|museum|name|nato|net|org|pro|travel|local|internal))(:[0-9]{1,5})?(\/[a-z0-9_\-\.~]+)*(\/([a-z0-9_\-\.]*)(\?[a-z0-9+_\-\.%=&amp;]*)?)?(#[a-zA-Z0-9!$&'()*+.=-_~:@/?]*)?)(\s+|$)/gi}ngOnInit(){Object(i.a)(this.hostElement.nativeElement,"input").pipe(Object(o.a)(1e3),Object(a.a)(),Object(r.a)(e=>e.target.value.match(this.LINK_DETECTION_REGEX))).subscribe(e=>{this.linkService.getLinksSubject.next(e||[])})}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](l.a))},e.\u0275dir=s["\u0275\u0275defineDirective"]({type:e,selectors:[["","appExtractLinks",""]]}),e})()},OZf9:function(e,t,n){"use strict";var i,o=n("ILaC"),a=n("mkut"),r=n("5WsY"),s=(i=function(e,t){return e&&function(e,t,n){for(var i=-1,o=Object(e),a=n(e),r=a.length;r--;){var s=a[++i];if(!1===t(o[s],s,o))break}return e}(e,t,a.a)},function(e,t){if(null==e)return e;if(!Object(r.a)(e))return i(e,t);for(var n=e.length,o=-1,a=Object(e);++o<n&&!1!==t(a[o],o,a););return e}),l=function(e){return e},c=n("/1FC");t.a=function(e,t){return(Object(c.a)(e)?o.a:s)(e,"function"==typeof(n=t)?n:l);var n}},OzGw:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var i=n("fXoL"),o=n("1kSV"),a=n("ofXK");function r(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"h3"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("Confirm ",e.objectType," deletion")}}function s(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"h3"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.objectType)}}function l(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"label"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("Are you sure you want to delete ",e.objectDetails,"? ")}}function c(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"label"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.objectDetails)}}function d(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275elementStart"](1,"div",3),i["\u0275\u0275template"](2,r,2,1,"h3",1),i["\u0275\u0275template"](3,s,2,1,"h3",1),i["\u0275\u0275template"](4,l,2,1,"label",1),i["\u0275\u0275template"](5,c,2,1,"label",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"button",5),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onSelect("No")}),i["\u0275\u0275text"](8," No "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"button",6),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onSelect("Yes")}),i["\u0275\u0275text"](10," Yes "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!e.customConfirm),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.customConfirm),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.customConfirm),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.customConfirm)}}function p(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",7),i["\u0275\u0275elementStart"](2,"h5",8),i["\u0275\u0275text"](3," Contacts import options "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",9),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().dismiss()}),i["\u0275\u0275elementStart"](5,"span",10),i["\u0275\u0275text"](6,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",11),i["\u0275\u0275elementStart"](8,"p"),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"p",12),i["\u0275\u0275text"](11,"- Append the new contacts to the list"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"p",13),i["\u0275\u0275text"](13,"- Replace current list with the new contacts"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"div",14),i["\u0275\u0275elementStart"](15,"button",5),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onSelect(!1)}),i["\u0275\u0275text"](16," Append "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"button",6),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onSelect(!0)}),i["\u0275\u0275text"](18," Replace "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](9),i["\u0275\u0275textInterpolate1"](" You've already added ",e.contactsNumber," contacts - please confirm how you'd like to proceed: ")}}let m=(()=>{class e{constructor(e){this.ngbActiveModal=e}ngOnInit(){}onSelect(e){this.ngbActiveModal.close(e)}dismiss(){this.ngbActiveModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-confirm-modal"]],decls:2,vars:2,consts:[["class","p-3",4,"ngIf"],[4,"ngIf"],[1,"p-3"],[1,"mb-3"],[1,"text-right"],[1,"btn","btn-outline-primary",3,"click"],[1,"btn","btn-primary","ml-2",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","d-flex","flex-column"],[1,"mb-0"],[1,"mb-4"],[1,"form-group","mt-4","text-right"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,d,11,4,"div",0),i["\u0275\u0275template"](1,p,19,1,"ng-container",1)),2&e&&(i["\u0275\u0275property"]("ngIf",!t.excelContact),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.excelContact))},directives:[a.n],styles:[""]}),e})()},PCNd:function(e,t,n){"use strict";n.d(t,"a",function(){return x});var i=n("ofXK"),o=n("3Pt+"),a=n("1kSV"),r=n("w4ga"),s=n("oAWB"),l=n("j4PG"),c=n("fXoL");let d=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,o.l,o.z,l.a,a.q]]}),e})(),p=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,o.l,o.z,l.a,a.q]]}),e})();var m=n("pr+S");let u=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,o.l,o.z,l.a,a.F,a.q,m.a]]}),e})();var h=n("UWWY"),f=n("GKkB"),g=n("4Ptv"),v=n("ZLSo"),y=n("sYmb"),b=n("4TQh"),I=n("/ogr");let x=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,o.z,o.l,m.a,f.a,r.b,l.a,v.a,a.q,g.a,u,s.a,d,p,h.a,a.F,y.b,b.a,I.a,a.v],m.a,f.a,l.a,g.a,u,s.a,d,p,b.a]}),e})()},Q1FS:function(e,t,n){"use strict";var i=n("yx2s"),o=n("Xwq/"),a=n("zfKp"),r=n("9AGB"),s=n("n3uD");function l(e){if(e||(e=s.config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}t.Observable=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i=this.operator,a=o.toSubscriber(e,t,n);if(a.add(i?i.call(a,this.source):this.source||s.config.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),s.config.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){s.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),i.canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=l(t))(function(t,i){var o;o=n.subscribe(function(t){try{e(t)}catch(n){i(n),o&&o.unsubscribe()}},i,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[a.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:r.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=l(e))(function(e,n){var i;t.subscribe(function(e){return i=e},function(e){return n(e)},function(){return e(i)})})},e.create=function(t){return new e(t)},e}()},QF1F:function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{constructor(){this.status="uploading"}}},Rarl:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("fXoL");let o=(()=>{class e{transform(e,t=2){if(0===e)return"0 Bytes";const n=0>t?0:t,i=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,i)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][i]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"fileSize",type:e,pure:!0}),e})()},SCsZ:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("fXoL"),o=n("tk/3");let a=(()=>{class e{constructor(e){this.httpClient=e,this.BaseURI="https://api.incubatorportal.com/api"}getSentiments(e,t=0,n=0,i=0,o=0,a=0,r=0,s=0,l=0){const c={ContactID:e,ProgramIntanceID:t,CompanyID:n,CompanyLocationID:i,SentimentCategoryID:o,ReferenceID:a,CreatedByCompanyID:r,CreatedByContactID:s,SentimentID:l},d=Object.keys(c).map(e=>`${e}=${c[e]}`).join("&");return this.httpClient.get(`${this.BaseURI}/sentiment?${d}`)}addSentiment(e){return this.httpClient.post(this.BaseURI+"/sentiment",e)}updateSentiment(e){return this.httpClient.put(this.BaseURI+"/sentiment",e)}deleteSentiment(e){return this.httpClient.delete(`${this.BaseURI}/sentiment/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](o.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},SL35:function(e,t,n){"use strict";n.d(t,"a",function(){return re});var i=n("BoU9"),o=n("eIep"),a=n("1G5W"),r=n("lJxs"),s=n("LRne"),l=n("cp0P"),c=n("XNiG"),d=n("6lqT"),p=n("tk/3"),m=n("AytR"),u=n("KJJU"),h=n("myoa"),f=n("yjI1"),g=n("Wgwc"),v=n("BN3N"),y=n("fXoL"),b=n("XAmU"),I=n("esnG"),x=n("WhH8"),S=n("1kSV"),C=n("skrp"),D=n("kmKP"),w=n("3Pt+"),k=n("ofXK"),E=n("Jn3s"),M=n("5eqV"),O=n("OOVy"),P=n("iHql"),T=n("enax"),A=n("D7eP"),_=n("SdWN"),F=n("m+qv");function R(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"h6",28),y["\u0275\u0275text"](1,"Create Post"),y["\u0275\u0275elementEnd"]())}function L(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"h6",28),y["\u0275\u0275text"](1,"Update Post"),y["\u0275\u0275elementEnd"]())}function V(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,R,2,0,"h6",27),y["\u0275\u0275template"](2,L,2,0,"h6",27),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!e.editing),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.editing)}}function j(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"h6",28),y["\u0275\u0275text"](1," Post Status Update "),y["\u0275\u0275elementEnd"]())}function B(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275text"](1),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.logSubsidyAmount?"Log Subsidy Amount":"Accept Subsidy Request"," ")}}function N(e,t){1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275text"](1,"Decline Subsidy Request"),y["\u0275\u0275elementContainerEnd"]())}function U(e,t){1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275text"](1,"Upload Invoice"),y["\u0275\u0275elementContainerEnd"]())}function G(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"h6",28),y["\u0275\u0275template"](1,B,2,1,"ng-container",3),y["\u0275\u0275template"](2,N,2,0,"ng-container",3),y["\u0275\u0275template"](3,U,2,0,"ng-container",3),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",8===e.discussionCategoryID),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",9===e.discussionCategoryID),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",7===e.discussionCategoryID)}}function $(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,j,2,0,"h6",27),y["\u0275\u0275template"](2,G,4,3,"h6",27),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!e.supportTask),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.supportTask)}}function H(e,t){1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275text"](1," Entire Ecosystem "),y["\u0275\u0275elementContainerEnd"]())}function q(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275text"](1),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.audience.network," ")}}function z(e,t){1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275text"](1," My connections "),y["\u0275\u0275elementContainerEnd"]())}function W(e,t){1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275text"](1," My Team "),y["\u0275\u0275elementContainerEnd"]())}function X(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275text"](1),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" Applicants - ",e.audience.opportunity," ")}}const Y=function(){return[2,3,4]};function K(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span",29),y["\u0275\u0275template"](1,H,2,0,"ng-container",3),y["\u0275\u0275template"](2,q,2,1,"ng-container",3),y["\u0275\u0275template"](3,z,2,0,"ng-container",3),y["\u0275\u0275template"](4,W,2,0,"ng-container",3),y["\u0275\u0275template"](5,X,2,1,"ng-container",3),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1===e.audience.discussionAudienceCategoryID),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",y["\u0275\u0275pureFunction0"](5,Y).includes(e.audience.discussionAudienceCategoryID)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",5===e.audience.discussionAudienceCategoryID),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",6===e.audience.discussionAudienceCategoryID),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",7===e.audience.discussionAudienceCategoryID)}}function Q(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",30),y["\u0275\u0275elementStart"](1,"label",31),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"userCurrency"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"input",32),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().discussion.discussionValue=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" Confirm Subsidy Amount ",y["\u0275\u0275pipeBind1"](3,2,"")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.discussion.discussionValue)}}function J(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",33),y["\u0275\u0275text"](1,"This field is required"),y["\u0275\u0275elementEnd"]())}function Z(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"app-link-preview",35),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("linkUrl",e.discussion.urlLinks[e.discussion.urlLinks.length-1])}}function ee(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,Z,2,1,"ng-container",3),y["\u0275\u0275elementStart"](2,"app-image-layout",34),y["\u0275\u0275listener"]("handleRemoveImage",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onRemoveFile(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!e.getGalleryFiles(e.discussion.documents).length&&(null==e.discussion||null==e.discussion.urlLinks?null:e.discussion.urlLinks.length)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("images",e.getGalleryFiles(e.discussion.documents))("editable",!0)("files",e.getNoneGalleryFiles(e.discussion.documents))}}function te(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"ngb-alert",36),y["\u0275\u0275text"](1,"Your post is being created "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("dismissible",!1)}function ne(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"ul",40),y["\u0275\u0275elementStart"](1,"li",41),y["\u0275\u0275elementStart"](2,"div",42),y["\u0275\u0275elementStart"](3,"span",43),y["\u0275\u0275text"](4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](5,"ngb-progressbar",44),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"button",45),y["\u0275\u0275listener"]("click",function(){y["\u0275\u0275restoreView"](e);const n=t.$implicit,i=y["\u0275\u0275nextContext"]().$implicit;return y["\u0275\u0275nextContext"](2).onRemoveProgressFile(i,n)}),y["\u0275\u0275text"](7),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](e.data.name),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("value",e.progress)("showValue",!0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("disabled",100===e.progress&&n.isLoading),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](n.isLoading?"Cancel":"Delete")}}function ie(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,ne,8,5,"ul",39),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",n.getFile(e))}}function oe(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",37),y["\u0275\u0275template"](1,ie,2,1,"ng-container",38),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.discussion.documents)}}function ae(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",46),y["\u0275\u0275element"](1,"div",47),y["\u0275\u0275elementEnd"]())}let re=(()=>{class e{constructor(e,t,n,o,a,r,s){this.discussionService=e,this.documentService=t,this.contactService=n,this.ngbModal=o,this.activeModel=a,this.linkService=r,this.userService=s,this.discussion=new i.a,this.contacts=[],this.members=[],this.editing=!1,this.totalContactSharing=0,this.isLoading=!1,this.showSpinner=!1,this.currentUser=new u.a,this.fakeId=0,this.unsubscribe=[],this.documentsWillRemove=[],this.discussionCategoryID=2,this.audience={discussionAudienceCategoryID:1,referenceID:0,network:"",opportunity:""},this.parentDiscussionID=0,this.currentUser=this.userService.user.getValue(),this.audience.referenceID=this.currentUser.companyID||0}ngOnInit(){this.editing=this.discussion.discussionID>0,this.discussion.urlLinks=this.discussion.urlLinks||[],this.linkService.getLinksSubject.subscribe(e=>{this.discussion.urlLinks=e}),this.getContacts(),this.editing&&!this.taskOwner&&this.getAudience(this.discussion.discussionID)}getContacts(){this.taskOwner||this.contactService.getContactConnect(0,this.currentUser.contactID,0,0,"0",1,1e3).subscribe(e=>{e&&(this.contacts=e,this.editing&&this.getMembers())})}getMembers(){this.discussionService.getAllMembers(this.discussion.discussionID).subscribe(e=>{e&&(this.members=e,this.contacts.forEach(e=>{e.selected=this.members.some(t=>t.contactID===e.contactID)}),this.calculateContactSharing())})}onSubmit(){this.showSpinner=!0,this.isLoading=!0,this.editing?this.updateDiscussion():this.createDiscussion()}updateDiscussion(){const e=Object.assign(Object.assign({},this.discussion),{documents:null});this.discussionService.updateDiscussion(e).pipe(Object(o.a)(()=>{this.saveMembers();const e=this.documentsWillRemove.map(e=>this.documentService.deleteDocument(e)),t=e&&e.length?e:Object(s.a)([]),n=Object(l.a)(t),i=this.discussion.documents.filter(e=>!e.documentID);return this.targetAudience?this.targetAudience.referenceID===this.audience.referenceID&&this.targetAudience.discussionAudienceCategoryID===this.audience.discussionAudienceCategoryID||(this.targetAudience.referenceID=this.audience.referenceID,this.targetAudience.discussionAudienceCategoryID=this.audience.discussionAudienceCategoryID,this.updateAudience()):this.createAudience(this.discussion.discussionID),Object(l.a)([this.saveDocuments(this.discussion.discussionID,i),n])})).subscribe(([e])=>{this.discussion.documents||(this.discussion.documents=[]),this.discussion.documents=this.discussion.documents.filter(e=>e.documentID),e&&e.length&&this.discussion.documents.push(...e),this.discussion.documents=this.discussion.documents.filter(e=>e),this.activeModel.close(this.discussion)})}createDiscussion(){this.discussion.discussionCreatedByContactID=this.currentUser.contactID,this.discussion.referenceID=this.referenceID||0,this.discussion.discussionCategoryID=this.discussionCategoryID||12,this.discussion.isDirectMessage=!1,this.discussion.parentDiscussionID=this.parentDiscussionID;const e=Object.assign(Object.assign({},this.discussion),{documents:null});this.discussionService.insertDiscussion(e).subscribe(e=>{this.discussion.discussionID=e.inOut_DiscussionID,this.discussion.firstName=this.currentUser.firstName,this.discussion.surname=this.currentUser.surname,this.discussion.dateCreated=g().utc().format(v.c),this.createAudience(this.discussion.discussionID),this.saveMembers(),this.saveDocuments(this.discussion.discussionID,this.discussion.documents).subscribe(e=>{this.discussion.documents=e.filter(e=>e),this.activeModel.close(this.discussion)})})}saveDocuments(e,t){return t&&0!==t.length?Object(l.a)(t.map((t,n)=>{const i=new FormData;return i.append("file",t.file.data),this.unsubscribe.push({id:t.file.fakeId,sub:new c.a}),this.documentService.insertDocument(i,22,e,+localStorage.getItem("CoID"),0,0).pipe(Object(a.a)(this.unsubscribe[n].sub),Object(r.a)(e=>{switch(e.type){case p.e.UploadProgress:this.showSpinner=!1,t.file.progress=Math.round(100*e.loaded/e.total);break;case p.e.Response:return e.body[0]}}))})):Object(s.a)([])}onUploadFile(e){this.discussion.documents=this.discussion.documents||[];const t=new d.a;e.fakeId=this.fakeId++,t.file=e,this.discussion.documents.push(t)}onRemoveFile(e){const t=this.discussion.documents.findIndex(t=>t.file?t.file.fakeId===e.fakeId:t.documentID===e.id);-1!==t&&this.discussion.documents[t].documentID&&this.documentsWillRemove.push(this.discussion.documents[t].documentID),this.discussion.documents.splice(t,1)}onRemoveProgressFile(e,t){this.onRemoveFile(t);const n=this.unsubscribe.find(t=>t.id===e.file.fakeId);n&&n.sub.next()}getGalleryFiles(e){return e?e.filter(e=>h.b.isImage(e)).map(e=>this.getFile(e)):[]}getNoneGalleryFiles(e){return e?e.filter(e=>!h.b.isImage(e)).map(e=>this.getFile(e)):[]}getFile(e){return e.file?e.file:Object.assign({id:e.documentID,documentPath:e.documentPath,data:Object.assign({name:e.documentTitle},"video/mp4"===e.documentType?{videoUrl:m.a.apiBlobUrl+"/"+e.documentPath}:{imageUrl:`${m.a.apiBlobUrl}/1024px/${e.documentPath}`}),type:e.documentType,progress:100,fakeId:this.fakeId++},e)}openContactSelector(){if(this.taskOwner)return;const e=this.ngbModal.open(f.a);e.componentInstance.audience=this.audience,e.result.then(e=>{e&&(this.audience=e)})}calculateContactSharing(){var e;this.totalContactSharing=null===(e=this.contacts)||void 0===e?void 0:e.filter(e=>e.selected).length}saveMembers(){const e=[];this.contacts.forEach(t=>{const n=this.members.some(e=>e.contactID===t.contactID);t.selected&&!n&&e.push(this.discussionService.addMember({discussionID:this.discussion.discussionID,contactID:t.contactID,isAdmin:!1})),!t.selected&&n&&e.push(this.discussionService.deleteMember(this.discussion.discussionID,t.contactID))}),e.length&&Object(l.a)(e).subscribe()}createAudience(e){this.taskOwner||this.discussionService.createDiscussionAudience({discussionID:e,discussionAudienceCategoryID:this.audience.discussionAudienceCategoryID,referenceID:this.audience.referenceID}).subscribe()}updateAudience(){this.taskOwner||this.discussionService.updateDiscussionAudience(this.targetAudience).subscribe()}getAudience(e){this.loading=!0,this.discussionService.getDiscussionAudience(e).subscribe(e=>{this.targetAudience=e[0],this.targetAudience&&(this.audience.discussionAudienceCategoryID=this.targetAudience.discussionAudienceCategoryID,this.audience.referenceID=this.targetAudience.referenceID),this.loading=!1},()=>this.loading=!1)}ngOnDestroy(){this.unsubscribe.map(e=>{e&&e.sub&&!e.sub.closed&&(e.sub.next(),e.sub.complete())})}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](b.a),y["\u0275\u0275directiveInject"](I.a),y["\u0275\u0275directiveInject"](x.a),y["\u0275\u0275directiveInject"](S.p),y["\u0275\u0275directiveInject"](S.a),y["\u0275\u0275directiveInject"](C.a),y["\u0275\u0275directiveInject"](D.a))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-news-feed-add-page"]],decls:33,vars:21,consts:[[3,"ngSubmit"],["form","ngForm"],[1,"modal-header"],[4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","new-feed-add-post",3,"avnonLoader"],[1,"d-flex","align-items-start",3,"click"],[1,"profile-photo"],[1,"avatar","avatar-36-circle"],["alt","",1,"img-fluid",3,"src"],[1,"flex-grow-1","ml-2","author-post"],[1,"title-sm","d-block"],["class","title-sm-meta d-block",4,"ngIf"],[1,"form-group"],["class","form-group mt-3",4,"ngIf"],["autosize","","name","topic","appExtractLinks","",1,"form-control",3,"placeholder","ngModel","required","ngModelChange"],["article","ngModel"],["class","text-danger",4,"ngIf"],["type","success","class","mt-2 mb-0",3,"dismissible",4,"ngIf"],["class","progress-holder",4,"ngIf"],[1,"d-flex","align-items-center"],[1,"file-upload"],[3,"uploadFileChange"],[1,"flex-grow-1","ml-2","author-post","text-right"],["class","spinner-holder",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","modal-title",4,"ngIf"],[1,"modal-title"],[1,"title-sm-meta","d-block"],[1,"form-group","mt-3"],["for","discussionValue"],["type","number","required","","id","discussionValue","name","discussionValue",1,"form-control","limit-input",3,"ngModel","ngModelChange"],[1,"text-danger"],[3,"images","editable","files","handleRemoveImage"],[3,"linkUrl"],["type","success",1,"mt-2","mb-0",3,"dismissible"],[1,"progress-holder"],[4,"ngFor","ngForOf"],["class","list-group list-group-flush",4,"ngIf"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between"],[1,"w-100"],[1,"file-name"],["type","success","textType","white",3,"value","showValue"],["type","button",1,"btn","btn-link",3,"disabled","click"],[1,"spinner-holder"],[1,"spinner-border","text-primary"]],template:function(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"form",0,1),y["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),y["\u0275\u0275elementStart"](2,"div",2),y["\u0275\u0275template"](3,V,3,2,"ng-container",3),y["\u0275\u0275template"](4,$,3,2,"ng-container",3),y["\u0275\u0275elementStart"](5,"button",4),y["\u0275\u0275listener"]("click",function(){return t.activeModel.dismiss()}),y["\u0275\u0275elementStart"](6,"span",5),y["\u0275\u0275text"](7,"\xd7"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"div",6),y["\u0275\u0275elementStart"](9,"div",7),y["\u0275\u0275listener"]("click",function(){return t.openContactSelector()}),y["\u0275\u0275elementStart"](10,"div",8),y["\u0275\u0275elementStart"](11,"span",9),y["\u0275\u0275element"](12,"img",10),y["\u0275\u0275pipe"](13,"avatar"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"div",11),y["\u0275\u0275elementStart"](15,"span",12),y["\u0275\u0275text"](16),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](17,K,6,6,"span",13),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](18,"div",14),y["\u0275\u0275template"](19,Q,5,4,"div",15),y["\u0275\u0275elementStart"](20,"textarea",16,17),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.discussion.discussionTopic=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](22,J,2,0,"span",18),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](23,ee,3,4,"ng-container",3),y["\u0275\u0275template"](24,te,2,1,"ngb-alert",19),y["\u0275\u0275template"](25,oe,2,1,"div",20),y["\u0275\u0275elementStart"](26,"div",21),y["\u0275\u0275elementStart"](27,"div",22),y["\u0275\u0275elementStart"](28,"app-file-upload",23),y["\u0275\u0275listener"]("uploadFileChange",function(e){return t.onUploadFile(e)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](29,"div",24),y["\u0275\u0275template"](30,ae,2,0,"div",25),y["\u0275\u0275elementStart"](31,"button",26),y["\u0275\u0275text"](32," Submit "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275reference"](1),n=y["\u0275\u0275reference"](21);y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",!t.taskOwner),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.taskOwner),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("avnonLoader",t.isLoading||t.loading),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("src",y["\u0275\u0275pipeBind1"](13,19,t.currentUser.profilePhoto),y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate2"]("",t.currentUser.firstName," ",t.currentUser.surname,""),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!t.taskOwner),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",t.logSubsidyAmount),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("placeholder",t.taskOwner?"Comment":"What do you want to talk about?")("ngModel",t.discussion.discussionTopic)("required",!t.supportTask),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",!n.valid&&n.touched),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!t.isLoading),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!t.editing&&t.isLoading),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.isLoading),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf",t.showSpinner),y["\u0275\u0275advance"](1),y["\u0275\u0275classProp"]("btn-sm",t.taskOwner),y["\u0275\u0275property"]("disabled",!e.valid||t.isLoading||7===t.discussionCategoryID&&t.supportTask&&!(null!=t.discussion&&null!=t.discussion.documents&&t.discussion.documents.length))}},directives:[w.E,w.r,w.s,k.n,E.a,w.b,M.a,O.a,w.q,w.t,w.A,P.a,w.w,T.a,A.a,S.b,k.m,S.u],pipes:[_.a,F.a],styles:[".new-feed-add-post[_ngcontent-%COMP%]   .author-post[_ngcontent-%COMP%]{line-height:20px}.new-feed-add-post[_ngcontent-%COMP%]   .title-sm[_ngcontent-%COMP%]{font-weight:500}.new-feed-add-post[_ngcontent-%COMP%]   span.title-sm-meta[_ngcontent-%COMP%]{color:#6d6d6d;font-size:14px}.file-name[_ngcontent-%COMP%]{display:inline-block;width:380px;white-space:nowrap;overflow:hidden!important;text-overflow:ellipsis}.progress-holder[_ngcontent-%COMP%]{max-height:200px;overflow-x:hidden;overflow-y:auto}.spinner-holder[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.list-group-item[_ngcontent-%COMP%], .progress-holder[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]{padding-right:0;padding-left:0}textarea.form-control[_ngcontent-%COMP%]{border:0;min-height:72px}textarea.form-control[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 0 #fff}.avatar.avatar-30-circle[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:60px;-moz-border-radius:60px;-webkit-border-radius:60px;object-fit:cover;overflow-y:hidden}.avatar.avatar-36-circle[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:72px;-moz-border-radius:72px;-webkit-border-radius:72px;object-fit:cover;overflow-y:hidden}.file-list[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;flex-direction:column;list-style:none}.file-list[_ngcontent-%COMP%]   .file-list-item[_ngcontent-%COMP%]{margin-bottom:8px;display:flex;width:100%;overflow:hidden}.file-list[_ngcontent-%COMP%]   .file-list-item[_ngcontent-%COMP%]   .file-link[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-right:10px;color:#007bff;cursor:pointer}.file-list[_ngcontent-%COMP%]   .file-list-item[_ngcontent-%COMP%]   .file-link[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-right:4px}.limit-input[_ngcontent-%COMP%]{max-width:180px}"]}),e})()},SVtl:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("tk/3"),o=n("fXoL");let a=(()=>{class e{constructor(e){this.http=e,this.BaseURI="https://api.incubatorportal.com/api"}getNetwork(e,t,n,i,o,a,r){return this.http.get(this.BaseURI+"/network?networkID="+e+"&contactID="+t+"&networkVisibilityCategoryID="+n+"&referenceID="+i+"&companyID="+o+"&companyLocationID="+a+"&NetworkTypeClassificationID="+r)}getNetworkMentorGlobal(e,t,n,i,o,a=0){return this.http.get(this.BaseURI+"/network/member/mentor/global?networkID="+e+"&networkMemberCategoryID="+t+"&networkVisibilityCategoryID="+n+"&referenceID="+i+"&contactID="+o+"&networkMemberStatusID="+a)}getNetworkStartupGlobal(e,t,n,i,o,a=0){return this.http.get(this.BaseURI+"/network/member/startup/global?networkID="+e+"&networkMemberCategoryID="+t+"&networkVisibilityCategoryID="+n+"&referenceID="+i+"&contactID="+o+"&networkMemberStatusID="+a)}getNetworkIncubatorGlobal(e,t,n,i,o,a=0){return this.http.get(this.BaseURI+"/network/member/incubator/global?networkID="+e+"&networkMemberCategoryID="+t+"&networkVisibilityCategoryID="+n+"&referenceID="+i+"&contactID="+o+"&NetworkMemberStatusID="+a)}deleteNetwork(e){return this.http.delete(`${this.BaseURI}/network/${e}`)}updateNetwork(e){return this.http.put(this.BaseURI+"/network",e)}saveNetwork(e){return this.http.post(this.BaseURI+"/network",e)}saveNetworkVisibility(e){return this.http.post(this.BaseURI+"/network/visibility",e)}updateNetworkVisibility(e){return this.http.put(this.BaseURI+"/network/visibility",e)}saveNetworkMember(e){return this.http.post(this.BaseURI+"/network/member",e)}getNetworkMember(e,t,n,i,o,a=0){return this.http.get(this.BaseURI+"/network/member?networkID="+e+"&networkMemberCategoryID="+t+"&networkVisibilityCategoryID="+n+"&ReferenceID="+i+"&ContactID="+o+"&networkMemberID="+a)}deleteNetworkMember(e){const t={headers:new i.f({"Content-Type":"application/json"}),body:{networkMemberID:e}};return this.http.delete(this.BaseURI+"/network/member",t)}verifyNetworkMember(e){return this.http.put(this.BaseURI+"/network/member/verification",e)}updateNetworkMember(e){return this.http.put(this.BaseURI+"/network/member",e)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](i.b))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},SdWN:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("AytR"),o=n("fXoL");let a=(()=>{class e{transform(e){return e&&"null"!==e?`${i.a.apiBlobUrl}/256px/${e}`:"/assets/img/avatar-placeholder.jpg"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o["\u0275\u0275definePipe"]({name:"avatar",type:e,pure:!0}),e})()},TFwu:function(e,t,n){"use strict";var i=n("25cm"),o=n("jN84"),a=n("mkut");t.a=function(e){return Object(i.a)(e,a.a,o.a)}},TIDI:function(e,t,n){"use strict";n.d(t,"a",function(){return T}),n.d(t,"b",function(){return R});var i=n("fXoL"),o=n("ofXK"),a=n("XNiG"),r=n("2Vo4"),s=n("LRne"),l=n("04ZW"),c=n("HDdC"),d=n("itXk"),p=n("mCNh"),m=n("VRyK"),u=n("IzEk"),h=n("JX91"),f=n("vkgz"),g=n("1G5W"),v=n("oB13"),y=n("eIep"),b=n("5+tZ"),I=n("zp1y"),x=n("lJxs"),S=n("Kqap"),C=n("/uUt"),D=n("DH7j"),w=n("Cfvw"),k=n("7o/Q");class E{constructor(e){this.predicate=e}call(e,t){return t.subscribe(new M(e,this.predicate))}}class M extends k.a{constructor(e,t){super(e),this.predicate=t,this.skipping=!0,this.index=0}_next(e){const t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}tryCallPredicate(e){try{const t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(t){this.destination.error(t)}}}var O=n("pLZG");const P=["youtubeContainer"];let T=(()=>{class e{constructor(e,t){this._ngZone=e,this._youtubeContainer=new a.a,this._destroyed=new a.a,this._playerChanges=new r.a(void 0),this._videoId=new r.a(void 0),this._height=new r.a(390),this._width=new r.a(640),this._startSeconds=new r.a(void 0),this._endSeconds=new r.a(void 0),this._suggestedQuality=new r.a(void 0),this._playerVars=new r.a(void 0),this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange"),this._isBrowser=Object(o.C)(t)}get videoId(){return this._videoId.value}set videoId(e){this._videoId.next(e)}get height(){return this._height.value}set height(e){this._height.next(e||390)}get width(){return this._width.value}set width(e){this._width.next(e||640)}set startSeconds(e){this._startSeconds.next(e)}set endSeconds(e){this._endSeconds.next(e)}set suggestedQuality(e){this._suggestedQuality.next(e)}get playerVars(){return this._playerVars.value}set playerVars(e){this._playerVars.next(e)}ngOnInit(){if(!this._isBrowser)return;let e=Object(s.a)(!0);if(!window.YT||!window.YT.Player){const t=new a.a;this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback&&this._existingApiReadyCallback(),this._ngZone.run(()=>t.next(!0))},e=t.pipe(Object(u.a)(1),Object(h.a)(!1))}const t=function(e,t,n,i,o,a,r){const l=Object(d.b)([t,a]).pipe(Object(I.a)(Object(d.b)([i,o])),Object(x.a)(([e,t])=>{const[n,i]=e,[o,a]=t;return n?{videoId:n,playerVars:i,width:o,height:a}:void 0}));return Object(d.b)([e,l,Object(s.a)(r)]).pipe((c=n,Object(p.a)(function(...e){let t=null;return"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Object(D.a)(e[0])&&(e=e[0].slice()),n=>n.lift.call(Object(w.a)([n,...e]),new d.a(t))}(c),(m=([e,t])=>!t,e=>e.lift(new E(m))),Object(x.a)(([e])=>e))),Object(S.a)(A,void 0),Object(C.a)());var c,m}(this._youtubeContainer,this._videoId,e,this._width,this._height,this._playerVars,this._ngZone).pipe(Object(f.a)(e=>{this._playerChanges.next(e)}),(n=e=>{_(e)||e.destroy()},Object(b.b)(e=>e?_(e)?Object(s.a)(e):new c.a(t=>{let i=!1,o=!1;const a=e=>{o=!0,i||(e.target.removeEventListener("onReady",a),t.next(e.target))};return e.addEventListener("onReady",a),()=>{i=!0,o||n(e)}}).pipe(Object(u.a)(1),Object(h.a)(void 0)):Object(s.a)(void 0))),Object(g.a)(this._destroyed),Object(v.a)(new a.a));var n;t.subscribe(e=>{this._player=e,e&&this._pendingPlayerState&&this._initializePlayer(e,this._pendingPlayerState),this._pendingPlayerState=void 0}),function(e,t,n){Object(d.b)([e,t,n]).subscribe(([e,t,n])=>e&&e.setSize(t,n))}(t,this._width,this._height),function(e,t){Object(d.b)([e,t]).subscribe(([e,t])=>e&&t&&e.setPlaybackQuality(t))}(t,this._suggestedQuality),function(e,t,n,i,o,a){const r=Object(d.b)([n,i]).pipe(Object(x.a)(([e,t])=>({startSeconds:e,endSeconds:t}))),s=r.pipe(F(e,e=>!!e&&!function(e){const t=e.getPlayerState();return-1!==t&&5!==t}(e))),l=t.pipe(F(e,(e,t)=>!!e&&e.videoId!==t)),c=e.pipe(F(Object(d.b)([t,r]),([e,t],n)=>!(!n||e==n.videoId&&!t.startSeconds&&!t.endSeconds)));Object(m.a)(c,l,s).pipe(Object(I.a)(Object(d.b)([e,t,r,o])),Object(x.a)(([e,t])=>t),Object(g.a)(a)).subscribe(([e,t,n,i])=>{t&&e&&(e.videoId=t,e.cueVideoById(Object.assign({videoId:t,suggestedQuality:i},n)))})}(t,this._videoId,this._startSeconds,this._endSeconds,this._suggestedQuality,this._destroyed),t.connect()}createEventsBoundInZone(){return{}}ngAfterViewInit(){this._youtubeContainer.next(this.youtubeContainer.nativeElement)}ngOnDestroy(){this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._videoId.complete(),this._height.complete(),this._width.complete(),this._startSeconds.complete(),this._endSeconds.complete(),this._suggestedQuality.complete(),this._youtubeContainer.complete(),this._playerVars.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=1}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=2}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=5}seekTo(e,t){this._player?this._player.seekTo(e,t):this._getPendingState().seek={seconds:e,allowSeekAhead:t}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(e){this._player?this._player.setVolume(e):this._getPendingState().volume=e}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(e){if(this._player)return this._player.setPlaybackRate(e);this._getPendingState().playbackRate=e}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:-1}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_initializePlayer(e,t){const{playbackState:n,playbackRate:i,volume:o,muted:a,seek:r}=t;switch(n){case 1:e.playVideo();break;case 2:e.pauseVideo();break;case 5:e.stopVideo()}null!=i&&e.setPlaybackRate(i),null!=o&&e.setVolume(o),null!=a&&(a?e.mute():e.unMute()),null!=r&&e.seekTo(r.seconds,r.allowSeekAhead)}_getLazyEmitter(e){return this._playerChanges.pipe(Object(y.a)(t=>t?Object(l.a)(n=>{t.addEventListener(e,n)},n=>{try{t.removeEventListener&&t.removeEventListener(e,n)}catch(i){}}):Object(s.a)()),e=>new c.a(t=>e.subscribe({next:e=>this._ngZone.run(()=>t.next(e)),error:e=>t.error(e),complete:()=>t.complete()})),Object(g.a)(this._destroyed))}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](i.PLATFORM_ID))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["youtube-player"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](P,!0),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.youtubeContainer=e.first)}},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",playerVars:"playerVars",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"div",null,0)},encapsulation:2,changeDetection:0}),e})();function A(e,[t,n,i]){if(e&&n&&e.playerVars!==n.playerVars)e.destroy();else{if(!n)return void(e&&e.destroy());if(e)return e}const o=i.runOutsideAngular(()=>new YT.Player(t,n));return o.videoId=n.videoId,o.playerVars=n.playerVars,o}function _(e){return"getPlayerStatus"in e}function F(e,t){return Object(p.a)(Object(I.a)(e),Object(O.a)(([e,n])=>t(n,e)),Object(x.a)(([e])=>e))}let R=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e})()},Tos5:function(e,t,n){var i,o,a;a=function(e){function t(e,t,n,i){e.hasOwnProperty(t)||(e[t]=i.apply(null,n))}t(e=e?e._modules:{},"Extensions/NoDataToDisplay.js",[e["Core/Renderer/HTML/AST.js"],e["Core/Chart/Chart.js"],e["Core/Color/Palette.js"],e["Core/Utilities.js"]],function(e,t,n,i){var o=i.addEvent,a=i.extend,r=i.getOptions;i=t.prototype,r=r(),a(r.lang,{noData:"No data to display"}),r.noData={attr:{zIndex:1},position:{x:0,y:0,align:"center",verticalAlign:"middle"},style:{fontWeight:"bold",fontSize:"12px",color:n.neutralColor60}},i.showNoData=function(t){var n=this.options;t=t||n&&n.lang.noData,n=n&&(n.noData||{}),this.renderer&&(this.noDataLabel||(this.noDataLabel=this.renderer.label(t,0,0,void 0,void 0,void 0,n.useHTML,void 0,"no-data").add()),this.styledMode||this.noDataLabel.attr(e.filterUserAttributes(n.attr||{})).css(n.style||{}),this.noDataLabel.align(a(this.noDataLabel.getBBox(),n.position||{}),!1,"plotBox"))},i.hideNoData=function(){this.noDataLabel&&(this.noDataLabel=this.noDataLabel.destroy())},i.hasData=function(){for(var e=this.series||[],t=e.length;t--;)if(e[t].hasData()&&!e[t].options.isInternal)return!0;return this.loadingShown},o(t,"render",function(){this.hasData()?this.hideNoData():this.showNoData()})}),t(e,"masters/modules/no-data-to-display.src.js",[],function(){})},e.exports?(a.default=a,e.exports=a):(i=[n("6n/F")],void 0===(o=(function(e){return a(e),a.Highcharts=e,a}).apply(t,i))||(e.exports=o))},U6JX:function(e,t,n){"use strict";t.a=function(e,t){return function(n){return e(t(n))}}},UWWY:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("ofXK"),o=n("fXoL");let a=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})()},V6Zj:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("ofXK"),o=n("esnG"),a=n("1kSV"),r=n("3Pt+"),s=n("sYmb"),l=n("fXoL");let c=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[o.a],imports:[[i.c,r.l,a.v,a.q,a.f,a.l,s.b]]}),e})()},V9Fx:function(e,t,n){"use strict";n.d(t,"a",function(){return Z});var i=n("fXoL"),o=n("vdWK"),a=n("xDUJ"),r=n("Jn3s"),s=n("ofXK"),l=n("9F88"),c=n("1kSV"),d=n("FvYy");function p(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275elementStart"](1,"div",8),i["\u0275\u0275elementStart"](2,"h1"),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](null==e?null:e.formSectionTitle)}}function m(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",13),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldDetail)}}function u(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"h3"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,m,2,1,"small",12),i["\u0275\u0275elementStart"](4,"p"),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldDetail),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.answer.formFieldValue)}}function h(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",13),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldDetail)}}function f(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"h3"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,h,2,1,"small",12),i["\u0275\u0275element"](4,"app-documents-list",14),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldDetail),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("referenceID",(null==t.taskOwner?null:t.taskOwner.companyID)||0)("referenceID2",e.answer.formFieldAnswerID)("documentCategoryID",18)}}function g(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",13),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldDetail)}}function v(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",16),i["\u0275\u0275elementStart"](1,"p"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](4).$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.answer.formFieldValue)}}function y(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"p"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,v,3,1,"div",15),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldOptionText),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.commentRequired)}}function b(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275template"](1,y,4,2,"div",1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.answer&&e.formFieldOptionID==n.answer.formFieldOptionID)}}function I(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"h3"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,g,2,1,"small",12),i["\u0275\u0275template"](4,b,2,1,"div",3),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldDetail),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.options)}}function x(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",13),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldDetail)}}function S(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",16),i["\u0275\u0275elementStart"](1,"p"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.answer.formFieldValue)}}function C(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"p"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,S,3,1,"div",15),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldOptionText),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.commentRequired)}}function D(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275template"](1,C,4,2,"div",1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.answer&&e.answer.formFieldAnswerID)}}function w(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"h3"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,x,2,1,"small",12),i["\u0275\u0275template"](4,D,2,1,"div",3),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldDetail),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.options)}}function k(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",13),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldDetail)}}function E(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",18),i["\u0275\u0275text"](1,"\u2605"),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275classProp"]("filled",100===t.fill)}function M(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"h3"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,k,2,1,"small",12),i["\u0275\u0275elementStart"](4,"ngb-rating",17),i["\u0275\u0275listener"]("rateChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().$implicit.answer.formFieldValue=t}),i["\u0275\u0275template"](5,E,2,2,"ng-template"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldDetail),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("rate",e.answer.formFieldValue)("max",e.formFieldScale)("readonly",!0)}}function O(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",13),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldDetail)}}function P(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"h3"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,O,2,1,"small",12),i["\u0275\u0275element"](4,"app-banner",19),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.formFieldDetail),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("referenceID",e.answer.formFieldAnswerID)("documentCategoryID",36)}}function T(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"div",9),i["\u0275\u0275template"](2,u,6,3,"div",10),i["\u0275\u0275template"](3,f,5,5,"div",10),i["\u0275\u0275template"](4,I,5,3,"div",10),i["\u0275\u0275template"](5,w,5,3,"div",10),i["\u0275\u0275template"](6,M,6,5,"div",10),i["\u0275\u0275template"](7,P,5,4,"div",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",1==e.formFieldTypeID||4==e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",3==e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",6==e.formFieldTypeID||5==e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2==e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",9==e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",10===e.formFieldTypeID)}}function A(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"h6",20),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"number"),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate3"](" ",i["\u0275\u0275pipeBind2"](2,3,e.taskOwner.formReviewPercentage||0,"1.1-2"),"% (",e.taskOwner.formReviewScore||0," /",e.taskOwner.formReviewMaxScore||0,") ")}}function _(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275template"](1,p,4,1,"div",4),i["\u0275\u0275elementStart"](2,"div",5),i["\u0275\u0275template"](3,T,8,6,"div",3),i["\u0275\u0275template"](4,A,3,6,"h6",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.hideFormTitle),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",null==e?null:e.fields),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.showScore&&n.taskOwner&&n.taskOwner.formReviewScore)}}function F(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,_,5,3,"div",3),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.form.sections)}}function R(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td",22),i["\u0275\u0275elementStart"](2,"span",23),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](4,"td"),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",null==e?null:e.formSectionTitle," ")}}function L(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"small",31),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.formFieldDetail)}}function V(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"p",32),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.answer.formFieldValue)}}function j(e,t){if(1&e&&i["\u0275\u0275element"](0,"app-documents-list",14),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275property"]("referenceID",(null==t.taskOwner?null:t.taskOwner.companyID)||0)("referenceID2",e.answer.formFieldAnswerID)("documentCategoryID",18)}}function B(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",16),i["\u0275\u0275elementStart"](1,"p",32),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](4).$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.answer.formFieldValue)}}function N(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"p",32),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,B,3,1,"div",15),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldOptionText),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.commentRequired)}}function U(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275template"](1,N,4,2,"div",1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.answer&&e.formFieldOptionID==n.answer.formFieldOptionID)}}function G(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,U,2,1,"div",3),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.options)}}function $(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",16),i["\u0275\u0275elementStart"](1,"p",32),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.answer.formFieldValue)}}function H(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"p",32),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,$,3,1,"div",15),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.formFieldOptionText),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.commentRequired)}}function q(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275template"](1,H,4,2,"div",1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.answer&&e.answer.formFieldAnswerID)}}function z(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,q,2,1,"div",3),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.options)}}function W(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",18),i["\u0275\u0275text"](1,"\u2605"),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275classProp"]("filled",100===t.fill)}function X(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"ngb-rating",17),i["\u0275\u0275listener"]("rateChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().$implicit.answer.formFieldValue=t}),i["\u0275\u0275template"](1,W,2,2,"ng-template"),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("rate",e.answer.formFieldValue)("max",e.formFieldScale)("readonly",!0)}}function Y(e,t){if(1&e&&i["\u0275\u0275element"](0,"app-banner",33),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("referenceID",e.answer.formFieldAnswerID)("documentCategoryID",36)}}function K(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td",24),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",25),i["\u0275\u0275elementStart"](4,"div",26),i["\u0275\u0275template"](5,L,2,1,"small",27),i["\u0275\u0275template"](6,V,3,1,"ng-container",1),i["\u0275\u0275template"](7,j,1,3,"app-documents-list",28),i["\u0275\u0275template"](8,G,2,1,"ng-container",1),i["\u0275\u0275template"](9,z,2,1,"ng-container",1),i["\u0275\u0275template"](10,X,2,3,"ngb-rating",29),i["\u0275\u0275template"](11,Y,1,2,"app-banner",30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.formFieldTitle," "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",e.formFieldDetail),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1==e.formFieldTypeID||4==e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",3===e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",6==e.formFieldTypeID||5==e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",9===e.formFieldTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",10===e.formFieldTypeID)}}function Q(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,R,5,1,"tr",1),i["\u0275\u0275template"](2,K,12,8,"tr",3),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.hideFormTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",null==e?null:e.fields)}}function J(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"table",21),i["\u0275\u0275template"](1,Q,3,2,"ng-container",3),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.form.sections)}}let Z=(()=>{class e{constructor(e){this.formService=e,this.showScore=!0,this.form=new o.c,this.dataHasChanged=!1,this.isSaving=!1,this.formSection=[],this.isLoading=!1,this.isSubmitting=!1,this.totalScore=new i.EventEmitter,this.totalMaxScore=new i.EventEmitter}ngOnInit(){console.log(this.formID,"form oninit"),this.isLoading=!0,this.populateForm()}populateForm(){console.log("populate with this",0,this.contactID,0,this.answerReferenceID,this.formFieldAnswerCategoryID,this.formID),this.formService.getFormFieldAnswers(0,this.contactID,0,this.answerReferenceID,this.formFieldAnswerCategoryID,this.formID).subscribe(e=>{this.markQuestionsAsReview(e),this.form=e,this.formSection=e.sections,this.calculatePointScores(),this.isLoading=!1}),this.companyID=+localStorage.getItem("CID"),3==this.formCategoryID&&(this.referenceID=this.eventID)}calculatePointScores(){if(this.formSection){this.formSection.forEach(e=>{let t=0,n=0,i=0;e.fields.forEach(e=>{if(e.pointsQuestion){const o=e.answer,a=e.options;o&&a&&a.forEach(e=>{e.points>t&&(t=e.points),e.formFieldOptionID===o.formFieldOptionID&&(i+=1,n+=e.points)})}}),e.score=i>0?n/i:0,e.maxScore=t});let e=0,t=0;this.formSection.forEach(n=>{e+=n.score,t+=n.maxScore}),this.totalScore.emit(e),this.totalMaxScore.emit(t)}}onListboxAnswerChange(e){console.log(e,"here's the list box field in save answer");const t=new o.b;t.contactID=+localStorage.getItem("CoID"),t.formFieldID=e.formFieldID,t.formFieldValue=e.answer.formFieldValue,t.formFieldOptionID=e.answer.formFieldOptionID,t.referenceID=this.answerReferenceID,t.formFieldValueCheckbox=!1,null==e.answer.formFieldAnswerID?this.formService.insertAnswer(t).subscribe(t=>{console.log(t,"insert answer has fired for the list box"),e.answer.formFieldAnswerID=t.inOut_FormFieldAnswerID,this.isSaving=!1}):(t.formFieldAnswerID=e.answer.formFieldAnswerID,this.formService.updateAnswer(t).subscribe(e=>{console.log(e,"update answer has fired")}))}onStarClick(e,t){const n=new o.b;n.contactID=+localStorage.getItem("CoID"),n.formFieldID=t.formFieldID,n.formFieldValue=e,n.formFieldOptionID=0,n.referenceID=this.answerReferenceID,n.formFieldValueCheckbox=!1,null==t.answer.formFieldAnswerID?this.formService.insertAnswer(n).subscribe(e=>{console.log(e,"insert answer has fired for the star rating"),t.answer.formFieldAnswerID=e.inOut_FormFieldAnswerID,this.isSaving=!1}):(n.formFieldAnswerID=t.answer.formFieldAnswerID,this.formService.updateAnswer(n).subscribe(e=>{console.log(e,"update answer has fired for star rating")})),console.log("star control clicked",e)}onCheckboxAnswerChange(e,t){console.log("onCheckboxAnswerChange",e,t);const n=new o.b;n.contactID=+localStorage.getItem("CoID"),n.formFieldID=t.formFieldID,n.formFieldValue="true",n.formFieldOptionID=t.formFieldOptionID,n.referenceID=this.answerReferenceID,n.formFieldValueCheckbox=!0,e.target.checked?this.formService.insertAnswer(n).subscribe(e=>{console.log(e,"insert answer has fired"),t.answer.formFieldAnswerID=e.inOut_FormFieldAnswerID,this.isSaving=!1}):this.formService.deleteAnswer(t.answer.formFieldAnswerID).subscribe(e=>{console.log(e,"delete answer has fired")})}onRadioAnswerChange(e){console.log("radio button click",e,e.formFieldOptionID),this.saveRadioAnswer(e)}saveAnswer(e){console.log(e,"here's the form field in save answer");const t=new o.b;t.contactID=+localStorage.getItem("CoID"),t.formFieldID=e.formFieldID,t.formFieldValue=e.answer.formFieldValue,t.referenceID=this.answerReferenceID,t.formFieldValueCheckbox=!1,null==e.answer.formFieldAnswerID?this.formService.insertAnswer(t).subscribe(t=>{console.log(t,"insert answer has fired"),e.answer.formFieldAnswerID=t.inOut_FormFieldAnswerID,this.isSaving=!1}):(t.formFieldAnswerID=e.answer.formFieldAnswerID,this.formService.updateAnswer(t).subscribe(e=>{console.log(e,"update answer has fired")}))}saveRadioAnswer(e){console.log(e,"here's the form field in save answer");const t=new o.b;t.contactID=+localStorage.getItem("CoID"),t.formFieldID=e.formFieldID,t.formFieldOptionID=e.answer.formFieldOptionID,t.referenceID=this.answerReferenceID,t.formFieldValueCheckbox=!1,null==e.answer.formFieldAnswerID?this.formService.insertAnswer(t).subscribe(t=>{console.log(t,"insert answer has fired"),e.answer.formFieldAnswerID=t.inOut_FormFieldAnswerID,this.isSaving=!1}):(t.formFieldAnswerID=e.answer.formFieldAnswerID,this.formService.updateAnswer(t).subscribe(e=>{console.log(e,"update answer has fired")}))}onTextAnswerChanged(e,t){console.log("text answer changed feedback",e,t),this.saveAnswer(t),this.textAnswerTimer&&clearTimeout(this.textAnswerTimer),this.textAnswerTimer=setTimeout(()=>{this.onAnswerUpdated()},350)}onCommentTextAnswerChanged(e){console.log("comment answer changed feedback",e),console.log(e,"here's the form field in save answer");const t=new o.b;t.contactID=+localStorage.getItem("CoID"),t.formFieldID=e.formFieldID,t.formFieldValue=e.answer.formFieldValue,t.formFieldOptionID=e.answer.formFieldOptionID,t.referenceID=this.answerReferenceID,t.formFieldValueCheckbox=!1,t.formFieldAnswerID=e.answer.formFieldAnswerID,this.formService.updateAnswer(t).subscribe(e=>{console.log(e,"update answer has fired")})}markQuestionsAsReview(e){e&&e.sections&&e.sections.length&&e.sections.forEach(e=>{e.fields&&e.fields.forEach(e=>{e.isPreviewMode=!0})})}onAnswerUpdated(e=null){this.dataHasChanged=!0,this.saveAnswer(e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](a.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-form-review-feedback"]],inputs:{referenceID:"referenceID",formCategoryID:"formCategoryID",answerReferenceID:"answerReferenceID",formID:"formID",formFieldAnswerCategoryID:"formFieldAnswerCategoryID",contactID:"contactID",showScore:"showScore",taskOwner:"taskOwner",hideFormTitle:"hideFormTitle",tableView:"tableView"},outputs:{totalScore:"totalScore",totalMaxScore:"totalMaxScore"},decls:3,vars:3,consts:[[1,"section","section-questions",3,"avnonLoader"],[4,"ngIf"],["class","table stage-table",4,"ngIf"],[4,"ngFor","ngForOf"],["class","section section-alt border-bottom",4,"ngIf"],[1,"filter-container","border-bottom"],["class","score-review",4,"ngIf"],[1,"section","section-alt","border-bottom"],[1,"filter-container","d-flex","w-100"],[1,"section-overview"],["class","mb-2",4,"ngIf"],[1,"mb-2"],["class","form-text text-muted mb-2 fz14",4,"ngIf"],[1,"form-text","text-muted","mb-2","fz14"],[3,"referenceID","referenceID2","documentCategoryID"],["class","pt-1",4,"ngIf"],[1,"pt-1"],[1,"rating-input","w-100",3,"rate","max","readonly","rateChange"],[1,"star"],[1,"w-100","float-left",3,"referenceID","documentCategoryID"],[1,"score-review"],[1,"table","stage-table"],[1,"border-right","twitter-border-color"],[1,"font-weight-bold"],[1,"fz-14","text-muted","border-right","twitter-border-color","text-muted","table-col-width"],[1,"fz-14"],[1,"d-flex","flex-column"],["class","form-text text-muted mb-2 fz-14",4,"ngIf"],[3,"referenceID","referenceID2","documentCategoryID",4,"ngIf"],["class","rating-input w-100",3,"rate","max","readonly","rateChange",4,"ngIf"],[3,"referenceID","documentCategoryID",4,"ngIf"],[1,"form-text","text-muted","mb-2","fz-14"],[1,"fz-14","mb-0"],[3,"referenceID","documentCategoryID"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,F,2,1,"ng-container",1),i["\u0275\u0275template"](2,J,2,1,"table",2),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("avnonLoader",t.isLoading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.tableView),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.tableView))},directives:[r.a,s.n,s.m,l.a,c.w,d.a],pipes:[s.f],styles:[".section-questions[_ngcontent-%COMP%]{position:relative}.section-questions[_ngcontent-%COMP%]   .score-review[_ngcontent-%COMP%]{position:absolute;right:0;top:-60px}.section-questions[_ngcontent-%COMP%]   .rating-input[_ngcontent-%COMP%]:focus{outline:none}.section-questions[_ngcontent-%COMP%]   .rating-input[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{font-size:1.5rem;color:#b0c4de}.section-questions[_ngcontent-%COMP%]   .rating-input[_ngcontent-%COMP%]   .filled[_ngcontent-%COMP%]{color:#1e90ff}.section-questions[_ngcontent-%COMP%]   .rating-input[_ngcontent-%COMP%]   .bad[_ngcontent-%COMP%], .section-questions[_ngcontent-%COMP%]   .rating-input[_ngcontent-%COMP%]   .filled.bad[_ngcontent-%COMP%]{color:#2a2a2a}.section-questions[_ngcontent-%COMP%]   .title-actions[_ngcontent-%COMP%]{padding-bottom:6px}.section-questions[_ngcontent-%COMP%]   .title-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-top:0;margin-bottom:0;font-size:22px}.section-questions[_ngcontent-%COMP%]   .section-overview[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:4px}.fz14[_ngcontent-%COMP%]{font-size:14px!important}.stage-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.25rem 1rem;border-top:0;border-bottom:0}.table-col-width[_ngcontent-%COMP%]{width:220px}"]}),e})()},VPdJ:function(e,t,n){"use strict";n.d(t,"a",function(){return ae});var i=n("fXoL"),o=n("MNGV"),a=n("8J6U"),r=n("p+bo"),s=n("OzGw"),l=n("frau"),c=n("1G5W"),d=n("XNiG"),p=n("4CJs"),m=n("ofXK"),u=n("ev4g"),h=n("tyNb"),f=n("1kSV"),g=n("S2+F"),v=n("XAmU"),y=n("kmKP"),b=n("Jn3s"),I=n("3Pt+"),x=n("xdDH"),S=n("yDbM"),C=n("8ZIy"),D=n("SdWN");function w(e,t){1&e&&i["\u0275\u0275element"](0,"th",10)}function k(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"th",8),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.dateLabel)}}function E(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"th",11),i["\u0275\u0275text"](1,"Status"),i["\u0275\u0275elementEnd"]())}const M=function(e,t){return{"pl-1":e,"pl-3":t}};function O(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"thead"),i["\u0275\u0275elementStart"](1,"tr"),i["\u0275\u0275template"](2,w,1,0,"th",5),i["\u0275\u0275elementStart"](3,"th",6),i["\u0275\u0275text"](4,"Activity "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,k,2,1,"th",7),i["\u0275\u0275elementStart"](6,"th",8),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,E,2,0,"th",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!e.hideCheck),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction2"](5,M,!e.hideCheck,e.hideCheck)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.showDate),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.ownerLabel),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.showStatus)}}function P(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"td",22),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"](2).$implicit;return i["\u0275\u0275nextContext"]().preventViewTask(t,n)}),i["\u0275\u0275elementStart"](1,"div",23),i["\u0275\u0275elementStart"](2,"input",24),i["\u0275\u0275listener"]("change",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2).index;return i["\u0275\u0275nextContext"]().onStatusUpdate(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"label",25),i["\u0275\u0275text"](4," \xa0 "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2),t=e.index,n=e.$implicit,o=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("border-top-0",!o.showHeader&&0===t),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate1"]("id","checkBox-",t,""),i["\u0275\u0275property"]("checked",3===(null==n.toDoCanUpdate?null:n.toDoCanUpdate.taskStatusID))("disabled",3!==n.taskCategoryID||!(null!=n.toDoCanUpdate&&n.toDoCanUpdate.taskOwnerID)||n.submittedBy!==o.contactID||!n.taskTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate1"]("for","checkBox-",t,"")}}function T(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",26),i["\u0275\u0275element"](1,"i",27),i["\u0275\u0275elementEnd"]())}function A(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",31),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"](3).$implicit;return i["\u0275\u0275nextContext"]().preventViewTask(t,n)}),i["\u0275\u0275elementStart"](1,"span",32,33),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275reference"](6),n=i["\u0275\u0275nextContext"](3).$implicit,o=i["\u0275\u0275nextContext"]();return 3===n.taskCategoryID?t.toggle():o.voidFn()}),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"dayAgo"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"input",34,35),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](3).$implicit.endDateModel=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](3).index;return i["\u0275\u0275nextContext"]().updateTask(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](2),t=i["\u0275\u0275nextContext"](3).$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind3"](4,4,t.endDate,n.regularDate,n.noYear)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.endDateModel)("disabled",3!==t.taskCategoryID)("positionTarget",e)}}function _(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",36),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"dayAgo"),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind3"](2,1,e.endDate,t.regularDate,t.noYear))}}function F(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"td",28),i["\u0275\u0275template"](1,A,7,8,"div",29),i["\u0275\u0275template"](2,_,3,5,"span",30),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2),t=e.index,n=e.$implicit,o=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("border-top-0",!o.showHeader&&0===t),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.submittedBy===o.contactID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.submittedBy!==o.contactID)}}function R(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",43),i["\u0275\u0275element"](1,"img",44),i["\u0275\u0275pipe"](2,"avatar"),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275property"]("ngbTooltip",e.taskSupporters[0].firstName+" "+e.taskSupporters[0].surname+"("+e.supporterCompanyName+")"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("src",i["\u0275\u0275pipeBind1"](2,2,e.taskSupporters[0].profilePhoto),i["\u0275\u0275sanitizeUrl"])}}function L(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",45),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275property"]("ngbTooltip",e.taskSupporters[0].firstName+" "+e.taskSupporters[0].surname+"("+e.supporterCompanyName+")"),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate2"](" ",null==e.taskSupporters[0]||null==e.taskSupporters[0].firstName?null:e.taskSupporters[0].firstName.substr(0,1),"",null==e.taskSupporters[0]||null==e.taskSupporters[0].surname?null:e.taskSupporters[0].surname.substr(0,1)," ")}}function V(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",46),i["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),i["\u0275\u0275elementStart"](1,"span",47),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"](3).$implicit,o=i["\u0275\u0275nextContext"]();return t.stopPropagation(),o.viewTaskProfile(n)}),i["\u0275\u0275text"](2," Details "),i["\u0275\u0275element"](3,"i",48),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function j(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"td",37),i["\u0275\u0275elementStart"](1,"div",38),i["\u0275\u0275elementStart"](2,"div",39),i["\u0275\u0275template"](3,R,3,4,"span",40),i["\u0275\u0275template"](4,L,2,3,"span",41),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,V,4,0,"div",42),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",(null==e.taskSupporters?null:e.taskSupporters.length)&&(null==e.taskSupporters[0]?null:e.taskSupporters[0].profilePhoto)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(null==e.taskSupporters?null:e.taskSupporters.length)&&!(null!=e.taskSupporters[0]&&e.taskSupporters[0].profilePhoto)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.showStatus)}}function B(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",43),i["\u0275\u0275element"](1,"img",44),i["\u0275\u0275pipe"](2,"avatar"),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275property"]("ngbTooltip",e.taskOwners[0].firstName+" "+e.taskOwners[0].surname),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("src",i["\u0275\u0275pipeBind1"](2,2,e.taskOwners[0].profilePhoto),i["\u0275\u0275sanitizeUrl"])}}function N(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",53),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate2"](" ",null==e.taskOwners[0]||null==e.taskOwners[0].firstName?null:e.taskOwners[0].firstName.substr(0,1),"",null==e.taskOwners[0]||null==e.taskOwners[0].surname?null:e.taskOwners[0].surname.substr(0,1)," ")}}function U(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",54),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" +",e.taskOwners.length-1," ")}}function G(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",46),i["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),i["\u0275\u0275elementStart"](1,"span",47),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"](3).$implicit,o=i["\u0275\u0275nextContext"]();return t.stopPropagation(),o.viewTaskProfile(n)}),i["\u0275\u0275text"](2," Details "),i["\u0275\u0275element"](3,"i",48),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function $(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"td",49),i["\u0275\u0275elementStart"](1,"div",15),i["\u0275\u0275elementStart"](2,"div",50),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"](2).index,o=i["\u0275\u0275nextContext"]();return t.stopPropagation(),o.assignPlanOwner(n)}),i["\u0275\u0275template"](3,B,3,4,"span",40),i["\u0275\u0275template"](4,N,2,2,"span",51),i["\u0275\u0275template"](5,U,2,1,"span",52),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,G,4,0,"div",42),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2),t=e.index,n=e.$implicit,o=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("border-top-0",!o.showHeader&&0===t),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("owner-with-detail",!o.showStatus)("justify-content-center",o.showStatus),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("mr-2",!o.showStatus),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(null==n.taskOwners?null:n.taskOwners.length)&&(null==n.taskOwners[0]?null:n.taskOwners[0].profilePhoto)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(null==n.taskOwners?null:n.taskOwners.length)&&!(null!=n.taskOwners[0]&&n.taskOwners[0].profilePhoto)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(null==n.taskOwners?null:n.taskOwners.length)&&n.taskOwners.length>1),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!o.showStatus)}}function H(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",61),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",36===e.taskCategoryID?"Open":"Underway"," ")}}function q(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",62),i["\u0275\u0275text"](1,"Pending Sign Off"),i["\u0275\u0275elementEnd"]())}function z(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",63),i["\u0275\u0275text"](1,"Completed"),i["\u0275\u0275elementEnd"]())}function W(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",63),i["\u0275\u0275text"](1,"Pre Approved"),i["\u0275\u0275elementEnd"]())}function X(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",64),i["\u0275\u0275text"](1,"Pre Final Approved"),i["\u0275\u0275elementEnd"]())}function Y(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",65),i["\u0275\u0275text"](1,"Flagged"),i["\u0275\u0275elementEnd"]())}function K(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"td"),i["\u0275\u0275elementStart"](1,"div",15),i["\u0275\u0275elementStart"](2,"div",55),i["\u0275\u0275template"](3,H,2,1,"span",56),i["\u0275\u0275template"](4,q,2,0,"span",57),i["\u0275\u0275template"](5,z,2,0,"span",58),i["\u0275\u0275template"](6,W,2,0,"span",58),i["\u0275\u0275template"](7,X,2,0,"span",59),i["\u0275\u0275template"](8,Y,2,0,"span",60),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2),t=e.index,n=e.$implicit,o=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("border-top-0",!o.showHeader&&0===t),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",1===n.taskStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===n.taskStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",3===n.taskStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",6===n.taskStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",7===n.taskStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.flagged)}}const Q=function(){return{standalone:!0}},J=function(e){return{"font-italic font-strikethrough":e}};function Z(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,P,5,6,"td",13),i["\u0275\u0275elementStart"](2,"td",14),i["\u0275\u0275elementStart"](3,"div",15),i["\u0275\u0275elementStart"](4,"input",16),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"]().preventViewTask(t,n)})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().$implicit.taskTitle=t})("blur",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"]().blurActivity(t)})("onEvent",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"]().updateTask(t)})("keyup.enter",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"]().enterActivity(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,T,2,0,"span",17),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,F,3,4,"td",18),i["\u0275\u0275template"](7,j,6,3,"td",19),i["\u0275\u0275template"](8,$,7,12,"td",20),i["\u0275\u0275template"](9,K,9,8,"td",21),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit,o=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!o.hideCheck),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("border-top-0",!o.showHeader&&0===t),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction2"](14,M,!o.hideCheck,o.hideCheck)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",n.submittedBy!==o.contactID||3!==n.taskCategoryID)("ngModel",n.taskTitle)("ngModelOptions",i["\u0275\u0275pureFunction0"](17,Q))("ngClass",i["\u0275\u0275pureFunction1"](18,J,3==(null==n.toDoCanUpdate?null:n.toDoCanUpdate.taskStatusID)))("focus",null!==o.activityFocus&&o.activityFocus===t),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.unreadMessageCount),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",o.showDate),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",o.loggedBy),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!o.loggedBy),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",o.showStatus)}}function ee(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",26),i["\u0275\u0275element"](1,"i",27),i["\u0275\u0275elementEnd"]())}function te(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"td"),i["\u0275\u0275elementStart"](2,"div",66),i["\u0275\u0275elementStart"](3,"div",67),i["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),i["\u0275\u0275elementStart"](4,"input",24),i["\u0275\u0275listener"]("change",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"]().onStatusUpdate(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"label",25),i["\u0275\u0275text"](6," \xa0 "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"input",16),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"]().preventViewTask(t,n)})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().$implicit.taskTitle=t})("blur",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"]().blurActivity(t)})("onEvent",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"]().updateTask(t)})("keyup.enter",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"]().enterActivity(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,ee,2,0,"span",17),i["\u0275\u0275element"](9,"span",68),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](),t=e.$implicit,n=e.index,o=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275classProp"]("done",3==(null==t.toDoCanUpdate?null:t.toDoCanUpdate.taskStatusID)),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate1"]("id","box-",n,""),i["\u0275\u0275property"]("checked",3===(null==t.toDoCanUpdate?null:t.toDoCanUpdate.taskStatusID))("disabled",3!==t.taskCategoryID||!(null!=t.toDoCanUpdate&&t.toDoCanUpdate.taskOwnerID)||t.submittedBy!==o.contactID||!t.taskTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate1"]("for","box-",n,""),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",t.submittedBy!==o.contactID||3!==t.taskCategoryID)("ngModel",t.taskTitle)("ngModelOptions",i["\u0275\u0275pureFunction0"](12,Q))("ngClass",i["\u0275\u0275pureFunction1"](13,J,3==(null==t.toDoCanUpdate?null:t.toDoCanUpdate.taskStatusID)))("focus",null!==o.activityFocus&&o.activityFocus===n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.unreadMessageCount)}}function ne(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr",12),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"]().viewTaskProfile(n)}),i["\u0275\u0275template"](1,Z,10,20,"ng-container",2),i["\u0275\u0275template"](2,te,10,15,"ng-container",2),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("list-active-fill",n.activeTask&&n.activeTask.taskID===e.taskID)("unread-fill",e.unreadMessageCount),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.weekTodo),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.weekTodo)}}function ie(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",72),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"](2);return t.stopPropagation(),n.limit=!n.limit}),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.limit?"View All":"Hide"," ")}}function oe(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr",12),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().createTask()}),i["\u0275\u0275elementStart"](1,"td",69),i["\u0275\u0275elementStart"](2,"span",70),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,ie,2,1,"span",71),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("border-top-0",e.hideAddBorder),i["\u0275\u0275property"]("colSpan",e.showDate&&e.showStatus?5:e.showDate||e.showStatus?4:3),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.placeholder),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.limitEnabled&&e.tasks.length>3)}}let ae=(()=>{class e{constructor(e,t,n,o,a,r,s,l){this.taskService=e,this.router=t,this.modal=n,this.signalRService=o,this.discussionService=a,this.userService=r,this.renderer2=s,this.document=l,this.taskDeleted=new i.EventEmitter,this.taskUpdated=new i.EventEmitter,this.tasks=[],this.startDate=new Date,this.taskCategoryID=3,this.parentTaskID=0,this.referenceID=0,this.placeholder="Add a To Do",this.dateLabel="Due Date",this.ownerLabel="Owner",this.delegates=[],this.unreadNotifications=[],this.destroy$=new d.a}ngOnInit(){this.loadTasks&&this.getTasks(),this.taskEvents(),this.initSignalHub()}getTasks(){this.loading=!0,this.taskService.getTask(0,this.taskCategoryID,this.referenceID,this.contactID,0,0,0,0,!0,this.parentTaskID).pipe(Object(c.a)(this.destroy$)).subscribe(e=>{this.tasks=e.map(e=>{if(e.toDoCanUpdate=e.taskOwners.find(e=>e.contactID===this.contactID)||null,e.endDate){const t=new Date(e.endDate);e.endDateModel={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}}return e}),this.loading=!1})}createTask(e=null){if(this.checking)return;this.checking=!0,this.activityFocus=null;const t=new o.a;t.taskCategoryID=this.taskCategoryID,t.endDate=null,t.formID=0,t.submittedBy=this.contactID,t.companyID=this.companyID,t.parentTaskID=this.parentTaskID,t.endDate=Object(a.a)(new Date(this.startDate)),t.referenceID=this.referenceID,this.taskService.addTask(t).subscribe(n=>{t.taskID=n.inOut_TaskID;const i=new r.a;i.taskID=t.taskID,i.deadline=t.endDate,i.endDate=t.endDate,i.contactID=this.contactID,i.firstName=this.user.firstName,i.surname=this.user.surname,i.profilePhoto=this.user.profilePhoto,i.taskStatusID=1,this.delegates[0]&&(i.contactID=this.delegates[0].contactID,i.firstName=this.delegates[0].firstName,i.surname=this.delegates[0].surname,i.profilePhoto=this.delegates[0].profileImage),t.taskOwners=[i],t.toDoCanUpdate=i,this.saveOwnerPLan(i,t),null!==e?(this.tasks.splice(e+1,0,t),this.activityFocus=e+1):(this.tasks.push(t),this.activityFocus=this.tasks.length-1),this.checking=!1})}updateTask(e=0){const t=this.tasks[e];if(t.taskTitle){if(t.endDateModel){const e=new Date(t.endDateModel.year,t.endDateModel.month-1,t.endDateModel.day);t.endDate=Object(a.a)(e)}this.taskService.updateTask(t).subscribe(()=>{this.tasks[e]=t})}}saveOwnerPLan(e,t){const n=new r.a(e);n.taskOwnerCategoryID=t.taskCategoryID,n.deadline=t.endDate,n.endDate=t.endDate,n.taskID=t.taskID,this.taskService.addTaskOwner(n).subscribe(e=>{n.taskOwnerID=e.taskOwnerID;const i=this.tasks.findIndex(e=>e.taskID===t.taskID);if(-1!==i){const t=this.tasks[i].taskOwners.findIndex(e=>e.contactID===n.contactID);-1!==t&&(this.tasks[i].taskOwners[t].taskOwnerID=e.taskOwnerID,this.tasks[i].toDoCanUpdate=this.tasks[i].taskOwners.find(e=>e.contactID===this.contactID))}this.createDiscussion(n,t)})}createDiscussion(e,t){this.discussionService.insertDiscussion({discussionTopic:t.taskTitle,discussionCategoryID:6,referenceID:e.taskOwnerID,isDirectMessage:!0,discussionCreatedByContactID:this.contactID,discussionBody:t.taskDescription,parentDiscussionID:0}).subscribe(n=>{e.discussionID=n.discussionID;const i=t.taskOwners.findIndex(t=>t.taskOwnerID===e.taskOwnerID);-1!==i&&(t.taskOwners[i].discussionID=n.discussionID),this.onTaskUpdate(t),this.discussionService.addMember({discussionID:n.discussionID,contactID:e.contactID,isAdmin:!0}).subscribe()})}deleteActivity(e){const t=this.modal.open(s.a);t.componentInstance.objectType="Activity",t.componentInstance.objectDetails=this.tasks[e].taskTitle;const n=this.tasks[e].taskID;t.result.then(t=>{"Yes"===t&&this.taskService.deleteTask(n).subscribe(()=>{this.tasks.splice(e,1)})})}blurActivity(e){const t=this.tasks[e];!t.taskTitle&&t.taskID&&this.taskService.deleteTask(t.taskID).subscribe(()=>{this.tasks.splice(e,1)})}enterActivity(e){const t=this.tasks[e];t.taskTitle&&t.taskID&&this.createTask(e)}assignPlanOwner(e){const t=this.tasks[e],n=this.modal.open(l.a);this.delegates.length?(n.componentInstance.staticSelector=!0,n.componentInstance.contacts=this.delegates):n.componentInstance.teamMember=!0,n.componentInstance.singleTask=t.taskOwners.length<=1,n.componentInstance.selectedContacts=Object(a.l)(t.taskOwners),n.result.then(e=>{const n=t.taskOwners.filter(t=>!e.filter(e=>e.contactID===t.contactID).length);n.forEach(e=>{this.taskService.deleteTaskOwner(e).subscribe()}),n.length&&(t.taskOwners=t.taskOwners.filter(t=>e.filter(e=>e.contactID===t.contactID).length),this.taskService.storeTaskViewUpdateRx(),this.onTaskUpdate(t)),e.filter(e=>0===t.taskOwners.filter(t=>e.contactID===t.contactID).length).forEach(e=>{const n=new r.a(e);n.taskID=t.taskID,n.deadline=t.endDate,n.contactID=e.contactID,n.taskStatusID=1,t.taskOwners.push(n),this.saveOwnerPLan(n,t)})})}onStatusUpdate(e){const t=this.tasks[e];t.toDoCanUpdate.taskStatusID=3!==t.toDoCanUpdate.taskStatusID?3:1,t.dateSentForSignOff=Object(a.a)(new Date),this.taskService.updateTaskOwner(t.toDoCanUpdate).subscribe()}viewTaskProfile(e){[23,24].includes(e.taskCategoryID)&&e.referenceID||18===e.taskCategoryID&&e.referenceID?this.router.navigate(["/weekly-plan"],{queryParams:{eventID:e.referenceID}}):15===e.taskCategoryID&&e.referenceID?this.router.navigate(["review/stage",e.referenceID]):[4,32,38].includes(e.taskCategoryID)?this.router.navigate(["/task",e.taskID]):(e.unreadMessageCount=0,this.taskService.storeActiveTaskRx(e),this.userService.taskFullWidth&&this.renderer2.addClass(this.document.body,"hide-scrolls"))}taskEvents(){this.taskService.getActiveTaskRx().pipe(Object(c.a)(this.destroy$)).subscribe(e=>{this.activeTask=e}),this.taskService.getDeletedTaskRx().pipe(Object(c.a)(this.destroy$)).subscribe(e=>{this.onTaskDelete(e)}),this.taskService.getUpdatedTaskRx().pipe(Object(c.a)(this.destroy$)).subscribe(e=>{this.onTaskUpdate(e)})}onTaskUpdate(e){const t=this.tasks.findIndex(t=>t.taskID===e.taskID);if(e.toDoCanUpdate=e.taskOwners.find(e=>e.contactID===this.contactID),e.endDate){const t=new Date(e.endDate);e.endDateModel={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}}-1!==t&&(this.tasks[t]=e),this.taskUpdated.emit(e)}onTaskDelete(e){const t=this.tasks.findIndex(t=>t.taskID===e.taskID);-1!==t&&this.tasks.splice(t,1),this.taskDeleted.emit(e.taskID)}preventViewTask(e,t){3===t.taskCategoryID&&t.submittedBy===this.contactID&&e.stopPropagation()}voidFn(){}initSignalHub(){this.signalRService.transferMessageEvent.subscribe(e=>{var t;if("dashboard"===e.channel){const n=e.message;if(n.notificationType===p.a.taskUnreadMessage){const e=this.tasks.findIndex(e=>e.taskID===n.reference);-1===e||this.activeTask&&(null===(t=this.activeTask)||void 0===t?void 0:t.taskID)===n.reference||-1===this.unreadNotifications.findIndex(e=>e.reference===n.reference&&e.date===n.date)&&(this.unreadNotifications.push(n),this.tasks[e].unreadMessageCount=(this.tasks[e].unreadMessageCount||0)+1)}}})}get sliceLimit(){return this.limit?3:this.tasks.length}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.taskService.storeActiveTaskRx(null),this.renderer2.removeClass(this.document.body,"hide-scrolls")}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](u.a),i["\u0275\u0275directiveInject"](h.c),i["\u0275\u0275directiveInject"](f.p),i["\u0275\u0275directiveInject"](g.a),i["\u0275\u0275directiveInject"](v.a),i["\u0275\u0275directiveInject"](y.a),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](m.d))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-weekly-todo"]],inputs:{tasks:"tasks",startDate:"startDate",contactID:"contactID",companyID:"companyID",taskCategoryID:"taskCategoryID",user:"user",parentTaskID:"parentTaskID",referenceID:"referenceID",loadTasks:"loadTasks",disableAdd:"disableAdd",showHeader:"showHeader",showDate:"showDate",showStatus:"showStatus",placeholder:"placeholder",dateLabel:"dateLabel",ownerLabel:"ownerLabel",loggedBy:"loggedBy",hideCheck:"hideCheck",regularDate:"regularDate",noYear:"noYear",hideAddBorder:"hideAddBorder",weekTodo:"weekTodo",limitEnabled:"limitEnabled",limit:"limit",delegates:"delegates"},outputs:{taskDeleted:"taskDeleted",taskUpdated:"taskUpdated"},decls:7,vars:10,consts:[[1,"d-flex","w-100",3,"avnonLoader"],[1,"table","todo-table","mb-0","table-bordered","border-left-0","border-right-0"],[4,"ngIf"],[3,"list-active-fill","unread-fill","click",4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],["class","text-muted pr-0",4,"ngIf"],[1,"text-muted","pl-1",3,"ngClass"],["class","text-muted text-nowrap",4,"ngIf"],[1,"text-muted","text-nowrap"],["class","text-muted",4,"ngIf"],[1,"text-muted","pr-0"],[1,"text-muted"],[3,"click"],["class","pr-0 border-right-0 check-td",3,"border-top-0","click",4,"ngIf"],[1,"border-left-0","w-100",3,"ngClass"],[1,"d-flex","align-items-center"],["type","text","required","","appKeyupDebounce","","placeholder","Activity Title",1,"form-control",3,"disabled","ngModel","ngModelOptions","ngClass","focus","click","ngModelChange","blur","onEvent","keyup.enter"],["class","bg-white pl-1 pr-1 align-items-center d-flex ml-2",4,"ngIf"],["class","text-nowrap",3,"border-top-0",4,"ngIf"],["class","loggedBy",4,"ngIf"],["class","",3,"border-top-0",4,"ngIf"],[3,"border-top-0",4,"ngIf"],[1,"pr-0","border-right-0","check-td",3,"click"],[1,"custom-control","custom-checkbox","mb-1"],["type","checkbox",1,"custom-control-input",3,"checked","disabled","id","change"],[1,"custom-control-label",3,"for"],[1,"bg-white","pl-1","pr-1","align-items-center","d-flex","ml-2"],[1,"fas","fa-comment-alt","text-primary"],[1,"text-nowrap"],["class","d-flex align-items-center",3,"click",4,"ngIf"],["class","fz13",4,"ngIf"],[1,"d-flex","align-items-center",3,"click"],[1,"cursor-pointer","fz13",3,"click"],["datePickerEl",""],["placeholder","Select date","id","date","ngbDatepicker","","container","body","type","hidden",1,"form-control",3,"ngModel","disabled","positionTarget","ngModelChange"],["ngbDatepicker","ngbDatepicker"],[1,"fz13"],[1,"loggedBy"],[1,"d-flex","align-items-center","owner-with-detail"],[1,"count-placeholder","position-relative"],["class","avatar-30",3,"ngbTooltip",4,"ngIf"],["class","avatar-initial avatar-initial-30",3,"ngbTooltip",4,"ngIf"],["class","ml-2",3,"click",4,"ngIf"],[1,"avatar-30",3,"ngbTooltip"],["alt","",1,"img-thumbnail","p-0",3,"src"],[1,"avatar-initial","avatar-initial-30",3,"ngbTooltip"],[1,"ml-2",3,"click"],[1,"view-detail",3,"click"],[1,"fas","fa-chevron-right"],[1,""],[1,"count-placeholder","position-relative",3,"click"],["class","avatar-initial avatar-initial-30",4,"ngIf"],["class","count count-30",4,"ngIf"],[1,"avatar-initial","avatar-initial-30"],[1,"count","count-30"],[1,"d-flex","flex-column","align-items-start"],["class","tag tag-blue tag-filled",4,"ngIf"],["class","tag tag-orange tag-filled",4,"ngIf"],["class","tag tag-green tag-filled",4,"ngIf"],["class","tag tag-yellow tag-filled",4,"ngIf"],["class","tag tag-red tag-filled mt-1",4,"ngIf"],[1,"tag","tag-blue","tag-filled"],[1,"tag","tag-orange","tag-filled"],[1,"tag","tag-green","tag-filled"],[1,"tag","tag-yellow","tag-filled"],[1,"tag","tag-red","tag-filled","mt-1"],[1,"d-flex","align-items-center","todo-holder"],[1,"custom-control","custom-checkbox","mb-1",3,"click"],[1,"fas","fa-chevron-right","cursor-pointer","ml-2"],[1,"pt-2","pb-2",3,"colSpan"],[1,"font-weight-light","text-muted"],["class","cursor-pointer text-primary ml-4",3,"click",4,"ngIf"],[1,"cursor-pointer","text-primary","ml-4",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"table",1),i["\u0275\u0275template"](2,O,9,8,"thead",2),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,ne,3,6,"tr",3),i["\u0275\u0275pipe"](5,"slice"),i["\u0275\u0275template"](6,oe,5,5,"tr",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("avnonLoader",t.loading),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("check-hide",t.hideCheck),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showHeader),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind3"](5,6,t.tasks,0,t.sliceLimit)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.disableAdd))},directives:[b.a,m.n,m.m,m.l,I.b,I.A,x.a,I.q,I.t,S.a,f.o,f.C],pipes:[m.v,C.a,D.a],styles:[".todo-holder[_ngcontent-%COMP%]{background:#3457d4;border-radius:5px;padding:4px 6px}.todo-holder[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{color:#fff}.todo-holder[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#d4d4d4}.todo-holder.done[_ngcontent-%COMP%]{background:#5d79dd}"]}),e})()},VQo2:function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{constructor(){this.actualAmount=null,this.capturedBy=null,this.companyFinancialID=null,this.companyID=null,this.companyID1=null,this.dateRecorded=null,this.financialCategory=null,this.financialCategoryCode=null,this.financialCategoryID=null,this.financialCategoryID1=null,this.financialCategoryMasterID=null,this.financialCategoryTypeID=null,this.monthID=null,this.yearID=null,this.companyName=null,this.companyLogo=null,this.incomeAmount=null,this.budgetAmount=null,this.expenseAmount=null,this.profitAmount=null,this.month=null}}},W4rt:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("fXoL"),o=n("1kSV"),a=n("3Pt+");const r=function(){return{standalone:!0}};let s=(()=>{class e{constructor(e){this.activeModal=e,this.title="Reminder"}ngOnInit(){}dismiss(){this.activeModal.dismiss()}onSubmit(){this.commentText&&this.activeModal.close({commentText:this.commentText,isSentMail:this.isSentMail})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-generic-reminder-dialog"]],decls:20,vars:6,consts:[[1,"modal-header"],["id","postModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["f","ngForm"],[1,"form-group"],[1,"m-0"],["name","commentText","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","flex-column"],[1,"custom-control","custom-checkbox","mr-2"],["id","sen_mail","type","checkbox",1,"custom-control-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","sen_mail",1,"custom-control-label"],["type","button",1,"btn","btn-primary","ml-auto",3,"disabled","click"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h5",1),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",2),i["\u0275\u0275listener"]("click",function(){return t.dismiss()}),i["\u0275\u0275elementStart"](4,"span",3),i["\u0275\u0275text"](5,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"form",null,5),i["\u0275\u0275elementStart"](9,"div",6),i["\u0275\u0275elementStart"](10,"label",7),i["\u0275\u0275text"](11,"Comment"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"textarea",8),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.commentText=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",9),i["\u0275\u0275elementStart"](14,"div",10),i["\u0275\u0275elementStart"](15,"input",11),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.isSentMail=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"label",12),i["\u0275\u0275text"](17," Also send as email "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"button",13),i["\u0275\u0275listener"]("click",function(){return t.onSubmit()}),i["\u0275\u0275text"](19," Submit "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275reference"](8);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.title," "),i["\u0275\u0275advance"](10),i["\u0275\u0275property"]("ngModel",t.commentText),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",t.isSentMail)("ngModelOptions",i["\u0275\u0275pureFunction0"](5,r)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("disabled",!e.valid)}},directives:[a.E,a.r,a.s,a.b,a.A,a.q,a.t,a.a],styles:[""]}),e})()},WJ6P:function(e,t,n){"use strict";t.a=function(){return[]}},WOAq:function(e,t,n){"use strict";(function(e){var i=n("Ju5/"),o=n("L3Qv"),a="object"==typeof exports&&exports&&!exports.nodeType&&exports,r=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=r&&r.exports===a?i.a.Buffer:void 0;t.a=(s?s.isBuffer:void 0)||o.a}).call(this,n("3UD+")(e))},WZWj:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});class i{constructor(){this.sentimentID=null,this.contactID=null,this.sentimentRatingID=null,this.comment=null,this.datePosted=null,this.firstname=null,this.surname=null,this.designation=null,this.contactID1=null,this.companyName=null,this.programInstanceTitle=null,this.programStageTitle=null,this.programTitle=null,this.companyLocation=null,this.referenceID=null,this.sentimentCategoryID=null,this.createdByCompanyID=null,this.placeholder=null,this.label=null,this.createdByContactID=null,this.profilePhoto=null,this.sentimentDetail=null}}var o=function(e){return e[e.customerSatisfaction=2]="customerSatisfaction",e[e.customerReview=3]="customerReview",e[e.mentorFeedback=5]="mentorFeedback",e[e.menteeFeedback=6]="menteeFeedback",e[e.riskExcellingOverall=7]="riskExcellingOverall",e[e.eventFeedback=8]="eventFeedback",e[e.salesReview=9]="salesReview",e[e.customerSatisfactionReview=10]="customerSatisfactionReview",e[e.demandReview=11]="demandReview",e[e.teamCapacityReview=12]="teamCapacityReview",e[e.overallStabilityReview=13]="overallStabilityReview",e[e.howMonthGo=14]="howMonthGo",e}({})},XAmU:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n("AytR"),o=n("lJxs"),a=n("tk/3"),r=n("XNiG"),s=n("fujP"),l=n("OZf9");class c{constructor(e,t=null){if(this.discussionID=null,this.discussionItemID=null,this.discussionItem=null,this.discussionItemPostedByContactID=null,this.firstName=null,this.surname=null,this.isFileShare=null,this.profilePhoto=null,this.discussionItemPostedDate=null,this.totalRecords=null,this.isShowGroupDate=!1,this.isNotSameContact=!0,this.isEditMode=null,this.isEdited=null,this.thumbnail=null,this.orginal=null,this.numberOfComments=null,this.isComment=null,this.discussionRefer=null,this.editMessageContent=null,this.discussionItemModified=null,this.isImageFile=!1,this.isYoutubeUrl=!1,this.isShowReply=!1,this.documents=[],this.isRichEditor=!1,this.senderName=null,!s.a(e)){const n=this;if(l.a(e,function(e,t){n.hasOwnProperty(t)&&(n[t]=e)}),this.discussionItemModified=e.discussionItem,e.isFileShare)for(const e of this.documents){e.orginal=i.a.apiBlobUrl+"/"+e.documentPath;const n=e.documentPath.substring(e.documentPath.lastIndexOf(".")+1);if(-1!==["jpg","jpeg","png","gif"].indexOf(n.toLowerCase()))e.fileType="photo",e.thumbnail=!0===t?i.a.apiBlobUrl+"/"+e.documentPath:i.a.apiBlobUrl+"/256px/"+e.documentPath;else switch(e.thumbnail=i.a.apiBlobUrl+"/"+e.documentPath,n.toLowerCase()){case"pptx":case"ppt":e.fileType="powerpoint";break;case"xls":case"xlsx":console.log("---------"),e.fileType="excel";break;case"doc":case"docx":e.fileType="word";break;default:e.fileType="other"}}this.discussionItemModified=this.discussionItemModified.replace(/\:\)/gi,'<img src="assets/img/smiling.svg" width="20">'),this.discussionItemModified=this.discussionItemModified.replace(/\;\)/gi,'<img src="assets/img/wink.svg" width="20">'),this.discussionItemModified=this.discussionItemModified.replace(/\:\(/gi,'<img src="assets/img/sad.svg" width="20">'),this.discussionItemModified=this.discussionItemModified.replace(/\:D/gi,'<img src="assets/img/happy-3.svg" width="20">'),this.discussionItemModified=this.discussionItemModified.replace(/\:d/gi,'<img src="assets/img/happy-3.svg" width="20">'),this.discussionItemModified=this.discussionItemModified.replace(/\;\(/gi,'<img src="assets/img/crying.svg" width="20">'),this.discussionItemModified=this.discussionItemModified.replace(/\(angry\)/gi,'<img src="assets/img/angry.svg" width="20">'),this.discussionItemModified=this.discussionItemModified.replace(/\(inlove\)/gi,'<img src="assets/img/in-love.svg" width="20">'),this.discussionItemModified=this.discussionItemModified.replace(/\:x/gi,'<img src="assets/img/quiet.svg" width="20">')}}}var d=n("fXoL");let p=(()=>{class e{constructor(e){this.http=e,this.BaseURI=i.a.apiUrl,this.refreshSentiment=new r.a}getAllDiscussion(e,t,n,i=0,o=1,a=100,r=0,s=0,l=0){return this.http.get(this.BaseURI+"/discussion/all?ContactID="+e+"&ReferenceID="+t+"&DiscussionCategoryID="+n+"&ReplyDiscussionID="+i+"&PageIndex="+o+"&PageSize="+a+"&DiscussionAudienceID="+r+"&ParentDiscussionID="+s+"&DiscussionID="+l)}createDiscussion(e){return this.http.post(this.BaseURI+"/discussion",e)}createDiscussionAudience(e){return this.http.post(this.BaseURI+"/discussion/audience",e)}updateDiscussionAudience(e){return this.http.put(this.BaseURI+"/discussion/audience",e)}createDiscussionMember(e){return this.http.post(this.BaseURI+"/discussion/member",e)}getDiscussionItems(e){return this.http.get(`${this.BaseURI}/discussion/item/all/${e}`).pipe(Object(o.a)(e=>e.map(e=>new c(e))))}getDiscussionAudience(e=0,t=0,n=0,i=0){return this.http.get(`${this.BaseURI}/discussion/audience?discussionID=${e}&referenceID=${t}&discussionAudienceCategoryID=${n}&discussionAudienceID=${i}`)}deleteDiscussionItem(e){return this.http.delete(`${this.BaseURI}/discussion/item/${e}`).pipe(Object(o.a)(e=>e))}deleteDiscussionAudience(e){return this.http.delete(`${this.BaseURI}/discussion/audience/${e}`)}createDirectMessage(e){return this.http.post(this.BaseURI+"/discussion",e)}sendMessage(e){return this.http.post(this.BaseURI+"/discussion/item",e)}fetchDiscussions(e,t,n,r=0,s=0,l=0,c=1,d=100,p=0){const m={ContactID:String(e),ReferenceID:String(t),DiscussionCategoryID:String(n),ParentDiscussionID:String(r),DiscussionID:String(s),ReplyDiscussionID:String(l),PageIndex:String(c),PageSize:String(d),DiscussionAudienceID:String(p)},u=new a.g({fromObject:m});return this.http.get(i.a.apiUrl+"/Discussion/all",{params:u}).pipe(Object(o.a)(e=>e.map(e=>(e.replyDisussionID=e.replyDiscussionID,e))))}getAllMembers(e){return this.http.get(`${i.a.apiUrl}/Discussion/member/all/${e}`)}insertDiscussion(e){return this.http.post(i.a.apiUrl+"/Discussion",e).pipe(Object(o.a)(e=>(e.discussionID=e.inOut_DiscussionID,e)))}updateDiscussion(e){return this.http.put(i.a.apiUrl+"/Discussion",e)}deleteDiscussion(e){return this.http.delete(`${i.a.apiUrl}/Discussion/${e}`)}addMember(e){return this.http.post(i.a.apiUrl+"/Discussion/member",e)}updateMember(e){return this.http.put(i.a.apiUrl+"/Discussion/member",e)}deleteMember(e,t){return this.http.delete(`${i.a.apiUrl}/Discussion/member?discussionID=${e}&contactID=${t}`)}getDiscussionByContact(e){const t=new a.g({fromObject:e});return this.http.get(i.a.apiUrl+"/Discussion/bycontact",{params:t})}getDiscussionDetails(e){const t=new a.g({fromObject:e});return this.http.get(i.a.apiUrl+"/Discussion/details",{params:t})}getMasterDiscussions(e){const t=new a.g({fromObject:e});return this.http.get(i.a.apiUrl+"/Discussion/master",{params:t})}getNewsDiscussions(e,t=0){return this.http.get(this.BaseURI+`/Discussion/news?contactID=${e}&discussionID=${t}`)}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275inject"](a.b))},e.\u0275prov=d["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},XIp8:function(e,t,n){"use strict";var i=n("oSzE"),o=n("ILaC"),a=n("Y7yP"),r=function(){try{var e=Object(a.a)(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),s=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},l=n("YHEm"),c=Object.prototype.hasOwnProperty,d=function(e,t,n){var i=e[t];c.call(e,t)&&Object(l.a)(i,n)&&(void 0!==n||t in e)||s(e,t,n)},p=function(e,t,n,i){var o=!n;n||(n={});for(var a=-1,r=t.length;++a<r;){var l=t[a],c=i?i(n[l],e[l],l,n,e):void 0;void 0===c&&(c=e[l]),o?s(n,l,c):d(n,l,c)}return n},m=n("mkut"),u=n("7gMY"),h=n("IzLi"),f=n("pyRK"),g=Object.prototype.hasOwnProperty,v=n("5WsY"),y=function(e){return Object(v.a)(e)?Object(u.a)(e,!0):function(e){if(!Object(h.a)(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Object(f.a)(e),n=[];for(var i in e)("constructor"!=i||!t&&g.call(e,i))&&n.push(i);return n}(e)},b=n("3/ER"),I=n("jN84"),x=n("tPH9"),S=n("U6JX"),C=Object(S.a)(Object.getPrototypeOf,Object),D=n("WJ6P"),w=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Object(x.a)(t,Object(I.a)(e)),e=C(e);return t}:D.a,k=n("TFwu"),E=n("25cm"),M=function(e){return Object(E.a)(e,y,w)},O=n("YM6B"),P=Object.prototype.hasOwnProperty,T=n("Ce4a"),A=function(e){var t=new e.constructor(e.byteLength);return new T.a(t).set(new T.a(e)),t},_=/\w*$/,F=n("ylTp"),R=F.a?F.a.prototype:void 0,L=R?R.valueOf:void 0,V=Object.create,j=function(){function e(){}return function(t){if(!Object(h.a)(t))return{};if(V)return V(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),B=n("/1FC"),N=n("WOAq"),U=n("EUcb"),G=n("ovuK"),$=n("xutz"),H=$.a&&$.a.isMap,q=H?Object(G.a)(H):function(e){return Object(U.a)(e)&&"[object Map]"==Object(O.a)(e)},z=$.a&&$.a.isSet,W=z?Object(G.a)(z):function(e){return Object(U.a)(e)&&"[object Set]"==Object(O.a)(e)},X="[object Arguments]",Y="[object Function]",K="[object Object]",Q={};Q[X]=Q["[object Array]"]=Q["[object ArrayBuffer]"]=Q["[object DataView]"]=Q["[object Boolean]"]=Q["[object Date]"]=Q["[object Float32Array]"]=Q["[object Float64Array]"]=Q["[object Int8Array]"]=Q["[object Int16Array]"]=Q["[object Int32Array]"]=Q["[object Map]"]=Q["[object Number]"]=Q[K]=Q["[object RegExp]"]=Q["[object Set]"]=Q["[object String]"]=Q["[object Symbol]"]=Q["[object Uint8Array]"]=Q["[object Uint8ClampedArray]"]=Q["[object Uint16Array]"]=Q["[object Uint32Array]"]=!0,Q["[object Error]"]=Q[Y]=Q["[object WeakMap]"]=!1;var J=function e(t,n,a,r,s,l){var c,u=1&n,g=2&n,v=4&n;if(a&&(c=s?a(t,r,s,l):a(t)),void 0!==c)return c;if(!Object(h.a)(t))return t;var x=Object(B.a)(t);if(x){if(c=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&P.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!u)return function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}(t,c)}else{var S=Object(O.a)(t),D=S==Y||"[object GeneratorFunction]"==S;if(Object(N.a)(t))return Object(b.a)(t,u);if(S==K||S==X||D&&!s){if(c=g||D?{}:function(e){return"function"!=typeof e.constructor||Object(f.a)(e)?{}:j(C(e))}(t),!u)return g?function(e,t){return p(e,w(e),t)}(t,function(e,t){return e&&p(t,y(t),e)}(c,t)):function(e,t){return p(e,Object(I.a)(e),t)}(t,function(e,t){return e&&p(t,Object(m.a)(t),e)}(c,t))}else{if(!Q[S])return s?t:{};c=function(e,t,n){var i,o,a=e.constructor;switch(t){case"[object ArrayBuffer]":return A(e);case"[object Boolean]":case"[object Date]":return new a(+e);case"[object DataView]":return function(e,t){var n=t?A(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?A(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case"[object Map]":return new a;case"[object Number]":case"[object String]":return new a(e);case"[object RegExp]":return(o=new(i=e).constructor(i.source,_.exec(i))).lastIndex=i.lastIndex,o;case"[object Set]":return new a;case"[object Symbol]":return L?Object(L.call(e)):{}}}(t,S,u)}}l||(l=new i.a);var E=l.get(t);if(E)return E;l.set(t,c),W(t)?t.forEach(function(i){c.add(e(i,n,a,i,t,l))}):q(t)&&t.forEach(function(i,o){c.set(o,e(i,n,a,o,t,l))});var T=x?void 0:(v?g?M:k.a:g?y:m.a)(t);return Object(o.a)(T||t,function(i,o){T&&(i=t[o=i]),d(c,o,e(i,n,a,o,t,l))}),c};t.a=function(e){return J(e,5)}},Xdyb:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n("AytR"),o=n("7NV6"),a=n("Wgwc"),r=n("BN3N"),s=n("fXoL"),l=n("Np2A"),c=n("kmKP"),d=n("ofXK");const p=["videoStream"];function m(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",7),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](e.document.documentTitle)}}function u(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",8),s["\u0275\u0275elementStart"](1,"button",9),s["\u0275\u0275listener"]("click",function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"](2).download()}),s["\u0275\u0275text"](2,"Download"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function h(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",1),s["\u0275\u0275template"](1,m,2,1,"div",2),s["\u0275\u0275elementStart"](2,"video",3,4),s["\u0275\u0275elementStart"](4,"p",5),s["\u0275\u0275text"](5," To view this video please enable JavaScript, and consider upgrading to a web browser that supports HTML5 video "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](6,u,3,0,"div",6),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.showTitle),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngIf",e.downloadAvailable&&e.document.documentPath)}}let f=(()=>{class e{constructor(e,t){this.auditService=e,this.userService=t,this.showTitle=!1,this.autoplay=!0,this.ampLink="",this.apiBlobUrl=i.a.apiBlobUrl,this.isPlayVideo=!1,this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID}ngOnInit(){this.isPlayVideo=this.canPlayVideo(),this.isPlayVideo&&setTimeout(()=>{var e;const t=amp(this.videoStreamPlayer.nativeElement,{nativeControlsForTouch:!1,controls:!0,autoplay:this.autoplay,width:"100%",height:"400"}),n=[],i={src:(null===(e=this.document)||void 0===e?void 0:e.ampLink)||this.ampLink,type:"application/vnd.ms-sstr+xml"};n.push(i),t.src(n);const o=this;t.addEventListener(amp.eventName.ended,o.ampEventHandler.bind(this)),t.addEventListener(amp.eventName.pause,o.ampEventHandler.bind(this)),t.addEventListener(amp.eventName.play,o.ampEventHandler.bind(this)),t.addEventListener(amp.eventName.playing,o.ampEventHandler.bind(this)),this.playerInstance=t})}canPlayVideo(){var e;return this.document&&(null===(e=this.document.documentType)||void 0===e?void 0:e.includes("video"))&&null!==this.document.ampLink||!!this.ampLink}download(){window.open(this.apiBlobUrl+"/"+this.document.documentPath,"_blank")}ampEventHandler(e){if(e.type&&this.trackAudit){const t=a().utc().format(r.c);switch(e.type){case"play":this.startTime=t;break;case"playing":break;case"pause":this.pauseTime=t;break;case"ended":this.endTime=t,this.postAudit()}}}postAudit(){var e;let t="Start: "+this.startTime;this.pauseTime&&(t+=" Pause: "+this.pauseTime),this.endTime&&(t+=" End: "+this.endTime);const n=new o.a;n.contactID=this.contactID,n.masterCompanyID=this.companyID,n.auditCategoryID=2,n.detail=t,n.userOS=null===navigator||void 0===navigator?void 0:navigator.userAgent,n.userDevice=null===navigator||void 0===navigator?void 0:navigator.userAgent,n.referenceID=(null===(e=this.document)||void 0===e?void 0:e.documentID)||0,n.dateLoggedStart=this.startTime,n.dateLoggedEnd=this.endTime,this.auditService.postAudit(n).subscribe()}ngOnDestroy(){this.playerInstance&&this.playerInstance.dispose(),this.trackAudit&&this.startTime&&this.endTime&&(this.endTime=a().utc().format(r.c),this.postAudit())}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](l.a),s["\u0275\u0275directiveInject"](c.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["media-player"]],viewQuery:function(e,t){if(1&e&&s["\u0275\u0275viewQuery"](p,!0),2&e){let e;s["\u0275\u0275queryRefresh"](e=s["\u0275\u0275loadQuery"]())&&(t.videoStreamPlayer=e.first)}},inputs:{document:"document",showTitle:"showTitle",downloadAvailable:"downloadAvailable",autoplay:"autoplay",trackAudit:"trackAudit",ampLink:"ampLink"},decls:1,vars:1,consts:[["class","w-100",4,"ngIf"],[1,"w-100"],["class","documentTitle",4,"ngIf"],["controls","",1,"azuremediaplayer","amp-default-skin"],["videoStream",""],[1,"amp-no-js"],["class","download p-2",4,"ngIf"],[1,"documentTitle"],[1,"download","p-2"],[1,"btn","btn-outline-primary","btn-sm",3,"click"]],template:function(e,t){1&e&&s["\u0275\u0275template"](0,h,7,2,"div",0),2&e&&s["\u0275\u0275property"]("ngIf",t.isPlayVideo)},directives:[d.n],encapsulation:2}),e})()},XqMk:function(e,t,n){"use strict";var i="object"==typeof global&&global&&global.Object===Object&&global;t.a=i},"Xwq/":function(e,t,n){"use strict";var i=n("FWf1"),o=n("p//D"),a=n("GiSu");t.toSubscriber=function(e,t,n){if(e){if(e instanceof i.Subscriber)return e;if(e[o.rxSubscriber])return e[o.rxSubscriber]()}return e||t||n?new i.Subscriber(e,t,n):new i.Subscriber(a.empty)}},Y7yP:function(e,t,n){"use strict";var i,o=n("vJtL"),a=n("Ju5/").a["__core-js_shared__"],r=(i=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",s=n("IzLi"),l=n("dLWn"),c=/^\[object .+?Constructor\]$/,d=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.a=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Object(s.a)(e)||(t=e,r&&r in t))&&(Object(o.a)(e)?d:c).test(Object(l.a)(e));var t}(n)?n:void 0}},YHEm:function(e,t,n){"use strict";t.a=function(e,t){return e===t||e!=e&&t!=t}},YM6B:function(e,t,n){"use strict";var i=n("Y7yP"),o=n("Ju5/"),a=Object(i.a)(o.a,"DataView"),r=n("3cmB"),s=Object(i.a)(o.a,"Promise"),l=Object(i.a)(o.a,"Set"),c=Object(i.a)(o.a,"WeakMap"),d=n("8M4i"),p=n("dLWn"),m="[object Map]",u="[object Promise]",h="[object Set]",f="[object WeakMap]",g="[object DataView]",v=Object(p.a)(a),y=Object(p.a)(r.a),b=Object(p.a)(s),I=Object(p.a)(l),x=Object(p.a)(c),S=d.a;(a&&S(new a(new ArrayBuffer(1)))!=g||r.a&&S(new r.a)!=m||s&&S(s.resolve())!=u||l&&S(new l)!=h||c&&S(new c)!=f)&&(S=function(e){var t=Object(d.a)(e),n="[object Object]"==t?e.constructor:void 0,i=n?Object(p.a)(n):"";if(i)switch(i){case v:return g;case y:return m;case b:return u;case I:return h;case x:return f}return t}),t.a=S},ZLSo:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("ofXK"),o=n("fXoL");let a=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})()},cC3c:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("fXoL"),o=n("1kSV");let a=(()=>{class e{constructor(e){this.activeModal=e,this.memberUpdate=new i.EventEmitter}ngOnInit(){}onMemberUpdate(){this.memberUpdate.emit(!0)}dismiss(){this.activeModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-none-active-team"]],outputs:{memberUpdate:"memberUpdate"},decls:8,vars:6,consts:[[1,"modal-header"],["id","postModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","pl-0","pr-0","pt-1"],[3,"allowFilter","canEdit","tabActive","companyID","companyName","memberUpdate"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h1",1),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",2),i["\u0275\u0275listener"]("click",function(){return t.dismiss()}),i["\u0275\u0275elementStart"](4,"span",3),i["\u0275\u0275text"](5,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"app-team",5),i["\u0275\u0275listener"]("memberUpdate",function(){return t.onMemberUpdate()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.companyName," - Inactive Team Members "),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("allowFilter",!1)("canEdit",!0)("tabActive",3)("companyID",t.companyID)("companyName",t.companyName))},styles:[".modal-body[_ngcontent-%COMP%]{min-height:300px}"]}),e})()},cxbk:function(e,t,n){"use strict";n.d(t,"a",function(){return i});const i={production:!0,urlInvites:"https://localhost:8000/invitation",apiUrl:"https://api.incubatorportal.com/api",apiBlobUrl:"https://avnonportalstorage.blob.core.windows.net/avnon-api-v2",signalR:"https://api.incubatorportal.com/signalr/channel?token=",imgGenUrl:"https://identicon.org",dateFormat:"DD MMM YYYY",API_KEY:"AIzaSyBYD2dWthFTQ5G-UqZvxUTS-yQoqP7864k",API_KEY_TINYMCE:"c414qe234ro81vzb228jv8l9goumusxggavq7vdgun8c6to9",sampleData:"https://localhost:4200/assets/json/sample.json",programData:"Company/program/all/1058",locationData:"Company/location/all/1058",instanceData:"Company/program/instance/all/1089",host:"https://api.incubatorportal.com/api/",token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiIzMjYxIiwiZXhwIjoxNTc3MTE3NzIzLCJpc3MiOiJBdm5vbiIsImF1ZCI6IkF2bm9uIn0.RLEeBpJAUBgq_BpK3uHGsDJzdFv_03XGUVZpVrKaiFg",linkPreviewApi:"https://api.linkpreview.net/",reportServer:"https://avnon.co:8000/reportserver",domainName:"Avnon",linkedInUrl:"https://www.linkedin.com/company/avnon-consulting/",twitterUrl:"https://www.linkedin.com/company/avnon-consulting/",companyAddress:"Level 24-01, CapitaGreen, 138 Market Street, Singapore 048946",companyPhone:"+65 6679 6190",companyEmail:"info@avnon.co",systemEmail:"info@avnon.co",danielEmail:"daniel@avnon.co"}},dLWn:function(e,t,n){"use strict";var i=Function.prototype.toString;t.a=function(e){if(null!=e){try{return i.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},ds6q:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=n("Q1FS"),a=n("FWf1"),r=n("zB/H"),s=n("Mxlh"),l=n("FiyT"),c=n("p//D"),d=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return i(t,e),t}(a.Subscriber);t.SubjectSubscriber=d;var p=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return i(t,e),t.prototype[c.rxSubscriber]=function(){return new d(this)},t.prototype.lift=function(e){var t=new m(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),o=0;o<n;o++)i[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),o=0;o<n;o++)i[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),r.Subscription.EMPTY):this.isStopped?(e.complete(),r.Subscription.EMPTY):(this.observers.push(e),new l.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new o.Observable;return e.source=this,e},t.create=function(e,t){return new m(e,t)},t}(o.Observable);t.Subject=p;var m=function(e){function t(t,n){var i=e.call(this)||this;return i.destination=t,i.source=n,i}return i(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):r.Subscription.EMPTY},t}(p);t.AnonymousSubject=m},e6FA:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("lJxs"),o=n("GUj1"),a=n("AytR"),r=n("tk/3"),s=n("HNxE"),l=n("fXoL");let c=(()=>{class e{constructor(e){this.http=e,this.BaseURI=a.a.apiUrl}getLocations(e){return this.http.get(this.BaseURI+"/company/location/all/"+e)}getUserLocation(e){return this.http.get(`${this.BaseURI}/User/company/location?UserID=${e}`)}getLocationContacts(e){return this.http.get(`${this.BaseURI}/company/location/contact/all/${e}`).pipe(Object(i.a)(e=>e.map(e=>new s.a(e))))}getCompanyLocationProfile(e){return this.http.get(`${this.BaseURI}/company/location/${e}`).pipe(Object(i.a)(e=>new o.a(e)))}deleteCompanyLocation(e){return this.http.delete(`${this.BaseURI}/Company/location/${e}`).pipe(Object(i.a)(e=>e))}updateCompanyLocation(e){return this.http.put(this.BaseURI+"/Company/location",e).pipe(Object(i.a)(e=>e))}createCompanyLocation(e){return this.http.post(this.BaseURI+"/Company/location",e).pipe(Object(i.a)(e=>e))}insertCompanyLocationContact(e){return this.http.post(this.BaseURI+"/company/location/contact",e)}deleteCompanyLocationContact(e){return this.http.delete(`${this.BaseURI}/Company/location/contact/${e}`).pipe(Object(i.a)(e=>e))}addCompanyLocationContacts(e){return this.http.post(this.BaseURI+"/Company/location/contact/batch",e).pipe(Object(i.a)(e=>e))}deleteContacts(e){var t={headers:new r.f({"Content-Type":"application/json"}),body:e};return this.http.delete(this.BaseURI+"/Company/location/contact",t)}getContacts(e){return this.http.get(`${this.BaseURI}/company/location/contact/all/${e}`).pipe(Object(i.a)(e=>e.map(e=>new s.a(e))))}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275inject"](r.b))},e.\u0275prov=l["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},enax:function(e,t,n){"use strict";n.d(t,"a",function(){return De});var i=n("fXoL"),o=n("rOaL"),a=n("mwbx"),r=n("cxbk"),s=n("Xdyb"),l=n("1G5W"),c=n("XNiG"),d=n("8J6U"),p=n("esnG"),m=n("1kSV"),u=n("ofXK"),h=n("Rarl");function f(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",8),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).showAll()}),i["\u0275\u0275text"](1,"Edit All "),i["\u0275\u0275elementEnd"]()}}function g(e,t){1&e&&i["\u0275\u0275elementContainer"](0)}function v(e,t){1&e&&i["\u0275\u0275elementContainer"](0)}const y=function(){return{index:1}};function b(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",13),i["\u0275\u0275template"](1,v,1,0,"ng-container",11),i["\u0275\u0275elementEnd"]()),2&e){i["\u0275\u0275nextContext"](3);const e=i["\u0275\u0275reference"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngTemplateOutlet",e)("ngTemplateOutletContext",i["\u0275\u0275pureFunction0"](2,y))}}function I(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",15),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).viewImage(3)}),i["\u0275\u0275elementStart"](1,"div",16),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" +",(null==e.images?null:e.images.length)-3," ")}}function x(e,t){1&e&&i["\u0275\u0275elementContainer"](0)}const S=function(){return{index:2}};function C(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",13),i["\u0275\u0275template"](1,I,3,1,"div",14),i["\u0275\u0275template"](2,x,1,0,"ng-container",11),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3),t=i["\u0275\u0275reference"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(null==e.images?null:e.images.length)>3&&!e.isShowAll),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",i["\u0275\u0275pureFunction0"](3,S))}}const D=function(e){return{"entry-media":e}},w=function(){return{index:0}};function k(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",9),i["\u0275\u0275elementStart"](1,"div",10),i["\u0275\u0275template"](2,g,1,0,"ng-container",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,b,2,3,"div",12),i["\u0275\u0275template"](4,C,3,4,"div",12),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2),t=i["\u0275\u0275reference"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](5,D,1===(null==e.images?null:e.images.length))),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",i["\u0275\u0275pureFunction0"](7,w)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.images.length>1),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(null==e.images?null:e.images.length)>2)}}function E(e,t){1&e&&i["\u0275\u0275elementContainer"](0)}const M=function(e){return{index:e}};function O(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",20),i["\u0275\u0275template"](1,E,1,0,"ng-container",11),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().index;i["\u0275\u0275nextContext"](3);const t=i["\u0275\u0275reference"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",i["\u0275\u0275pureFunction1"](2,M,e))}}function P(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,O,2,4,"div",19),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.index;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e>2)}}function T(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",17),i["\u0275\u0275template"](1,P,2,1,"ng-container",18),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.images)}}function A(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",4),i["\u0275\u0275template"](1,f,2,0,"button",5),i["\u0275\u0275template"](2,k,5,8,"div",6),i["\u0275\u0275template"](3,T,2,1,"div",7),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("editable",e.editable),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.editable&&(null==e.images?null:e.images.length)>3&&!e.isShowAll),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(null==e.images?null:e.images.length)>0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isShowAll)}}function _(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"video",25),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"]().viewImage(t)}),i["\u0275\u0275element"](1,"source",26),i["\u0275\u0275text"](2," Browser not supported "),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("src",null==t.images[e]||null==t.images[e].data?null:t.images[e].data.videoUrl,i["\u0275\u0275sanitizeUrl"])}}function F(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"img",27),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"]().viewImage(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("src",t.images[e].data.imageUrl,i["\u0275\u0275sanitizeUrl"])}}function R(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275template"](0,_,3,1,"video",21),i["\u0275\u0275template"](1,F,1,1,"img",22),i["\u0275\u0275elementStart"](2,"div",23),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index,o=i["\u0275\u0275nextContext"]();return o.removeImage(o.images[n])}),i["\u0275\u0275elementStart"](3,"span",24),i["\u0275\u0275text"](4,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.index,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngIf",null==n.images[e]||null==n.images[e].data?null:n.images[e].data.videoUrl),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!(null!=n.images[e]&&null!=n.images[e].data&&n.images[e].data.videoUrl))}}function L(e,t){if(1&e&&i["\u0275\u0275element"](0,"media-player",31),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("autoplay",!1)("trackAudit",e.trackAudit)("document",e.singleVideo)}}function V(e,t){if(1&e&&i["\u0275\u0275element"](0,"ngb-progressbar",35),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275property"]("value",e.streamProcessing)}}function j(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",32),i["\u0275\u0275template"](1,V,1,1,"ngb-progressbar",33),i["\u0275\u0275elementStart"](2,"p",34),i["\u0275\u0275text"](3,"Your video is encoding and will be available soon"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isEncoding)}}function B(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",28),i["\u0275\u0275template"](1,L,1,3,"media-player",29),i["\u0275\u0275template"](2,j,4,1,"div",30),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("encoding",e.isEncoding),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",100===e.singleVideo.streamProcessing),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isEncoding)}}function N(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"video",47),i["\u0275\u0275element"](1,"source",26),i["\u0275\u0275text"](2," Browser not supported "),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("src",null==t.images[e]||null==t.images[e].data?null:t.images[e].data.videoUrl,i["\u0275\u0275sanitizeUrl"])}}function U(e,t){if(1&e&&i["\u0275\u0275element"](0,"img",48),2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275classProp"]("contain",!t.images[e].data.imageUrl),i["\u0275\u0275property"]("src",t.images[e].data.imageUrl||"/assets/img/file-icon.svg",i["\u0275\u0275sanitizeUrl"])}}function G(e,t){1&e&&i["\u0275\u0275element"](0,"img",49)}function $(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",52),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.quote?"[Quote]":"[Invoice]")}}function H(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",50),i["\u0275\u0275text"](1),i["\u0275\u0275template"](2,$,2,1,"span",51),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.data.name," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.quote||e.invoice)}}function q(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"fileSize"),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,e.data.size)," ")}}function z(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",52),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.quote?"[Quote]":"[Invoice]")}}function W(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275template"](2,z,2,1,"span",51),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.data.name.split(".").pop()," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.quote||e.invoice)}}function X(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",53),i["\u0275\u0275template"](1,q,3,3,"ng-container",54),i["\u0275\u0275template"](2,W,3,2,"ng-container",54),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.data.size),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.data.name)}}function Y(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",52),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.quote?"[Quote]":"[Invoice]")}}function K(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",50),i["\u0275\u0275text"](1),i["\u0275\u0275template"](2,Y,2,1,"span",51),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.documentTitle," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.quote||e.invoice)}}function Q(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",52),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.quote?"[Quote]":"[Invoice]")}}function J(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275template"](2,Q,2,1,"span",51),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.documentTitle.split(".").pop()," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.quote||e.invoice)}}function Z(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",53),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"fileSize"),i["\u0275\u0275template"](3,J,3,2,"ng-container",54),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,2,+e.documentSize)," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.documentTitle)}}function ee(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",55),i["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),i["\u0275\u0275elementStart"](1,"i",56),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](2).removeImage(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275classProp"]("ml-auto",e.addPadding)}}const te=function(e,t,n){return{"list-view mb-0":e,"pl-2 mb-2 pt-2 pb-2":t,"pl-3 pr-3":n}};function ne(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",38),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"](2).viewImage(n)}),i["\u0275\u0275elementStart"](1,"div",39),i["\u0275\u0275template"](2,N,3,1,"video",40),i["\u0275\u0275template"](3,U,1,3,"img",41),i["\u0275\u0275template"](4,G,1,0,"img",42),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",43),i["\u0275\u0275template"](6,H,3,2,"span",44),i["\u0275\u0275template"](7,X,3,2,"span",45),i["\u0275\u0275template"](8,K,3,2,"span",44),i["\u0275\u0275template"](9,Z,4,4,"span",45),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,ee,2,2,"div",46),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,o=i["\u0275\u0275nextContext"](2);i["\u0275\u0275classProp"]("full-size",!o.editable),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction3"](11,te,o.listView,!o.listView,o.addPadding)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",(null==o.images[n]||null==o.images[n].data?null:o.images[n].data.videoUrl)&&!o.listView),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!(null!=o.images[n]&&null!=o.images[n].data&&o.images[n].data.videoUrl||o.listView)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",o.listView),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",(null==e||null==e.data?null:e.data.name)&&!e.documentTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(null==e.data?null:e.data.size)&&!e.documentSize&&!o.listView),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.documentTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.documentSize&&!o.listView),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",o.editable)}}function ie(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"video",47),i["\u0275\u0275element"](1,"source",26),i["\u0275\u0275text"](2," Browser not supported "),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("src",null==e.data?null:e.data.videoUrl,i["\u0275\u0275sanitizeUrl"])}}function oe(e,t){if(1&e&&i["\u0275\u0275element"](0,"img",48),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275classProp"]("contain",!e.data.imageUrl),i["\u0275\u0275property"]("src",e.data.imageUrl||"/assets/img/file-icon.svg",i["\u0275\u0275sanitizeUrl"])}}function ae(e,t){1&e&&i["\u0275\u0275element"](0,"img",49)}function re(e,t){1&e&&i["\u0275\u0275element"](0,"span",60)}function se(e,t){1&e&&i["\u0275\u0275element"](0,"span",61)}function le(e,t){1&e&&i["\u0275\u0275element"](0,"span",62)}function ce(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",52),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.quote?"[Quote]":"[Invoice]")}}function de(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",50),i["\u0275\u0275text"](1),i["\u0275\u0275template"](2,ce,2,1,"span",51),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.data.name," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.quote||e.invoice)}}function pe(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"fileSize"),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,e.data.size)," ")}}function me(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",52),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.quote?"[Quote]":"[Invoice]")}}function ue(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275template"](2,me,2,1,"span",51),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.data.name.split(".").pop()," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.quote||e.invoice)}}function he(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",53),i["\u0275\u0275template"](1,pe,3,3,"ng-container",54),i["\u0275\u0275template"](2,ue,3,2,"ng-container",54),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.data.size),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.data.name)}}function fe(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",52),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.quote?"[Quote]":"[Invoice]")}}function ge(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",50),i["\u0275\u0275text"](1),i["\u0275\u0275template"](2,fe,2,1,"span",51),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.documentTitle," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.quote||e.invoice)}}function ve(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",52),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.quote?"[Quote]":"[Invoice]")}}function ye(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275template"](2,ve,2,1,"span",51),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.documentTitle.split(".").pop()," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.quote||e.invoice)}}function be(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",53),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"fileSize"),i["\u0275\u0275template"](3,ye,3,2,"ng-container",54),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,2,+e.documentSize)," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.documentTitle)}}function Ie(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",55),i["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),i["\u0275\u0275elementStart"](1,"i",56),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](2).removeImage(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275classProp"]("ml-auto",e.addPadding)}}const xe=function(e,t,n){return{"list-view mb-0":e,"mb-2 pt-2 pb-2 pl-2":t,"pl-3 pr-3":n}};function Se(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",38),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"](2).openDocumentPreviewModal(n)}),i["\u0275\u0275elementStart"](1,"div",39),i["\u0275\u0275template"](2,ie,3,1,"video",40),i["\u0275\u0275template"](3,oe,1,3,"img",41),i["\u0275\u0275template"](4,ae,1,0,"img",42),i["\u0275\u0275template"](5,re,1,0,"span",57),i["\u0275\u0275template"](6,se,1,0,"span",58),i["\u0275\u0275template"](7,le,1,0,"span",59),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",43),i["\u0275\u0275template"](9,de,3,2,"span",44),i["\u0275\u0275template"](10,he,3,2,"span",45),i["\u0275\u0275template"](11,ge,3,2,"span",44),i["\u0275\u0275template"](12,be,4,4,"span",45),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](13,Ie,2,2,"div",46),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275classProp"]("full-size",!n.editable),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction3"](14,xe,n.listView,!n.listView,n.addPadding)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",(null==e||null==e.data?null:e.data.videoUrl)&&!n.powerPointMimeType.includes((null==e||null==e.data?null:e.data.type)||(null==e?null:e.documentType))&&!n.excelMimeType.includes((null==e||null==e.data?null:e.data.type)||(null==e?null:e.documentType))&&!n.pdfMimeType.includes((null==e||null==e.data?null:e.data.type)||(null==e?null:e.documentType))&&!n.listView),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!(null!=e&&null!=e.data&&e.data.videoUrl||n.powerPointMimeType.includes((null==e||null==e.data?null:e.data.type)||(null==e?null:e.documentType))||n.excelMimeType.includes((null==e||null==e.data?null:e.data.type)||(null==e?null:e.documentType))||n.pdfMimeType.includes((null==e||null==e.data?null:e.data.type)||(null==e?null:e.documentType))||n.textMimeType.includes((null==e||null==e.data?null:e.data.type)||(null==e?null:e.documentType))||n.listView)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.textMimeType.includes((null==e||null==e.data?null:e.data.type)||(null==e?null:e.documentType))||n.listView),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.pdfMimeType.includes((null==e||null==e.data?null:e.data.type)||(null==e?null:e.documentType))&&!n.listView),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.excelMimeType.includes((null==e||null==e.data?null:e.data.type)||(null==e?null:e.documentType))&&!n.listView),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.powerPointMimeType.includes((null==e||null==e.data?null:e.data.type)||(null==e?null:e.documentType))&&!n.listView),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",(null==e||null==e.data?null:e.data.name)&&!e.documentTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(null==e.data?null:e.data.size)&&!e.documentSize&&!n.listView),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.documentTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.documentSize&&!n.listView),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.editable)}}function Ce(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",36),i["\u0275\u0275template"](1,ne,11,15,"div",37),i["\u0275\u0275template"](2,Se,14,18,"div",37),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("m-0",e.listView),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.images),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.files)}}let De=(()=>{class e{constructor(e,t){this.documentsService=e,this.modal=t,this.images=[],this.files=[],this.autoPlay=!0,this.isEncoding=!1,this.streamProcessing=0,this.cronTime=5e3,this.loop=0,this.handleRemoveImage=new i.EventEmitter,this.pdfMimeType=["application/pdf","pdf"],this.excelMimeType=["application/vnd.ms-excel","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.binary.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.openxmlformats-officedocument.spre","xls","xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],this.powerPointMimeType=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint.addin.macroenabled.12","application/vnd.ms-powerpoint.slide.macroenabled.12","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12"],this.textMimeType=["text/plain"],this.isShowAll=!1,this.blobUrl=r.a.apiBlobUrl+"/",this.destroy$=new c.a}ngOnInit(){1===this.images.length&&!this.files.length&&this.images[0].isStream&&(this.singleVideo=this.images[0],this.singleVideo&&100!==this.singleVideo.streamProcessing&&(this.isEncoding=!0,this.streamProcessing=this.singleVideo.streamProcessing,this.startWorker(this.singleVideo)))}ngOnChanges(e){this.singleVideo=1===this.images.length&&!this.files.length&&this.images[0].isStream?this.images[0]:null}showVideo(e){const t=this.modal.open(s.a,{size:"lg"});t.componentInstance.document=e,t.componentInstance.showTitle=!1,t.componentInstance.downloadAvailable=!0}viewImage(e){const t=this.images[e];if(["video","application/octet-stream"].some(e=>t.type.includes(e))&&t.isStream)return void this.showVideo(t);const n=this.modal.open(o.a,{size:"gallery",centered:!0}),i=[];this.images.forEach((e,t)=>{i.push({documentPath:e.documentPath,documentCategoryID:null,documentDescription:null,documentFolderID:null,documentID:e.id,documentTitle:null,documentType:e.documentType,documentUploadedByID:null,file:null,reference2ID:null,referenceID:null})}),n.componentInstance.documents=i,n.componentInstance.documentActive=i[e]}removeImage(e){this.handleRemoveImage.emit(e)}showAll(){this.isShowAll=!0}openDocumentPreviewModal(e){e.documentPath&&(e.documentPath.includes(this.blobUrl)||(e.documentPath=this.blobUrl+e.documentPath),this.modal.open(a.a,{size:"xl"}).componentInstance.document=e)}startWorker(e){this.cronWorker=setInterval(()=>{if(e.ampLink||40===this.loop)return clearInterval(this.cronWorker),void(this.isEncoding=!1);this.documentsService.getDocument(e.referenceID,e.documentCategoryID,e.documentUploadedByID,0,1).pipe(Object(l.a)(this.destroy$)).subscribe(t=>{const n=t.filter(t=>t.documentID===e.documentID)[0];this.streamProcessing=n.streamProcessing,n.ampLink&&(this.singleVideo=Object(d.l)(n),this.isEncoding=!1,clearInterval(this.cronWorker))}),this.loop++},this.cronTime)}ngOnDestroy(){clearInterval(this.cronWorker),this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](p.a),i["\u0275\u0275directiveInject"](m.p))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-image-layout"]],inputs:{images:"images",files:"files",editable:"editable",listView:"listView",hideImageView:"hideImageView",addPadding:"addPadding",autoPlay:"autoPlay",trackAudit:"trackAudit"},outputs:{handleRemoveImage:"handleRemoveImage"},features:[i["\u0275\u0275NgOnChangesFeature"]],decls:5,vars:3,consts:[["class","image-layout",3,"editable",4,"ngIf"],["imageTemplate",""],["class","d-flex justify-content-center p-3 position-relative embedded",3,"encoding",4,"ngIf"],["class","files-layout d-flex flex-wrap",3,"m-0",4,"ngIf"],[1,"image-layout"],["type","button","class","btn btn-primary edit-all",3,"click",4,"ngIf"],["class","layout-row d-flex",4,"ngIf"],["class","layout-row d-flex all-images",4,"ngIf"],["type","button",1,"btn","btn-primary","edit-all",3,"click"],[1,"layout-row","d-flex"],[1,"layout-col","mr-1",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","layout-col mr-1",4,"ngIf"],[1,"layout-col","mr-1"],["class","more-images d-flex justify-content-center",3,"click",4,"ngIf"],[1,"more-images","d-flex","justify-content-center",3,"click"],[1,"more-images-text","align-self-center","h1","text-white"],[1,"layout-row","d-flex","all-images"],[4,"ngFor","ngForOf"],["class","layout-col mr-1 entry-media",4,"ngIf"],[1,"layout-col","mr-1","entry-media"],["class","video",3,"click",4,"ngIf"],["class","img-fluid",3,"src","click",4,"ngIf"],[1,"remove-image-item",3,"click"],["aria-hidden","true"],[1,"video",3,"click"],["type","video/mp4",3,"src"],[1,"img-fluid",3,"src","click"],[1,"d-flex","justify-content-center","p-3","position-relative","embedded"],["style","height: 400px; width: 100%;",3,"autoplay","trackAudit","document",4,"ngIf"],["class","d-flex flex-column encoding-text pb-2 pt-2 pl-3 pr-3 w-100",4,"ngIf"],[2,"height","400px","width","100%",3,"autoplay","trackAudit","document"],[1,"d-flex","flex-column","encoding-text","pb-2","pt-2","pl-3","pr-3","w-100"],["class","encoding-progress","showValue","true","type","success",3,"value",4,"ngIf"],[1,"text-danger","mt-2"],["showValue","true","type","success",1,"encoding-progress",3,"value"],[1,"files-layout","d-flex","flex-wrap"],["class","file-item pr-2 entry-media",3,"ngClass","full-size","click",4,"ngFor","ngForOf"],[1,"file-item","pr-2","entry-media",3,"ngClass","click"],[1,"file-preview"],["class","video w-100 h-100",4,"ngIf"],["class","img-fluid previewAble",3,"src","contain",4,"ngIf"],["src","/assets/img/file-icon.svg","class","img-fluid",4,"ngIf"],[1,"file-info","d-flex","flex-column","ml-2","mr-2"],["class","file-name",4,"ngIf"],["class","meta",4,"ngIf"],["class","file-actions pl-2 pt-1 pb-1 pr-2 d-flex align-items-center justify-content-center",3,"ml-auto","click",4,"ngIf"],[1,"video","w-100","h-100"],[1,"img-fluid","previewAble",3,"src"],["src","/assets/img/file-icon.svg",1,"img-fluid"],[1,"file-name"],["class","ml-1",4,"ngIf"],[1,"ml-1"],[1,"meta"],[4,"ngIf"],[1,"file-actions","pl-2","pt-1","pb-1","pr-2","d-flex","align-items-center","justify-content-center",3,"click"],[1,"fas","fa-trash-alt",3,"click"],["class","icon fiv-viv fiv-icon-pdf",4,"ngIf"],["class","icon fiv-viv fiv-icon-xlsx",4,"ngIf"],["class","icon fiv-viv fiv-icon-pptx",4,"ngIf"],[1,"icon","fiv-viv","fiv-icon-pdf"],[1,"icon","fiv-viv","fiv-icon-xlsx"],[1,"icon","fiv-viv","fiv-icon-pptx"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,A,4,5,"div",0),i["\u0275\u0275template"](1,R,5,2,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](3,B,3,4,"div",2),i["\u0275\u0275template"](4,Ce,3,4,"div",3)),2&e&&(i["\u0275\u0275property"]("ngIf",!t.files.length&&!t.hideImageView),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.singleVideo),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.files.length>0||t.hideImageView&&!t.singleVideo))},directives:[u.n,u.l,u.r,u.m,s.a,m.u],pipes:[h.a],styles:[".image-layout[_ngcontent-%COMP%]{position:relative}.edit-all[_ngcontent-%COMP%]{display:none;z-index:1;position:absolute;top:10px;left:10px}.image-layout[_ngcontent-%COMP%]:hover   .edit-all[_ngcontent-%COMP%]{display:block}.image-layout[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .image-layout[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%}.image-layout[_ngcontent-%COMP%]   .remove-image-item[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;color:#666;font-size:20px;cursor:pointer;display:none;box-shadow:0 0 10px #aaa;width:30px;height:30px;text-align:center;border-radius:50%;background:#fff}.remove-image-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;line-height:24px}.image-layout.editable[_ngcontent-%COMP%]   .remove-image-item[_ngcontent-%COMP%]{display:block}.image-layout[_ngcontent-%COMP%]   .layout-row[_ngcontent-%COMP%]{overflow:hidden;width:100%}.image-layout[_ngcontent-%COMP%]   .layout-row.all-images[_ngcontent-%COMP%]{max-height:none;flex-wrap:wrap}.image-layout[_ngcontent-%COMP%]   .layout-row[_ngcontent-%COMP%]:only-child{height:auto;max-height:400px}.layout-row[_ngcontent-%COMP%]   .layout-col[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:50%;max-height:200px;cursor:pointer}.layout-row[_ngcontent-%COMP%]   .layout-col[_ngcontent-%COMP%]:only-child{width:100%}.more-images[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;opacity:.7;position:absolute;border-radius:45px}.video[_ngcontent-%COMP%]{width:100%}.editable[_ngcontent-%COMP%]   .layout-row[_ngcontent-%COMP%]   .layout-col[_ngcontent-%COMP%]{padding:3px;cursor:pointer}.editable[_ngcontent-%COMP%]   .more-images[_ngcontent-%COMP%]{width:calc(100% - 6px);height:calc(100% - 6px)}  .modal-backdrop.show.image-layout-back{opacity:.8}.files-layout[_ngcontent-%COMP%]{justify-content:space-between;margin:0 7px}.files-layout[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]{background:#fff;border:1px solid #dfdfdf;border-radius:6px;height:72px;display:flex;flex:0 0 100%;width:100%;max-width:calc(50% - 5px);cursor:pointer}.files-layout[_ngcontent-%COMP%]   .file-item.list-view[_ngcontent-%COMP%]{max-width:100%!important;height:auto!important;border:0!important;margin:0!important;padding-top:4px;padding-bottom:4px}.files-layout[_ngcontent-%COMP%]   .file-item.list-view[_ngcontent-%COMP%]:hover{background:#f0f3ff}.files-layout[_ngcontent-%COMP%]   .file-item.list-view[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{font-weight:400!important}.files-layout[_ngcontent-%COMP%]   .file-item.list-view[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]{width:20px!important;height:20px!important;display:flex;align-items:center;justify-content:center;border-radius:4px;min-width:20px!important}.files-layout[_ngcontent-%COMP%]   .file-item.list-view[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain!important}.files-layout[_ngcontent-%COMP%]   .file-item.list-view[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:20px!important;height:20px!important;border-radius:4px}.files-layout[_ngcontent-%COMP%]   .file-item.full-size[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]{max-width:calc(100% - 60px)!important}@media (max-width:992px){.files-layout[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]{max-width:100%!important}}.files-layout[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:48px}.files-layout[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%], .files-layout[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:4px}.files-layout[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-preview.previewAble[_ngcontent-%COMP%]{object-fit:cover}.files-layout[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:4px}.files-layout[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]{flex:1;overflow:hidden;max-width:calc(100% - 94px)}.files-layout[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.files-layout[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{overflow:hidden;font-size:15px;font-weight:600;white-space:nowrap;text-overflow:ellipsis}.files-layout[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-actions[_ngcontent-%COMP%]{border:1px solid #dfdfdf;border-radius:6px}.files-layout[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px;color:#54606a;cursor:pointer}.files-layout[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{opacity:.7}.embedded[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;min-height:300px}.embedded.encoding[_ngcontent-%COMP%]{border:1px solid #dfdfdf}.embedded[_ngcontent-%COMP%]   .encoding-text[_ngcontent-%COMP%]{position:absolute;bottom:0}"]}),e})()},ev4g:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n("2Vo4"),o=n("XNiG"),a=n("MNGV"),r=n("tk/3"),s=n("lJxs"),l=n("z6cu"),c=n("fXoL");let d=(()=>{class e{constructor(e){this.http=e,this.taskList$=new i.a([]),this.taskDetail$=new i.a(null),this.activeTask$=new i.a(null),this.taskDeleted$=new o.a,this.taskUpdated$=new o.a,this.taskViewUpdate$=new o.a,this.BaseURI="https://api.incubatorportal.com/api",this.taskObject=new i.a(""),this.taskObject$=this.taskObject.asObservable(),this.referenceID$=new i.a(null)}storeListRx(e){this.taskList$.next(e)}getListRx(){return this.taskList$.asObservable()}storeDetailRx(e){this.taskDetail$.next(e)}getDetailRx(){return this.taskDetail$.asObservable()}storeTaskViewUpdateRx(){this.taskViewUpdate$.next(!0)}getTaskViewUpdateRx(){return this.taskViewUpdate$.asObservable()}setReferenceID(e){this.referenceID$.next(e)}getReferenceID(){return this.referenceID$.asObservable()}sendTaskObject(e){this.taskObject.next({task:e})}getTasks(e,t=!0){Date.now();const n=Object.assign({TaskID:0,TaskCategoryID:e.TaskReferenceID,TaskReferenceID:e.TaskReferenceID,ContactID:e.ContactID,CompanyID:e.CompanyID,ParentTaskID:0,TaskStatusID:0,StartDate:0,EndDate:0,TaskOwnerCategoryID:e.TaskOwnerCategoryID,TaskOwnerReferenceID:e.TaskOwnerReferenceID,FormID:e.FormID,nested:e.nested||!1},e);n.StartDate=e.StartDate||"",n.EndDate=e.EndDate||"";const i=Object.keys(n).map(e=>`${e}=${n[e]}`).join("&");return console.log(i,"here are teh query params"),this.http.get(`${this.BaseURI}/Task?${i}`).pipe(Object(s.a)(e=>(e=e.map(e=>new a.a(e)),t&&(e=this.cleanDuplicateTasks(e)),e)))}getTask(e,t,n,i,o,a,r,s,l=!0,c=0){return this.getTasks({TaskID:e,TaskCategoryID:t,TaskReferenceID:n,ContactID:i,CompanyID:o,TaskOwnerCategoryID:a,TaskOwnerReferenceID:r,ParentTaskID:c,FormID:s,nested:l})}addTask(e){return this.http.post(this.BaseURI+"/Task",e)}getHybridOwners(e,t=0){return this.http.get(`${this.BaseURI}/Task/owner/hybrid?taskID=${e}&companyID=${t}`)}addTaskOwnerSection(e){return this.http.post(this.BaseURI+"/Task/owner/section",e)}updateTaskOwnerSection(e){return this.http.put(this.BaseURI+"/Task/owner/section",e)}handleError(e){return console.log(e),Object(l.a)(e)}cleanDuplicateTasks(e){const t=[],n=[];for(const i of e)-1===t.indexOf(i.taskID)&&(t.push(i.taskID),n.push(i));return n}updateTask(e){return this.http.put(this.BaseURI+"/Task",e).pipe(Object(s.a)(e=>e))}insertTaskMasterSchedule(e){return this.http.post(this.BaseURI+"/Task/masterschedule",e)}insertTaskMaster(e){return this.http.post(this.BaseURI+"/Task/master",e)}updateTaskMaster(e){return this.http.put(this.BaseURI+"/Task/master",e)}updateTaskMasterSchedule(e){return this.http.put(this.BaseURI+"/Task/masterschedule",e)}deleteTaskMaster(e){return this.http.delete(this.BaseURI+"/Task/master"+e).pipe(Object(s.a)(e=>e))}deleteTask(e){return this.http.delete(this.BaseURI+"/Task/"+e).pipe(Object(s.a)(e=>e))}addTaskOwner(e){return this.http.post(this.BaseURI+"/Task/owner",e).pipe(Object(s.a)(t=>e.updateID(t)))}addTaskOwner2(e){return this.http.post(this.BaseURI+"/Task/owner",e)}addTaskOwnerMain(e){return this.http.post(this.BaseURI+"/Task/owner/main",e)}addTaskSupporter(e){return this.http.post(this.BaseURI+"/Task/supporter",e)}deleteTaskOwnerBulk(e){return this.http.delete(this.BaseURI+"/Task/owner/batch",e)}deleteTaskSupporter(e){return this.http.delete(this.BaseURI+"/Task/supporter/"+e)}updateTaskOwner(e){return this.http.put(this.BaseURI+"/Task/owner",e).pipe(Object(s.a)(e=>e))}deleteTaskOwner(e){const t={headers:new r.f({"Content-Type":"application/json"}),body:e};return this.http.delete(this.BaseURI+"/Task/owner",t)}getTaskOwnerSection(e,t){return this.http.get(this.BaseURI+"/Task/owner/section?taskOwnerID="+e+"&taskSectionID="+t)}getTaskMaster(e,t,n,i){return this.http.get(this.BaseURI+"/Task/master?taskCategoryID="+e+"&referenceID="+t+"&taskMasterID="+n+"&taskMasterSubCategoryID="+i)}selectTaskMasterSchedule(e,t,n){return this.http.get(this.BaseURI+"/task/masterschedule?TaskCategoryID="+e+"&referenceID="+t+"&contactID="+n)}insertTaskApplicant(e){return this.http.post(this.BaseURI+"/Task/applicant",e)}createTaskMetric(e){return this.http.post(this.BaseURI+"/Task/metric",e)}updateTaskMetric(e){return this.http.post(this.BaseURI+"/Task/metric",e)}deleteTaskMetric(e){return this.http.delete(this.BaseURI+"/Task/metric",e)}getTaskMetric(e=0){return this.http.get(this.BaseURI+"/Task/metric?TaskID="+e)}updateSupporter(e){return this.http.put(this.BaseURI+"/Task/supporter",e)}getTaskOwners(e,t=0,n=0,i=0,o=0,a=0,r="",s=""){return this.http.get(this.BaseURI+"/Task/owner?taskID="+e+"&referenceID="+t+"&TaskOwnerCategoryID="+n+"&contactID="+i+"&taskOwnerID="+o+"&companyID="+a+"&StartDate="+r+"&EndDate="+s)}getTaskSupporters(e){return this.http.get(this.BaseURI+"/Task/supporter?taskID="+e)}getMetricStatus(e=0,t=0){return this.http.get(`${this.BaseURI}/task/metric/status?TaskMetricStatusID=${e}&TaskMetricID=${t}`)}postMetricStatus(e){return this.http.post(this.BaseURI+"/Task/metric/status",e)}updateMetric(e){return this.http.put(this.BaseURI+"/Task/metric/status",e)}deleteMetric(e){const t={headers:new r.f({"Content-Type":"application/json"}),body:{taskMetricStatusID:e}};return this.http.delete(this.BaseURI+"/Task/metric/status",t)}taskSectionCategory(){return this.http.get(this.BaseURI+"/Task/section/category")}getTaskSection(e=0,t=0,n=0){return this.http.get(`${this.BaseURI}/task/section?CompanyID=${e}&TaskCategoryID=${t}&TaskSectionReferenceID=${n}`)}postTaskSection(e){return this.http.post(this.BaseURI+"/Task/section",e)}deleteTaskSection(e=0){return this.http.delete(`${this.BaseURI}/task/section/${e}`)}storeActiveTaskRx(e){this.activeTask$.next(e)}getActiveTaskRx(){return this.activeTask$.asObservable()}storeUpdatedTaskRx(e){this.taskUpdated$.next(e)}getUpdatedTaskRx(){return this.taskUpdated$.asObservable()}storeDeletedTaskRx(e){this.taskDeleted$.next(e)}getDeletedTaskRx(){return this.taskDeleted$.asObservable()}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275inject"](r.b))},e.\u0275prov=c["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"f/iK":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("fXoL"),o=n("tk/3");let a=(()=>{class e{constructor(e){this.http=e,this.BaseURI="https://api.incubatorportal.com/api"}create(e){return this.http.post(this.BaseURI+"/permission",e)}update(e){return this.http.put(this.BaseURI+"/permission",e)}delete(e){return this.http.delete(this.BaseURI+"/permission/"+e)}getPermission(e,t,n,i=0){return this.http.get(this.BaseURI+"/Permission?PermissionAreaID="+e+"&ReferenceID="+t+"&ContactID="+n+"&CompanyID="+i)}getPermissionAreas(){return this.http.get(this.BaseURI+"/Permission/area")}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](o.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},f3yp:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("fXoL");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-spinner"]],decls:1,vars:0,consts:[["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"span",0)},encapsulation:2}),e})()},frau:function(e,t,n){"use strict";n.d(t,"a",function(){return he});var i=n("AytR"),o=n("HNxE"),a=n("XNiG"),r=n("LRne"),s=n("xgIS"),l=n("1G5W"),c=n("pLZG"),d=n("lJxs"),p=n("Kj3r"),m=n("/uUt"),u=n("eIep"),h=n("8J6U"),f=n("8stm"),g=n("9122"),v=n("fXoL"),y=n("WhH8"),b=n("1kSV"),I=n("kmKP"),x=n("8CXc"),S=n("euQB"),C=n("Jn3s"),D=n("ofXK"),w=n("3Pt+"),k=n("SdWN");const E=["searchInput"];function M(e,t){if(1&e){const e=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementStart"](0,"div",23),v["\u0275\u0275elementStart"](1,"input",29),v["\u0275\u0275listener"]("change",function(){return v["\u0275\u0275restoreView"](e),v["\u0275\u0275nextContext"](2).filter("team")}),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](2,"label",30),v["\u0275\u0275text"](3," Team "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"]()}if(2&e){const e=v["\u0275\u0275nextContext"](2);v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("checked","team"===e.activeFilter)}}function O(e,t){if(1&e){const e=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementContainerStart"](0),v["\u0275\u0275elementStart"](1,"div",23),v["\u0275\u0275elementStart"](2,"input",31),v["\u0275\u0275listener"]("change",function(){return v["\u0275\u0275restoreView"](e),v["\u0275\u0275nextContext"](2).filter("myDepartment")}),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](3,"label",32),v["\u0275\u0275text"](4," My Department "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](5,"div",23),v["\u0275\u0275elementStart"](6,"input",33),v["\u0275\u0275listener"]("change",function(){return v["\u0275\u0275restoreView"](e),v["\u0275\u0275nextContext"](2).filter("myDivision")}),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](7,"label",34),v["\u0275\u0275text"](8," My Division "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=v["\u0275\u0275nextContext"](2);v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("checked","myDepartment"===e.activeFilter),v["\u0275\u0275advance"](4),v["\u0275\u0275property"]("checked","myDivision"===e.activeFilter)}}function P(e,t){if(1&e){const e=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementStart"](0,"div",23),v["\u0275\u0275elementStart"](1,"input",35),v["\u0275\u0275listener"]("change",function(){return v["\u0275\u0275restoreView"](e),v["\u0275\u0275nextContext"](2).filter("applicants")}),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](2,"label",36),v["\u0275\u0275text"](3," Applicants "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"]()}if(2&e){const e=v["\u0275\u0275nextContext"](2);v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("checked","applicants"===e.activeFilter)}}function T(e,t){if(1&e&&(v["\u0275\u0275elementStart"](0,"option",39),v["\u0275\u0275text"](1),v["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;v["\u0275\u0275property"]("ngValue",e.programInstanceID),v["\u0275\u0275advance"](1),v["\u0275\u0275textInterpolate1"](" ",e.programInstanceTitle," ")}}function A(e,t){if(1&e&&(v["\u0275\u0275elementStart"](0,"option",39),v["\u0275\u0275text"](1),v["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;v["\u0275\u0275property"]("ngValue",e.programInstanceStageID),v["\u0275\u0275advance"](1),v["\u0275\u0275textInterpolate1"](" ",e.programStageTitle," ")}}const _=function(){return{standalone:!0}};function F(e,t){if(1&e){const e=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementStart"](0,"select",42),v["\u0275\u0275listener"]("change",function(){return v["\u0275\u0275restoreView"](e),v["\u0275\u0275nextContext"](3).onStageSelect()})("ngModelChange",function(t){return v["\u0275\u0275restoreView"](e),v["\u0275\u0275nextContext"](3).programInstanceStageID=t}),v["\u0275\u0275elementStart"](1,"option",39),v["\u0275\u0275text"](2,"All Stages"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275template"](3,A,2,2,"option",40),v["\u0275\u0275elementEnd"]()}if(2&e){const e=v["\u0275\u0275nextContext"](3);v["\u0275\u0275property"]("ngModelOptions",v["\u0275\u0275pureFunction0"](4,_))("ngModel",e.programInstanceStageID),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngValue",0),v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("ngForOf",e.stages)}}function R(e,t){if(1&e){const e=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementStart"](0,"div",37),v["\u0275\u0275elementStart"](1,"select",38),v["\u0275\u0275listener"]("change",function(){return v["\u0275\u0275restoreView"](e),v["\u0275\u0275nextContext"](2).onInstanceSelect()})("ngModelChange",function(t){return v["\u0275\u0275restoreView"](e),v["\u0275\u0275nextContext"](2).programInstanceID=t}),v["\u0275\u0275elementStart"](2,"option",39),v["\u0275\u0275text"](3,"Select Group"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275template"](4,T,2,2,"option",40),v["\u0275\u0275elementEnd"](),v["\u0275\u0275template"](5,F,4,5,"select",41),v["\u0275\u0275elementEnd"]()}if(2&e){const e=v["\u0275\u0275nextContext"](2);v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngModelOptions",v["\u0275\u0275pureFunction0"](5,_))("ngModel",e.programInstanceID),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngValue",null),v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("ngForOf",e.instances),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",e.programInstanceID)}}function L(e,t){if(1&e){const e=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementStart"](0,"div",23),v["\u0275\u0275elementStart"](1,"input",43),v["\u0275\u0275listener"]("change",function(){return v["\u0275\u0275restoreView"](e),v["\u0275\u0275nextContext"](2).filter("filterDivision")}),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](2,"label",44),v["\u0275\u0275text"](3," Filter by Division "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"]()}if(2&e){const e=v["\u0275\u0275nextContext"](2);v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("checked","filterDivision"===e.activeFilter)}}function V(e,t){if(1&e&&(v["\u0275\u0275elementStart"](0,"option",39),v["\u0275\u0275text"](1),v["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;v["\u0275\u0275property"]("ngValue",e.divisionID),v["\u0275\u0275advance"](1),v["\u0275\u0275textInterpolate1"](" ",e.division," ")}}function j(e,t){if(1&e){const e=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementStart"](0,"div",49),v["\u0275\u0275elementStart"](1,"input",50),v["\u0275\u0275listener"]("change",function(){v["\u0275\u0275restoreView"](e);const n=t.$implicit;return v["\u0275\u0275nextContext"](3).filterByDepartment(n.departmentID)}),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](2,"label",51),v["\u0275\u0275text"](3),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=v["\u0275\u0275nextContext"](3);v["\u0275\u0275advance"](1),v["\u0275\u0275propertyInterpolate1"]("name","department-",n,""),v["\u0275\u0275propertyInterpolate1"]("id","department-",n,""),v["\u0275\u0275property"]("checked",i.selectedDepartments.includes(e.departmentID)),v["\u0275\u0275advance"](1),v["\u0275\u0275propertyInterpolate1"]("for","department-",n,""),v["\u0275\u0275advance"](1),v["\u0275\u0275textInterpolate1"](" ",e.department," ")}}function B(e,t){if(1&e){const e=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementContainerStart"](0),v["\u0275\u0275elementStart"](1,"div",45),v["\u0275\u0275elementStart"](2,"select",46),v["\u0275\u0275listener"]("change",function(){return v["\u0275\u0275restoreView"](e),v["\u0275\u0275nextContext"](2).onDivisionSelect()})("ngModelChange",function(t){return v["\u0275\u0275restoreView"](e),v["\u0275\u0275nextContext"](2).divisionID=t}),v["\u0275\u0275elementStart"](3,"option",39),v["\u0275\u0275text"](4,"All Divisions"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275template"](5,V,2,2,"option",40),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](6,"div",47),v["\u0275\u0275elementStart"](7,"label"),v["\u0275\u0275text"](8,"Departments"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275template"](9,j,4,5,"div",48),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=v["\u0275\u0275nextContext"](2);v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("ngModelOptions",v["\u0275\u0275pureFunction0"](5,_))("ngModel",e.divisionID),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngValue",0),v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("ngForOf",e.divisions),v["\u0275\u0275advance"](4),v["\u0275\u0275property"]("ngForOf",e.departments)}}function N(e,t){if(1&e){const e=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementStart"](0,"div",20),v["\u0275\u0275elementStart"](1,"h3"),v["\u0275\u0275text"](2,"Filters"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275template"](3,M,4,1,"div",21),v["\u0275\u0275template"](4,O,9,2,"ng-container",22),v["\u0275\u0275elementStart"](5,"div",23),v["\u0275\u0275elementStart"](6,"input",24),v["\u0275\u0275listener"]("change",function(){return v["\u0275\u0275restoreView"](e),v["\u0275\u0275nextContext"]().filter("followers")}),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](7,"label",25),v["\u0275\u0275text"](8," My Followers "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](9,"div",23),v["\u0275\u0275elementStart"](10,"input",26),v["\u0275\u0275listener"]("change",function(){return v["\u0275\u0275restoreView"](e),v["\u0275\u0275nextContext"]().filter("following")}),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](11,"label",27),v["\u0275\u0275text"](12," People I'm Following "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275template"](13,P,4,1,"div",21),v["\u0275\u0275template"](14,R,6,6,"div",28),v["\u0275\u0275template"](15,L,4,1,"div",21),v["\u0275\u0275template"](16,B,10,6,"ng-container",22),v["\u0275\u0275elementEnd"]()}if(2&e){const e=v["\u0275\u0275nextContext"]();v["\u0275\u0275advance"](3),v["\u0275\u0275property"]("ngIf",!e.isEnterprise),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",e.isEnterprise),v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("checked","followers"===e.activeFilter),v["\u0275\u0275advance"](4),v["\u0275\u0275property"]("checked","following"===e.activeFilter),v["\u0275\u0275advance"](3),v["\u0275\u0275property"]("ngIf",!e.isEnterprise),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf","applicants"===e.activeFilter),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",e.isEnterprise),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",e.isEnterprise&&"filterDivision"===e.activeFilter)}}function U(e,t){if(1&e){const e=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementStart"](0,"ul",52),v["\u0275\u0275elementStart"](1,"li",53),v["\u0275\u0275elementStart"](2,"a",54),v["\u0275\u0275listener"]("click",function(){return v["\u0275\u0275restoreView"](e),v["\u0275\u0275nextContext"]().availableTab()}),v["\u0275\u0275text"](3,"Available"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](4,"li",53),v["\u0275\u0275elementStart"](5,"a",54),v["\u0275\u0275listener"]("click",function(){return v["\u0275\u0275restoreView"](e),v["\u0275\u0275nextContext"]().activeTab=2}),v["\u0275\u0275text"](6," Selected "),v["\u0275\u0275elementStart"](7,"span"),v["\u0275\u0275text"](8),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"]()}if(2&e){const e=v["\u0275\u0275nextContext"]();v["\u0275\u0275advance"](1),v["\u0275\u0275classProp"]("active",1===e.activeTab),v["\u0275\u0275advance"](3),v["\u0275\u0275classProp"]("active",2===e.activeTab),v["\u0275\u0275advance"](4),v["\u0275\u0275textInterpolate1"]("(",e.selectedContacts.length,")")}}function G(e,t){if(1&e){const e=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementStart"](0,"th",63),v["\u0275\u0275elementStart"](1,"div",49),v["\u0275\u0275elementStart"](2,"input",64),v["\u0275\u0275listener"]("ngModelChange",function(t){return v["\u0275\u0275restoreView"](e),v["\u0275\u0275nextContext"](3).checkAllModel=t})("ngModelChange",function(){return v["\u0275\u0275restoreView"](e),v["\u0275\u0275nextContext"](3).selectAllContact()}),v["\u0275\u0275elementEnd"](),v["\u0275\u0275element"](3,"label",65),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"]()}if(2&e){const e=v["\u0275\u0275nextContext"](3);v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("ngModel",e.checkAllModel)}}function $(e,t){1&e&&(v["\u0275\u0275elementStart"](0,"th",66),v["\u0275\u0275text"](1,"Position"),v["\u0275\u0275elementEnd"]())}function H(e,t){if(1&e&&(v["\u0275\u0275elementStart"](0,"thead",59),v["\u0275\u0275elementStart"](1,"tr"),v["\u0275\u0275template"](2,G,4,1,"th",60),v["\u0275\u0275elementStart"](3,"th",61),v["\u0275\u0275text"](4,"Name"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275template"](5,$,2,0,"th",62),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"]()),2&e){const e=v["\u0275\u0275nextContext"](2);v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("ngIf",!e.singleTask),v["\u0275\u0275advance"](3),v["\u0275\u0275property"]("ngIf",!e.isEnterprise)}}function q(e,t){if(1&e&&(v["\u0275\u0275elementStart"](0,"td"),v["\u0275\u0275elementStart"](1,"div",49),v["\u0275\u0275element"](2,"input",71),v["\u0275\u0275element"](3,"label",72),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"]()),2&e){const e=v["\u0275\u0275nextContext"]().$implicit;v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("checked",e.checked)}}function z(e,t){if(1&e&&(v["\u0275\u0275elementStart"](0,"span"),v["\u0275\u0275text"](1),v["\u0275\u0275elementEnd"]()),2&e){const e=v["\u0275\u0275nextContext"]().$implicit;v["\u0275\u0275advance"](1),v["\u0275\u0275textInterpolate1"](" ",e.fullName," ")}}function W(e,t){if(1&e&&(v["\u0275\u0275elementStart"](0,"span"),v["\u0275\u0275text"](1),v["\u0275\u0275elementEnd"]()),2&e){const e=v["\u0275\u0275nextContext"]().$implicit;v["\u0275\u0275advance"](1),v["\u0275\u0275textInterpolate1"](" ",e.firstName+" "+e.surname," ")}}function X(e,t){if(1&e&&(v["\u0275\u0275elementContainerStart"](0),v["\u0275\u0275text"](1),v["\u0275\u0275elementContainerEnd"]()),2&e){const e=v["\u0275\u0275nextContext"](3).$implicit;v["\u0275\u0275advance"](1),v["\u0275\u0275textInterpolate1"]("",e.staffNumber,", ")}}function Y(e,t){if(1&e&&(v["\u0275\u0275elementContainerStart"](0),v["\u0275\u0275text"](1),v["\u0275\u0275elementContainerEnd"]()),2&e){const e=v["\u0275\u0275nextContext"](3).$implicit;v["\u0275\u0275advance"](1),v["\u0275\u0275textInterpolate1"]("",e.department,", ")}}function K(e,t){if(1&e&&(v["\u0275\u0275elementContainerStart"](0),v["\u0275\u0275text"](1),v["\u0275\u0275elementContainerEnd"]()),2&e){const e=v["\u0275\u0275nextContext"](3).$implicit;v["\u0275\u0275advance"](1),v["\u0275\u0275textInterpolate"](e.designation)}}function Q(e,t){if(1&e&&(v["\u0275\u0275elementStart"](0,"span",75),v["\u0275\u0275template"](1,X,2,1,"ng-container",22),v["\u0275\u0275template"](2,Y,2,1,"ng-container",22),v["\u0275\u0275template"](3,K,2,1,"ng-container",22),v["\u0275\u0275elementEnd"]()),2&e){const e=v["\u0275\u0275nextContext"](2).$implicit;v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",e.staffNumber),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",e.department),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",e.designation)}}function J(e,t){if(1&e&&(v["\u0275\u0275elementStart"](0,"span",75),v["\u0275\u0275text"](1),v["\u0275\u0275elementEnd"]()),2&e){const e=v["\u0275\u0275nextContext"](2).$implicit;v["\u0275\u0275advance"](1),v["\u0275\u0275textInterpolate"](e.contactEmailAddress)}}function Z(e,t){1&e&&(v["\u0275\u0275elementStart"](0,"span",76),v["\u0275\u0275text"](1,"Email not available"),v["\u0275\u0275elementEnd"]())}function ee(e,t){if(1&e&&(v["\u0275\u0275elementContainerStart"](0),v["\u0275\u0275template"](1,Q,4,3,"span",73),v["\u0275\u0275template"](2,J,2,1,"span",73),v["\u0275\u0275template"](3,Z,2,0,"span",74),v["\u0275\u0275elementContainerEnd"]()),2&e){const e=v["\u0275\u0275nextContext"]().$implicit;v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",e.staffNumber||e.department||e.designation),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",e.contactEmailAddress),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",!e.contactEmailAddress)}}function te(e,t){if(1&e&&(v["\u0275\u0275elementStart"](0,"td"),v["\u0275\u0275text"](1),v["\u0275\u0275elementEnd"]()),2&e){const e=v["\u0275\u0275nextContext"]().$implicit;v["\u0275\u0275advance"](1),v["\u0275\u0275textInterpolate"](e.designation)}}const ne=function(e){return{selected:e}};function ie(e,t){if(1&e){const e=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementStart"](0,"tr",67),v["\u0275\u0275listener"]("click",function(){v["\u0275\u0275restoreView"](e);const n=t.index;return v["\u0275\u0275nextContext"](2).selectContact(n)}),v["\u0275\u0275template"](1,q,4,1,"td",22),v["\u0275\u0275elementStart"](2,"td"),v["\u0275\u0275elementStart"](3,"div",68),v["\u0275\u0275element"](4,"img",69),v["\u0275\u0275pipe"](5,"avatar"),v["\u0275\u0275elementStart"](6,"div",70),v["\u0275\u0275template"](7,z,2,1,"span",22),v["\u0275\u0275template"](8,W,2,1,"span",22),v["\u0275\u0275template"](9,ee,4,3,"ng-container",22),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275template"](10,te,2,1,"td",22),v["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=v["\u0275\u0275nextContext"](2);v["\u0275\u0275classProp"]("disabled",!e.contactEmailAddress&&n.isEnterprise&&n.emailValidationOn),v["\u0275\u0275property"]("ngClass",v["\u0275\u0275pureFunction1"](11,ne,e.checked)),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",!n.isMinimalist&&!n.singleTask),v["\u0275\u0275advance"](3),v["\u0275\u0275property"]("src",v["\u0275\u0275pipeBind1"](5,9,e.profilePhoto),v["\u0275\u0275sanitizeUrl"]),v["\u0275\u0275advance"](3),v["\u0275\u0275property"]("ngIf",e.fullName),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",!e.fullName),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",n.isEnterprise),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",!n.isMinimalist&&!n.isEnterprise)}}function oe(e,t){if(1&e&&(v["\u0275\u0275elementStart"](0,"div",55),v["\u0275\u0275elementStart"](1,"table",56),v["\u0275\u0275template"](2,H,6,2,"thead",57),v["\u0275\u0275elementStart"](3,"tbody"),v["\u0275\u0275template"](4,ie,11,13,"tr",58),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"]()),2&e){const e=v["\u0275\u0275nextContext"]();v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("ngIf",!e.isMinimalist),v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("ngForOf",e.contacts)}}function ae(e,t){if(1&e&&(v["\u0275\u0275elementStart"](0,"span",81),v["\u0275\u0275text"](1),v["\u0275\u0275elementEnd"]()),2&e){const e=v["\u0275\u0275nextContext"]().$implicit;v["\u0275\u0275advance"](1),v["\u0275\u0275textInterpolate"](e.fullName)}}function re(e,t){if(1&e&&(v["\u0275\u0275elementStart"](0,"span",81),v["\u0275\u0275text"](1),v["\u0275\u0275elementEnd"]()),2&e){const e=v["\u0275\u0275nextContext"]().$implicit;v["\u0275\u0275advance"](1),v["\u0275\u0275textInterpolate"](e.firstName+" "+e.surname)}}function se(e,t){if(1&e){const e=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementStart"](0,"tr",67),v["\u0275\u0275listener"]("click",function(){v["\u0275\u0275restoreView"](e);const n=t.index;return v["\u0275\u0275nextContext"](2).selectContact(n)}),v["\u0275\u0275elementStart"](1,"td"),v["\u0275\u0275element"](2,"i",78),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](3,"td"),v["\u0275\u0275elementStart"](4,"div",68),v["\u0275\u0275element"](5,"img",79),v["\u0275\u0275pipe"](6,"avatar"),v["\u0275\u0275template"](7,ae,2,1,"span",80),v["\u0275\u0275template"](8,re,2,1,"span",80),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](9,"td"),v["\u0275\u0275text"](10),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;v["\u0275\u0275property"]("ngClass",v["\u0275\u0275pureFunction1"](7,ne,e.checked)),v["\u0275\u0275advance"](5),v["\u0275\u0275property"]("src",v["\u0275\u0275pipeBind1"](6,5,e.profilePhoto),v["\u0275\u0275sanitizeUrl"]),v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("ngIf",e.fullName),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",!e.fullName),v["\u0275\u0275advance"](2),v["\u0275\u0275textInterpolate"](e.designation)}}function le(e,t){if(1&e&&(v["\u0275\u0275elementStart"](0,"div",55),v["\u0275\u0275elementStart"](1,"table",56),v["\u0275\u0275elementStart"](2,"thead",59),v["\u0275\u0275elementStart"](3,"tr"),v["\u0275\u0275element"](4,"th",63),v["\u0275\u0275elementStart"](5,"th",61),v["\u0275\u0275text"](6,"Name"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](7,"th",66),v["\u0275\u0275text"](8,"Position"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](9,"tbody"),v["\u0275\u0275template"](10,se,11,9,"tr",77),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"]()),2&e){const e=v["\u0275\u0275nextContext"]();v["\u0275\u0275advance"](10),v["\u0275\u0275property"]("ngForOf",e.selectedContacts)}}function ce(e,t){if(1&e){const e=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementStart"](0,"div",82),v["\u0275\u0275text"](1," Can't find who you're looking for? "),v["\u0275\u0275elementStart"](2,"span",83),v["\u0275\u0275listener"]("click",function(){return v["\u0275\u0275restoreView"](e),v["\u0275\u0275nextContext"]().addNewContact()}),v["\u0275\u0275text"](3,"Add a contact"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"]()}}function de(e,t){if(1&e){const e=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementStart"](0,"div",82),v["\u0275\u0275text"](1," Need to hire someone? "),v["\u0275\u0275elementStart"](2,"span",83),v["\u0275\u0275listener"]("click",function(){return v["\u0275\u0275restoreView"](e),v["\u0275\u0275nextContext"]().addJobProfile()}),v["\u0275\u0275text"](3,"Add the Job Profile"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"]()}}function pe(e,t){if(1&e){const e=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementStart"](0,"span",83),v["\u0275\u0275listener"]("click",function(){return v["\u0275\u0275restoreView"](e),v["\u0275\u0275nextContext"]().singleTask=!1}),v["\u0275\u0275text"](1,"Select multiple contacts"),v["\u0275\u0275elementEnd"]()}}function me(e,t){if(1&e){const e=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementStart"](0,"button",84),v["\u0275\u0275listener"]("click",function(){return v["\u0275\u0275restoreView"](e),v["\u0275\u0275nextContext"]().inviteExternal()}),v["\u0275\u0275text"](1,"External Contact "),v["\u0275\u0275elementEnd"]()}}const ue=function(e){return{"float-left floating-input grid-input":e}};let he=(()=>{class e{constructor(e,t,n,o,r,s){this.contactService=e,this.activeModal=t,this.userService=n,this.programsService=o,this.portfolioService=r,this.modal=s,this.apiBlobUrl=i.a.apiBlobUrl,this.contacts=[],this.teamMembers=[],this.selectedContacts=[],this.staticContacts=[],this.enterpriseContacts=[],this.activeTab=1,this.title="Contacts",this.modalSubmitLabel="Submit",this.isMinimalist=!1,this.isSingleSelect=!1,this.singleTask=!1,this.emailValidationOn=!1,this.activeFilter="",this.instances=[],this.stages=[],this.programInstanceID=null,this.programInstanceStageID=0,this.divisions=[],this.divisionID=0,this.departments=[],this.departmentID=0,this.selectedDepartments=[],this.destroy$=new a.a,this.user=this.userService.user.getValue(),this.superAdmin=this.user.permissions.some(e=>e.permissionAreaID===g.b.Admin),this.programAdmin=this.user.permissions.some(e=>e.permissionAreaID===g.b.Programs)}ngOnInit(){this.contactID=this.user.contactID,this.companyID=this.user.companyID||0,this.isEnterprise||(this.isEnterprise=4092===this.user.companyID),this.isEnterprise&&this.showFilters&&this.getDivisions(),this.masterCompanyID&&(this.companyID=this.masterCompanyID),(this.staffMember||this.teamMember)&&this.getTeam(),setTimeout(()=>{this.search()}),this.staticSelector&&this.contacts.forEach(e=>{e.firstname&&(e.firstName=e.firstname),e.checked=this.selectedContacts.some(t=>t.contactID===e.contactID),this.staticContacts.push(Object(h.l)(e))}),!this.singleTask||this.teamMember||this.staffMember||this.selectedContacts.forEach(e=>{this.contacts.find(t=>t.contactID===e.contactID)||(e.checked=!0,this.contacts.push(Object(h.l)(e)))}),this.showFilters&&(this.superAdmin||this.programAdmin)&&this.companyID&&this.getPrograms(),this.activeFilter&&(this.isEnterprise&&"team"===this.activeFilter&&(this.activeFilter="myDepartment"),this.filter(this.activeFilter))}getDivisions(){this.contactService.getAllDivision(this.companyID).pipe(Object(l.a)(this.destroy$)).subscribe(e=>{this.divisions=e})}onDivisionSelect(){this.departments=[],this.selectedDepartments=[],this.departmentID=0,this.divisionID&&(this.fetchDepartment(),this.getEnterpriseContact())}fetchDepartment(){this.contactService.getAllDepartment(this.divisionID).subscribe(e=>{this.departments=e})}filterByDepartment(e){this.departmentID=0;const t=this.selectedDepartments.findIndex(t=>t===e);-1!==t?this.selectedDepartments.splice(t,1):this.selectedDepartments.push(e),this.contacts=this.enterpriseContacts.filter(e=>!this.selectedDepartments.length||this.selectedDepartments.includes(e.departmentID))}getEnterpriseContact(){this.loading=!0;let e=[];"myDepartment"===this.activeFilter?e=JSON.parse(localStorage.getItem("myDepartment")):"myDivision"===this.activeFilter&&(e=JSON.parse(localStorage.getItem("myDivision"))),(e.length?Object(r.a)(e):this.contactService.getCompanyContactEnterprise(0,this.companyID,this.divisionID,this.departmentID,"0")).pipe(Object(l.a)(this.destroy$)).subscribe(e=>{this.contacts=e,this.enterpriseContacts=e,this.loading=!1})}getPrograms(){this.programsService.getPrograms(this.companyID).subscribe(e=>{e.forEach(e=>{this.instances=[...e.instances,...this.instances]})})}search(){Object(s.a)(this.searchInput.nativeElement,"keyup").pipe(Object(l.a)(this.destroy$),Object(c.a)(e=>40!==e.keyCode&&38!==e.keyCode),Object(d.a)(e=>e.target.value),Object(p.a)(300),Object(m.a)(),Object(u.a)(e=>{2===this.activeTab&&(this.activeTab=1);const t=Object(h.l)(this.contacts);if(this.showFilters||(this.contacts=[]),this.staticSelector){const t=this.staticContacts.filter(t=>!(e.length>0)||`${t.firstName||""} ${t.surname||""} ${t.designation||""} ${t.companyName||""}`.toLocaleLowerCase().includes(e.toLocaleLowerCase()));return Object(r.a)(t)}let n=this.companyID;if(this.customerContact||(n=0),(this.staffMember||this.teamMember)&&0!==e.length){const t=this.teamMembers.filter(t=>!(e.length>0)||`${t.firstName||""} ${t.surname||""} ${t.designation||""} ${t.companyName||""}`.toLocaleLowerCase().includes(e.toLocaleLowerCase()));if(t.length)return Object(r.a)(t)}if(0===e.length)return this.staffMember||this.teamMember?Object(r.a)(this.teamMembers):Object(r.a)([]);if(this.showFilters){const n=t.filter(t=>!(e.length>0)||`${t.firstName||""} ${t.surname||""} ${t.designation||""} ${t.companyName||""}`.toLocaleLowerCase().includes(e.toLocaleLowerCase()));if(n.length>0)return Object(r.a)(n)}return this.isEnterprise?this.contactService.getCompanyContactEnterprise(0,this.companyID,this.divisionID,this.departmentID,e):this.contactService.getContactList(e,0,n)})).subscribe(e=>{e=e.map(e=>(e.checked=this.selectedContacts.some(t=>t.contactID===e.contactID),e)),this.newContactAdd=!e.length,this.checkAllModel=!1,this.contacts=Object(h.j)(e,"contactID")})}selectAllContact(){this.contacts=this.contacts.map(this.checkAllModel?e=>(e.checked=!0,-1===this.selectedContacts.findIndex(t=>t.contactID===e.contactID)&&this.selectedContacts.push(e),e):e=>{e.checked=!1;const t=this.selectedContacts.findIndex(t=>t.contactID===e.contactID);return-1!==t&&this.selectedContacts.splice(t,1),e})}selectContact(e){if(this.isSingleSelect||this.singleTask){this.contacts.forEach(e=>{e.checked&&(e.checked=!1)});const t=this.contacts[e];if(t.emailAddress&&this.isEnterprise&&this.emailValidationOn)return;const n=this.selectedContacts.findIndex(e=>e.contactID===t.contactID);t.checked=-1===n,this.selectedContacts=[],-1===n&&this.selectedContacts.push(t)}else if(1===this.activeTab){const t=this.contacts[e];if(t.emailAddress&&this.isEnterprise&&this.emailValidationOn)return;const n=this.selectedContacts.findIndex(e=>e.contactID===t.contactID);-1!==n?this.selectedContacts.splice(n,1):this.selectedContacts.push(t),t.checked=!t.checked}else{const t=this.selectedContacts[e];if(t.emailAddress&&this.isEnterprise&&this.emailValidationOn)return;const n=this.contacts.findIndex(e=>e.contactID===t.contactID);-1!==n&&(this.contacts[n].checked=!1),this.selectedContacts.splice(e,1)}}onSubmit(){!this.inviteToProgram||this.selectedContacts.length?(this.staticContacts=this.selectedContacts.map(e=>(e.activeFilter=this.activeFilter,e)),this.activeModal.close(this.selectedContacts)):this.dismiss()}inviteExternal(){this.activeModal.close([])}dismiss(){this.activeModal.dismiss()}availableTab(){this.activeTab=1,this.checkAllModel=!1,this.contacts=this.contacts.map(e=>(e.checked=this.selectedContacts.some(t=>t.contactID===e.contactID),e))}addNewContact(){const e=this.modal.open(f.a,{backdrop:"static",size:"lg"});e.componentInstance.companyID=this.companyID,e.componentInstance.companyName=null,e.componentInstance.actionType="Add",e.componentInstance.customerContact=this.customerContact,e.componentInstance.hideCompany=this.customerContact,e.componentInstance.boardMember=this.boardMember,e.componentInstance.shareHolder=this.shareHolder,e.componentInstance.isReference=this.isReference,e.componentInstance.isDelegateInvite=this.isDelegateInvite,this.isEnterprise&&(e.componentInstance.companyModel={companyID:this.user.companyID,companyName:this.user.companyName}),e.result.then(e=>{if(e)if(this.customerContact)e.checked=!0,this.selectedContacts.push(e);else{if(this.isDelegateInvite)return this.selectedContacts.push(e),void this.onSubmit();this.activeModal.close([e])}},()=>{})}addJobProfile(){const e=new o.a;this.activeModal.close([e])}getTeam(){const e=JSON.parse(localStorage.getItem("myTeam"))||0;this.loading=!0,(e.length?Object(r.a)(e):this.contactService.getContacts(this.companyID)).subscribe(e=>{this.contacts=e.map(e=>(e.checked=this.selectedContacts.some(t=>t.contactID===e.contactID),e)),this.teamMembers=e.map(e=>(e.checked=this.selectedContacts.some(t=>t.contactID===e.contactID),e)),this.loading=!1})}filter(e){this.programInstanceID=null,this.programInstanceStageID=0,this.staticSelector=!1,this.activeFilter=e,this.teamMember=!1,this.contacts=[],this.staticContacts=[],"team"===e&&(this.teamMember=!0,this.getTeam()),"followers"===e&&this.getMyConnections(1),"following"===e&&this.getMyConnections(2),"applicants"===e&&(this.staticSelector=!0),"myDepartment"===e&&(this.departmentID=this.user.departmentID,this.contacts=[],this.getEnterpriseContact()),"myDivision"===e&&(this.divisionID=this.user.divisionID,this.contacts=[],this.getEnterpriseContact()),"filterDivision"===e&&(this.divisionID=0,this.contacts=[])}getMyConnections(e){if(this.contacts=[],this.activeFilter=1===e?"followers":"following",this.loading=!0,1===e){const e=JSON.parse(localStorage.getItem("myFollower"))||[];(e.length?Object(r.a)(e):this.contactService.contactFollowers(this.contactID)).subscribe(e=>{this.contacts=e,this.staticContacts=e,this.loading=!1})}else{const e=JSON.parse(localStorage.getItem("meFollowing"))||[];(e.length?Object(r.a)(e):this.contactService.contactFollowing(this.contactID)).subscribe(e=>{this.contacts=e,this.staticContacts=e,this.loading=!1})}}onInstanceSelect(){this.programInstanceID?(this.stages=this.instances.find(e=>e.programInstanceID===this.programInstanceID).stages,this.getApplicants()):(this.stages=[],this.staticContacts=[],this.contacts=[])}onStageSelect(){this.getApplicants()}getApplicants(){this.loading=!0,this.contacts=[],this.staticContacts=[],this.portfolioService.getCompanyRoadmapStages(0,0,0,this.programInstanceID,this.programInstanceStageID,0).subscribe(e=>{Object(h.j)(e,"contactID").forEach(e=>{e.firstName=e.firstname,this.contacts.push(e),this.staticContacts.push(e)}),this.loading=!1})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(v["\u0275\u0275directiveInject"](y.a),v["\u0275\u0275directiveInject"](b.a),v["\u0275\u0275directiveInject"](I.a),v["\u0275\u0275directiveInject"](x.a),v["\u0275\u0275directiveInject"](S.a),v["\u0275\u0275directiveInject"](b.p))},e.\u0275cmp=v["\u0275\u0275defineComponent"]({type:e,selectors:[["app-contact-selector-modified"]],viewQuery:function(e,t){if(1&e&&v["\u0275\u0275viewQuery"](E,!0),2&e){let e;v["\u0275\u0275queryRefresh"](e=v["\u0275\u0275loadQuery"]())&&(t.searchInput=e.first)}},decls:25,vars:14,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","d-flex","flex-column",3,"avnonLoader"],[1,"d-flex"],["class","filter-selector border-right pl-1 pr-1 mr-2 d-flex flex-column",4,"ngIf"],[1,"d-flex","flex-column"],[1,"form-group"],[1,"fixed-modal-block"],[3,"ngClass"],["placeholder","Search people",1,"form-control"],["searchInput",""],["class","nav table-tabs grid-tabs float-right",4,"ngIf"],["class","contact-selector-content",4,"ngIf"],["class","hint",4,"ngIf"],[1,"d-flex","align-items-center","pt-3"],["class","cursor-pointer text-primary",3,"click",4,"ngIf"],["class","btn btn-outline-primary",3,"click",4,"ngIf"],[1,"btn","btn-primary","ml-auto",3,"click"],[1,"filter-selector","border-right","pl-1","pr-1","mr-2","d-flex","flex-column"],["class","custom-control custom-radio",4,"ngIf"],[4,"ngIf"],[1,"custom-control","custom-radio"],["type","radio","id","followers","name","followers",1,"custom-control-input",3,"checked","change"],["for","followers",1,"custom-control-label"],["type","radio","id","following","name","following",1,"custom-control-input",3,"checked","change"],["for","following",1,"custom-control-label"],["class","form-group d-flex flex-column",4,"ngIf"],["type","radio","id","team","name","team",1,"custom-control-input",3,"checked","change"],["for","team",1,"custom-control-label"],["type","radio","id","myDepartment","name","myDepartment",1,"custom-control-input",3,"checked","change"],["for","myDepartment",1,"custom-control-label"],["type","radio","id","myDivision","name","myDivision",1,"custom-control-input",3,"checked","change"],["for","myDivision",1,"custom-control-label"],["type","radio","id","applicants","name","applicants",1,"custom-control-input",3,"checked","change"],["for","applicants",1,"custom-control-label"],[1,"form-group","d-flex","flex-column"],["name","programInstanceID","id","programInstanceID",1,"form-control",3,"ngModelOptions","ngModel","change","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","form-control","name","programInstanceStageID","id","programInstanceStageID",3,"ngModelOptions","ngModel","change","ngModelChange",4,"ngIf"],["name","programInstanceStageID","id","programInstanceStageID",1,"form-control",3,"ngModelOptions","ngModel","change","ngModelChange"],["type","radio","id","filterDivision","name","filterDivision",1,"custom-control-input",3,"checked","change"],["for","filterDivision",1,"custom-control-label"],[1,"form-group","d-flex","flex-column","mt-2"],["name","divisionID","id","divisionID",1,"form-control",3,"ngModelOptions","ngModel","change","ngModelChange"],[1,"d-flex","flex-column","department-list","mt-2"],["class","custom-control custom-checkbox",4,"ngFor","ngForOf"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"name","checked","id","change"],[1,"custom-control-label","text-nowrap",3,"for"],[1,"nav","table-tabs","grid-tabs","float-right"],[1,"nav-item","cursor-pointer"],[1,"nav-link",3,"click"],[1,"contact-selector-content"],[1,"table","inline-table","table-grid","table-compact","table-modal-search"],["class","inline-header",4,"ngIf"],["class","cursor-pointer",3,"disabled","ngClass","click",4,"ngFor","ngForOf"],[1,"inline-header"],["class","font-weight-normal col-check",4,"ngIf"],[1,"font-weight-normal"],["class","font-weight-normal col-position",4,"ngIf"],[1,"font-weight-normal","col-check"],["id","checkall","type","checkbox",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","checkall",1,"custom-control-label"],[1,"font-weight-normal","col-position"],[1,"cursor-pointer",3,"ngClass","click"],[1,"d-flex","align-items-center"],[1,"img-fluid","avatar-rounded",3,"src"],[1,"d-flex","pl-2","flex-column"],["type","checkbox",1,"custom-control-input",3,"checked"],[1,"custom-control-label"],["class","meta mb-0",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"meta","mb-0"],[1,"text-danger"],["class","cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"fas","fa-trash-alt","text-danger"],["alt","",1,"img-fluid","avatar-rounded",3,"src"],["class","pl-2",4,"ngIf"],[1,"pl-2"],[1,"hint"],[1,"cursor-pointer","text-primary",3,"click"],[1,"btn","btn-outline-primary",3,"click"]],template:function(e,t){if(1&e&&(v["\u0275\u0275elementStart"](0,"div",0),v["\u0275\u0275elementStart"](1,"h5",1),v["\u0275\u0275text"](2),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](3,"button",2),v["\u0275\u0275listener"]("click",function(){return t.dismiss()}),v["\u0275\u0275elementStart"](4,"span",3),v["\u0275\u0275text"](5,"\xd7"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](6,"div",4),v["\u0275\u0275elementStart"](7,"div",5),v["\u0275\u0275template"](8,N,17,8,"div",6),v["\u0275\u0275elementStart"](9,"div",7),v["\u0275\u0275elementStart"](10,"div",8),v["\u0275\u0275elementStart"](11,"div",9),v["\u0275\u0275elementStart"](12,"span",10),v["\u0275\u0275element"](13,"input",11,12),v["\u0275\u0275elementEnd"](),v["\u0275\u0275template"](15,U,9,5,"ul",13),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275template"](16,oe,5,2,"div",14),v["\u0275\u0275template"](17,le,11,1,"div",14),v["\u0275\u0275template"](18,ce,4,0,"div",15),v["\u0275\u0275template"](19,de,4,0,"div",15),v["\u0275\u0275elementStart"](20,"div",16),v["\u0275\u0275template"](21,pe,2,0,"span",17),v["\u0275\u0275template"](22,me,2,0,"button",18),v["\u0275\u0275elementStart"](23,"button",19),v["\u0275\u0275listener"]("click",function(){return t.onSubmit()}),v["\u0275\u0275text"](24),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"]()),2&e){const e=v["\u0275\u0275reference"](14);v["\u0275\u0275advance"](2),v["\u0275\u0275textInterpolate1"](" ",t.title," "),v["\u0275\u0275advance"](4),v["\u0275\u0275property"]("avnonLoader",t.loading),v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("ngIf",t.showFilters),v["\u0275\u0275advance"](4),v["\u0275\u0275property"]("ngClass",v["\u0275\u0275pureFunction1"](12,ue,!t.isMinimalist)),v["\u0275\u0275advance"](3),v["\u0275\u0275property"]("ngIf",!t.isMinimalist&&!t.singleTask),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",1===t.activeTab),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",2===t.activeTab),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",t.allowNewContact&&(t.newContactAdd||(null==e||null==e.value?null:e.value.length))&&1===t.activeTab),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",t.staffMember&&1===t.activeTab),v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("ngIf",t.singleTask),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",t.inviteToProgram),v["\u0275\u0275advance"](2),v["\u0275\u0275textInterpolate1"](" ",t.modalSubmitLabel," ")}},directives:[C.a,D.n,D.l,w.B,w.q,w.t,w.v,w.D,D.m,w.a],pipes:[k.a],styles:[".contact-selector-content[_ngcontent-%COMP%]{height:100%;max-height:70vh;min-height:60vh;overflow:auto;position:relative}.fw-block.filter-sticky[_ngcontent-%COMP%]{background-color:#edf1f5;padding:10px 20px;font-size:12px}.contact-selector-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{table-layout:fixed}.contact-selector-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .contact-selector-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle;padding:.5rem}.contact-selector-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%]{background-color:#edf1f5}.contact-selector-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .col-check[_ngcontent-%COMP%]{width:40px}.contact-selector-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px;height:36px}.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.filter-selector[_ngcontent-%COMP%]{height:100%;min-height:76vh;overflow:auto;position:relative;min-width:250px}.department-list[_ngcontent-%COMP%]{max-height:40vh;overflow-x:hidden;overflow-y:auto}"]}),e})()},fujP:function(e,t,n){"use strict";var i=n("jMTf"),o=n("YM6B"),a=n("9f76"),r=n("/1FC"),s=n("5WsY"),l=n("WOAq"),c=n("pyRK"),d=n("oYcn"),p=Object.prototype.hasOwnProperty;t.a=function(e){if(null==e)return!0;if(Object(s.a)(e)&&(Object(r.a)(e)||"string"==typeof e||"function"==typeof e.splice||Object(l.a)(e)||Object(d.a)(e)||Object(a.a)(e)))return!e.length;var t=Object(o.a)(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Object(c.a)(e))return!Object(i.a)(e).length;for(var n in e)if(p.call(e,n))return!1;return!0}},gk2U:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var i=n("QF1F"),o=n("6lqT"),a=n("LRne"),r=n("cp0P"),s=n("XNiG"),l=n("1G5W"),c=n("lJxs"),d=n("tk/3"),p=n("HewK"),m=n("fXoL"),u=n("1kSV"),h=n("esnG"),f=n("ofXK"),g=n("nNlV");function v(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"app-preview-file-upload",5),m["\u0275\u0275listener"]("changeState",function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().changeState(t)})("removeFile",function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().removeFile(t)}),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("documents",e.documents)}}let y=(()=>{class e{constructor(e,t){this.modalService=e,this.documentService=t,this.fakeId=0,this.documents=[],this.referenceID=null,this.documentCategoryID=null,this.documentsWillRemove=[],this.unsubscribe=[]}ngOnInit(){this.getDocuments()}getDocuments(){this.documentService.getDocuments(this.documentCategoryID,this.referenceID,0,0,+localStorage.getItem("CoID")).subscribe(e=>{e&&(this.documents=e)})}onFileSelect(e){const t=e.target.files;for(let n=0;n<t.length;n++){const e=t.item(n);if(e.type&&/^image\//.test(e.type)){const t=new FileReader;t.readAsDataURL(e),t.onload=()=>{e.imageUrl=t.result}}else if(e.type&&/^video\//.test(e.type)){const t=15,n=new FileReader;n.readAsDataURL(e),n.onload=n=>{e.videoUrl=n.target.result;const i=document.createElement("video");i.setAttribute("src",n.target.result),i.addEventListener("loadedmetadata",function(){this.currentTime=i.duration<t?i.duration/2:t},!1),i.addEventListener("loadeddata",()=>{setTimeout(()=>{const t=document.createElement("canvas");t.getContext("2d").drawImage(i,0,0,i.videoWidth,i.videoHeight),e.imageUrl=t.toDataURL()},300)},!1)}}const a=new i.a;a.data=e,a.progress=0;const r=new o.a;a.fakeId=this.fakeId++,r.file=a,this.documents.unshift(r)}}removeFile(e){const t=e.file;if(t){const e=this.documents.findIndex(e=>e.file?e.file.fakeId===t.fakeId:e.documentID===t.id);-1!==e&&this.documents[e].documentID&&this.documentsWillRemove.push(this.documents[e].documentID),this.documents.splice(e,1)}else this.removeDocument(e)}removeDocument(e){this.documentService.deleteDocument(e.documentID).subscribe(()=>{this.documents.forEach((t,n)=>{t.documentID===e.documentID&&this.documents.splice(n,1)})})}onUploadDocument(){this.saveDocuments(this.documents)}saveDocuments(e){if(!e||0===e.length)return Object(a.a)([]);const t=this.documents.filter(e=>!e.documentID);return Object(r.a)(t.map((e,t)=>{const n=new FormData;return n.append("file",e.file.data),this.unsubscribe.push({id:e.file.fakeId,sub:new s.a}),this.documentService.insertDocument(n,this.documentCategoryID,this.referenceID,+localStorage.getItem("CoID"),0,0,e.documentDescription).pipe(Object(l.a)(this.unsubscribe[t].sub),Object(c.a)(t=>{switch(t.type){case d.e.UploadProgress:e.file.status="uploading",e.file.progress=Math.round(100*t.loaded/t.total);break;case d.e.Response:return e.file.status="done",t.body[0]}})).subscribe(t=>{if(t){const n=this.documents.findIndex(t=>t.file?t.file.fakeId===e.file.fakeId:t.documentID===e.file.id);-1!==n&&(this.documents[n]=t)}})}))}onAddNewPhotos(){const e=this.modalService.open(p.a,{size:"xl"});e.componentInstance.documents=[],e.componentInstance.referenceID=this.referenceID,e.componentInstance.documentCategoryID=this.documentCategoryID,e.result.then(e=>{e&&this.getDocuments()},()=>{})}changeState(e){e&&e.state&&this.getDocuments()}ngOnDestroy(){this.unsubscribe.map(e=>{e&&e.sub&&!e.sub.closed&&(e.sub.next(),e.sub.complete())})}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](u.p),m["\u0275\u0275directiveInject"](h.a))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-share-photo-upload"]],inputs:{documents:"documents",referenceID:"referenceID",documentCategoryID:"documentCategoryID"},decls:6,vars:1,consts:[[1,"filter-container","upload-button","text-right","border-bottom"],[3,"click"],[1,"plus-ico-2"],[1,"filter-container","mt-2"],[3,"documents","changeState","removeFile",4,"ngIf"],[3,"documents","changeState","removeFile"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"a",1),m["\u0275\u0275listener"]("click",function(){return t.onAddNewPhotos()}),m["\u0275\u0275element"](2,"span",2),m["\u0275\u0275text"](3,"Upload"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"div",3),m["\u0275\u0275template"](5,v,1,1,"app-preview-file-upload",4),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("ngIf",t.documents&&t.documents.length>0))},directives:[f.n,g.a],encapsulation:2}),e})()},iHql:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n("fXoL"),o=n("QF1F"),a=n("ofXK");const r=["fileUpload"];function s(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",6),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onUpload("image/*")}),i["\u0275\u0275element"](1,"span",7),i["\u0275\u0275elementEnd"]()}}function l(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Attach"),i["\u0275\u0275elementContainerEnd"]())}function c(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",8),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onUpload("")}),i["\u0275\u0275element"](1,"span",9),i["\u0275\u0275template"](2,l,2,0,"ng-container",10),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.supportRequest)}}function d(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",11),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onUpload("")}),i["\u0275\u0275text"](1," Attach "),i["\u0275\u0275elementEnd"]()}}let p=(()=>{class e{constructor(){this.uploadFileChange=new i.EventEmitter,this.acceptType=""}ngOnInit(){}onUpload(e){this.acceptType=e,setTimeout(()=>{this.onClickUpload()})}onClickUpload(){const e=this.fileUpload.nativeElement;e.onchange=()=>{for(let t=0;t<e.files.length;t++){const n=e.files[t];if(n.type&&/^image\//.test(n.type)){const e=new FileReader;e.readAsDataURL(n),e.onload=()=>{n.imageUrl=e.result}}else if(n.type&&/^video\//.test(n.type)){const e=15,t=new FileReader;t.readAsDataURL(n),t.onload=t=>{n.videoUrl=t.target.result;const i=document.createElement("video");i.setAttribute("src",t.target.result),i.addEventListener("loadedmetadata",function(){this.currentTime=i.duration<e?i.duration/2:e},!1),i.addEventListener("loadeddata",()=>{setTimeout(()=>{const e=document.createElement("canvas");e.getContext("2d").drawImage(i,0,0,i.videoWidth,i.videoHeight),n.imageUrl=e.toDataURL()},300)},!1)}}const i=new o.a;i.data=n,i.progress=0,this.uploadFileChange.emit(i)}},e.click()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-file-upload"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](r,!0),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.fileUpload=e.first)}},inputs:{supportRequest:"supportRequest",hideImage:"hideImage"},outputs:{uploadFileChange:"uploadFileChange"},decls:6,vars:4,consts:[[1,"d-flex","align-items-center","actions"],["class","btn btn-30","type","button",3,"click",4,"ngIf"],["class","btn btn-30 ml-2","type","button",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-primary","type","button",3,"click",4,"ngIf"],["type","file","id","fileUpload","name","fileUpload","multiple","multiple","onclick","this.value = null",2,"display","none",3,"accept"],["fileUpload",""],["type","button",1,"btn","btn-30",3,"click"],[1,"ico","fas","fa-image"],["type","button",1,"btn","btn-30","ml-2",3,"click"],[1,"ico","fas","fa-paperclip"],[4,"ngIf"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,s,2,0,"button",1),i["\u0275\u0275template"](2,c,3,1,"button",2),i["\u0275\u0275template"](3,d,2,0,"button",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](4,"input",4,5)),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.supportRequest&&!t.hideImage),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.supportRequest),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.supportRequest),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("accept",t.acceptType))},directives:[a.n],styles:[".btn-upload[_ngcontent-%COMP%]{padding:4px 10px;display:flex;align-items:center;line-height:1;font-size:18px!important;color:#aaa}"]}),e})()},iKws:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var i=n("fXoL"),o=n("AytR"),a=n("OzGw"),r=n("cC3c"),s=n("8stm"),l=n("WhH8"),c=n("1kSV"),d=n("5eHb"),p=n("tyNb"),m=n("kmKP"),u=n("ofXK"),h=n("sYmb"),f=n("SdWN");function g(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",6),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate2"](" ",null==e.contacts?null:e.contacts.length," ",i["\u0275\u0275pipeBind1"](2,2,"COMPANY.INACTIVE-TEAM-MEMBERS")," ")}}function v(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",6),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate2"](" ",null==e.contacts?null:e.contacts.length," ",i["\u0275\u0275pipeBind1"](2,2,"COMPANY.ACTIVE-TEAM-MEMBERS")," ")}}function y(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275elementStart"](1,"div",8),i["\u0275\u0275elementStart"](2,"button",9),i["\u0275\u0275element"](3,"span",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"ul",11),i["\u0275\u0275elementStart"](5,"li"),i["\u0275\u0275elementStart"](6,"a",12),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).addTeamMember()}),i["\u0275\u0275text"](7),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"li"),i["\u0275\u0275elementStart"](10,"a",12),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).showInactiveContacts()}),i["\u0275\u0275text"](11),i["\u0275\u0275pipe"](12,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](8,2,"COMPANY.ADD-MEMBER")," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](12,4,"COMPANY.INACTIVE-MEMBERS")," "))}function b(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275template"](1,g,3,4,"span",3),i["\u0275\u0275template"](2,v,3,4,"ng-template",null,4,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](4,y,13,6,"div",5),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275reference"](3),t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",3===t.tabActive)("ngIfElse",e),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.canEdit)}}function I(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"li"),i["\u0275\u0275elementStart"](1,"a",12),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](3),n=t.$implicit,o=t.index;return i["\u0275\u0275nextContext"](2).onDeleteMember(n,o)}),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,1,"COMMON.DELETE")," "))}function x(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",22),i["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),i["\u0275\u0275elementStart"](1,"div",8),i["\u0275\u0275elementStart"](2,"button",9),i["\u0275\u0275element"](3,"span",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"ul",11),i["\u0275\u0275elementStart"](5,"li"),i["\u0275\u0275elementStart"](6,"a",12),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2).$implicit;return i["\u0275\u0275nextContext"](2).viewContact(t)}),i["\u0275\u0275text"](7),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](9,I,4,3,"li",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2).$implicit,t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](8,2,"COMMON.EDIT")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.contactID!==t.contactID)}}function S(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"p"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.headline)}}function C(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",15),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](2).viewProfile(t.contactID)}),i["\u0275\u0275elementStart"](1,"span",16),i["\u0275\u0275element"](2,"img",17),i["\u0275\u0275pipe"](3,"avatar"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",18),i["\u0275\u0275elementStart"](5,"h2"),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](7,x,10,4,"div",19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",20),i["\u0275\u0275elementStart"](9,"span"),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",21),i["\u0275\u0275template"](12,S,2,1,"p",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit,o=i["\u0275\u0275nextContext"](2);i["\u0275\u0275classProp"]("border-bottom-0",t===o.contacts.length-1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",i["\u0275\u0275pipeBind1"](3,8,n.profilePhoto),i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate2"]("",n.firstName," ",n.surname,""),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",o.canEdit),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](n.designation),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",n.headline)}}function D(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,C,13,10,"div",14),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.companyOwner||n.companyOwner&&(e.founder||n.practiceOwner&&e.contactID===n.contactID))}}function w(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,D,2,1,"ng-container",13),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.contacts)}}let k=(()=>{class e{constructor(e,t,n,a,r){this.contactService=e,this.ngbModal=t,this.toastrService=n,this.router=a,this.userService=r,this.memberAdded=new i.EventEmitter,this.memberUpdate=new i.EventEmitter,this.triggerDismiss=new i.EventEmitter,this.apiBlobUrl=o.a.apiBlobUrl+"/",this.isProcessing=!1,this.contacts=[],this.tmpContacts=[],this.tabActive=2,this.allowFilter=!0,this.canEdit=!0,this.user=this.userService.user.getValue(),this.contactID=this.user.contactID}set Value(e){e&&this.addTeamMember()}ngOnInit(){this.getTeams()}getTeams(){this.isProcessing=!0,this.contactService.getContacts(this.companyID).subscribe(e=>{this.memberAdded.emit(e),this.contacts=e,this.tmpContacts=e,this.filterContact(this.tabActive),this.isProcessing=!1},()=>{this.isProcessing=!1})}filterContact(e){this.tabActive=e,this.contacts=2===e?this.tmpContacts.filter(e=>1===e.employmentStatusID):3===e?this.tmpContacts.filter(e=>1!==e.employmentStatusID):this.tmpContacts}viewContact(e){const t=this.ngbModal.open(s.a,{backdrop:"static",size:"lg"});t.componentInstance.contact=Object.assign({},e),t.componentInstance.companyID=this.companyID,t.componentInstance.companyOwner=this.companyOwner,t.componentInstance.actionType="Update",t.result.then(e=>{e&&(this.memberUpdate.emit(!0),this.getTeams())},()=>{})}viewProfile(e){this.companyOwner||this.preventNavigation||this.router.navigate(["/explore/people",e])}addTeamMember(){this.triggerDismiss.emit(!1),localStorage.removeItem("contactObject");const e=this.ngbModal.open(s.a,{backdrop:"static",size:"lg"});e.componentInstance.companyID=this.companyID,e.componentInstance.companyOwner=this.companyOwner,e.componentInstance.companyName=this.companyName,e.componentInstance.companyModel={companyID:this.companyID,companyName:this.companyName},e.componentInstance.actionType="Add",e.result.then(e=>{e&&this.getTeams()},()=>{})}onDeleteMember(e,t){const n=this.ngbModal.open(a.a,{backdrop:"static"});n.componentInstance.objectType="Team Member",n.componentInstance.objectDetails=e.firstName+" "+e.surname,n.result.then(n=>{n&&"Yes"===n&&this.deleteMember(e,t)})}deleteMember(e,t){this.contactService.deleteContactCompany(e.contactCompanyID).subscribe(()=>{this.contacts.splice(t,1),this.toastrService.success("Member has been deleted")})}showInactiveContacts(){const e=this.ngbModal.open(r.a,{backdrop:"static",size:"lg"});e.componentInstance.companyID=this.companyID,e.componentInstance.companyName=this.companyName,e.componentInstance.memberUpdate.subscribe(e=>{e&&this.getTeams()})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](l.a),i["\u0275\u0275directiveInject"](c.p),i["\u0275\u0275directiveInject"](d.b),i["\u0275\u0275directiveInject"](p.c),i["\u0275\u0275directiveInject"](m.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-team"]],inputs:{tabActive:"tabActive",companyID:"companyID",companyName:"companyName",allowFilter:"allowFilter",canEdit:"canEdit",limitedView:"limitedView",companyOwner:"companyOwner",practiceOwner:"practiceOwner",preventNavigation:"preventNavigation",Value:["triggerAdd","Value"]},outputs:{memberAdded:"memberAdded",memberUpdate:"memberUpdate",triggerDismiss:"triggerDismiss"},decls:2,vars:2,consts:[["class","col-12 d-flex justify-content-between align-items-center filter-container border-bottom",4,"ngIf"],[4,"ngIf"],[1,"col-12","d-flex","justify-content-between","align-items-center","filter-container","border-bottom"],["class","post-count",4,"ngIf","ngIfElse"],["notActiveTab3",""],["class","actions",4,"ngIf"],[1,"post-count"],[1,"actions"],[1,"dropdown"],["type","button","id","dd1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["aria-labelledby","dd1",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[4,"ngFor","ngForOf"],["class","entry",3,"border-bottom-0","click",4,"ngIf"],[1,"entry",3,"click"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","Avatar",1,"img-fluid","img-48","cover",3,"src"],[1,"d-flex"],["class","actions",3,"click",4,"ngIf"],[1,"meta"],[1,"entry-content"],[1,"actions",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,b,5,3,"div",0),i["\u0275\u0275template"](1,w,2,1,"ng-container",1)),2&e&&(i["\u0275\u0275property"]("ngIf",!t.limitedView),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.contacts&&t.contacts.length>0))},directives:[u.n,u.m],pipes:[h.c,f.a],styles:[".avatar-100.avatar-team-member[_ngcontent-%COMP%]{max-height:100px}.item-team[_ngcontent-%COMP%]{position:relative}.item-team[_ngcontent-%COMP%]   .team-action[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:none}.item-team[_ngcontent-%COMP%]   .team-action[_ngcontent-%COMP%]   .dropdown-toggle.no-icon[_ngcontent-%COMP%]:after{content:none}.item-team[_ngcontent-%COMP%]   .team-action[_ngcontent-%COMP%]   .icon-center[_ngcontent-%COMP%]{background-position:50%}.item-team[_ngcontent-%COMP%]:hover   .team-action[_ngcontent-%COMP%]{display:inline}.action-dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{width:20px;height:16px;padding:0;display:flex;align-items:center;justify-content:center;font-weight:600;opacity:.7;background-size:0}.action-dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.filter-container[_ngcontent-%COMP%]{padding:.75rem}.dots-ico[_ngcontent-%COMP%]{filter:grayscale(100%)}"]}),e})()},iv3V:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("ofXK"),o=n("3Pt+"),a=n("PCNd"),r=n("fXoL");let s=(()=>{class e{}return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,o.l,a.a]]}),e})()},"j/oq":function(e,t,n){"use strict";n.r(t),n.d(t,"MainHomeModule",function(){return Jo});var i=n("ofXK"),o=n("mrSG"),a=n("tyNb"),r=n("FUuC"),s=n("Ll2f"),l=n("LRne"),c=n("lJxs"),d=n("fXoL"),p=n("wgH9");let m=(()=>{class e{constructor(e){this.lookupService=e,this.lookup=new s.a}resolve(e,t){const n=String(e.params.id).toLocaleLowerCase(),i=Number(e.params.id);return Number.isInteger(i)?(this.lookup.lookupName="",this.lookup.referenceID=i,Object(l.a)([this.lookup]).pipe(Object(c.a)(e=>e[0]||null))):this.lookupService.getLookup(0,3,0,n).pipe(Object(c.a)(e=>e[0]||null))}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275inject"](p.a))},e.\u0275prov=d["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=n("WoVx"),h=n("OzGw"),f=n("SL35"),g=n("8J6U"),v=n("xJDW"),y=n("XAmU"),b=n("1kSV"),I=n("S2+F"),x=n("MEae"),S=n("BoU9"),C=n("KJJU"),D=n("eIep"),w=n("1G5W"),k=n("cp0P"),E=n("XNiG"),M=n("6lqT"),O=n("tk/3"),P=n("myoa"),T=n("AytR"),A=n("esnG"),_=n("skrp"),F=n("kmKP"),R=n("Jn3s"),L=n("3Pt+"),V=n("5eqV"),j=n("OOVy"),B=n("iHql"),N=n("enax"),U=n("D7eP"),G=n("SdWN");function $(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275element"](1,"app-link-preview",13),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("linkUrl",e.discussion.urlLinks[e.discussion.urlLinks.length-1])}}function H(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,$,2,1,"ng-container",6),d["\u0275\u0275elementStart"](2,"app-image-layout",12),d["\u0275\u0275listener"]("handleRemoveImage",function(t){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().onRemoveFile(t)}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!e.getGalleryFiles(e.discussion.documents).length&&(null==e.discussion||null==e.discussion.urlLinks?null:e.discussion.urlLinks.length)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("images",e.getGalleryFiles(e.discussion.documents))("editable",!0)("files",e.getNoneGalleryFiles(e.discussion.documents))}}function q(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"ngb-alert",14),d["\u0275\u0275text"](1,"Your post is being created "),d["\u0275\u0275elementEnd"]()),2&e&&d["\u0275\u0275property"]("dismissible",!1)}function z(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"ul",18),d["\u0275\u0275elementStart"](1,"li",19),d["\u0275\u0275elementStart"](2,"div",20),d["\u0275\u0275elementStart"](3,"span",21),d["\u0275\u0275text"](4),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](5,"ngb-progressbar",22),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"button",23),d["\u0275\u0275listener"]("click",function(){d["\u0275\u0275restoreView"](e);const n=t.$implicit,i=d["\u0275\u0275nextContext"]().$implicit;return d["\u0275\u0275nextContext"](2).onRemoveProgressFile(i,n)}),d["\u0275\u0275text"](7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](e.data.name),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("value",e.progress)("showValue",!0),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("disabled",100===e.progress&&n.isLoading),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](n.isLoading?"Cancel":"Delete")}}function W(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,z,8,5,"ul",17),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.getFile(e))}}function X(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",15),d["\u0275\u0275template"](1,W,2,1,"ng-container",16),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",e.discussion.documents)}}let Y=(()=>{class e{constructor(e,t,n,i){this.discussionService=e,this.documentService=t,this.linkService=n,this.userService=i,this.created=new d.EventEmitter,this.updated=new d.EventEmitter,this.discussionCategoryID=0,this.referenceID=0,this.parentDiscussionID=0,this.discussion=new S.a,this.editing=!1,this.totalContactSharing=0,this.isLoading=!1,this.showSpinner=!1,this.currentUser=new C.a,this.fakeId=0,this.unsubscribe=[],this.documentsWillRemove=[],this.currentUser=this.userService.user.getValue()}ngOnInit(){console.log("\ud83d\ude80 > NewsCommentAddComponent > ngOnInit > this.discussion",this.discussion),this.editing=this.discussion.discussionID>0,this.discussion.urlLinks=this.discussion.urlLinks||[],this.linkService.getLinksSubject.subscribe(e=>{this.discussion.discussionTopic&&P.b.isLink(this.discussion.discussionTopic)&&(this.discussion.urlLinks=e)})}onSubmit(){this.showSpinner=!0,this.isLoading=!0,this.editing?this.updateDiscussion():this.createDiscussion()}updateDiscussion(){const e=Object.assign(Object.assign({},this.discussion),{documents:null});this.discussionService.updateDiscussion(e).pipe(Object(D.a)(()=>{const e=this.documentsWillRemove.map(e=>this.documentService.deleteDocument(e)),t=e&&e.length?e:Object(l.a)([]),n=Object(k.a)(t),i=this.discussion.documents.filter(e=>!e.documentID);return Object(k.a)([this.saveDocuments(this.discussion.discussionID,i),n])})).subscribe(([e])=>{this.discussion.documents||(this.discussion.documents=[]),this.discussion.documents=this.discussion.documents.filter(e=>e.documentID),e&&e.length&&this.discussion.documents.push(...e),this.discussion.documents=this.discussion.documents.filter(e=>e),this.updated.emit(this.discussion)})}isNotAllowed(){return this.discussion&&this.discussion.documents?!(this.discussion.documents.length>0||this.discussion.discussionTopic&&this.discussion.discussionTopic.length>0):!this.discussion.discussionTopic}createDiscussion(){let e=12;const t=this.referenceID;this.discussionCategoryID&&(e=this.discussionCategoryID),this.discussion.discussionCreatedByContactID=this.currentUser.contactID,this.discussion.referenceID=t,this.discussion.discussionCategoryID=e,this.discussion.isDirectMessage=!1,this.discussion.parentDiscussionID=this.parentDiscussionID;const n=Object.assign(Object.assign({},this.discussion),{documents:null}),o=new Date,a=Object(i.y)(o,"yyyy-MM-dd HH:mm:ss","en-UK");this.discussionService.insertDiscussion(n).subscribe(e=>{this.discussion.discussionID=e.inOut_DiscussionID,this.discussion.firstName=this.currentUser.firstName,this.discussion.surname=this.currentUser.surname,this.discussion.dateCreated=a,this.discussion.profilePhoto=this.currentUser.profilePhoto,this.saveDocuments(this.discussion.discussionID,this.discussion.documents).subscribe(e=>{this.discussion.documents=e.filter(e=>e),this.created.emit(this.discussion),this.clearData()})})}saveDocuments(e,t){return t&&0!==t.length?Object(k.a)(t.map((t,n)=>{const i=new FormData;return i.append("file",t.file.data),this.unsubscribe.push({id:t.file.fakeId,sub:new E.a}),this.documentService.insertDocument(i,22,e,+localStorage.getItem("CoID"),0,0).pipe(Object(w.a)(this.unsubscribe[n].sub),Object(c.a)(e=>{switch(e.type){case O.e.UploadProgress:this.showSpinner=!1,t.file.progress=Math.round(100*e.loaded/e.total);break;case O.e.Response:return e.body[0]}}))})):Object(l.a)([])}onUploadFile(e){this.discussion.documents=this.discussion.documents||[];const t=new M.a;e.fakeId=this.fakeId++,t.file=e,this.discussion.documents.push(t)}onRemoveFile(e){const t=this.discussion.documents.findIndex(t=>t.file?t.file.fakeId===e.fakeId:t.documentID===e.id);-1!==t&&this.discussion.documents[t].documentID&&this.documentsWillRemove.push(this.discussion.documents[t].documentID),this.discussion.documents.splice(t,1)}onRemoveProgressFile(e,t){this.onRemoveFile(t);const n=this.unsubscribe.find(t=>t.id===e.file.fakeId);n&&n.sub.next()}getGalleryFiles(e){return e?e.filter(e=>P.b.isImage(e)).map(e=>this.getFile(e)):[]}getNoneGalleryFiles(e){return e?e.filter(e=>!P.b.isImage(e)).map(e=>this.getFile(e)):[]}getFile(e){return e.file?e.file:Object.assign({id:e.documentID,documentPath:e.documentPath,data:Object.assign({name:e.documentTitle},"video/mp4"===e.documentType?{videoUrl:T.a.apiBlobUrl+"/"+e.documentPath}:{imageUrl:`${T.a.apiBlobUrl}/1024px/${e.documentPath}`}),type:e.documentType,progress:100,fakeId:this.fakeId++},e)}clearData(){this.discussion=new S.a,this.editing=!1,this.totalContactSharing=0,this.isLoading=!1,this.showSpinner=!1,this.fakeId=0,this.documentsWillRemove=[],this.loading=!1,this.unsubscribe.map(e=>{e&&e.sub&&!e.sub.closed&&(e.sub.next(),e.sub.complete())}),this.unsubscribe=[]}ngOnDestroy(){this.unsubscribe.map(e=>{e&&e.sub&&!e.sub.closed&&(e.sub.next(),e.sub.complete())})}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](y.a),d["\u0275\u0275directiveInject"](A.a),d["\u0275\u0275directiveInject"](_.a),d["\u0275\u0275directiveInject"](F.a))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-news-comment-add"]],inputs:{discussionCategoryID:"discussionCategoryID",referenceID:"referenceID",parentDiscussionID:"parentDiscussionID"},outputs:{created:"created",updated:"updated"},decls:14,vars:9,consts:[[1,"news-post-container"],["alt","Profile Photo",1,"photo",3,"src"],[1,"news-form",3,"avnonLoader"],[1,"form-group"],["autosize","","placeholder","Post a comment","name","topic","appExtractLinks","",1,"form-control",3,"ngModel","ngModelChange"],["article","ngModel"],[4,"ngIf"],["type","success","class","mt-2 mb-0",3,"dismissible",4,"ngIf"],["class","progress-holder",4,"ngIf"],[1,"bottom-actions"],[3,"uploadFileChange"],[1,"btn","btn-primary","ml-auto","btn-sm",3,"disabled","click"],[1,"w-100",3,"images","editable","files","handleRemoveImage"],[1,"w-100",3,"linkUrl"],["type","success",1,"mt-2","mb-0",3,"dismissible"],[1,"progress-holder"],[4,"ngFor","ngForOf"],["class","list-group list-group-flush",4,"ngIf"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between"],[1,"w-100"],[1,"file-name"],["type","success","textType","white",3,"value","showValue"],["type","button",1,"btn","btn-link",3,"disabled","click"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275element"](1,"img",1),d["\u0275\u0275pipe"](2,"avatar"),d["\u0275\u0275elementStart"](3,"div",2),d["\u0275\u0275elementStart"](4,"div",3),d["\u0275\u0275elementStart"](5,"textarea",4,5),d["\u0275\u0275listener"]("ngModelChange",function(e){return t.discussion.discussionTopic=e}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](7,H,3,4,"ng-container",6),d["\u0275\u0275template"](8,q,2,1,"ngb-alert",7),d["\u0275\u0275template"](9,X,2,1,"div",8),d["\u0275\u0275elementStart"](10,"div",9),d["\u0275\u0275elementStart"](11,"app-file-upload",10),d["\u0275\u0275listener"]("uploadFileChange",function(e){return t.onUploadFile(e)}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"button",11),d["\u0275\u0275listener"]("click",function(){return t.onSubmit()}),d["\u0275\u0275text"](13,"Post "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("src",d["\u0275\u0275pipeBind1"](2,7,t.currentUser.profilePhoto),d["\u0275\u0275sanitizeUrl"]),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("avnonLoader",t.showSpinner||t.isLoading||t.loading),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngModel",t.discussion.discussionTopic),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",!t.isLoading),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.editing&&t.isLoading),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.isLoading),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("disabled",t.isNotAllowed()))},directives:[R.a,L.b,V.a,j.a,L.q,L.t,i.n,B.a,N.a,U.a,b.b,i.m,b.u],pipes:[G.a],styles:[".news-post-container[_ngcontent-%COMP%]{width:100%;display:flex;padding:12px;border-bottom:1px solid #dfdfdf;background:#fff}.news-post-container[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:cover;box-shadow:inset 0 0 2px rgba(0,0,0,.02);border-radius:50%}.news-post-container[_ngcontent-%COMP%]   .news-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:12px;width:calc(100% - 52px)}.news-post-container[_ngcontent-%COMP%]   .news-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:none;font-size:19px}.news-post-container[_ngcontent-%COMP%]   .news-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{box-shadow:none}.news-post-container[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{display:inline-block;width:380px;white-space:nowrap;overflow:hidden!important;text-overflow:ellipsis}.news-post-container[_ngcontent-%COMP%]   .progress-holder[_ngcontent-%COMP%]{max-height:200px;overflow-x:hidden;overflow-y:auto}.news-post-container[_ngcontent-%COMP%]   .spinner-holder[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.news-post-container[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%], .news-post-container[_ngcontent-%COMP%]   .progress-holder[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.news-post-container[_ngcontent-%COMP%]   .bottom-actions[_ngcontent-%COMP%]{padding:0;margin:0;display:flex;align-items:center}"]}),e})();function K(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"app-news-item",7),d["\u0275\u0275listener"]("delete",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().onDeleteDiscussionModal()})("edit",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().onEditDiscussionModal()})("like",function(){d["\u0275\u0275restoreView"](e);const t=d["\u0275\u0275nextContext"]();return t.onDiscussionLikeChange(t.discussion)})("dislike",function(){d["\u0275\u0275restoreView"](e);const t=d["\u0275\u0275nextContext"]();return t.onDislikeChange(t.discussion)}),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275property"]("discussion",e.discussion)("canPreview",!1)("regularList",!1)}}function Q(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"app-news-comment-add",8),d["\u0275\u0275listener"]("created",function(t){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().onPostComment(t)}),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275property"]("discussionCategoryID",e.discussion.discussionCategoryID)("parentDiscussionID",e.discussion.discussionID)}}function J(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"app-news-item",9),d["\u0275\u0275listener"]("delete",function(){d["\u0275\u0275restoreView"](e);const n=t.index;return d["\u0275\u0275nextContext"]().onDeleteComment(n)})("edit",function(){d["\u0275\u0275restoreView"](e);const n=t.index;return d["\u0275\u0275nextContext"]().onEditComment(n)})("like",function(){d["\u0275\u0275restoreView"](e);const n=t.$implicit;return d["\u0275\u0275nextContext"]().onDiscussionLikeChange(n)})("dislike",function(){d["\u0275\u0275restoreView"](e);const n=t.$implicit;return d["\u0275\u0275nextContext"]().onDislikeChange(n)}),d["\u0275\u0275elementEnd"]()}2&e&&d["\u0275\u0275property"]("discussion",t.$implicit)("canPreview",!1)("regularList",!1)("isComment",!0)}let Z=(()=>{class e{constructor(e,t,n,i,o){this.discussionService=e,this.modal=t,this.location=n,this.signalRService=i,this.activatedRoute=o,this.comments=[],this.channel=""}ngOnInit(){this.activatedRoute.params.subscribe(e=>{this.discussionID=+e.discussionID,this.channel&&this.signalRService.leaveChannel(this.channel),this.channel="news|"+this.discussionID,this.signalRService.joinChannel(this.channel),this.initSignalHub(),this.discussion=null,this.comments=[],this.getComments(),this.discussionService.fetchDiscussions(0,0,0,0,this.discussionID,0).subscribe(e=>{e[0]&&(this.discussion=e[0],console.log("\ud83d\ude80 > DiscussionPreviewComponent > .subscribe > this.discussion",this.discussion))})})}getComments(){this.discussionService.fetchDiscussions(0,0,0,this.discussionID).subscribe(e=>{this.comments=e})}onDeleteDiscussionModal(){this.modal.open(h.a,{}).result.then(e=>{"No"!==e&&this.discussionService.deleteDiscussion(this.discussion.discussionID).subscribe(()=>{this.discussion=null,this.location.back()})},()=>{})}onEditDiscussionModal(){const e=this.modal.open(f.a,{backdrop:"static",size:"md"});e.componentInstance.discussion=Object(g.l)(this.discussion),e.result.then(e=>{this.discussion=e},()=>{})}initSignalHub(){this.signalRService.transferMessageEvent.subscribe(e=>{if(this.channel===e.channel){const t=e.message,n=t.data;if(t.type===v.a.chatAdd){if(this.comments.filter(e=>e.discussionID===n.discussionID).length>0)return;this.comments.push(n)}if(t.type===v.a.chatDelete){const e=this.comments.findIndex(e=>e.discussionID===n.discussionID);-1!==e&&this.comments.splice(e)}if(t.type===v.a.chatEdit){const e=this.comments.findIndex(e=>e.discussionID===n.discussionID);-1!==e&&(this.comments[e]=n)}if(t.type===v.a.commentLike){const e=this.comments.findIndex(e=>e.discussionID===n.discussionID);-1!==e&&(this.comments[e].likes=n.likes)}t.type===v.a.discussionLike&&(this.discussion.likes=n.likes)}})}onPostComment(e){this.discussion.comments+=1,this.comments.unshift(e),this.signalRService.transferMessage(this.channel,{type:v.a.chatAdd,data:e})}onEditComment(e){const t=this.modal.open(f.a,{backdrop:"static",size:"md"});t.componentInstance.discussion=Object(g.l)(this.comments[e]),t.result.then(t=>{this.comments[e]=t,this.signalRService.transferMessage(this.channel,{type:v.a.chatEdit,data:t})},()=>{})}onDeleteComment(e){this.discussion.comments-=1,this.discussionService.deleteDiscussion(this.comments[e].discussionID).subscribe(()=>{this.signalRService.transferMessage(this.channel,{type:v.a.chatDelete,data:this.comments[e]}),this.comments.splice(e,1)})}onDiscussionLikeChange(e){e.likes||(e.likes=0),e.likes+=1,this.signalRService.transferMessage(this.channel,{type:v.a.discussionLike,data:e})}onDislikeChange(e){e.likes||(e.likes=1),e.likes-=1}onCommentLikeChange(e){e.likes+=1,this.signalRService.transferMessage(this.channel,{type:v.a.commentLike,data:e})}back(){this.location.back()}ngOnDestroy(){this.signalRService.leaveChannel(this.channel)}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](y.a),d["\u0275\u0275directiveInject"](b.p),d["\u0275\u0275directiveInject"](i.j),d["\u0275\u0275directiveInject"](I.a),d["\u0275\u0275directiveInject"](a.a))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-discussion-preview"]],decls:8,vars:3,consts:[[1,"search","home-header"],[1,"cursor-pointer","text-primary","back-arrow",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"inline"],[3,"discussion","canPreview","regularList","delete","edit","like","dislike",4,"ngIf"],[3,"discussionCategoryID","parentDiscussionID","created",4,"ngIf"],[3,"discussion","canPreview","regularList","isComment","delete","edit","like","dislike",4,"ngFor","ngForOf"],[3,"discussion","canPreview","regularList","delete","edit","like","dislike"],[3,"discussionCategoryID","parentDiscussionID","created"],[3,"discussion","canPreview","regularList","isComment","delete","edit","like","dislike"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"span",1),d["\u0275\u0275listener"]("click",function(){return t.back()}),d["\u0275\u0275element"](2,"i",2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"h1",3),d["\u0275\u0275text"](4,"Post"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](5,K,1,3,"app-news-item",4),d["\u0275\u0275template"](6,Q,1,2,"app-news-comment-add",5),d["\u0275\u0275template"](7,J,1,4,"app-news-item",6)),2&e&&(d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngIf",null==t.discussion?null:t.discussion.discussionID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==t.discussion?null:t.discussion.discussionID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",t.comments))},directives:[i.n,i.m,x.a,Y],styles:[".news-content[_ngcontent-%COMP%]{margin-top:0;padding-top:52px}.news-content[_ngcontent-%COMP%]   .news-reel-row[_ngcontent-%COMP%]{min-height:calc(100vh - 53px)}"]}),e})();var ee=n("jnkw"),te=n("BN3N"),ne=n("yxZ3");function ie(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1," Password field is required. "),d["\u0275\u0275elementContainerEnd"]())}function oe(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1," Minimum 8 characters is required. "),d["\u0275\u0275elementContainerEnd"]())}function ae(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"small",15),d["\u0275\u0275template"](1,ie,2,0,"ng-container",16),d["\u0275\u0275template"](2,oe,2,0,"ng-container",16),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==e.form.controls.password.errors?null:e.form.controls.password.errors.hasOwnProperty("required")),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==e.form.controls.password.errors?null:e.form.controls.password.errors.hasOwnProperty("minlength"))}}function re(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1," Password field is required. "),d["\u0275\u0275elementContainerEnd"]())}function se(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1," Minimum 8 characters is required. "),d["\u0275\u0275elementContainerEnd"]())}function le(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1," Confirm password must match password. "),d["\u0275\u0275elementContainerEnd"]())}function ce(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"small",17),d["\u0275\u0275template"](1,re,2,0,"ng-container",16),d["\u0275\u0275template"](2,se,2,0,"ng-container",16),d["\u0275\u0275template"](3,le,2,0,"ng-container",16),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==e.form.controls.passwordConfirm.errors?null:e.form.controls.passwordConfirm.errors.hasOwnProperty("required")),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==e.form.controls.passwordConfirm.errors?null:e.form.controls.passwordConfirm.errors.hasOwnProperty("minlength")),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==e.form.controls.passwordConfirm.errors?null:e.form.controls.passwordConfirm.errors.hasOwnProperty("mustMatch"))}}function de(e,t){1&e&&d["\u0275\u0275element"](0,"span",18)}let pe=(()=>{class e{constructor(e,t,n){this.activeModal=e,this.formBuilder=t,this.userService=n}ngOnInit(){this.initForm()}initForm(){this.form=this.formBuilder.group({password:["",[L.C.required,L.C.minLength(8)]],passwordConfirm:["",[L.C.required,L.C.minLength(8)]],userID:[this.userID]},{validators:ne.a.mustMatch("password","passwordConfirm")})}onSubmit(){if(this.form.invalid)return;const e=this.form.value;delete e.passwordConfirm,this.loading=!0,this.userService.updatePassword(e).subscribe(()=>{this.loading=!1,this.activeModal.close({success:!0})},()=>{this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](b.a),d["\u0275\u0275directiveInject"](L.e),d["\u0275\u0275directiveInject"](F.a))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-update-password-dialog"]],decls:22,vars:5,consts:[[1,"modal-header"],["id","postModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","submit"],[1,"form-group"],[1,"w-100"],["type","password","name","password","formControlName","password",1,"form-control"],["id","passwordHelp","class","form-text text-danger text-left",4,"ngIf"],["type","password","name","passwordConfirm","formControlName","passwordConfirm",1,"form-control"],["id","passwordConfirmHelp","class","form-text text-danger text-left",4,"ngIf"],[1,"text-right"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["id","passwordHelp",1,"form-text","text-danger","text-left"],[4,"ngIf"],["id","passwordConfirmHelp",1,"form-text","text-danger","text-left"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"h5",1),d["\u0275\u0275text"](2," Update password "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"button",2),d["\u0275\u0275listener"]("click",function(){return t.activeModal.dismiss()}),d["\u0275\u0275elementStart"](4,"span",3),d["\u0275\u0275text"](5,"\xd7"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"div",4),d["\u0275\u0275elementStart"](7,"form",5),d["\u0275\u0275listener"]("submit",function(){return t.onSubmit()}),d["\u0275\u0275elementStart"](8,"div",6),d["\u0275\u0275elementStart"](9,"label",7),d["\u0275\u0275text"](10,"Password"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](11,"input",8),d["\u0275\u0275template"](12,ae,3,2,"small",9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"div",6),d["\u0275\u0275elementStart"](14,"label",7),d["\u0275\u0275text"](15,"Confirm password"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](16,"input",10),d["\u0275\u0275template"](17,ce,4,3,"small",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](18,"div",12),d["\u0275\u0275elementStart"](19,"button",13),d["\u0275\u0275template"](20,de,1,0,"span",14),d["\u0275\u0275text"](21," Submit "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](7),d["\u0275\u0275property"]("formGroup",t.form),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngIf",t.form.controls.password.invalid&&t.form.controls.password.touched),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngIf",t.form.controls.passwordConfirm.invalid&&t.form.controls.passwordConfirm.touched),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("disabled",t.form.invalid),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.loading))},directives:[L.E,L.r,L.j,L.b,L.q,L.h,i.n],styles:[".ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#f84444}"]}),e})();var me=n("FhWM"),ue=n("5eHb"),he=n("sYmb");function fe(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"option",16),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275property"]("ngValue",e.id),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",e.title," ")}}function ge(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"option",16),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275property"]("ngValue",e.currencyID),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate2"](" ",e.currency,"(",e.currencySymbol,") ")}}function ve(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"option",16),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275property"]("ngValue",e.timezoneID),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",e.timezone," ")}}function ye(e,t){1&e&&d["\u0275\u0275element"](0,"span",24)}function be(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"form",6),d["\u0275\u0275listener"]("submit",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().onSubmit()}),d["\u0275\u0275elementStart"](1,"div",7),d["\u0275\u0275elementStart"](2,"div",8),d["\u0275\u0275elementStart"](3,"div",9),d["\u0275\u0275elementStart"](4,"label",10),d["\u0275\u0275text"](5),d["\u0275\u0275pipe"](6,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"select",11),d["\u0275\u0275elementStart"](8,"option",12),d["\u0275\u0275text"](9,"Select language"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](10,fe,2,2,"option",13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"div",9),d["\u0275\u0275elementStart"](12,"label",14),d["\u0275\u0275text"](13),d["\u0275\u0275pipe"](14,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"select",15),d["\u0275\u0275elementStart"](16,"option",16),d["\u0275\u0275text"](17,"Select currency"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](18,"option",16),d["\u0275\u0275text"](19,"Not Applicable"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](20,ge,2,3,"option",13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](21,"div",9),d["\u0275\u0275elementStart"](22,"label",14),d["\u0275\u0275text"](23),d["\u0275\u0275pipe"](24,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](25,"select",17),d["\u0275\u0275elementStart"](26,"option",16),d["\u0275\u0275text"](27,"Select timezone"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](28,"option",16),d["\u0275\u0275text"](29,"Not Applicable"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](30,ve,2,2,"option",13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](31,"div",18),d["\u0275\u0275elementStart"](32,"a",19),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().openPasswordDialog()}),d["\u0275\u0275text"](33),d["\u0275\u0275pipe"](34,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](35,"div",20),d["\u0275\u0275elementStart"](36,"div",21),d["\u0275\u0275elementStart"](37,"button",22),d["\u0275\u0275template"](38,ye,1,0,"span",23),d["\u0275\u0275text"](39),d["\u0275\u0275pipe"](40,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275property"]("formGroup",e.form),d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](6,15,"USER-SETTINGS.LANGUAGE")),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngForOf",e.languages),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](14,17,"USER-SETTINGS.CURRENCY")),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngValue",null),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngValue",0),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",e.currencies),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](24,19,"USER-SETTINGS.TIMEZONE")),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngValue",null),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngValue",0),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",e.timezones),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](34,21,"USER-SETTINGS.RESET")," "),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("disabled",e.loading),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.loading),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](40,23,"USER-SETTINGS.SUBMIT")," ")}}let Ie=(()=>{class e{constructor(e,t,n,i,o,a,r){this.userService=e,this.formBuilder=t,this.listService=n,this.toastrService=i,this.ngbModal=o,this.location=a,this.translateService=r,this.languages=te.b,this.timezones=[],this.currencies=[],this.user=this.userService.user.getValue(),this.userID=this.user.userID,this.currencyID=this.user.currencyID||0,this.timezoneID=this.user.timeZoneID||0,this.languageID=this.user.languageID||0,this.UserGroupID=this.user.userGroupID||0}ngOnInit(){this.initData(),this.initForm(),-1!==this.languages.findIndex(e=>e.id===this.languageID)&&this.form.controls.languageID.setValue(this.languageID)}initForm(){this.form=this.formBuilder.group({languageID:["",[L.C.required]],userID:[this.userID],currencyID:[this.currencyID||"",[L.C.required]],timezoneID:[this.timezoneID||"",[L.C.required]],UserGroupID:[this.UserGroupID],disabled:[0],onboarding:[this.user.onboarding],publicProfile:[this.user.publicProfile]})}onSubmit(){this.form.invalid||(this.loading=!0,this.userService.updateUser(this.form.value).subscribe(e=>{const{languageID:t,currencyID:n,timezoneID:i}=this.form.value;localStorage.setItem("languageID",t.toString()),localStorage.setItem("currencyID",n.toString()),localStorage.setItem("timezoneID",i.toString());const o=this.languages.filter(e=>e.id===Number(t));this.translateService.use(o[0].lang),o[0]&&(this.translateService.use(o[0].lang),o[0].lang.includes("ar-SA")),this.toastrService.success("Settings updated!"),this.loading=!1},()=>{this.loading=!1,this.toastrService.error("Failed!")}))}initData(){Object(k.a)(this.listService.getTimezoneList(),this.listService.getCurrencyList()).subscribe(e=>{this.timezones=e[0]||[],this.currencies=e[1]||[]})}openPasswordDialog(){const e=this.ngbModal.open(pe);e.componentInstance.userID=this.userID,e.result.then(e=>{e&&e.success&&this.toastrService.success("Password updated!")})}back(){this.location.back()}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](F.a),d["\u0275\u0275directiveInject"](L.e),d["\u0275\u0275directiveInject"](me.a),d["\u0275\u0275directiveInject"](ue.b),d["\u0275\u0275directiveInject"](b.p),d["\u0275\u0275directiveInject"](i.j),d["\u0275\u0275directiveInject"](he.d))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user-settings"]],decls:9,vars:4,consts:[[1,"page-title"],[1,"cursor-pointer","text-primary","display-inline","mr-2",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline"],[1,"form-page"],["class","pl-3 pr-3",3,"formGroup","submit",4,"ngIf"],[1,"pl-3","pr-3",3,"formGroup","submit"],[1,"row","p-0","m-0"],[1,"form-block"],[1,"form-group"],["for","languageID"],["formControlName","languageID","id","languageID",1,"form-control"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["for","currencyID"],["formControlName","currencyID","id","currencyID",1,"form-control"],[3,"ngValue"],["formControlName","timezoneID","id","timezoneID",1,"form-control"],[1,"form-group","d-flex","flex-row"],[1,"reset-password-link",3,"click"],[1,"form-group","form-group-block"],[1,"d-flex","justify-content-end"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275elementStart"](1,"div",0),d["\u0275\u0275elementStart"](2,"span",1),d["\u0275\u0275listener"]("click",function(){return t.back()}),d["\u0275\u0275element"](3,"i",2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"h1",3),d["\u0275\u0275text"](5),d["\u0275\u0275pipe"](6,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"div",4),d["\u0275\u0275template"](8,be,41,25,"form",5),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](6,2,"USER-SETTINGS.TITLE")," "),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",t.timezones.length>0))},directives:[i.n,L.E,L.r,L.j,L.B,L.q,L.h,L.v,L.D,i.m],pipes:[he.c],styles:[".ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#f84444}.reset-password-link[_ngcontent-%COMP%]{color:#005cbf;cursor:pointer}"]}),e})();const xe={UKNOWN:"Unknown"},Se={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:xe.UKNOWN},Ce={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},De={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},we={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:xe.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone"},ke={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:xe.UKNOWN},Ee={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",UNKNOWN:xe.UKNOWN.toLowerCase()},Me=Object.assign(Object.assign(Object.assign({},Ce),De),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/}),Oe={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,iOS:/(iPhone OS\s*[0-9_]+)/},Pe={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},Te=(e,t)=>(e[t]=Oe[t],e),Ae=Object.keys(Oe).reduce(Te,{}),_e=(e,t)=>(e[Se[t]]=Pe[t],e),Fe=Object.keys(Pe).reduce(_e,{});var Re=Object.freeze({__proto__:null,GENERAL:xe,BROWSERS:Se,MOBILES_RE:Ce,TABLETS_RE:De,DEVICES:we,OS:ke,OS_VERSIONS:Ee,OS_RE:{WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:Me,OS_VERSIONS_RE_MAP:Oe,BROWSER_VERSIONS_RE_MAP:Pe,OS_VERSIONS_RE:Ae,BROWSER_VERSIONS_RE:Fe,"\u02750":Te,"\u02751":_e});class Le{constructor(){}test(e,t){return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.test(e):t&&Array.isArray(t.and)?t.and.every(t=>this.test(e,t)):t&&Array.isArray(t.or)?t.or.some(t=>this.test(e,t)):!(!t||!t.not||this.test(e,t.not))}exec(e,t){return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.exec(e):t&&Array.isArray(t)?t.reduce((t,n)=>t||this.exec(e,n),null):null}}var Ve=function(e){return e.Mobile="mobile",e.Tablet="tablet",e.Desktop="desktop",e.Unknown="unknown",e}({}),je=function(e){return e.Portrait="portrait",e.Landscape="landscape",e}({});let Be=(()=>{class e{constructor(e){this.platformId=e,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new Le,this.deviceType="",this.orientation="",Object(i.C)(this.platformId)&&"undefined"!=typeof window&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(e=this.userAgent){e!==this.userAgent&&(this.userAgent=e);const t=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(t.forEach(t=>{this[t.prop]=Object.keys(Re[t.const]).reduce((n,o)=>"device"===Re[t.const][o]&&Object(i.C)(this.platformId)&&(this.reTree.test(this.userAgent,De.iPad)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(n[Re[t.const][o]]="iPad",Object):(n[Re[t.const][o]]=this.reTree.test(e,Re[t.const+"_RE"][o]),n),{})}),t.forEach(e=>{this[e.prop]=Object.keys(Re[e.const]).map(t=>Re[e.const][t]).reduce((t,n)=>"device"===e.prop&&t===Re[e.const].ANDROID?this[e.prop][n]?n:t:t===Re[e.const].UNKNOWN&&this[e.prop][n]?n:t,Re[e.const].UNKNOWN)}),this.browser_version="0",this.browser!==Se.UNKNOWN){const t=this.reTree.exec(e,Fe[this.browser]);t&&(this.browser_version=t[1])}this.orientation="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?je.Landscape:je.Portrait:xe.UKNOWN,this.deviceType=this.isTablet()?Ve.Tablet:this.isMobile(this.userAgent)?Ve.Mobile:this.isDesktop(this.userAgent)?Ve.Desktop:Ve.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(e=this.userAgent){return!this.isTablet(e)&&!!Object.keys(Ce).find(t=>this.reTree.test(e,Ce[t]))}isTablet(e=this.userAgent){return!(!Object(i.C)(this.platformId)||!(this.reTree.test(this.userAgent,De.iPad)||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(De).find(t=>!!this.reTree.test(e,De[t]))}isDesktop(e=this.userAgent){const t=[we.PS4,we.CHROME_BOOK,we.UNKNOWN];return(this.device!==we.UNKNOWN||!this.isMobile(e)&&!this.isTablet(e))&&t.indexOf(this.device)>-1}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275inject"](d.PLATFORM_ID))},e.\u0275prov=Object(d["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(d["\u0275\u0275inject"])(d.PLATFORM_ID))},token:e,providedIn:"root"}),e})();var Ne=n("4gaG"),Ue=n("ev4g"),Ge=n("xgIS"),$e=n("pLZG"),He=n("Kj3r"),qe=n("/uUt"),ze=function(e){return e[e.contact=1]="contact",e[e.company=2]="company",e[e.course=3]="course",e[e.event=4]="event",e}({}),We=n("9nlD"),Xe=n("EAn9");let Ye=(()=>{class e{constructor(e){this.httpClient=e,this.BaseURI=T.a.apiUrl}search(e="",t=0,n=0,i=0){const o={CompanyID:String(t),ContactID:String(n),Search:e,CategoryID:String(i)},a=new O.g({fromObject:o});return this.httpClient.get(this.BaseURI+"/search",{params:a})}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275inject"](O.b))},e.\u0275prov=d["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ke=["searchInput"],Qe=["searchDropdown"];function Je(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1,"ES"),d["\u0275\u0275elementContainerEnd"]())}function Ze(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1,"IP"),d["\u0275\u0275elementContainerEnd"]())}function et(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1,"QF"),d["\u0275\u0275elementContainerEnd"]())}const tt=function(){return["/home"]};function nt(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"a",6),d["\u0275\u0275template"](1,Je,2,0,"ng-container",3),d["\u0275\u0275template"](2,Ze,2,0,"ng-container",3),d["\u0275\u0275template"](3,et,2,0,"ng-container",3),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275property"]("routerLink",d["\u0275\u0275pureFunction0"](4,tt)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.isEnterprise),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!e.isEnterprise&&!e.isQatar),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.isQatar)}}function it(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1,"ES"),d["\u0275\u0275elementContainerEnd"]())}function ot(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1,"IP"),d["\u0275\u0275elementContainerEnd"]())}function at(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1,"QF"),d["\u0275\u0275elementContainerEnd"]())}const rt=function(){return["/onboarding"]};function st(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"a",6),d["\u0275\u0275template"](1,it,2,0,"ng-container",3),d["\u0275\u0275template"](2,ot,2,0,"ng-container",3),d["\u0275\u0275template"](3,at,2,0,"ng-container",3),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275property"]("routerLink",d["\u0275\u0275pureFunction0"](4,rt)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.isEnterprise),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!e.isEnterprise&&!e.isQatar),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.isQatar)}}function lt(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,nt,4,5,"a",5),d["\u0275\u0275template"](2,st,4,5,"a",5),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==e.user?null:e.user.onboarding),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!(null!=e.user&&e.user.onboarding))}}function ct(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"a",7),d["\u0275\u0275elementStart"](1,"span",8),d["\u0275\u0275element"](2,"img",9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("src",e.logo,d["\u0275\u0275sanitizeUrl"])}}function dt(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p",26),d["\u0275\u0275text"](1," No matches found "),d["\u0275\u0275elementEnd"]())}function pt(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",18),d["\u0275\u0275elementStart"](1,"span"),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]().$implicit;d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](e.subTitle)}}function mt(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",27),d["\u0275\u0275listener"]("click",function(){d["\u0275\u0275restoreView"](e);const n=t.$implicit;return d["\u0275\u0275nextContext"](3).onSearchClick(n)}),d["\u0275\u0275elementStart"](1,"span",28),d["\u0275\u0275element"](2,"img",29),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"div",30),d["\u0275\u0275elementStart"](4,"h2"),d["\u0275\u0275text"](5),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](6,pt,3,1,"div",31),d["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("src",e.imagePath?n.assetUrl+"/"+e.imagePath:"assets/img/card-placeholder.jpg",d["\u0275\u0275sanitizeUrl"]),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](e.title),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.subTitle)}}function ut(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,dt,2,0,"p",24),d["\u0275\u0275template"](2,mt,7,3,"div",25),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.searchResult&&0===e.searchResult.length),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",e.searchResult)}}function ht(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"i",10),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().toggleFilter()}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](2,"input",11,12),d["\u0275\u0275elementStart"](4,"div",13),d["\u0275\u0275elementStart"](5,"a",14),d["\u0275\u0275elementStart"](6,"span",15),d["\u0275\u0275element"](7,"img",16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"span",17),d["\u0275\u0275text"](9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"span",18),d["\u0275\u0275text"](11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"ul",19),d["\u0275\u0275elementStart"](13,"li"),d["\u0275\u0275elementStart"](14,"a",20),d["\u0275\u0275text"](15,"Support"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](16,"li"),d["\u0275\u0275elementStart"](17,"a",21),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().viewProfile()}),d["\u0275\u0275text"](18,"My Profile"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](19,"li"),d["\u0275\u0275elementStart"](20,"a",22),d["\u0275\u0275text"](21,"Settings"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](22,"li"),d["\u0275\u0275elementStart"](23,"a",21),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().logOut()}),d["\u0275\u0275text"](24,"Logout"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](25,"div",23),d["\u0275\u0275template"](26,ut,3,2,"ng-container",3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](2),d["\u0275\u0275classProp"]("full-w-search",e.fullWidth),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("src",e.profilePhoto?"https://avnonportalstorage.blob.core.windows.net/avnon-api-v2/256px/"+e.profilePhoto:"/assets/img/avatar-placeholder.jpg",d["\u0275\u0275sanitizeUrl"]),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate2"]("",e.user.firstName," ",e.user.surname," "),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"]("@",e.user.firstName,""),d["\u0275\u0275advance"](14),d["\u0275\u0275classProp"]("search-done",e.searchDone),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.searchDone)}}let ft=(()=>{class e{constructor(e,t,n,i,o,a,r){this.cdr=e,this.notificationService=t,this.signalNotificationService=n,this.searchService=i,this.router=o,this.modal=a,this.userService=r,this.notifications=[],this.messageCount=0,this.notificationCount=0,this.profilePhoto="assets/img/avatar-placeholder.jpg",this.searchResult=[],this.assetUrl=T.a.apiBlobUrl,this.logo="",this.destroy$=new E.a}ngOnInit(){this.isEnterprise=location.hostname.toLocaleLowerCase().includes("enviroserv"),this.isQatar=window.location.hostname.toLocaleLowerCase().includes("qstp")||window.location.hostname.toLowerCase().includes("demo.incubatorportal"),this.userService.getLocalUser().subscribe(e=>{e&&(this.user=e,this.companyID=this.user.companyID||0,this.contactID=this.user.contactID,this.profilePhoto=this.user.profilePhoto,this.cdr.detectChanges())}),this.signalNotificationService.getNotificationCount().subscribe(e=>{this.messageCount=e,this.cdr.detectChanges()}),this.search(),this.handleSignalRNotification(),this.getNotifications(),this.changeToEnterpriseLogo()}viewProfile(){this.router.navigate(["/explore/people",this.contactID])}viewCompany(){this.router.navigate(["/company/profile",this.companyID])}search(){Object(Ge.a)(this.searchInput.nativeElement,"keyup").pipe(Object(w.a)(this.destroy$),Object($e.a)(e=>40!==e.keyCode&&38!==e.keyCode),Object(c.a)(e=>e.target.value),Object(He.a)(300),Object(qe.a)(),Object(D.a)(e=>(this.searchDone=!1,this.searchResult=[],this.searchService.search(e,this.companyID,this.contactID,0)))).subscribe(e=>{this.searchResult=e,this.searchDone=!0,this.searchDropdown.open(),this.cdr.detectChanges()})}getNotifications(){this.notificationService.getAllNotifications(+localStorage.getItem("CoID"),0,500).subscribe(e=>{if(e&&e.length>0){const t=Object(g.l)(e);this.notificationCount=t.filter(e=>!e.notification.notificationRead).length,this.notifications=e,this.notificationService.notificationCount.next(this.notificationCount),this.cdr.detectChanges()}})}onSearchClick(e){switch(this.searchInput.nativeElement.value="",this.searchDone=!1,this.searchResult=[],e.categoryID){case ze.contact:this.router.navigate(["/explore/people",e.id]);break;case ze.company:this.router.navigate(["/company",e.id]);break;case ze.course:this.router.navigate(["/course",e.id]);break;case ze.event:this.router.navigate(["/event",e.id])}}handleSignalRNotification(){this.notificationService.onNotificationReceived().subscribe(e=>{e&&(this.notificationCount+=1,this.cdr.detectChanges(),setTimeout(()=>{this.getNotifications()},100))}),this.notificationService.getNotificationCount().subscribe(e=>{this.notificationCount=e,this.cdr.detectChanges()})}changeToEnterpriseLogo(){const e=window.location.hostname;this.subdomain=e.indexOf(".")<0||"example"===e.split(".")[0]||"lvh"===e.split(".")[0]||"www"===e.split(".")[0]?"":e.split(".")[0],"edgegrowth"!=this.subdomain.toLowerCase()&&"edgegrowth1"!=this.subdomain||(this.logo="../../../../assets/img/logo-edge.png")}toggleFilter(){this.userService.filterToggle.next(!0)}logOut(){this.userService.logout()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](d.ChangeDetectorRef),d["\u0275\u0275directiveInject"](We.a),d["\u0275\u0275directiveInject"](Xe.a),d["\u0275\u0275directiveInject"](Ye),d["\u0275\u0275directiveInject"](a.c),d["\u0275\u0275directiveInject"](b.p),d["\u0275\u0275directiveInject"](F.a))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-search"]],viewQuery:function(e,t){if(1&e&&(d["\u0275\u0275viewQuery"](Ke,!0),d["\u0275\u0275viewQuery"](Qe,!0)),2&e){let e;d["\u0275\u0275queryRefresh"](e=d["\u0275\u0275loadQuery"]())&&(t.searchInput=e.first),d["\u0275\u0275queryRefresh"](e=d["\u0275\u0275loadQuery"]())&&(t.searchDropdown=e.first)}},inputs:{fullWidth:"fullWidth"},decls:6,vars:7,consts:[["ngbDropdown","",1,"search","align-items-center"],["searchDropdown","ngbDropdown"],[1,"brand"],[4,"ngIf"],["class","logo",4,"ngIf"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],[1,"logo"],[1,"media","avatar","avatar-48","avatar-48-rounded"],[1,"img-fluid","img-48",3,"src"],[1,"fas","fa-bars","cursor-pointer","bar-toggle",3,"click"],["type","text","id","search-input","ngbDropdownToggle","","placeholder","Search",1,"form-control","ico","typeahead"],["searchInput",""],[1,"dropdown","user-options","user-dropdown"],["href","#","role","button","id","userOptions","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-light"],[1,"avatar-30","avatar"],[1,"img-fluid",3,"src"],[1,"title-sm"],[1,"meta"],["aria-labelledby","userOptions",1,"dropdown-menu"],["routerLink","/support",1,"dropdown-item"],[1,"dropdown-item",3,"click"],["routerLink","/user/settings",1,"dropdown-item"],["ngbDropdownMenu","",1,"search-result"],["class","meta p-1 pb-0 mb-0",4,"ngIf"],["class","entry",3,"click",4,"ngFor","ngForOf"],[1,"meta","p-1","pb-0","mb-0"],[1,"entry",3,"click"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","Data",1,"img-fluid","img-48",3,"src"],[1,"d-flex"],["class","meta",4,"ngIf"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0,1),d["\u0275\u0275elementStart"](2,"div",2),d["\u0275\u0275template"](3,lt,3,2,"ng-container",3),d["\u0275\u0275template"](4,ct,3,1,"a",4),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](5,ht,27,9,"ng-container",3),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275classProp"]("enviro",t.isEnterprise)("qatar",t.isQatar),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",""===t.logo),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.logo),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.user&&t.user.onboarding))},directives:[b.i,i.n,a.f,b.m,b.k,i.m],styles:[".search-result.search-done[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.15);padding:5px;max-width:300px;max-height:75vh;overflow:auto}.search[_ngcontent-%COMP%]{padding-right:20px;height:52px;background:#3457d4;display:flex;z-index:1021;position:fixed!important;top:0;width:100%}.search.qatar[_ngcontent-%COMP%], .search.qatar[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#0a4336!important}.search.enviro[_ngcontent-%COMP%], .search.enviro[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#76964d!important}.search[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{max-width:500px;background-color:#fff;margin-left:200px;border-radius:0}@media (max-width:1024px){.search[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{margin-left:40px}}.brand[_ngcontent-%COMP%]{width:74px!important;padding-top:0!important;padding-bottom:0!important;padding-left:16px!important}.brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:0;border:1px solid #fff}.bar-toggle[_ngcontent-%COMP%]{font-size:14px;color:#fff;margin-left:12px}@media (min-width:1024px){.bar-toggle[_ngcontent-%COMP%]{display:none}}.user-dropdown[_ngcontent-%COMP%]{position:relative;bottom:0;margin-left:auto;padding-left:20px!important;width:auto}.user-dropdown[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]{width:32px;height:32px;padding:0!important;display:flex;justify-content:center;align-items:center}.user-dropdown[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin:0}"],changeDetection:0}),e})();var gt=n("9122");function vt(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"a",12),d["\u0275\u0275text"](1,"Ecosystem"),d["\u0275\u0275elementEnd"]())}function yt(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"a",13),d["\u0275\u0275text"](1,"Ecosystem"),d["\u0275\u0275elementEnd"]())}function bt(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"a",14),d["\u0275\u0275text"](1,"Dashboard"),d["\u0275\u0275elementEnd"]())}function It(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"a",15),d["\u0275\u0275text"](1,"Dashboard"),d["\u0275\u0275elementEnd"]())}function xt(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"a",16),d["\u0275\u0275text"](1,"Dashboard"),d["\u0275\u0275elementEnd"]())}function St(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"li"),d["\u0275\u0275elementStart"](1,"a",20),d["\u0275\u0275text"](2,"Programs"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]())}function Ct(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"li"),d["\u0275\u0275elementStart"](1,"a",21),d["\u0275\u0275text"](2,"Pipeline"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]())}function Dt(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"li"),d["\u0275\u0275elementStart"](1,"a",22),d["\u0275\u0275text"](2,"Forms"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]())}function wt(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"li"),d["\u0275\u0275elementStart"](1,"a",23),d["\u0275\u0275text"](2,"Course Library"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]())}function kt(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"li"),d["\u0275\u0275elementStart"](1,"a",24),d["\u0275\u0275text"](2,"Venues"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]())}function Et(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"li"),d["\u0275\u0275elementStart"](1,"a",25),d["\u0275\u0275text"](2," Financial Accounts "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]())}function Mt(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"li"),d["\u0275\u0275elementStart"](1,"a",26),d["\u0275\u0275text"](2,"Contracts"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]())}function Ot(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"li"),d["\u0275\u0275elementStart"](1,"a",27),d["\u0275\u0275text"](2,"Permissions"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]())}function Pt(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"li"),d["\u0275\u0275elementStart"](1,"a",28),d["\u0275\u0275text"](2,"Task Sections"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]())}function Tt(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",17),d["\u0275\u0275elementStart"](1,"a",18),d["\u0275\u0275text"](2," More "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"ul",19),d["\u0275\u0275template"](4,St,3,0,"li",1),d["\u0275\u0275template"](5,Ct,3,0,"li",1),d["\u0275\u0275template"](6,Dt,3,0,"li",1),d["\u0275\u0275template"](7,wt,3,0,"li",1),d["\u0275\u0275template"](8,kt,3,0,"li",1),d["\u0275\u0275template"](9,Et,3,0,"li",1),d["\u0275\u0275template"](10,Mt,3,0,"li",1),d["\u0275\u0275template"](11,Ot,3,0,"li",1),d["\u0275\u0275template"](12,Pt,3,0,"li",1),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("ngIf",e.programAdmin||e.superAdmin),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.programAdmin||e.superAdmin),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.formAdmin||e.superAdmin),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.eventAdmin||e.superAdmin),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.eventAdmin||e.superAdmin),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.superAdmin),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.superAdmin),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.superAdmin),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.superAdmin)}}function At(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"nav",2),d["\u0275\u0275elementStart"](2,"a",3),d["\u0275\u0275text"](3,"Home"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](4,vt,2,0,"a",4),d["\u0275\u0275template"](5,yt,2,0,"a",5),d["\u0275\u0275elementStart"](6,"a",6),d["\u0275\u0275text"](7,"Planner"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](8,bt,2,0,"a",7),d["\u0275\u0275template"](9,It,2,0,"a",8),d["\u0275\u0275template"](10,xt,2,0,"a",9),d["\u0275\u0275elementStart"](11,"a",10),d["\u0275\u0275text"](12,"Files"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](13,Tt,13,9,"div",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("ngIf",3!==e.user.userGroupID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",3===e.user.userGroupID),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",3!==e.user.userGroupID&&e.superAdmin&&4092!==e.companyID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",3!==e.user.userGroupID&&e.superAdmin&&4092===e.companyID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",3===e.user.userGroupID),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",e.superAdmin||e.hasPermission)}}function _t(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"nav",2),d["\u0275\u0275elementStart"](2,"a",29),d["\u0275\u0275text"](3,"Home"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"a",30),d["\u0275\u0275text"](5,"Sign In"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]())}let Ft=(()=>{class e{constructor(e,t,n,i){this.userService=e,this.router=t,this.changeDetectorRef=n,this.notificationService=i,this.profilePhoto="assets/img/avatar-placeholder.jpg",this.notificationCount=0,this.logo=""}ngOnInit(){this.isEnterprise=window.location.hostname.toLocaleLowerCase().includes("enviroserv"),this.userService.getLocalUser().subscribe(e=>{e&&(this.user=e,this.companyID=this.user.companyID||0,this.contactID=this.user.contactID||0,this.profilePhoto=this.user.profilePhoto,this.superAdmin=this.user.permissions.some(e=>e.permissionAreaID===gt.b.Admin),this.programAdmin=this.user.permissions.some(e=>e.permissionAreaID===gt.b.Programs),this.formAdmin=this.user.permissions.some(e=>e.permissionAreaID===gt.b.Forms),this.eventAdmin=this.user.permissions.some(e=>e.permissionAreaID===gt.b.Training_Coordinator),this.hasPermission=this.programAdmin||this.formAdmin||this.eventAdmin,this.changeDetectorRef.detectChanges())}),this.notificationService.getNotificationCount().subscribe(e=>{this.notificationCount=e}),this.changeToEnterpriseLogo()}changeToEnterpriseLogo(){const e=window.location.hostname;this.subdomain=e.indexOf(".")<0||"example"===e.split(".")[0]||"lvh"===e.split(".")[0]||"www"===e.split(".")[0]?"":e.split(".")[0],"edgegrowth"!=this.subdomain.toLowerCase()&&"edgegrowth1"!=this.subdomain||(this.logo="../../../../assets/img/logo-edge.png")}viewProfile(){this.router.navigate(["/explore/people",this.contactID])}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](F.a),d["\u0275\u0275directiveInject"](a.c),d["\u0275\u0275directiveInject"](d.ChangeDetectorRef),d["\u0275\u0275directiveInject"](We.a))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-sidemenu"]],decls:3,vars:2,consts:[[1,"navigation","bg-white"],[4,"ngIf"],[1,"nav","d-flex","flex-column","align-items-start"],["routerLinkActive","active","routerLink","/home",1,"nav-link","home-ico","ico"],["class","nav-link ecosystem-ico ico","routerLinkActive","active","routerLink","/ecosystem",4,"ngIf"],["class","nav-link ecosystem-ico ico","routerLinkActive","active","routerLink","/explore",4,"ngIf"],["routerLink","/weekly-plan","routerLinkActive","active",1,"nav-link","calendar-ico","ico"],["class","nav-link dashboard-ico ico","routerLink","/dashboard","routerLinkActive","active",4,"ngIf"],["class","nav-link dashboard-ico ico","routerLink","/dashboard/enterprise-dashboard","routerLinkActive","active",4,"ngIf"],["class","nav-link dashboard-ico ico","routerLink","/startup/dashboard","routerLinkActive","active",4,"ngIf"],["routerLink","/documents","routerLinkActive","active",1,"nav-link","files-ico","ico"],["class","dropdown dropup",4,"ngIf"],["routerLinkActive","active","routerLink","/ecosystem",1,"nav-link","ecosystem-ico","ico"],["routerLinkActive","active","routerLink","/explore",1,"nav-link","ecosystem-ico","ico"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-link","dashboard-ico","ico"],["routerLink","/dashboard/enterprise-dashboard","routerLinkActive","active",1,"nav-link","dashboard-ico","ico"],["routerLink","/startup/dashboard","routerLinkActive","active",1,"nav-link","dashboard-ico","ico"],[1,"dropdown","dropup"],["href","#","role","button","id","moreOptions","data-bs-toggle","dropdown","aria-expanded","false","placement","top",1,"btn","btn-light","more-ico","ico"],["aria-labelledby","moreOptions",1,"dropdown-menu","more-options"],["routerLink","/program",1,"dropdown-item"],["routerLink","/pipeline/0","routerLinkActive","active",1,"dropdown-item"],["routerLink","/forms","routerLinkActive","active",1,"dropdown-item"],["routerLink","/courses","routerLinkActive","active",1,"dropdown-item"],["routerLink","/venues","routerLinkActive","active",1,"dropdown-item"],["routerLink","/accounts","routerLinkActive","active",1,"dropdown-item"],["routerLink","/contracts","routerLinkActive","active",1,"dropdown-item"],["routerLink","/permissions","routerLinkActive","active",1,"dropdown-item"],["routerLink","/task/section/builder","routerLinkActive","active",1,"dropdown-item"],["routerLinkActive","active","routerLink","/",1,"nav-link","home-ico","ico"],["routerLinkActive","active","routerLink","/login",1,"nav-link","ecosystem-ico","ico"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275template"](1,At,14,6,"ng-container",1),d["\u0275\u0275template"](2,_t,6,0,"ng-container",1),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.contactID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.contactID))},directives:[i.n,a.f,a.e],styles:[".navigation[_ngcontent-%COMP%]{z-index:1021}@media (max-width:1024px){.navigation[_ngcontent-%COMP%]{width:100%;bottom:0;height:52px;display:flex;align-items:center;top:auto;padding:0!important;flex-wrap:nowrap!important;z-index:1000!important}.navigation[_ngcontent-%COMP%]   .user-options[_ngcontent-%COMP%]{display:none}.navigation[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{border-top:1px solid #dfdfdf;box-shadow:0 -1px 1px #bbb;flex-direction:row!important;align-items:center!important;flex-wrap:nowrap!important;padding-left:14px;padding-right:14px;justify-content:space-between;width:100%}.navigation[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%], .navigation[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{width:auto}}.notification-badge[_ngcontent-%COMP%]{position:absolute;left:23px;top:3px;z-index:5;border-radius:25px}.logo[_ngcontent-%COMP%]{background-color:#fff;margin-left:-5px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background-size:contain;width:50px}.more-limited-menu[_ngcontent-%COMP%]{max-height:40vh;overflow-x:hidden;overflow-y:auto}"]}),e})();var Rt=n("w6ya"),Lt=n("4CJs"),Vt=n("VgRj"),jt=n("3DXX"),Bt=n("p0ro"),Nt=n("Wgwc"),Ut=n("1bi4"),Gt=n("VPdJ"),$t=n("p+bo"),Ht=n("frau"),qt=n("Ds8A"),zt=n("CzEO"),Wt=n("qe9b"),Xt=n("jGZE"),Yt=n("0mlJ"),Kt=n("Cbnz");function Qt(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"span",20),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().view=1}),d["\u0275\u0275element"](1,"i",21),d["\u0275\u0275text"](2),d["\u0275\u0275pipe"](3,"translate"),d["\u0275\u0275elementEnd"]()}2&e&&(d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](3,1,"PROGRAM.BACK-TO-OWNERS")," "))}function Jt(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1,"Flagged"),d["\u0275\u0275elementContainerEnd"]())}function Zt(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",36===(null==e.task?null:e.task.taskCategoryID)?"Open":"Underway"," ")}}function en(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1,"Pending Sign Off"),d["\u0275\u0275elementContainerEnd"]())}function tn(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1,"Completed"),d["\u0275\u0275elementContainerEnd"]())}function nn(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,Zt,2,1,"ng-container",7),d["\u0275\u0275template"](2,en,2,0,"ng-container",7),d["\u0275\u0275template"](3,tn,2,0,"ng-container",7),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",1===e.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",2===e.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",3===e.taskStatusID)}}function on(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"button",27),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](2).onFlaggedChange()}),d["\u0275\u0275text"](1," Flagged "),d["\u0275\u0275elementEnd"]()}}function an(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",31),d["\u0275\u0275elementStart"](1,"div",32),d["\u0275\u0275elementStart"](2,"button",33),d["\u0275\u0275element"](3,"span",34),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"ul",35),d["\u0275\u0275elementStart"](5,"li"),d["\u0275\u0275elementStart"](6,"a",36),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](2).editTask()}),d["\u0275\u0275text"](7,"Edit"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"li"),d["\u0275\u0275elementStart"](9,"a",36),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](2).deleteTask()}),d["\u0275\u0275text"](10,"Delete"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}}const rn=function(e,t,n){return{"status-blue":e,"status-orange":t,"status-green":n}};function sn(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",22),d["\u0275\u0275elementStart"](1,"div",23),d["\u0275\u0275elementStart"](2,"button",24),d["\u0275\u0275element"](3,"span",25),d["\u0275\u0275template"](4,Jt,2,0,"ng-container",7),d["\u0275\u0275template"](5,nn,4,3,"ng-container",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"div",26),d["\u0275\u0275elementStart"](7,"button",27),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().onTaskStatusChanged()}),d["\u0275\u0275text"](8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"button",27),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().onTaskStatusChanged()}),d["\u0275\u0275text"](10," Pending Sign Off "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](11,on,2,0,"button",28),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](12,"span",29),d["\u0275\u0275template"](13,an,11,0,"div",30),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("disabled",!e.taskOwner||e.taskOwner&&e.taskOwner.contactID!==e.contactID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngClass",d["\u0275\u0275pureFunction3"](7,rn,1===e.taskStatusID,2===e.taskStatusID,3===e.taskStatusID)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.flagged),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!e.flagged),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"](" ",36===(null==e.task?null:e.task.taskCategoryID)?"Not started yet":"Underway"," "),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",36!==(null==e.task?null:e.task.taskCategoryID)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",e.task.submittedBy===e.contactID)}}function ln(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",37),d["\u0275\u0275elementStart"](1,"div",32),d["\u0275\u0275elementStart"](2,"button",38),d["\u0275\u0275element"](3,"span",34),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"ul",39),d["\u0275\u0275elementStart"](5,"li"),d["\u0275\u0275elementStart"](6,"a",36),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().editTask()}),d["\u0275\u0275text"](7,"Edit"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"li"),d["\u0275\u0275elementStart"](9,"a",36),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().deleteTask()}),d["\u0275\u0275text"](10,"Delete"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}}function cn(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"span",45),d["\u0275\u0275element"](1,"img",46),d["\u0275\u0275pipe"](2,"avatar"),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("src",d["\u0275\u0275pipeBind1"](2,1,e.taskOwner.profilePhoto),d["\u0275\u0275sanitizeUrl"])}}function dn(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"span",47),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate2"](" ",null==e.taskOwner.firstName?null:e.taskOwner.firstName.substr(0,1),"",null==e.taskOwner||null==e.taskOwner.surname?null:e.taskOwner.surname.substr(0,1)," ")}}const pn=function(){return[1,3]};function mn(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"tr"),d["\u0275\u0275elementStart"](1,"td"),d["\u0275\u0275text"](2,"Assignee"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"td"),d["\u0275\u0275elementStart"](4,"button",40),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().addOwners()}),d["\u0275\u0275elementStart"](5,"span",41),d["\u0275\u0275template"](6,cn,3,3,"span",42),d["\u0275\u0275template"](7,dn,2,2,"span",43),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"span",44),d["\u0275\u0275text"](9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("disabled",!e.isAdmin||!d["\u0275\u0275pureFunction0"](5,pn).includes(e.task.taskCategoryID)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",e.taskOwner.profilePhoto),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!e.taskOwner.profilePhoto),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate2"]("",e.taskOwner.firstName," ",e.taskOwner.surname,"")}}function un(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"span",44),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"date"),d["\u0275\u0275pipe"](3,"dateObject"),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind2"](2,1,d["\u0275\u0275pipeBind1"](3,4,e.task.endDate),"MMM dd, yyyy")," ")}}function hn(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"span",45),d["\u0275\u0275element"](1,"img",46),d["\u0275\u0275pipe"](2,"avatar"),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("src",d["\u0275\u0275pipeBind1"](2,1,e.task.taskSupporters[0].profilePhoto),d["\u0275\u0275sanitizeUrl"])}}function fn(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"span",47),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate2"](" ",null==e.task.taskSupporters[0].firstName?null:e.task.taskSupporters[0].firstName.substr(0,1),"",null==e.task.taskSupporters[0]||null==e.task.taskSupporters[0].surname?null:e.task.taskSupporters[0].surname.substr(0,1)," ")}}function gn(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"tr"),d["\u0275\u0275elementStart"](1,"td"),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"td"),d["\u0275\u0275elementStart"](4,"div",8),d["\u0275\u0275elementStart"](5,"div",48),d["\u0275\u0275template"](6,hn,3,3,"span",42),d["\u0275\u0275template"](7,fn,2,2,"span",43),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"span",44),d["\u0275\u0275text"](9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",36===e.task.taskCategoryID?"Requested By":"Supporter"," "),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("ngIf",e.task.taskSupporters[0].profilePhoto),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!e.task.taskSupporters[0].profilePhoto),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate2"]("",e.task.taskSupporters[0].firstName," ",e.task.taskSupporters[0].surname,"")}}function vn(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"tr"),d["\u0275\u0275elementStart"](1,"td"),d["\u0275\u0275text"](2," Description "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"td"),d["\u0275\u0275element"](4,"quill-view-html",49),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("content",null==e.task?null:e.task.taskDescription)}}const yn=function(){return[36,39]};function bn(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",3),d["\u0275\u0275element"](1,"app-documents-files",50),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275classProp"]("pb-3",!d["\u0275\u0275pureFunction0"](7,yn).includes(null==e.task?null:e.task.taskCategoryID)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("referenceID",e.task.taskID)("hideDate",!0)("disableUpload",!e.isAdmin)("mini",!0)("documentCategoryID",21)}}function In(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",51),d["\u0275\u0275elementStart"](1,"div",52),d["\u0275\u0275elementStart"](2,"div",53),d["\u0275\u0275elementStart"](3,"div",29),d["\u0275\u0275text"](4," Sign Off requested "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"button",54),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().supporterConfirmUpdate(3)}),d["\u0275\u0275text"](6),d["\u0275\u0275pipe"](7,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"button",55),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().supporterConfirmUpdate(1)}),d["\u0275\u0275text"](9),d["\u0275\u0275pipe"](10,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}2&e&&(d["\u0275\u0275advance"](6),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](7,2,"COMMON.ACCEPT")," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](10,4,"COMMON.DECLINE")," "))}function xn(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"app-post-news",56),d["\u0275\u0275listener"]("created",function(t){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().postComment(t)}),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275property"]("referenceID",0)("taskOwner",e.taskOwner)("discussionCategoryID",6)("newUI",!0)("parentDiscussionID",e.taskOwner.discussionID)}}const Sn=function(){return{standalone:!0}};function Cn(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"input",64),d["\u0275\u0275listener"]("ngModelChange",function(t){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](2).search=t}),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275property"]("ngModel",e.search)("ngModelOptions",d["\u0275\u0275pureFunction0"](2,Sn))}}const Dn=function(){return[2,3]};function wn(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"a",65),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](2).addOwners()}),d["\u0275\u0275element"](1,"span",66),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pureFunction0"](1,Dn).includes(null==e.user?null:e.user.userGroupID)?"Add Employees":"Add"," ")}}function kn(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",72),d["\u0275\u0275text"](1,"Completed"),d["\u0275\u0275elementEnd"]())}function En(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",73),d["\u0275\u0275text"](1,"Pending"),d["\u0275\u0275elementEnd"]())}function Mn(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",74),d["\u0275\u0275text"](1,"Underway"),d["\u0275\u0275elementEnd"]())}function On(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,kn,2,0,"span",69),d["\u0275\u0275template"](2,En,2,0,"span",70),d["\u0275\u0275template"](3,Mn,2,0,"span",71),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]().$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",3===e.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",2===e.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",1===e.taskStatusID)}}function Pn(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",78),d["\u0275\u0275text"](1,"Yes"),d["\u0275\u0275elementEnd"]())}function Tn(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",79),d["\u0275\u0275text"](1,"Yes, pending verification"),d["\u0275\u0275elementEnd"]())}function An(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",80),d["\u0275\u0275text"](1,"No"),d["\u0275\u0275elementEnd"]())}function _n(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,Pn,2,0,"span",75),d["\u0275\u0275template"](2,Tn,2,0,"span",76),d["\u0275\u0275template"](3,An,2,0,"span",77),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]().$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",3===e.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",2===e.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",1===e.taskStatusID)}}function Fn(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"tr",67),d["\u0275\u0275listener"]("click",function(){d["\u0275\u0275restoreView"](e);const n=t.$implicit;return d["\u0275\u0275nextContext"](2).onTaskOwnerSelect(n)}),d["\u0275\u0275elementStart"](1,"td"),d["\u0275\u0275elementStart"](2,"div",8),d["\u0275\u0275elementStart"](3,"span",45),d["\u0275\u0275element"](4,"img",46),d["\u0275\u0275pipe"](5,"avatar"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"span",68),d["\u0275\u0275text"](7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"td"),d["\u0275\u0275text"](9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"td"),d["\u0275\u0275template"](11,On,4,3,"ng-container",7),d["\u0275\u0275template"](12,_n,4,3,"ng-container",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("src",d["\u0275\u0275pipeBind1"](5,6,e.profilePhoto),d["\u0275\u0275sanitizeUrl"]),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate2"]("",e.firstName," ",e.surname,""),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](null==e?null:e.companyName),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",37!==n.task.taskCategoryID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",37===n.task.taskCategoryID)}}function Rn(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"div",57),d["\u0275\u0275elementStart"](2,"span",58),d["\u0275\u0275text"](3),d["\u0275\u0275pipe"](4,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"div",59),d["\u0275\u0275template"](6,Cn,1,3,"input",60),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](7,wn,3,2,"a",61),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"table",62),d["\u0275\u0275elementStart"](9,"thead"),d["\u0275\u0275elementStart"](10,"tr"),d["\u0275\u0275elementStart"](11,"th"),d["\u0275\u0275text"](12,"Name"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"th"),d["\u0275\u0275text"](14,"Company"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"th"),d["\u0275\u0275text"](16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](17,"tbody"),d["\u0275\u0275template"](18,Fn,13,8,"tr",63),d["\u0275\u0275pipe"](19,"contactSelectorFilter"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate2"](" ",null==e.task||null==e.task.taskOwners?null:e.task.taskOwners.length," ",d["\u0275\u0275pipeBind1"](4,6,"PROGRAM.OWNERS")," "),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",(null==e.task||null==e.task.taskOwners?null:e.task.taskOwners.length)>1||37===e.task.taskCategoryID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.task&&e.task.submittedBy===e.contactID),d["\u0275\u0275advance"](9),d["\u0275\u0275textInterpolate"](37===e.task.taskCategoryID?"Profile Submitted":"Status"),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",d["\u0275\u0275pipeBind2"](19,8,e.task.taskOwners,e.search))}}function Ln(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"app-news-item",82),d["\u0275\u0275listener"]("delete",function(){d["\u0275\u0275restoreView"](e);const n=t.index;return d["\u0275\u0275nextContext"](2).onDelete(n)})("edit",function(){d["\u0275\u0275restoreView"](e);const n=t.index,i=t.$implicit;return d["\u0275\u0275nextContext"](2).onEdit(n,i)}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("discussion",e)("newUI",!0)}}function Vn(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275template"](1,Ln,2,2,"ng-container",81),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",e.chats)}}Nt.extend(qt);let jn=(()=>{class e{constructor(e,t,n,i,o,a,r,s){this.discussionService=e,this.taskService=t,this.userService=n,this.signalRService=i,this.modal=o,this.documentsService=a,this.distributionService=r,this.notificationService=s,this.view=0,this.chats=[],this.chatMembers=[],this.channel="",this.documents=[],this.search="",this.destroy$=new E.a,this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID}ngOnInit(){var e;if(this.initSignalHub(),this.task.endDate){const e=new Date(this.task.endDate);this.endDateModel={year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()}}if(this.view=this.isAdmin&&this.task.taskOwners.length>1?1:0,this.taskOwner&&this.taskOwner.contactID===this.contactID?(this.taskOwner.discussionID&&(this.initMainDiscussion(this.taskOwner.discussionID),this.channel="taskRegularD"+this.taskOwner.discussionID,this.signalRService.joinChannel(this.channel),this.getChatMembers(this.taskOwner.discussionID)),this.taskStatusID=this.taskOwner.taskStatusID,this.flagged=!!this.taskOwner.flagged):(this.taskStatusID=this.task.taskStatusID,this.taskOwner&&this.isAdmin&&this.onTaskOwnerSelect(this.taskOwner)),this.getDocuments(),this.taskService.getTaskViewUpdateRx().pipe(Object(w.a)(this.destroy$)).subscribe(()=>{1!==this.view&&this.taskOwner&&!this.task.taskOwners.some(e=>e.taskOwnerID===this.taskOwner.taskOwnerID)&&(this.taskOwner=null,this.view=1)}),37===this.task.taskCategoryID&&this.task.submittedBy!==this.contactID&&(null===(e=this.taskSupporter)||void 0===e?void 0:e.contactID)!==this.contactID){if(this.task.taskDescription.includes('href="#"')&&this.taskOwner&&this.taskOwner.contactID===this.contactID){const e=Vt.a.fullDomain()+`/explore/people/${this.contactID}?taskID=${this.task.taskID}`;this.task.taskDescription=this.task.taskDescription.replace('href="#"',`href="${e}"`)}this.task.taskDescription.includes("{{firstname}}")&&(this.task.taskDescription=this.task.taskDescription.replace("{{firstname}}",this.user.firstName))}}getDocuments(){this.documentsService.getDocument(this.task.taskID,21,0,0,0).subscribe(e=>{this.documents=e})}postComment(e){var t;if(this.chats.unshift(e),(null===(t=this.taskOwner)||void 0===t?void 0:t.contactID)===this.contactID){const t=Object(g.l)(this.taskOwner);this.taskOwner.taskStatusID===this.taskStatusID&&!!this.taskOwner.flagged===this.flagged||(t.taskStatusID=this.taskStatusID,t.flagged=this.flagged?Object(g.a)(new Date):null,2===this.taskStatusID&&(e.discussionCategoryID=S.b.requestSignOff),1===this.taskStatusID&&(e.discussionCategoryID=S.b.canceledSignOff),this.flagged&&(e.discussionCategoryID=S.b.flaggedTask),this.taskOwner.flagged&&!this.flagged&&(e.discussionCategoryID=S.b.unFlaggedTask),this.discussionService.updateDiscussion(e).subscribe(),this.taskService.updateTaskOwner(t).subscribe(()=>{var e;this.taskOwner=t;const n=this.task.taskOwners.findIndex(e=>e.taskOwnerID===this.taskOwner.taskOwnerID);-1!==n&&(this.task.taskOwners[n]=this.taskOwner,this.task.flagged=this.task.taskOwners.some(e=>e.flagged)?Object(g.a)(new Date):null,1===(null===(e=this.task.taskOwners)||void 0===e?void 0:e.length)&&(this.task.taskStatusID=this.taskOwner.taskStatusID)),this.taskService.storeUpdatedTaskRx(this.task)})),this.task.taskSupporters.forEach(t=>{this.noticeSupporters(t,e.discussionTopic)})}this.taskOwner&&this.taskSupporter&&this.taskSupporter.contactID===this.contactID&&this.noticeOwner(0),this.signalRService.transferMessage(this.channel,{type:v.a.chatAdd,data:e}),this.taskRealtimeMessageCount()}noticeSupporters(e,t=""){const n=Object(g.a)(new Date);let i=`${this.taskOwner.firstName} ${this.taskOwner.surname}| has submitted a status update for ${this.task.taskTitle}`;this.taskOwner.flagged&&(i=`${this.taskOwner.firstName} ${this.taskOwner.surname}| has submitted flagged ${this.task.taskTitle} for support`);const o={notificationCategoryID:Rt.a.activity_sign_off_task_owner,referenceID:this.task.taskID,contactID:e.contactID,description:i,createdContact:this.contactID},a=(new Date).toString()+"|"+this.task.companyID,r={date:n,body:i.replace("|",""),topic:i.replace("|",""),senderFullName:"",senderPhoto:"",notificationId:Math.floor(1e3*Math.random()),channel:"dashboard",reference:o.referenceID,notificationType:Lt.a.applicantRequest,senderId:o.createdContact,receivers:[o.contactID],uniqueId:a,discussionId:0};this.notificationService.noticeNotification(o).subscribe(()=>{this.signalRService.transferMessage("dashboard",r)});const s=Vt.a.fullDomain()+"/task/"+o.referenceID,l=`\n\t\t\t<p>Hi ${e.firstName}</p>\n\t\t\t<p>${i.replace("|","")}</p>\n\t\t\t<p>${t}</p>\n\t\t\t<br>\n\t\t\t<p><span class="btn btn-primary" style="margin: 0; padding: 0"><a href="${s}">See Details</a></span></p>\n\t\t\t<br>\n\t\t`,c={distributionTitle:"Task Status Update",distributionCategoryID:null,referenceID:null,distributionDate:null,userID:this.contactID,emailBody:jt.a.template(l),subjectLine:"Task Status Update",senderEmail:"info@incubatorportal.com",senderName:`${this.user.firstName} ${this.user.surname}`,replyTo:null,contacts:[o.contactID]};this.distributionService.create(c).subscribe(()=>{},()=>{})}noticeOwner(e){let t=`${this.user.firstName}| has ${3===e?"confirmed":"declined"} your status update`;0===e&&(t=this.user.firstName+"| has posted comment");const n=Object(g.a)(new Date),i={notificationCategoryID:Rt.a.activity_sign_off_task_owner,referenceID:this.task.taskID,contactID:this.taskOwner.contactID,description:t,createdContact:this.contactID},o=(new Date).toString()+"|"+this.task.companyID,a={date:n,body:t.replace("|",""),topic:t.replace("|",""),senderFullName:"",senderPhoto:"",notificationId:Math.floor(1e3*Math.random()),channel:"dashboard",reference:i.referenceID,notificationType:Lt.a.applicantRequest,senderId:i.createdContact,receivers:[i.contactID],uniqueId:o,discussionId:0};this.notificationService.noticeNotification(i).subscribe(()=>{this.signalRService.transferMessage("dashboard",a)});const r=Vt.a.fullDomain()+"/task/"+i.referenceID,s=`\n\t\t\t<p>Hi ${this.taskOwner.firstName}</p>\n\t\t\t<p>${t.replace("|","")}</p>\n\t\t\t<br>\n\t\t\t<p><span class="btn btn-primary" style="margin: 0; padding: 0"><a href="${r}">See Details</a></span></p>\n\t\t\t<br>\n\t\t`,l={distributionTitle:"Status Update",distributionCategoryID:null,referenceID:null,distributionDate:null,userID:this.contactID,emailBody:jt.a.template(s),subjectLine:"Status Update",senderEmail:"info@incubatorportal.com",senderName:`${this.user.firstName} ${this.user.surname}`,replyTo:null,contacts:[i.contactID]};this.distributionService.create(l).subscribe(()=>{},()=>{})}supporterConfirmUpdate(e){const t=Object(g.l)(this.taskOwner);t.taskStatusID=e,t.flagged=3===e?null:this.taskOwner.flagged;const n=this.modal.open(f.a,{backdrop:"static",size:"md"});n.componentInstance.taskOwner=t,n.componentInstance.parentDiscussionID=t.discussionID,n.result.then(n=>{n&&(this.taskStatusID=t.taskStatusID,this.flagged=!!t.flagged,this.taskService.updateTaskOwner(t).subscribe(()=>{var n;this.noticeOwner(e),this.taskOwner=t;const i=this.task.taskOwners.findIndex(e=>e.taskOwnerID===this.taskOwner.taskOwnerID);-1!==i&&(this.task.taskOwners[i]=this.taskOwner),this.task.flagged=this.taskOwner.flagged,1===(null===(n=this.task.taskOwners)||void 0===n?void 0:n.length)&&(this.task.taskStatusID=this.taskOwner.taskStatusID),this.taskService.storeUpdatedTaskRx(this.task)}),n.firstName=this.user.firstName,n.surname=this.user.surname,n.profilePhoto=this.user.profilePhoto,n.dateCreated=Object(g.a)(new Date),n.discussionCategoryID=3===e?S.b.acceptSignOff:S.b.declineSignOff,this.discussionService.updateDiscussion(n).subscribe(),this.signalRService.transferMessage(this.channel,{type:v.a.chatAdd,data:n}),this.chats.unshift(n),this.taskRealtimeMessageCount())})}onFlaggedChange(){const e=this.modal.open(f.a,{backdrop:"static",size:"md"});e.componentInstance.taskOwner=this.taskOwner,e.componentInstance.parentDiscussionID=this.chat.discussionID,e.componentInstance.discussionCategoryID=this.chat.discussionCategoryID,e.result.then(e=>{this.flagged=!this.flagged,this.postComment(e)})}onTaskStatusChanged(){const e=this.modal.open(f.a,{backdrop:"static",size:"md"});e.componentInstance.taskOwner=this.taskOwner,e.componentInstance.parentDiscussionID=this.chat.discussionID,e.componentInstance.discussionCategoryID=this.chat.discussionCategoryID,e.result.then(e=>{this.taskStatusID=this.task.taskSupporters.length?1===this.taskStatusID?2:1:1===this.taskStatusID?3:1,this.postComment(e)})}onEdit(e,t){const n=this.modal.open(f.a,{size:"md",backdrop:"static"});n.componentInstance.discussion=Object(g.l)(t),n.componentInstance.taskOwner=this.taskOwner,n.result.then(t=>{t&&(this.chats[e]=t,this.signalRService.transferMessage(this.channel,{type:v.a.chatEdit,data:t}))})}onDelete(e){const t=this.modal.open(h.a);t.componentInstance.objectType="Status Update",t.componentInstance.objectDetails="Status Update",t.result.then(t=>{"Yes"===t&&this.discussionService.deleteDiscussion(this.chats[e].discussionID).subscribe(()=>{this.signalRService.transferMessage(this.channel,{type:v.a.chatDelete,data:{discussionID:this.chats[e].discussionID}}),this.chats.splice(e,1)})})}onTaskOwnerSelect(e){this.taskOwner=e,this.channel="taskRegularD"+this.taskOwner.discussionID,this.signalRService.joinChannel(this.channel),this.getChatMembers(this.taskOwner.discussionID),this.taskStatusID=this.taskOwner.taskStatusID,this.flagged=!!this.taskOwner.flagged,this.view=0,this.taskOwner.discussionID&&this.initMainDiscussion(this.taskOwner.discussionID)}addOwners(){const e=this.modal.open(Ht.a);e.componentInstance.selectedContacts=Object(g.l)(this.task.taskOwners),e.componentInstance.title="Add Task Owners",e.componentInstance.singleTask=this.task.taskOwners.length<=1,e.result.then(e=>{if(e){const t=Object(g.j)(e,"contactID");this.task.taskOwners.filter(e=>!t.filter(t=>t.contactID===e.contactID).length).forEach(e=>{this.taskService.deleteTaskOwner(e).subscribe()}),this.task.taskOwners=this.task.taskOwners.filter(e=>t.filter(t=>t.contactID===e.contactID).length),this.resetView(),this.taskService.storeUpdatedTaskRx(this.task),t.forEach(e=>{this.task.taskOwners.filter(t=>t.contactID===e.contactID).length||this.saveOwner(e)})}},()=>{})}saveOwner(e){const t=new Date,n=Object(g.a)(new Date(t.getFullYear(),t.getMonth(),t.getDate()+7)),i=new $t.a;i.companyID=e.companyID||0,i.contactID=e.contactID,i.taskID=this.task.taskID,i.deadline=n,i.endDate=n,i.taskOwnerCategoryID=this.task.taskCategoryID,this.taskService.addTaskOwner(i).subscribe(t=>{i.taskOwnerID=t.taskOwnerID,i.firstName=e.firstName,i.surname=e.surname,i.profilePhoto=e.profilePhoto,i.taskStatusID=1,i.endDate=n,i.deadline=n,this.discussionService.insertDiscussion({discussionTopic:this.task.taskTitle,discussionCategoryID:6,referenceID:t.taskOwnerID,isDirectMessage:!0,discussionCreatedByContactID:this.contactID,discussionBody:this.task.taskDescription,parentDiscussionID:0}).subscribe(t=>{i.discussionID=t.discussionID,this.task.taskOwners.push(i),this.taskService.storeUpdatedTaskRx(this.task),this.discussionService.addMember({discussionID:t.discussionID,contactID:e.companyID,isAdmin:!0}).subscribe()}),this.noticeNewOwner(e)})}noticeNewOwner(e){const t=Object(g.a)(new Date);let n=`${this.user.firstName} ${this.user.surname}| has assigned ${this.task.taskTitle} - Task`;37===this.task.taskCategoryID&&(n=`${this.user.firstName} ${this.user.surname}| has assigned you a Qualification Repository / Profile update task`);const i={notificationCategoryID:37===this.task.taskCategoryID?Rt.a.onboarding_task:Rt.a.activity_task_owner,referenceID:this.task.taskID,contactID:e.contactID,description:n,createdContact:this.contactID},o=t+"|"+this.task.taskID,a={date:t,body:n.replace("|",""),topic:n.replace("|",""),senderFullName:"",senderPhoto:"",notificationId:Math.floor(1e3*Math.random()),channel:"dashboard",reference:i.referenceID,notificationType:Lt.a.applicantRequest,senderId:i.createdContact,receivers:[i.contactID],uniqueId:o,discussionId:0};if(37===this.task.taskCategoryID){const t=Vt.a.fullDomain()+"/explore/people/"+e.contactID+"?taskID="+this.task.taskID,n={distributionTitle:"Onboarding Task",distributionCategoryID:20,referenceID:this.task.taskID,distributionDate:null,userID:this.contactID,emailBody:jt.a.onBoarding(e,t,this.user),subjectLine:"Onboarding Task",senderEmail:"info@incubatorportal.com",senderName:this.user.firstName,replyTo:null,contacts:[e.contactID]};this.distributionService.create(n).subscribe()}this.notificationService.noticeNotification(i).subscribe(()=>{this.signalRService.transferMessage("dashboard",a)})}initMainDiscussion(e){this.discussionLoading=!0,this.chat=null,this.chats=[],this.discussionService.fetchDiscussions(0,0,0,0,e).subscribe(e=>{this.chat=e[0],this.getChats(this.chat.discussionID)},()=>this.discussionLoading=!1)}getChats(e){this.discussionService.fetchDiscussions(0,0,0,e,0).subscribe(e=>{this.chats=e,this.discussionLoading=!1},()=>this.discussionLoading=!1)}editTask(){const e=this.modal.open(Bt.a);e.componentInstance.task=Object(g.l)(this.task),e.componentInstance.taskOwners=[],e.componentInstance.taskSupporters=[],e.result.then(e=>{if(this.task=e.task,this.task.endDate){const e=new Date(this.task.endDate);this.endDateModel={year:e.getFullYear(),month:e.getMonth()-1,day:e.getDate()},this.task.endDateModel=this.endDateModel}(!this.task.taskOwners.length||this.taskOwner&&!this.task.taskOwners.some(e=>e.taskOwnerID===this.taskOwner.taskOwnerID))&&this.resetView(),this.taskService.storeUpdatedTaskRx(this.task)})}updateDate(){const e=new Date(this.endDateModel.year,this.endDateModel.month-1,this.endDateModel.day);this.task.endDate=Object(g.a)(e),this.task.endDateModel=this.endDateModel,this.taskService.updateTask(this.task).subscribe(()=>{this.taskService.storeUpdatedTaskRx(this.task)})}deleteTask(){const e=this.modal.open(h.a);e.componentInstance.objectType="Task",e.componentInstance.objectDetails=this.task.taskTitle+" - Task",e.result.then(e=>{e&&"Yes"===e&&this.taskService.deleteTask(this.task.taskID).subscribe(()=>{this.taskService.storeDeletedTaskRx(this.task),this.taskService.storeActiveTaskRx(null)})})}getChatMembers(e){this.discussionService.getAllMembers(e).pipe(Object(w.a)(this.destroy$)).subscribe(e=>{this.chatMembers=e,this.lastSeenFeature()})}lastSeenFeature(){const e=this.chatMembers.find(e=>e.contactID===this.contactID);e&&(e.lastReadDate=Nt().utc().format(te.c),this.discussionService.updateMember(e).subscribe())}initSignalHub(){this.signalRService.transferMessageEvent.subscribe(e=>{var t;if(this.channel===e.channel){const n=e.message,i=n.data;if(n.type===v.a.chatAdd&&(this.chats.unshift(i),i.discussionCategoryID===S.b.requestSignOff&&this.taskOwner&&(this.taskOwner.taskStatusID=2),i.discussionCategoryID===S.b.acceptSignOff&&this.taskOwner&&(this.taskOwner.taskStatusID=3),i.discussionCategoryID===S.b.declineSignOff&&this.taskOwner&&(this.taskOwner.taskStatusID=1),i.discussionCategoryID===S.b.canceledSignOff&&this.taskOwner&&(this.taskOwner.taskStatusID=1),i.discussionCategoryID===S.b.flaggedTask&&this.taskOwner&&(this.taskOwner.flagged=Object(g.a)(new Date)),i.discussionCategoryID===S.b.unFlaggedTask&&this.taskOwner&&(this.taskOwner.flagged=null),this.taskOwner)){this.flagged=!!this.taskOwner.flagged,this.taskStatusID=this.taskOwner.taskStatusID;const e=this.task.taskOwners.findIndex(e=>e.taskOwnerID===this.taskOwner.taskOwnerID);-1!==e&&(this.task.taskOwners[e]=this.taskOwner,this.task.flagged=this.task.taskOwners.some(e=>e.flagged)?Object(g.a)(new Date):null,1===(null===(t=this.task.taskOwners)||void 0===t?void 0:t.length)&&(this.task.taskStatusID=this.taskOwner.taskStatusID),this.taskService.storeUpdatedTaskRx(this.task))}if(n.type===v.a.chatDelete){const e=this.chats.findIndex(e=>e.discussionID===i.discussionID);-1!==e&&this.chats.splice(e,1)}if(n.type===v.a.chatEdit){const e=this.chats.findIndex(e=>e.discussionID===i.discussionID);-1!==e&&(this.chats[e]=i)}}})}taskRealtimeMessageCount(){const e={reference:this.task.taskID,notificationType:Lt.a.taskUnreadMessage,date:Object(g.a)(new Date)};this.signalRService.transferMessage("dashboard",e)}resetView(){(!this.task.taskOwners.length||this.taskOwner&&!this.task.taskOwners.some(e=>e.taskOwnerID===this.taskOwner.taskOwnerID))&&(this.view=1,this.taskOwner=null)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.lastSeenFeature(),this.signalRService.leaveChannel(this.channel)}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](y.a),d["\u0275\u0275directiveInject"](Ue.a),d["\u0275\u0275directiveInject"](F.a),d["\u0275\u0275directiveInject"](I.a),d["\u0275\u0275directiveInject"](b.p),d["\u0275\u0275directiveInject"](A.a),d["\u0275\u0275directiveInject"](Ut.a),d["\u0275\u0275directiveInject"](We.a))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-regular-task"]],inputs:{task:"task",taskOwner:"taskOwner",taskSupporter:"taskSupporter",isAdmin:"isAdmin"},decls:29,vars:18,consts:[[1,"d-flex","flex-column","w-100",3,"avnonLoader"],["class","cursor-pointer text-primary filter-container d-inline-block",3,"click",4,"ngIf"],["class","d-flex w-100 pl-3 pr-3 align-items-center pt-2 pb-1",4,"ngIf"],[1,"d-flex","w-100"],[1,"p23-text","mb-2","mt-1","pl-3","pr-3"],["class","actions ml-auto mt-0",4,"ngIf"],[1,"task-fields","table","table-borderless","mt-1"],[4,"ngIf"],[1,"d-flex","align-items-center"],["type","button",1,"btn","btn-light","d-flex","align-items-center","p-1",3,"disabled","click"],["datePickerEl",""],[1,"date-toggle"],[1,"fas","fa-calendar"],["class","ml-2",4,"ngIf"],["placeholder","Select date","id","date","ngbDatepicker","","container","body","type","hidden",1,"form-control",3,"ngModel","positionTarget","ngModelChange"],["ngbDatepicker","ngbDatepicker"],["class","d-flex w-100",3,"pb-3",4,"ngIf"],[1,"border-bottom","w-100"],["class","attend-section w-100 update-invites pl-3 pr-3",4,"ngIf"],[3,"referenceID","taskOwner","discussionCategoryID","newUI","parentDiscussionID","created",4,"ngIf"],[1,"cursor-pointer","text-primary","filter-container","d-inline-block",3,"click"],[1,"fas","fa-caret-left","mr-1"],[1,"d-flex","w-100","pl-3","pr-3","align-items-center","pt-2","pb-1"],["ngbDropdown","","container","body",1,"status-dropdown-update"],["ngbDropdownToggle","","type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-light","border-none",3,"disabled"],[1,"status",3,"ngClass"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",3,"click",4,"ngIf"],[1,"mr-auto"],["class","actions ml-2 mt-0",4,"ngIf"],[1,"actions","ml-2","mt-0"],[1,"dropdown"],["type","button","id","dd1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["aria-labelledby","dd1",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"actions","ml-auto","mt-0"],["type","button","id","s","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-30"],["aria-labelledby","s",1,"dropdown-menu"],["type","button",1,"btn","btn-light","p-1","d-flex","align-items-center",3,"disabled","click"],[1,"count-placeholder","position-relative"],["class","avatar-30",4,"ngIf"],["class","avatar-initial avatar-initial-30",4,"ngIf"],[1,"ml-2"],[1,"avatar-30"],["alt","",1,"img-thumbnail","p-0",3,"src"],[1,"avatar-initial","avatar-initial-30"],[1,"count-placeholder","position-relative","pl-1","pr-1"],[3,"content"],[1,"w-100",3,"referenceID","hideDate","disableUpload","mini","documentCategoryID"],[1,"attend-section","w-100","update-invites","pl-3","pr-3"],[1,"w-100"],[1,"d-flex","align-items-center","w-100","p-2","bg-light","border","my-2","float-left"],[1,"btn","btn-sm","btn-primary","mr-2",3,"click"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[3,"referenceID","taskOwner","discussionCategoryID","newUI","parentDiscussionID","created"],[1,"col-12","d-flex","justify-content-between","align-items-center","filter-container","border-bottom"],[1,"post-count"],[1,"actions","mr-auto","ml-2"],["type","text","class","form-control search-input","placeholder","Search",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","d-flex align-items-center cursor-pointer ml-2",3,"click",4,"ngIf"],[1,"table","support-task-list"],[3,"click",4,"ngFor","ngForOf"],["type","text","placeholder","Search",1,"form-control","search-input",3,"ngModel","ngModelOptions","ngModelChange"],[1,"d-flex","align-items-center","cursor-pointer","ml-2",3,"click"],[1,"plus-ico-2"],[3,"click"],[1,"ml-1"],["class","tag tag-green tag-filled",4,"ngIf"],["class","tag tag-orange tag-filled",4,"ngIf"],["class","tag tag-blue tag-filled",4,"ngIf"],[1,"tag","tag-green","tag-filled"],[1,"tag","tag-orange","tag-filled"],[1,"tag","tag-blue","tag-filled"],["class","tag tag-green tag-overlay",4,"ngIf"],["class","tag tag-orange tag-overlay",4,"ngIf"],["class","tag tag-red tag-overlay",4,"ngIf"],[1,"tag","tag-green","tag-overlay"],[1,"tag","tag-orange","tag-overlay"],[1,"tag","tag-red","tag-overlay"],[4,"ngFor","ngForOf"],[1,"w-100",3,"discussion","newUI","delete","edit"]],template:function(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275template"](1,Qt,4,3,"span",1),d["\u0275\u0275template"](2,sn,14,11,"div",2),d["\u0275\u0275elementStart"](3,"div",3),d["\u0275\u0275elementStart"](4,"p",4),d["\u0275\u0275text"](5),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](6,ln,11,0,"div",5),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"table",6),d["\u0275\u0275template"](8,mn,10,6,"tr",7),d["\u0275\u0275elementStart"](9,"tr"),d["\u0275\u0275elementStart"](10,"td"),d["\u0275\u0275text"](11,"Due Date"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"td"),d["\u0275\u0275elementStart"](13,"div",8),d["\u0275\u0275elementStart"](14,"button",9,10),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275reference"](20).toggle()}),d["\u0275\u0275elementStart"](16,"span",11),d["\u0275\u0275element"](17,"i",12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](18,un,4,6,"span",13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](19,"input",14,15),d["\u0275\u0275listener"]("ngModelChange",function(e){return t.endDateModel=e})("ngModelChange",function(){return t.updateDate()}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](21,gn,10,5,"tr",7),d["\u0275\u0275template"](22,vn,5,1,"tr",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](23,bn,2,8,"div",16),d["\u0275\u0275element"](24,"div",17),d["\u0275\u0275template"](25,In,11,6,"div",18),d["\u0275\u0275template"](26,xn,1,5,"app-post-news",19),d["\u0275\u0275template"](27,Rn,20,11,"ng-container",7),d["\u0275\u0275template"](28,Vn,2,1,"div",7),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275reference"](15);d["\u0275\u0275property"]("avnonLoader",t.loading||t.discussionLoading),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.isAdmin&&0===t.view&&t.task.taskOwners.length>1),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.task&&37!==t.task.taskCategoryID),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"](" ",t.task.taskTitle," "),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.task.submittedBy===t.contactID&&t.task&&37===t.task.taskCategoryID),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",t.taskOwner&&0===t.view&&36!==t.task.taskCategoryID),d["\u0275\u0275advance"](6),d["\u0275\u0275property"]("disabled",!t.isAdmin||!d["\u0275\u0275pureFunction0"](17,pn).includes(t.task.taskCategoryID)),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("ngIf",t.task.endDate),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngModel",t.endDateModel)("positionTarget",e),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",t.task.taskSupporters.length),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.task.taskDescription&&37!==t.task.taskCategoryID||37===t.task.taskCategoryID&&t.taskOwner&&t.taskOwner.contactID===t.contactID&&t.task.submittedBy!==t.contactID&&(null==t.taskSupporter?null:t.taskSupporter.contactID)!==t.contactID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.documents.length),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",(null==t.taskSupporter?null:t.taskSupporter.contactID)===t.contactID&&2===(null==t.taskOwner?null:t.taskOwner.taskStatusID)&&0===t.view&&37!==t.task.taskCategoryID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",0===t.view&&t.taskOwner),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.isAdmin&&1===t.view),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.taskOwner&&0===t.view)}},directives:[R.a,i.n,b.o,L.b,L.q,L.t,b.i,b.m,i.l,b.k,b.j,zt.c,Wt.a,Xt.a,i.m,x.a],pipes:[he.c,G.a,i.e,Yt.a,Kt.a],styles:[".task-fields[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:180px}.task-fields[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.25rem 1rem;vertical-align:middle}.task-fields[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#fff;border-color:#fff}.task-fields[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .task-fields[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#e2e6ea!important;border-color:#dae0e5!important}.task-fields[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:1!important}.task-fields[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .date-toggle[_ngcontent-%COMP%]{padding:0;width:30px!important;height:30px!important;border-radius:50%;display:flex;align-items:center;border:1px solid #888;color:#888;justify-content:center}  quill-view-html .ql-container{font-size:15px!important;height:auto}  quill-view-html .ql-editor{padding-left:0;padding-right:0}"]}),e})();var Bn=n("W4rt"),Nn=n("V9Fx"),Un=n("f3yp");function Gn(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",16),d["\u0275\u0275text"](1,"Underway"),d["\u0275\u0275elementEnd"]())}function $n(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",17),d["\u0275\u0275text"](1,"Completed"),d["\u0275\u0275elementEnd"]())}function Hn(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",18),d["\u0275\u0275text"](1,"Pending"),d["\u0275\u0275elementEnd"]())}function qn(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",19),d["\u0275\u0275elementStart"](1,"div",20),d["\u0275\u0275elementStart"](2,"button",21),d["\u0275\u0275element"](3,"span",22),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"ul",23),d["\u0275\u0275elementStart"](5,"li"),d["\u0275\u0275elementStart"](6,"a",24),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().editTask()}),d["\u0275\u0275text"](7,"Edit"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"li"),d["\u0275\u0275elementStart"](9,"a",24),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().deleteTask()}),d["\u0275\u0275text"](10,"Delete"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}}function zn(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"span",10),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"date"),d["\u0275\u0275pipe"](3,"dateObject"),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"]("Due Date: ",d["\u0275\u0275pipeBind2"](2,1,d["\u0275\u0275pipeBind1"](3,4,e.task.endDate),"dd MMM yyyy"),"")}}function Wn(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"]("(",e.taskOwner.companyName,")")}}function Xn(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"span",25),d["\u0275\u0275text"](1),d["\u0275\u0275template"](2,Wn,2,1,"ng-container",15),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate2"](" ",e.taskOwner.firstName," ",e.taskOwner.surname," "),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.taskOwner.companyName)}}function Yn(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"div",26),d["\u0275\u0275elementStart"](2,"p",27),d["\u0275\u0275text"](3," Form not submitted yet. "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"button",28),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](2).showMyReview()}),d["\u0275\u0275text"](5,"Begin "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()}}function Kn(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"span",32),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](3).showMyReview()}),d["\u0275\u0275text"](1,"Edit my answers"),d["\u0275\u0275elementEnd"]()}}function Qn(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"p",29),d["\u0275\u0275text"](2),d["\u0275\u0275pipe"](3,"date"),d["\u0275\u0275pipe"](4,"dateObject"),d["\u0275\u0275template"](5,Kn,2,0,"span",30),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](6,"app-form-review-feedback",31),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" You submitted the form on ",d["\u0275\u0275pipeBind2"](3,7,d["\u0275\u0275pipeBind1"](4,10,e.taskOwner.dateSentForSignOff),"dd MMM yyyy"),". "),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",22!==e.task.taskCategoryID&&2!==(null==e.taskOwner?null:e.taskOwner.formTypeID)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("formFieldAnswerCategoryID",1)("contactID",e.taskOwner.contactID)("formID",e.task.formID)("taskOwner",e.taskOwner)("answerReferenceID",e.taskOwner.taskOwnerID)}}function Jn(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,Yn,6,0,"ng-container",15),d["\u0275\u0275template"](2,Qn,7,12,"ng-container",15),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",1===e.taskOwner.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",1!==e.taskOwner.taskStatusID)}}function Zn(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",41),d["\u0275\u0275elementStart"](1,"a",42),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](2).sendForms()}),d["\u0275\u0275text"](2,"+ Send Forms"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}}function ei(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"input",43),d["\u0275\u0275listener"]("ngModelChange",function(t){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](2).search=t}),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275property"]("ngModel",e.search)}}function ti(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",17),d["\u0275\u0275text"](1,"Completed"),d["\u0275\u0275elementEnd"]())}function ni(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",18),d["\u0275\u0275text"](1,"Completed"),d["\u0275\u0275elementEnd"]())}function ii(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",16),d["\u0275\u0275text"](1,"Underway"),d["\u0275\u0275elementEnd"]())}function oi(e,t){1&e&&d["\u0275\u0275element"](0,"app-spinner")}function ai(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"button",55),d["\u0275\u0275listener"]("click",function(){d["\u0275\u0275restoreView"](e);const t=d["\u0275\u0275nextContext"](2).$implicit;return d["\u0275\u0275nextContext"](2).sendReminder(t)}),d["\u0275\u0275template"](1,oi,1,0,"app-spinner",15),d["\u0275\u0275text"](2," Send Reminder "),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"](2).$implicit,t=d["\u0275\u0275nextContext"](2);d["\u0275\u0275property"]("disabled",e.sendingReminder||e.contactID===t.contactID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.sendingReminder)}}const ri=function(e,t,n,i){return["/form/report",e,t,n,i]};function si(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"button",56),d["\u0275\u0275text"](1," Read Report "),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2).$implicit,t=d["\u0275\u0275nextContext"](2);d["\u0275\u0275property"]("routerLink",d["\u0275\u0275pureFunction4"](1,ri,t.task.formID,t.formCategoryID,e.taskOwnerID,t.formFieldAnswerCategoryID))}}function li(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",49),d["\u0275\u0275elementStart"](1,"div",50),d["\u0275\u0275elementStart"](2,"button",51),d["\u0275\u0275element"](3,"span",22),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"div",52),d["\u0275\u0275template"](5,ai,3,2,"button",53),d["\u0275\u0275template"](6,si,2,6,"button",54),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]().$implicit,t=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngIf",t.isAdmin&&e.contactID!==t.contactID&&1==e.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",1!==e.taskStatusID)}}function ci(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"tr"),d["\u0275\u0275elementStart"](1,"td"),d["\u0275\u0275elementStart"](2,"div",44),d["\u0275\u0275elementStart"](3,"span",45),d["\u0275\u0275element"](4,"img",46),d["\u0275\u0275pipe"](5,"avatar"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"span",47),d["\u0275\u0275text"](7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"td"),d["\u0275\u0275text"](9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"td"),d["\u0275\u0275elementStart"](11,"div",44),d["\u0275\u0275template"](12,ti,2,0,"span",3),d["\u0275\u0275template"](13,ni,2,0,"span",4),d["\u0275\u0275template"](14,ii,2,0,"span",2),d["\u0275\u0275template"](15,li,7,2,"div",48),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("src",d["\u0275\u0275pipeBind1"](5,8,e.profilePhoto),d["\u0275\u0275sanitizeUrl"]),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate2"]("",e.firstName," ",e.surname,""),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](null==e?null:e.companyName),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",3===e.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",2===e.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",1===e.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.task.submittedBy===n.contactID)}}function di(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"div",33),d["\u0275\u0275elementStart"](2,"span",34),d["\u0275\u0275text"](3," Sent to "),d["\u0275\u0275elementStart"](4,"b"),d["\u0275\u0275text"](5),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](6," contacts "),d["\u0275\u0275elementStart"](7,"b"),d["\u0275\u0275text"](8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](9," have responded "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](10,Zn,3,0,"div",35),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"div",36),d["\u0275\u0275elementStart"](12,"div",37),d["\u0275\u0275template"](13,ei,1,1,"input",38),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"table",39),d["\u0275\u0275elementStart"](15,"thead"),d["\u0275\u0275elementStart"](16,"tr"),d["\u0275\u0275elementStart"](17,"th"),d["\u0275\u0275text"](18,"Name"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](19,"th"),d["\u0275\u0275text"](20,"Company"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](21,"th"),d["\u0275\u0275text"](22,"Status"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](23,"tbody"),d["\u0275\u0275template"](24,ci,16,10,"tr",40),d["\u0275\u0275pipe"](25,"contactSelectorFilter"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate"](e.task.taskOwners.length),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](e.ownersResponded),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",(null==e.task?null:e.task.submittedBy)===e.contactID),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",e.task.taskOwners.length>1),d["\u0275\u0275advance"](11),d["\u0275\u0275property"]("ngForOf",d["\u0275\u0275pipeBind2"](25,5,e.task.taskOwners,e.search))}}let pi=(()=>{class e{constructor(e,t,n,i,o,a,r,s,l){this.taskService=e,this.discussionService=t,this.distributionService=n,this.notificationService=i,this.signalRService=o,this.modal=a,this.router=r,this.toastrService=s,this.userService=l,this.formCategoryID=8,this.formFieldAnswerCategoryID=1,this.search="",this.view=0,this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID}ngOnInit(){this.isAdmin&&(this.view=1,this.taskStatusID=this.task.taskStatusID),this.taskOwner&&this.taskOwner.contactID===this.contactID&&(this.taskStatusID=this.taskOwner.taskStatusID)}get ownersResponded(){return this.task.taskOwners.filter(e=>3===e.taskStatusID).length}showMyReview(){this.router.navigate(["/form",this.task.formID,this.formCategoryID,this.taskOwner.taskOwnerID,this.formFieldAnswerCategoryID])}postFeedback(e){this.router.navigate(["/form",this.task.formID,this.formCategoryID,e,this.formFieldAnswerCategoryID])}sendReminder(e){const t=this.task.taskOwners.findIndex(t=>t.taskOwnerID===e.taskOwnerID),n=this.contactID,i=this.task.taskOwners[t],o=this.modal.open(Bn.a);o.componentInstance.title=`Reminder for ${i.firstName} ${i.surname}`,o.result.then(e=>{if(e&&e.hasOwnProperty("commentText")){const o={contactId:i.contactID,loggedInContactId:n};i.sendingReminder=!0,this.discussionService.getDiscussionByContact(o).subscribe(i=>{i&&i.discussionID?this.createDiscussion(i.discussionID,n,t,e):this.createChat(n,t,e)},()=>{i.sendingReminder=!0})}})}createChat(e,t,n){const i=this.task.taskOwners[t];let o=0;this.discussionService.insertDiscussion({discussionTopic:"DM",discussionCategoryID:1,isDirectMessage:!0,discussionCreatedByContactID:e,discussionBody:"DM"}).pipe(Object(D.a)(t=>{o=t.discussionID;const n={discussionID:t.discussionID,contactID:e,isAdmin:!0},a={discussionID:t.discussionID,contactID:i.contactID,isAdmin:!0};return Object(k.a)(this.discussionService.addMember(n),this.discussionService.addMember(a))})).subscribe(()=>{this.createDiscussion(o,e,t,n)},()=>{i.sendingReminder=!1})}createDiscussion(e,t,n,i){const o=this.task,a=o.taskOwners[n];this.discussionService.insertDiscussion({discussionTopic:`${this.user.firstName} ${this.user.surname} sent a task reminder:  ${o.taskTitle}`,discussionCategoryID:26,isDirectMessage:!0,discussionCreatedByContactID:t,discussionBody:i.commentText,parentDiscussionID:e,referenceID:o.taskID}).subscribe(()=>{this.toastrService.success("Reminder send successfully!"),i.isSentMail&&this.sendEmail(e,"chat"+e,a.contactID,i.commentText),a.sendingReminder=!1},()=>{a.sendingReminder=!1})}sendEmail(e,t,n,i){const o=this.user.firstName+" "+this.user.surname,a=[n],r=Object(g.n)(e+"|"+a[0]+"|"+t);this.distributionService.create({distributionTitle:`${this.user.firstName} ${this.user.surname} sent a task reminder:  ${this.task.taskTitle}`,distributionCategoryID:2,referenceID:0,distributionDate:null,userID:this.user.contactID,emailBody:i,subjectLine:`${this.user.firstName} ${this.user.surname} sent a task reminder:  ${this.task.taskTitle}`,senderEmail:r+"@message.avnon.co",senderName:o,replyTo:r+"@message.avnon.co",contacts:a}).subscribe(()=>{},()=>{})}sendForms(){const e=this.modal.open(Ht.a);e.componentInstance.masterCompanyID=this.companyID,e.componentInstance.selectedContacts=Object(g.l)(this.task.taskOwners),e.componentInstance.emailValidationOn=!0,e.result.then(e=>{if(e.length){const t=[];e.forEach(e=>{0===this.task.taskOwners.filter(t=>t.contactID===e.contactID).length&&t.push(e)});const n=[];t.forEach(e=>{const t=new $t.a;t.contactID=e.contactID,t.taskID=this.task.taskID,t.deadline=Object(g.a)(new Date),n.push(this.taskService.addTaskOwner(t))}),n.length>0&&(this.loading=!0,Object(k.a)(n).subscribe(e=>{this.taskService.getTaskOwners(this.task.taskID,0,0,0,0).subscribe(e=>{this.task.taskOwners=e,this.loading=!1}),e.forEach(e=>{this.noticeOwner(e.contactID)})}))}})}noticeOwner(e){if(this.user.contactID===e)return;const t=new Date,n=Object(i.y)(t,"yyyy-MM-dd HH:mm:ss","en-UK"),o=`${this.user.firstName} ${this.user.surname}| has assigned form to complete - ${this.task.taskTitle}`,a={notificationCategoryID:Rt.a.activity_task_owner,referenceID:this.task.taskID,contactID:e,description:o,createdContact:this.user.contactID},r=n+"|"+this.task.taskID,s={date:n,body:o.replace("|",""),topic:o.replace("|",""),senderFullName:"",senderPhoto:"",notificationId:Math.floor(1e3*Math.random()),channel:"dashboard",reference:a.referenceID,notificationType:Lt.a.applicantRequest,senderId:a.createdContact,receivers:[a.contactID],uniqueId:r,discussionId:0};this.notificationService.noticeNotification(a).subscribe(()=>{this.signalRService.transferMessage("dashboard",s)});const l=Vt.a.fullDomain()+"task/"+this.task.taskID,c={distributionTitle:"Task Assigned",distributionCategoryID:null,referenceID:this.taskOwner.taskOwnerID,distributionDate:null,userID:this.user.contactID,emailBody:jt.a.template(`\n\t\t\t\t\t<p>${o}</p>\n\t\t\t\t\t<br>\n\t\t\t\t\t<a href="${l}">See Details</a>\n\t\t\t\t`),subjectLine:"Task Assigned",senderEmail:"info@incubatorportal.com",senderName:`${this.user.firstName} ${this.user.surname}`,replyTo:null,contacts:[e]};this.distributionService.create(c).subscribe()}editTask(){const e=this.modal.open(Bt.a);e.componentInstance.task=Object(g.l)(this.task),e.componentInstance.taskOwners=[],e.componentInstance.taskSupporters=[],e.result.then(e=>{this.task=e.task,this.taskService.storeUpdatedTaskRx(this.task)})}deleteTask(){const e=this.modal.open(h.a);e.componentInstance.objectType="Task",e.componentInstance.objectDetails=this.task.taskTitle+" - Task",e.result.then(e=>{e&&"Yes"===e&&this.taskService.deleteTask(this.task.taskID).subscribe(()=>{this.taskService.storeDeletedTaskRx(this.task),this.taskService.storeActiveTaskRx(null)})})}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](Ue.a),d["\u0275\u0275directiveInject"](y.a),d["\u0275\u0275directiveInject"](Ut.a),d["\u0275\u0275directiveInject"](We.a),d["\u0275\u0275directiveInject"](I.a),d["\u0275\u0275directiveInject"](b.p),d["\u0275\u0275directiveInject"](a.c),d["\u0275\u0275directiveInject"](ue.b),d["\u0275\u0275directiveInject"](F.a))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-form-task"]],inputs:{task:"task",taskOwner:"taskOwner",isAdmin:"isAdmin"},decls:20,vars:16,consts:[[1,"d-flex","flex-column","w-100",3,"avnonLoader"],[1,"d-flex","w-100","pl-3","pr-3","align-items-center","pt-2","pb-2"],["class","tag tag-blue tag-filled",4,"ngIf"],["class","tag tag-green tag-filled",4,"ngIf"],["class","tag tag-orange tag-filled",4,"ngIf"],[1,"mr-auto"],["class","actions ml-2 mt-0",4,"ngIf"],[1,"p23-text","mb-1","mt-2","pl-3","pr-3"],[1,"pl-3","pr-3"],["class","pl-3 pr-3 mb-1",4,"ngIf"],[1,"pl-3","pr-3","mb-1"],[1,"d-flex","pb-3","w-100"],[1,"w-100",3,"referenceID","hideDate","disableUpload","mini","documentCategoryID"],["class","pl-3 pr-3 mb-3",4,"ngIf"],[1,"border-bottom","w-100"],[4,"ngIf"],[1,"tag","tag-blue","tag-filled"],[1,"tag","tag-green","tag-filled"],[1,"tag","tag-orange","tag-filled"],[1,"actions","ml-2","mt-0"],[1,"dropdown"],["type","button","id","dd1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["aria-labelledby","dd1",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"pl-3","pr-3","mb-3"],[1,"pl-3","pr-3","mt-2"],[1,"text-dark","m-0"],[1,"btn","btn-outline-primary","mt-2",3,"click"],[1,"submitted-text","pl-3","pr-3","pb-3","mb-0","border-bottom","mt-2"],["class","cursor-pointer text-primary",3,"click",4,"ngIf"],[3,"formFieldAnswerCategoryID","contactID","formID","taskOwner","answerReferenceID"],[1,"cursor-pointer","text-primary",3,"click"],[1,"col-12","d-flex","justify-content-between","align-items-center","filter-container","border-bottom"],[1,"post-count"],["class","actions",4,"ngIf"],[1,"actions-filter","d-flex","pl-3","pr-3","filter-container","border-bottom"],[1,"d-flex","flex-column"],["type","text","class","form-control search-input w-75","placeholder","Search",3,"ngModel","ngModelChange",4,"ngIf"],[1,"table","support-task-list"],[4,"ngFor","ngForOf"],[1,"actions"],[1,"cursor-pointer","text-primary","ml-auto",3,"click"],["type","text","placeholder","Search",1,"form-control","search-input","w-75",3,"ngModel","ngModelChange"],[1,"d-flex","align-items-center"],[1,"avatar-30"],["alt","",1,"img-thumbnail","p-0",3,"src"],[1,"ml-1"],["class","actions ml-auto mt-0",4,"ngIf"],[1,"actions","ml-auto","mt-0"],["ngbDropdown",""],["type","button","id","d","ngbDropdownToggle","","aria-expanded","false",1,"btn","btn-30"],["ngbDropdownMenu",""],["ngbDropdownItem","","type","button",3,"disabled","click",4,"ngIf"],["ngbDropdownItem","","type","button",3,"routerLink",4,"ngIf"],["ngbDropdownItem","","type","button",3,"disabled","click"],["ngbDropdownItem","","type","button",3,"routerLink"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275template"](2,Gn,2,0,"span",2),d["\u0275\u0275template"](3,$n,2,0,"span",3),d["\u0275\u0275template"](4,Hn,2,0,"span",4),d["\u0275\u0275element"](5,"span",5),d["\u0275\u0275template"](6,qn,11,0,"div",6),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"p",7),d["\u0275\u0275text"](8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"p",8),d["\u0275\u0275text"](10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](11,zn,4,6,"span",9),d["\u0275\u0275elementStart"](12,"span",10),d["\u0275\u0275text"](13,"Attachments:"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"div",11),d["\u0275\u0275element"](15,"app-documents-files",12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](16,Xn,3,3,"span",13),d["\u0275\u0275element"](17,"div",14),d["\u0275\u0275template"](18,Jn,3,2,"ng-container",15),d["\u0275\u0275template"](19,di,26,8,"ng-container",15),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275property"]("avnonLoader",t.loading),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",1===t.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",3===t.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",2===t.taskStatusID),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",t.task.submittedBy===t.contactID),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",t.task.taskTitle," "),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",null==t.task?null:t.task.taskDescription," "),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.task.endDate),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("referenceID",t.task.taskID)("hideDate",!0)("disableUpload",!t.isAdmin)("mini",!0)("documentCategoryID",21),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.taskOwner&&0===t.view||t.isAdmin&&(null==t.taskOwner?null:t.taskOwner.contactID)===t.contactID),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",0===t.view&&(null==t.taskOwner?null:t.taskOwner.contactID)===t.contactID||t.isAdmin&&(null==t.taskOwner?null:t.taskOwner.contactID)===t.contactID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.isAdmin&&1===t.view))},directives:[R.a,i.n,Wt.a,Nn.a,i.m,L.b,L.q,L.t,b.i,b.m,b.k,b.j,Un.a,a.d],pipes:[i.e,Yt.a,Kt.a,G.a],styles:[""]}),e})();var mi=n("4uGG"),ui=n("6n/F"),hi=n("GXd7"),fi=n("nFnv"),gi=n("zmD5"),vi=n("SCsZ"),yi=n("Hu2X"),bi=n("A63E"),Ii=n("SVtl"),xi=n("m+qv");function Si(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"span",7),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().backToList()}),d["\u0275\u0275element"](1,"i",8),d["\u0275\u0275text"](2," Back to list "),d["\u0275\u0275elementEnd"]()}}function Ci(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"p",10),d["\u0275\u0275text"](2," Thanks for taking the time to provide your feedback, your input has been successfully recorded. "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]())}function Di(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",13),d["\u0275\u0275elementStart"](1,"h3",14),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]().$implicit;d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",e.indicator," ")}}function wi(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"span",31),d["\u0275\u0275listener"]("click",function(){d["\u0275\u0275restoreView"](e);const t=d["\u0275\u0275nextContext"](2).index;return d["\u0275\u0275nextContext"](3).prevStep(t)}),d["\u0275\u0275element"](1,"i",32),d["\u0275\u0275text"](2," Prev "),d["\u0275\u0275elementEnd"]()}}function ki(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"p",15),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"p",16),d["\u0275\u0275text"](4),d["\u0275\u0275pipe"](5,"userCurrency"),d["\u0275\u0275pipe"](6,"number"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](7,"div",17),d["\u0275\u0275elementStart"](8,"form",18,19),d["\u0275\u0275elementStart"](10,"div",20),d["\u0275\u0275elementStart"](11,"label",21),d["\u0275\u0275text"](12,"Please provide a rating"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"div",22),d["\u0275\u0275elementStart"](14,"button",23),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).salesReview.discussionValue=4}),d["\u0275\u0275text"](15," Very Good "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](16,"button",23),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).salesReview.discussionValue=3}),d["\u0275\u0275text"](17," Good "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](18,"button",23),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).salesReview.discussionValue=2}),d["\u0275\u0275text"](19," Bad "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](20,"button",24),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).salesReview.discussionValue=1}),d["\u0275\u0275text"](21," Very Bad "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](22,"div",25),d["\u0275\u0275elementStart"](23,"textarea",26),d["\u0275\u0275listener"]("ngModelChange",function(t){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).salesReview.discussionTopic=t}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](24,"div",27),d["\u0275\u0275elementStart"](25,"div",28),d["\u0275\u0275template"](26,wi,3,0,"span",29),d["\u0275\u0275elementStart"](27,"button",30),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).salesDone()}),d["\u0275\u0275text"](28," Next "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=d["\u0275\u0275reference"](9),t=d["\u0275\u0275nextContext"](),n=t.$implicit,i=t.index,o=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](n.indicatorDescription),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate2"](" Sales this month: ",d["\u0275\u0275pipeBind1"](5,27,"")," ",d["\u0275\u0275pipeBind2"](6,29,o.salesMonth,"1.2-2")," "),d["\u0275\u0275advance"](10),d["\u0275\u0275classProp"]("btn-info",4===o.salesReview.discussionValue)("btn-light",4!==o.salesReview.discussionValue),d["\u0275\u0275property"]("disabled",(null==o.taskOwner?null:o.taskOwner.contactID)!==o.contactID),d["\u0275\u0275advance"](2),d["\u0275\u0275classProp"]("btn-info",3===o.salesReview.discussionValue)("btn-light",3!==o.salesReview.discussionValue),d["\u0275\u0275property"]("disabled",(null==o.taskOwner?null:o.taskOwner.contactID)!==o.contactID),d["\u0275\u0275advance"](2),d["\u0275\u0275classProp"]("btn-info",2===o.salesReview.discussionValue)("btn-light",2!==o.salesReview.discussionValue),d["\u0275\u0275property"]("disabled",(null==o.taskOwner?null:o.taskOwner.contactID)!==o.contactID),d["\u0275\u0275advance"](2),d["\u0275\u0275classProp"]("btn-info",1===o.salesReview.discussionValue)("btn-light",1!==o.salesReview.discussionValue),d["\u0275\u0275property"]("disabled",(null==o.taskOwner?null:o.taskOwner.contactID)!==o.contactID),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngModel",o.salesReview.discussionTopic)("disabled",(null==o.taskOwner?null:o.taskOwner.contactID)!==o.contactID),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",i>0),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("disabled",e.invalid||!o.salesReview.discussionValue)}}function Ei(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"span",31),d["\u0275\u0275listener"]("click",function(){d["\u0275\u0275restoreView"](e);const t=d["\u0275\u0275nextContext"](2).index;return d["\u0275\u0275nextContext"](3).prevStep(t)}),d["\u0275\u0275element"](1,"i",32),d["\u0275\u0275text"](2," Prev "),d["\u0275\u0275elementEnd"]()}}function Mi(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"p",15),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"p",16),d["\u0275\u0275text"](4),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](5,"div",33),d["\u0275\u0275elementStart"](6,"form",18,34),d["\u0275\u0275elementStart"](8,"div",20),d["\u0275\u0275elementStart"](9,"label",35),d["\u0275\u0275text"](10,"Please provide a rating"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"div",22),d["\u0275\u0275elementStart"](12,"button",36),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).prospectReview.discussionValue=4}),d["\u0275\u0275text"](13," Very Good "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"button",23),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).prospectReview.discussionValue=3}),d["\u0275\u0275text"](15," Good "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](16,"button",23),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).prospectReview.discussionValue=2}),d["\u0275\u0275text"](17," Bad "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](18,"button",24),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).prospectReview.discussionValue=1}),d["\u0275\u0275text"](19," Very Bad "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](20,"div",25),d["\u0275\u0275elementStart"](21,"textarea",37),d["\u0275\u0275listener"]("ngModelChange",function(t){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).prospectReview.discussionTopic=t}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](22,"div",27),d["\u0275\u0275elementStart"](23,"div",28),d["\u0275\u0275template"](24,Ei,3,0,"span",29),d["\u0275\u0275elementStart"](25,"button",30),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).prospectDone()}),d["\u0275\u0275text"](26," Next "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=d["\u0275\u0275reference"](7),t=d["\u0275\u0275nextContext"](),n=t.$implicit,i=t.index,o=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](n.indicatorDescription),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"]("Prospects this month: ",o.prospectsThisMonth,""),d["\u0275\u0275advance"](8),d["\u0275\u0275classProp"]("btn-info",4===o.prospectReview.discussionValue)("btn-light",4!==o.prospectReview.discussionValue),d["\u0275\u0275property"]("disabled",(null==o.taskOwner?null:o.taskOwner.contactID)!==o.contactID),d["\u0275\u0275advance"](2),d["\u0275\u0275classProp"]("btn-info",3===o.prospectReview.discussionValue)("btn-light",3!==o.prospectReview.discussionValue),d["\u0275\u0275property"]("disabled",(null==o.taskOwner?null:o.taskOwner.contactID)!==o.contactID),d["\u0275\u0275advance"](2),d["\u0275\u0275classProp"]("btn-info",2===o.prospectReview.discussionValue)("btn-light",2!==o.prospectReview.discussionValue),d["\u0275\u0275property"]("disabled",(null==o.taskOwner?null:o.taskOwner.contactID)!==o.contactID),d["\u0275\u0275advance"](2),d["\u0275\u0275classProp"]("btn-info",1===o.prospectReview.discussionValue)("btn-light",1!==o.prospectReview.discussionValue),d["\u0275\u0275property"]("disabled",(null==o.taskOwner?null:o.taskOwner.contactID)!==o.contactID),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngModel",o.prospectReview.discussionTopic)("disabled",(null==o.taskOwner?null:o.taskOwner.contactID)!==o.contactID),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",i>0),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("disabled",e.invalid||!o.prospectReview.discussionValue)}}function Oi(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"span",31),d["\u0275\u0275listener"]("click",function(){d["\u0275\u0275restoreView"](e);const t=d["\u0275\u0275nextContext"](2).index;return d["\u0275\u0275nextContext"](3).prevStep(t)}),d["\u0275\u0275element"](1,"i",32),d["\u0275\u0275text"](2," Prev "),d["\u0275\u0275elementEnd"]()}}function Pi(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"p",15),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"p",16),d["\u0275\u0275text"](4),d["\u0275\u0275pipe"](5,"number"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](6,"div",38),d["\u0275\u0275elementStart"](7,"form",18,39),d["\u0275\u0275elementStart"](9,"div",20),d["\u0275\u0275elementStart"](10,"label",40),d["\u0275\u0275text"](11,"Please provide a rating"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"div",22),d["\u0275\u0275elementStart"](13,"button",23),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).customerReview.discussionValue=4}),d["\u0275\u0275text"](14," Very Good "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"button",23),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).customerReview.discussionValue=3}),d["\u0275\u0275text"](16," Good "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](17,"button",23),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).customerReview.discussionValue=2}),d["\u0275\u0275text"](18," Bad "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](19,"button",24),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).customerReview.discussionValue=1}),d["\u0275\u0275text"](20," Very Bad "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](21,"div",25),d["\u0275\u0275elementStart"](22,"textarea",41),d["\u0275\u0275listener"]("ngModelChange",function(t){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).customerReview.discussionTopic=t}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](23,"div",27),d["\u0275\u0275elementStart"](24,"div",28),d["\u0275\u0275template"](25,Oi,3,0,"span",29),d["\u0275\u0275elementStart"](26,"button",30),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).customersDone()}),d["\u0275\u0275text"](27," Next "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=d["\u0275\u0275reference"](8),t=d["\u0275\u0275nextContext"](),n=t.$implicit,i=t.index,o=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](n.indicatorDescription),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" Average customer satisfaction this month: ",d["\u0275\u0275pipeBind2"](5,26,o.customerSatisfactionAvg,"1.2-2"),"% "),d["\u0275\u0275advance"](9),d["\u0275\u0275classProp"]("btn-info",4===o.customerReview.discussionValue)("btn-light",4!==o.customerReview.discussionValue),d["\u0275\u0275property"]("disabled",(null==o.taskOwner?null:o.taskOwner.contactID)!==o.contactID),d["\u0275\u0275advance"](2),d["\u0275\u0275classProp"]("btn-info",3===o.customerReview.discussionValue)("btn-light",3!==o.customerReview.discussionValue),d["\u0275\u0275property"]("disabled",(null==o.taskOwner?null:o.taskOwner.contactID)!==o.contactID),d["\u0275\u0275advance"](2),d["\u0275\u0275classProp"]("btn-info",2===o.customerReview.discussionValue)("btn-light",2!==o.customerReview.discussionValue),d["\u0275\u0275property"]("disabled",(null==o.taskOwner?null:o.taskOwner.contactID)!==o.contactID),d["\u0275\u0275advance"](2),d["\u0275\u0275classProp"]("btn-info",1===o.customerReview.discussionValue)("btn-light",1!==o.customerReview.discussionValue),d["\u0275\u0275property"]("disabled",(null==o.taskOwner?null:o.taskOwner.contactID)!==o.contactID),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngModel",o.customerReview.discussionTopic)("disabled",(null==o.taskOwner?null:o.taskOwner.contactID)!==o.contactID),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",i>0),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("disabled",e.invalid||!o.customerReview.discussionValue)}}function Ti(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"span",31),d["\u0275\u0275listener"]("click",function(){d["\u0275\u0275restoreView"](e);const t=d["\u0275\u0275nextContext"](2).index;return d["\u0275\u0275nextContext"](3).prevStep(t)}),d["\u0275\u0275element"](1,"i",32),d["\u0275\u0275text"](2," Prev "),d["\u0275\u0275elementEnd"]()}}function Ai(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"form",18,42),d["\u0275\u0275elementStart"](3,"div",20),d["\u0275\u0275elementStart"](4,"label",40),d["\u0275\u0275text"](5,"Please provide a rating"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"div",22),d["\u0275\u0275elementStart"](7,"button",23),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).overallReview.discussionValue=4}),d["\u0275\u0275text"](8," Very Good "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"button",23),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).overallReview.discussionValue=3}),d["\u0275\u0275text"](10," Good "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"button",23),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).overallReview.discussionValue=2}),d["\u0275\u0275text"](12," Bad "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"button",24),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).overallReview.discussionValue=1}),d["\u0275\u0275text"](14," Very Bad "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"div",25),d["\u0275\u0275elementStart"](16,"textarea",43),d["\u0275\u0275listener"]("ngModelChange",function(t){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).overallReview.discussionTopic=t}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](17,"div",27),d["\u0275\u0275elementStart"](18,"div",28),d["\u0275\u0275template"](19,Ti,3,0,"span",29),d["\u0275\u0275elementStart"](20,"button",30),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](4).submit()}),d["\u0275\u0275text"](21," Next "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=d["\u0275\u0275reference"](2),t=d["\u0275\u0275nextContext"]().index,n=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](7),d["\u0275\u0275classProp"]("btn-info",4===n.overallReview.discussionValue)("btn-light",4!==n.overallReview.discussionValue),d["\u0275\u0275property"]("disabled",(null==n.taskOwner?null:n.taskOwner.contactID)!==n.contactID),d["\u0275\u0275advance"](2),d["\u0275\u0275classProp"]("btn-info",3===n.overallReview.discussionValue)("btn-light",3!==n.overallReview.discussionValue),d["\u0275\u0275property"]("disabled",(null==n.taskOwner?null:n.taskOwner.contactID)!==n.contactID),d["\u0275\u0275advance"](2),d["\u0275\u0275classProp"]("btn-info",2===n.overallReview.discussionValue)("btn-light",2!==n.overallReview.discussionValue),d["\u0275\u0275property"]("disabled",(null==n.taskOwner?null:n.taskOwner.contactID)!==n.contactID),d["\u0275\u0275advance"](2),d["\u0275\u0275classProp"]("btn-info",1===n.overallReview.discussionValue)("btn-light",1!==n.overallReview.discussionValue),d["\u0275\u0275property"]("disabled",(null==n.taskOwner?null:n.taskOwner.contactID)!==n.contactID),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngModel",n.overallReview.discussionTopic)("disabled",(null==n.taskOwner?null:n.taskOwner.contactID)!==n.contactID),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",t>0),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("disabled",e.invalid||!n.overallReview.discussionValue)}}function _i(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,Di,3,1,"div",12),d["\u0275\u0275template"](2,ki,29,32,"ng-container",6),d["\u0275\u0275template"](3,Mi,27,26,"ng-container",6),d["\u0275\u0275template"](4,Pi,28,29,"ng-container",6),d["\u0275\u0275template"](5,Ai,22,24,"ng-container",6),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=t.index,i=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n===i.indicatorIndex),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",22===e.indicatorID&&n===i.indicatorIndex),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",25===e.indicatorID&&n===i.indicatorIndex),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",28===e.indicatorID&&n===i.indicatorIndex),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.indicatorID===i.task.referenceID&&n===i.indicatorIndex)}}function Fi(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,_i,6,5,"ng-container",11),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",e.indicators)}}function Ri(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"div",9),d["\u0275\u0275template"](2,Ci,3,0,"ng-container",6),d["\u0275\u0275template"](3,Fi,2,1,"ng-container",6),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",1!==(null==e.taskOwner?null:e.taskOwner.taskStatusID)&&!e.isAdmin),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",1===(null==e.taskOwner?null:e.taskOwner.taskStatusID)||e.isAdmin)}}function Li(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",54),d["\u0275\u0275text"](1,"Completed"),d["\u0275\u0275elementEnd"]())}function Vi(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",55),d["\u0275\u0275text"](1,"Completed"),d["\u0275\u0275elementEnd"]())}function ji(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",56),d["\u0275\u0275text"](1,"Underway"),d["\u0275\u0275elementEnd"]())}function Bi(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"tr",46),d["\u0275\u0275listener"]("click",function(){d["\u0275\u0275restoreView"](e);const n=t.$implicit;return d["\u0275\u0275nextContext"](2).fillData(n)}),d["\u0275\u0275elementStart"](1,"td"),d["\u0275\u0275elementStart"](2,"div",47),d["\u0275\u0275elementStart"](3,"span",48),d["\u0275\u0275element"](4,"img",49),d["\u0275\u0275pipe"](5,"avatar"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"span",50),d["\u0275\u0275text"](7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"td"),d["\u0275\u0275text"](9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"td"),d["\u0275\u0275template"](11,Li,2,0,"span",51),d["\u0275\u0275template"](12,Vi,2,0,"span",52),d["\u0275\u0275template"](13,ji,2,0,"span",53),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("src",d["\u0275\u0275pipeBind1"](5,7,e.profilePhoto),d["\u0275\u0275sanitizeUrl"]),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate2"]("",e.firstName," ",e.surname,""),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](null==e?null:e.companyName),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",3===e.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",2===e.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",1===e.taskStatusID)}}function Ni(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"table",44),d["\u0275\u0275elementStart"](2,"thead"),d["\u0275\u0275elementStart"](3,"tr"),d["\u0275\u0275elementStart"](4,"th"),d["\u0275\u0275text"](5,"Name"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"th"),d["\u0275\u0275text"](7,"Company"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"th"),d["\u0275\u0275text"](9,"Status"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"tbody"),d["\u0275\u0275template"](11,Bi,14,9,"tr",45),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](11),d["\u0275\u0275property"]("ngForOf",e.task.taskOwners)}}const Ui=n("2BfV"),Gi=n("Tos5"),$i=n("M8aS"),Hi=n("zF3M");Ui(ui),Gi(ui),$i(ui),Hi(ui);let qi=(()=>{class e{constructor(e,t,n,i,o,a,r,s,l,c){this.taskService=e,this.indicatorService=t,this.sentimentService=n,this.userService=i,this.companyService=o,this.financialService=a,this.networkService=r,this.discussionService=s,this.modal=l,this.router=c,this.blobUrl=T.a.apiBlobUrl+"/256px/",this.yearID=(new Date).getFullYear(),this.monthID=(new Date).getMonth()+1,this.years=[],this.months=hi.a.create(),this.customerSatisfaction=[],this.customerSatisfactionAvg=0,this.customerReview=new S.a,this.prospectsThisMonth=0,this.prospects=[],this.prospectReview=new S.a,this.financial=[],this.budget=[],this.salesMonth=0,this.salesReview=new S.a,this.tab=1,this.indicators=[],this.indicatorIndex=0,this.overallReview=new S.a,this.supportGroupDiscussions=[],this.destroy$=new E.a,this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID}set Active(e){this.resetVariables(),this.getTask(e)}ngOnInit(){}getTask(e){e.taskOwners=[],e.taskSupporters=[],this.loading=!0,Object(k.a)(this.taskService.getTaskOwners(e.taskID,0,0,0,0,0),this.taskService.getTaskSupporters(e.taskID),this.taskService.getTask(e.parentTaskID,0,0,0,0,0,0,0,!1,0),this.companyService.getCompanyProfile(e.referenceID)).subscribe(t=>{e.taskOwners=Object(g.j)(t[0],"taskOwnerID"),e.taskSupporters=t[1],this.parentTask=t[2][0],this.company=t[3];const n=new Date(this.parentTask.endDate);this.yearID=n.getFullYear(),this.monthID=n.getMonth()+1,this.isAdmin=e.submittedBy===this.contactID||e.taskSupporters.some(e=>e.contactID===this.contactID),this.taskOwner=e.taskOwners.find(e=>e.contactID===this.contactID),this.taskOwner||(this.taskOwner=e.taskOwners[0]||null),this.isAdmin&&(this.tab=this.taskOwner.contactID===this.contactID?2:1),this.task=e,this.checkAccess(),this.getSupportGroupChat()})}getSupportGroupChat(){this.networkService.getNetwork(0,0,0,0,this.parentTask.referenceID,0,1).pipe(Object(D.a)(e=>this.networkService.getNetworkMember(e[0].networkID,2,0,this.task.referenceID,0,0)),Object(D.a)(e=>(this.networkMember=e[0],this.discussionService.fetchDiscussions(0,e[0].networkMemberID,3,0,0,0,1,1,0)))).subscribe(e=>{this.supportGroupDiscussion=e[0],this.loading=!1,this.taskOwner&&this.taskOwner.contactID===this.contactID&&this.getData()})}resetVariables(){this.task=null,this.taskOwner=null}checkAccess(){const e=this.task.taskOwners.some(e=>e.contactID===this.contactID),t=this.task.submittedBy===this.contactID,n=this.task.taskSupporters.some(e=>e.contactID===this.contactID);this.hasAccess=e||t||n,this.hasAccess||this.router.navigate(["/weekly-plan/tasks"])}fillData(e){this.tab=1,this.taskOwner=e,this.getData()}backToList(){this.tab=2}getData(){this.loading=!0,Object(k.a)(this.indicatorService.getCompanyProgramInstanceIndicator(0,0,0,0,0,this.task.referenceID),this.discussionService.fetchDiscussions(this.contactID,this.task.parentTaskID,0,this.supportGroupDiscussion.discussionID,0)).subscribe(e=>{this.indicators=e[0].filter(e=>24!==e.indicatorID).sort((e,t)=>e.indicatorID-t.indicatorID),this.supportGroupDiscussions=e[1],this.overallReview=this.supportGroupDiscussions.find(e=>e.discussionCategoryID===S.b.overallStabilityReview)||new S.a,this.salesReview=this.supportGroupDiscussions.find(e=>e.discussionCategoryID===S.b.salesReview)||new S.a,this.customerReview=this.supportGroupDiscussions.find(e=>e.discussionCategoryID===S.b.customerSatisfactionReview)||new S.a,this.prospectReview=this.supportGroupDiscussions.find(e=>e.discussionCategoryID===S.b.overallStabilityReview)||new S.a,this.indicators.some(e=>22===e.indicatorID)&&this.getFinancials(),this.indicators.some(e=>28===e.indicatorID)&&this.getCustomerSatisfactions(),this.indicators.some(e=>25===e.indicatorID)&&this.getProspects();const t=new mi.b;t.indicator="Overall Stability",t.indicatorID=this.task.referenceID,this.indicators.push(t),this.loading=!1})}getCustomerSatisfactions(){this.customerSatisfactionLoading=!0,this.sentimentService.getSentiments(0,0,0,0,2,0,this.task.referenceID,0).pipe(Object(w.a)(this.destroy$)).subscribe(e=>{this.customerSatisfaction=e,this.customerSatisfactionChart()})}customerSatisfactionChart(){if(!document.getElementById("customerChart"))return void(this.customerSatisfactionLoading=!1);const e={chart:{type:"column",height:250},xAxis:{categories:this.months.map(e=>Object(g.a)(new Date(this.yearID,e.value-1,1),"MMM"))},yAxis:{title:!1,labels:{enabled:!1}},title:{text:""},series:[],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{align:"center",verticalAlign:"bottom",layout:"horizontal"},yAxis:{labels:{align:"left",x:0,y:-5},title:{text:null}},subtitle:{text:null},credits:{enabled:!1}}}]}},t=this,n={name:"Average Satisfaction",type:"column",data:[0,0,0,0,0,0,0,0,0,0,0,0],color:"#accafc",tooltip:{valueSuffix:"%"},showInLegend:!1,legend:{enabled:!1},point:{events:{click(){t.openReview(this.category)}}}};this.months.forEach(e=>{const t=this.customerSatisfaction.filter(t=>{const n=new Date(t.datePosted);return this.yearID===n.getFullYear()&&e.value===n.getMonth()+1});let i=0;t.forEach(e=>{switch(e.sentimentRatingID){case 1:i+=25;break;case 2:i+=50;break;case 3:i+=75;break;default:i+=100}});const o=+(i/t.length).toFixed(2)||0;n.data[e.value-1]=o,this.monthID===e.value&&(this.customerSatisfactionAvg=o)}),e.series.push(n),this.customerChart=ui.chart("customerChart",e),this.customerSatisfactionLoading=!1}openReview(e){const t=this.months.find(t=>Object(g.a)(new Date(this.yearID,t.value-1,1),"MMM")===e).value,n=this.customerSatisfaction.filter(e=>{const n=new Date(e.datePosted);return this.yearID===n.getFullYear()&&t===n.getMonth()+1}),i=this.modal.open(fi.a,{backdrop:"static",size:"lg"});i.componentInstance.monthID=t,i.componentInstance.yearID=this.yearID,i.componentInstance.sentiments=n}getFinancials(){this.financialLoading=!0;const e={companyID:this.task.referenceID,financialCategoryID:0,monthID:0,yearID:this.yearID},t={companyBudgetID:0,companyID:this.task.referenceID,companyFinancialCategoryID:0,monthID:0,yearID:this.yearID,companyAccountID:0};Object(k.a)(this.financialService.getFinancial(e),this.financialService.getBudgets(t)).pipe(Object(w.a)(this.destroy$)).subscribe(e=>{this.financial=e[0],this.budget=e[1],this.generateFinancialChart()})}generateFinancialChart(){if(!document.getElementById("salesChart"))return void(this.financialLoading=!1);const e={chart:{type:"column",height:250},title:{text:""},xAxis:{categories:this.months.map(e=>Object(g.a)(new Date(this.yearID,e.value-1,1),"MMM")),gridLineWidth:0},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},series:[],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{align:"center",verticalAlign:"bottom",layout:"horizontal"},yAxis:{labels:{align:"left",x:0,y:-5},title:{text:null}},subtitle:{text:null},credits:{enabled:!1}}}]}},t={type:"column",name:"Income",data:[],showInLegend:!1,color:"#accafc",legend:{enabled:!1}},n={type:"column",name:"Profit",data:[],color:"rgb(144, 237, 125)",showInLegend:!1,legend:{enabled:!1}},i={type:"spline",name:"Budget",data:[],showInLegend:!1,legend:{enabled:!1},marker:{enabled:!1},lineWidth:1};this.months.forEach(e=>{const o=this.financial.filter(t=>t.yearID===this.yearID&&t.monthID===e.value&&1===t.financialCategoryTypeID),a=this.financial.filter(t=>t.yearID===this.yearID&&t.monthID===e.value&&2===t.financialCategoryTypeID),r=this.budget.filter(t=>t.yearID===this.yearID&&t.monthID===e.value&&1===t.financialCategoryTypeID),s=o.reduce((e,t)=>e+t.actualAmount||0,0),l=a.reduce((e,t)=>e+t.actualAmount||0,0),c=r.reduce((e,t)=>e+(t.budgetAmount||0),0),d=s-l;t.data.push(s>=l?s:{y:s,color:"#f44336"}),i.data.push(c),n.data.push(d)});const o=this.financial.filter(e=>e.monthID===this.monthID&&1===e.financialCategoryTypeID);this.salesMonth=o.reduce((e,t)=>e+(t.actualAmount||0),0),e.series.push(i),e.series.push(t),e.series.push(n),this.salesChart=ui.chart("salesChart",e),this.financialLoading=!1}getProspects(){this.prospectsLoading=!0,this.companyService.getCompanyConnect(this.task.referenceID,3,0).pipe(Object(w.a)(this.destroy$)).subscribe(e=>{this.prospects=e.sort((e,t)=>new Date(t.dateAssociated).getTime()-new Date(e.dateAssociated).getTime()),this.prospectsChart()})}prospectsChart(){if(!document.getElementById("prospectChart"))return void(this.prospectsLoading=!1);const e={chart:{type:"column",height:250},xAxis:{categories:this.months.map(e=>Object(g.a)(new Date(this.yearID,e.value-1,1),"MMM"))},yAxis:{title:!1,labels:{enabled:!1}},title:{text:""},series:[],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{align:"center",verticalAlign:"bottom",layout:"horizontal"},yAxis:{labels:{align:"left",x:0,y:-5},title:{text:null}},subtitle:{text:null},credits:{enabled:!1}}}]}},t={name:"Prospects",type:"column",data:[0,0,0,0,0,0,0,0,0,0,0,0],color:"#accafc",showInLegend:!1,legend:{enabled:!1}};this.months.forEach((e,n)=>{const i=this.prospects.filter(t=>{const n=new Date(t.dateAssociated).getMonth()+1;return new Date(t.dateAssociated).getFullYear()===this.yearID&&n===e.value});this.monthID===e.value&&(this.prospectsThisMonth=i.length),t.data[e.value-1]=i.length}),e.series.push(t),this.prospectChart=ui.chart("prospectChart",e),this.prospectsLoading=!1}prevStep(e){this.indicatorIndex=e-1}salesDone(){if(this.taskOwner.contactID!==this.contactID)return this.indicatorIndex++,void setTimeout(()=>{this.prospectsChart()});this.salesReview.discussionID?(this.loading=!0,this.salesReview.parentDiscussionID=this.supportGroupDiscussion.discussionID,this.discussionService.updateDiscussion(this.salesReview).subscribe(()=>{this.indicatorIndex++,setTimeout(()=>{this.prospectsChart()}),this.loading=!1})):(this.loading=!0,this.salesReview.dateCreated=Object(g.a)(new Date),this.salesReview.discussionCreatedByContactID=this.contactID,this.salesReview.referenceID=this.task.parentTaskID,this.salesReview.discussionCategoryID=S.b.salesReview,this.salesReview.discussionBody=this.salesReview.discussionTopic,this.salesReview.parentDiscussionID=this.supportGroupDiscussion.discussionID,this.discussionService.insertDiscussion(this.salesReview).subscribe(e=>{this.salesReview.discussionID=e.discussionID,this.indicatorIndex++,setTimeout(()=>{this.prospectsChart()}),this.loading=!1}))}prospectDone(){if(this.taskOwner.contactID!==this.contactID)return this.indicatorIndex++,void setTimeout(()=>{this.customerSatisfactionChart()});this.prospectReview.discussionID?(this.loading=!0,this.prospectReview.parentDiscussionID=this.supportGroupDiscussion.discussionID,this.discussionService.updateDiscussion(this.prospectReview).subscribe(()=>{this.indicatorIndex++,setTimeout(()=>{this.customerSatisfactionChart()}),this.loading=!1})):(this.loading=!0,this.prospectReview.dateCreated=Object(g.a)(new Date),this.prospectReview.discussionCreatedByContactID=this.contactID,this.prospectReview.referenceID=this.task.parentTaskID,this.prospectReview.discussionCategoryID=S.b.demandReview,this.prospectReview.discussionBody=this.prospectReview.discussionTopic,this.prospectReview.parentDiscussionID=this.supportGroupDiscussion.discussionID,this.discussionService.insertDiscussion(this.prospectReview).subscribe(e=>{this.prospectReview.discussionID=e.discussionID,this.indicatorIndex++,setTimeout(()=>{this.customerSatisfactionChart()}),this.loading=!1}))}customersDone(){this.taskOwner.contactID===this.contactID?this.customerReview.discussionID?(this.loading=!0,this.customerReview.parentDiscussionID=this.supportGroupDiscussion.discussionID,this.discussionService.updateDiscussion(this.customerReview).subscribe(()=>{this.indicatorIndex++,this.loading=!1})):(this.loading=!0,this.customerReview.dateCreated=Object(g.a)(new Date),this.customerReview.discussionCreatedByContactID=this.contactID,this.customerReview.referenceID=this.task.parentTaskID,this.customerReview.discussionCategoryID=S.b.customerSatisfactionReview,this.customerReview.discussionBody=this.customerReview.discussionTopic,this.customerReview.parentDiscussionID=this.supportGroupDiscussion.discussionID,this.discussionService.insertDiscussion(this.customerReview).subscribe(e=>{this.customerReview.discussionID=e.discussionID,this.indicatorIndex++,this.loading=!1})):this.indicatorIndex++}submit(){this.taskOwner.contactID===this.contactID?this.overallReview.discussionID?(this.loading=!0,this.overallReview.parentDiscussionID=this.supportGroupDiscussion.discussionID,this.discussionService.updateDiscussion(this.overallReview).subscribe(()=>{this.loading=!1})):(this.loading=!0,this.overallReview.dateCreated=Object(g.a)(new Date),this.overallReview.discussionCreatedByContactID=this.contactID,this.overallReview.referenceID=this.task.parentTaskID,this.overallReview.discussionCategoryID=S.b.overallStabilityReview,this.overallReview.discussionBody=this.overallReview.discussionTopic,this.overallReview.parentDiscussionID=this.supportGroupDiscussion.discussionID,this.discussionService.insertDiscussion(this.overallReview).subscribe(e=>{this.overallReview.discussionID=e.discussionID,this.taskOwner.taskStatusID=3,this.taskOwner.dateSentForSignOff=Object(g.a)(new Date),this.taskService.updateTaskOwner(this.taskOwner).subscribe(),this.isAdmin&&(this.tab=2),this.loading=!1})):this.tab=2}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](Ue.a),d["\u0275\u0275directiveInject"](gi.a),d["\u0275\u0275directiveInject"](vi.a),d["\u0275\u0275directiveInject"](F.a),d["\u0275\u0275directiveInject"](yi.a),d["\u0275\u0275directiveInject"](bi.a),d["\u0275\u0275directiveInject"](Ii.a),d["\u0275\u0275directiveInject"](y.a),d["\u0275\u0275directiveInject"](b.p),d["\u0275\u0275directiveInject"](a.c))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-monthly-verification"]],inputs:{Active:["activeTask","Active"]},decls:9,vars:5,consts:[[1,"page-title"],[1,"display-inline"],[1,"d-flex","flex-grow-1","flex-column"],[1,"card","card-content","flex-grow-1",3,"avnonLoader"],[1,"card-body","d-flex","flex-column","pl-0","pr-0","pt-1","pb-0"],["class","cursor-pointer text-primary ml-3 mt-2 mb-2",3,"click",4,"ngIf"],[4,"ngIf"],[1,"cursor-pointer","text-primary","ml-3","mt-2","mb-2",3,"click"],[1,"fas","fa-arrow-left"],[1,"d-flex","flex-column","flex-grow-1"],[1,"pl-3","pr-3","pt-2","pb-2","mt-2","pre-line"],[4,"ngFor","ngForOf"],["class","d-flex pl-3 pr-3 pt-2 pb-2 border-bottom mb-2 align-items-center",4,"ngIf"],[1,"d-flex","pl-3","pr-3","pt-2","pb-2","border-bottom","mb-2","align-items-center"],[1,"mb-0"],[1,"pl-3","pr-3"],[1,"mb-2","mt-2","pl-3","pr-3"],["id","salesChart",1,"w-100"],[1,"d-flex","flex-column","flex-grow-1","mt-2"],["salesForm","ngForm"],[1,"form-group","d-flex","flex-column","pl-3","pr-3"],["for","salesComment",1,"font-weight-bold"],[1,"d-flex","flex-wrap","w-100"],["type","button",1,"btn","btn-sm","mb-1","mr-1",3,"disabled","click"],["type","button",1,"btn","btn-sm","mb-1",3,"disabled","click"],[1,"comment-input"],["name","salesComment","id","salesComment","placeholder","Comment","required","",1,"form-control","mt-1",3,"ngModel","disabled","ngModelChange"],[1,"mb-auto"],[1,"d-flex","w-100","pl-3","pr-3","twitter-fill","pt-2","pb-2","bottom-non-sticky","border-top"],["class","font-weight-bold cursor-pointer mr-4",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","ml-auto",3,"disabled","click"],[1,"font-weight-bold","cursor-pointer","mr-4",3,"click"],[1,"fas","fa-caret-left"],["id","prospectChart",1,"w-100"],["prospectForm","ngForm"],["for","prospectComment",1,"font-weight-bold"],["id","rating","type","button",1,"btn","btn-sm","mb-1","mr-1",3,"disabled","click"],["name","prospectComment","id","prospectComment","placeholder","Comment","required","",1,"form-control","mt-1",3,"ngModel","disabled","ngModelChange"],["id","customerChart",1,"w-100"],["customerForm","ngForm"],["for","customerComment",1,"font-weight-bold"],["name","customerComment","id","customerComment","placeholder","Comment","required","",1,"form-control","mt-1",3,"ngModel","disabled","ngModelChange"],["overAllForm","ngForm"],["name","overAllComment","id","overAllComment","placeholder","Comment","required","",1,"form-control","mt-1",3,"ngModel","disabled","ngModelChange"],[1,"table","support-task-list"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"d-flex","align-items-center"],[1,"avatar-30"],["alt","",1,"img-thumbnail","p-0",3,"src"],[1,"ml-1"],["class","tag tag-green tag-filled",4,"ngIf"],["class","tag tag-orange tag-filled",4,"ngIf"],["class","tag tag-blue tag-filled",4,"ngIf"],[1,"tag","tag-green","tag-filled"],[1,"tag","tag-orange","tag-filled"],[1,"tag","tag-blue","tag-filled"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"h1",1),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"div",2),d["\u0275\u0275elementStart"](4,"div",3),d["\u0275\u0275elementStart"](5,"div",4),d["\u0275\u0275template"](6,Si,3,0,"span",5),d["\u0275\u0275template"](7,Ri,4,2,"ng-container",6),d["\u0275\u0275template"](8,Ni,12,1,"ng-container",6),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",null==t.task?null:t.task.taskTitle," "),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("avnonLoader",t.loading||t.customerSatisfactionLoading||t.financialLoading||t.prospectsLoading||t.overallReviewLoading),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",1===t.tab&&t.isAdmin),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.task&&t.taskOwner&&1===t.tab),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.task&&t.isAdmin&&2===t.tab))},directives:[R.a,i.n,i.m,L.E,L.r,L.s,L.b,L.A,L.q,L.t],pipes:[xi.a,i.f,G.a],styles:[".card-content[_ngcontent-%COMP%]{box-shadow:none;position:relative;padding:0;border:none}.stage-name[_ngcontent-%COMP%]{font-size:23px!important}"]}),e})();var zi=n("3MU0");function Wi(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1,"Legal Services"),d["\u0275\u0275elementContainerEnd"]())}function Xi(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1,"Basic Accounting Services"),d["\u0275\u0275elementContainerEnd"]())}function Yi(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1,"Financial Audit"),d["\u0275\u0275elementContainerEnd"]())}function Ki(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,Wi,2,0,"ng-container",7),d["\u0275\u0275template"](2,Xi,2,0,"ng-container",7),d["\u0275\u0275template"](3,Yi,2,0,"ng-container",7),d["\u0275\u0275text"](4," Subsidy Request "),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",1===e.task.taskClassificationID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",2===e.task.taskClassificationID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",3===e.task.taskClassificationID)}}function Qi(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1," Goal "),d["\u0275\u0275elementContainerEnd"]())}function Ji(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"date"),d["\u0275\u0275pipe"](3,"dateObject"),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" Monthly Report - ",d["\u0275\u0275pipeBind2"](2,1,d["\u0275\u0275pipeBind1"](3,4,e.task.endDate),"MMMM yyyy")," ")}}function Zi(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1," Task "),d["\u0275\u0275elementContainerEnd"]())}function eo(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1," Form Submission "),d["\u0275\u0275elementContainerEnd"]())}const to=function(){return[3,17,27,28,29,30,33,25,35,36,37,39,51]},no=function(){return[1,15,16,18,22,26]},io=function(){return[17,28,25,36]};function oo(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,Qi,2,0,"ng-container",7),d["\u0275\u0275template"](2,Ji,4,6,"ng-container",7),d["\u0275\u0275template"](3,Zi,2,0,"ng-container",7),d["\u0275\u0275template"](4,eo,2,0,"ng-container",7),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",6===e.task.taskCategoryID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",31===e.task.taskCategoryID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!e.task.formID&&d["\u0275\u0275pureFunction0"](4,to).includes(e.task.taskCategoryID)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.task&&(d["\u0275\u0275pureFunction0"](5,no).includes(e.task.taskCategoryID)||d["\u0275\u0275pureFunction0"](6,io).includes(e.task.taskCategoryID)&&e.task.formID))}}function ao(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,Ki,5,3,"ng-container",7),d["\u0275\u0275template"](2,oo,5,7,"ng-container",7),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",39===e.task.taskCategoryID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",39!==e.task.taskCategoryID)}}function ro(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",26),d["\u0275\u0275text"](1,"Underway"),d["\u0275\u0275elementEnd"]())}function so(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",27),d["\u0275\u0275text"](1,"Completed"),d["\u0275\u0275elementEnd"]())}function lo(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",28),d["\u0275\u0275text"](1,"Pre Approved"),d["\u0275\u0275elementEnd"]())}function co(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",29),d["\u0275\u0275text"](1,"Pre Final Approved"),d["\u0275\u0275elementEnd"]())}function po(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",30),d["\u0275\u0275elementStart"](1,"div",31),d["\u0275\u0275elementStart"](2,"button",32),d["\u0275\u0275element"](3,"span",33),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"ul",34),d["\u0275\u0275elementStart"](5,"li"),d["\u0275\u0275elementStart"](6,"a",35),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](2).editTask()}),d["\u0275\u0275text"](7,"Edit"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"li"),d["\u0275\u0275elementStart"](9,"a",35),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](2).deleteTask()}),d["\u0275\u0275text"](10,"Delete"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}}function mo(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"span",36),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"userCurrency"),d["\u0275\u0275pipe"](3,"number"),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate2"](" ",d["\u0275\u0275pipeBind1"](2,2,"")," ",d["\u0275\u0275pipeBind2"](3,4,e.task.taskBudget||2e3,"1.2-2")," issued ")}}function uo(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"span",37),d["\u0275\u0275element"](1,"i",38),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate3"](" ",null==e.taskSupporter?null:e.taskSupporter.firstName," ",null==e.taskSupporter?null:e.taskSupporter.surname," (",(null==e.task?null:e.task.supporterCompanyName)||"Company",") ")}}function ho(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"span",37),d["\u0275\u0275element"](1,"i",39),d["\u0275\u0275text"](2),d["\u0275\u0275pipe"](3,"date"),d["\u0275\u0275pipe"](4,"dateObject"),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind2"](3,1,d["\u0275\u0275pipeBind1"](4,4,e.task.endDate),"dd MMM yyyy")," ")}}function fo(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",40),d["\u0275\u0275elementStart"](1,"button",41),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](2).requestStatusUpdate(6)}),d["\u0275\u0275text"](2),d["\u0275\u0275pipe"](3,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"button",42),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](2).requestStatusUpdate(1)}),d["\u0275\u0275text"](5),d["\u0275\u0275pipe"](6,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}2&e&&(d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](3,2,"COMMON.ACCEPT")," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](6,4,"COMMON.DECLINE")," "))}function go(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",43),d["\u0275\u0275elementStart"](1,"p",44),d["\u0275\u0275text"](2," Submit the invoice for approval once you've received the service. "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"button",45),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](2).postInvoice()}),d["\u0275\u0275text"](4,"Upload Invoice "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}}function vo(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",46),d["\u0275\u0275elementStart"](1,"button",47),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](2).requestStatusUpdate(3,!0)}),d["\u0275\u0275text"](2,"Log Subsidy Amount "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}}function yo(e,t){if(1&e&&d["\u0275\u0275element"](0,"app-news-item",48),2&e){const e=t.$implicit;d["\u0275\u0275property"]("supportTask",!0)("hideImageView",!0)("newUI",!0)("discussion",e)}}function bo(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"div",9),d["\u0275\u0275elementStart"](2,"div",10),d["\u0275\u0275template"](3,ro,2,0,"span",11),d["\u0275\u0275template"](4,so,2,0,"span",12),d["\u0275\u0275template"](5,lo,2,0,"span",13),d["\u0275\u0275template"](6,co,2,0,"span",14),d["\u0275\u0275template"](7,po,11,0,"div",15),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"p",16),d["\u0275\u0275text"](9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"div",0),d["\u0275\u0275elementStart"](11,"span"),d["\u0275\u0275text"](12),d["\u0275\u0275pipe"](13,"userCurrency"),d["\u0275\u0275pipe"](14,"number"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](15,mo,4,7,"span",17),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](16,"app-image-layout",18),d["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](17,"div",19),d["\u0275\u0275template"](18,uo,3,3,"span",20),d["\u0275\u0275template"](19,ho,5,6,"span",20),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](20,fo,7,6,"div",21),d["\u0275\u0275template"](21,go,5,0,"div",22),d["\u0275\u0275template"](22,vo,3,0,"div",23),d["\u0275\u0275elementStart"](23,"div",24),d["\u0275\u0275template"](24,yo,1,4,"app-news-item",25),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",1===e.task.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",3===e.task.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",6===e.task.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",7===e.task.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.task.submittedBy===e.contactID),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",e.task.taskTitle," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate2"]("",d["\u0275\u0275pipeBind1"](13,20,"")," ",d["\u0275\u0275pipeBind2"](14,22,e.task.taskValue,"1.2-2")," requested"),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",3===e.task.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("listView",!0)("images",e.attachImages)("hideImageView",!0)("files",e.attachFiles)("editable",!1),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",null==e.task.taskSupporters?null:e.task.taskSupporters.length),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==e.task?null:e.task.endDate),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.taskOwner&&e.taskOwner.contactID===e.contactID&&1===e.task.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.taskSupporter&&e.taskSupporter.contactID===e.contactID&&6===e.task.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.taskOwner&&e.taskOwner.contactID===e.contactID&&7===e.task.taskStatusID),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",e.chats)}}function Io(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",55),d["\u0275\u0275text"](1,"Underway"),d["\u0275\u0275elementEnd"]())}function xo(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",56),d["\u0275\u0275text"](1,"Pending"),d["\u0275\u0275elementEnd"]())}function So(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",57),d["\u0275\u0275text"](1,"Completed"),d["\u0275\u0275elementEnd"]())}function Co(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",58),d["\u0275\u0275elementStart"](1,"span",59),d["\u0275\u0275element"](2,"img",60),d["\u0275\u0275pipe"](3,"avatar"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"div",0),d["\u0275\u0275elementStart"](5,"h2"),d["\u0275\u0275text"](6),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"div",61),d["\u0275\u0275elementStart"](8,"span"),d["\u0275\u0275text"](9),d["\u0275\u0275pipe"](10,"date"),d["\u0275\u0275pipe"](11,"dateObject"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"div",62),d["\u0275\u0275elementStart"](13,"p"),d["\u0275\u0275text"](14),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=d["\u0275\u0275nextContext"](2);d["\u0275\u0275classProp"]("border-0",1===n.chats.length),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("src",d["\u0275\u0275pipeBind1"](3,7,e.profilePhoto),d["\u0275\u0275sanitizeUrl"]),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate2"](" ",e.firstName," ",e.surname," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind2"](10,9,d["\u0275\u0275pipeBind1"](11,12,e.dateCreated),"dd MMM, yyyy")),d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate"](e.discussionTopic)}}function Do(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"div",9),d["\u0275\u0275elementStart"](2,"div",10),d["\u0275\u0275template"](3,Io,2,0,"span",49),d["\u0275\u0275template"](4,xo,2,0,"span",50),d["\u0275\u0275template"](5,So,2,0,"span",51),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"p",16),d["\u0275\u0275text"](7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"span"),d["\u0275\u0275text"](9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](10,Co,15,14,"div",52),d["\u0275\u0275pipe"](11,"slice"),d["\u0275\u0275elementStart"](12,"span",53),d["\u0275\u0275text"](13,"Action Plan"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](14,"app-weekly-todo",54),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",1===e.task.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",2===e.task.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",3===e.task.taskStatusID),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",e.task.taskTitle," "),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",e.task.companyName||"Company"," "),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",d["\u0275\u0275pipeBind3"](11,11,e.chats,0,1)),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("user",e.user)("parentTaskID",e.task.taskID)("companyID",e.companyID)("contactID",e.contactID)("tasks",e.actionPlans)}}function wo(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275element"](1,"app-regular-task",63),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("task",e.task)("taskOwner",e.taskOwner)("isAdmin",e.isAdmin)("taskSupporter",e.taskSupporter)}}function ko(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275element"](1,"app-form-task",64),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("task",e.task)("taskOwner",e.taskOwner)("isAdmin",e.isAdmin)}}function Eo(e,t){if(1&e&&d["\u0275\u0275element"](0,"app-monthly-verification",65),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275property"]("activeTask",e.task)}}function Mo(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",27),d["\u0275\u0275text"](1,"Completed"),d["\u0275\u0275elementEnd"]())}function Oo(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",28),d["\u0275\u0275text"](1,"Completed"),d["\u0275\u0275elementEnd"]())}function Po(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",26),d["\u0275\u0275text"](1,"Underway"),d["\u0275\u0275elementEnd"]())}function To(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"tr",71),d["\u0275\u0275listener"]("click",function(){d["\u0275\u0275restoreView"](e);const n=t.$implicit;return d["\u0275\u0275nextContext"](4).fillSections(n)}),d["\u0275\u0275elementStart"](1,"td"),d["\u0275\u0275elementStart"](2,"div",72),d["\u0275\u0275elementStart"](3,"span",73),d["\u0275\u0275element"](4,"img",74),d["\u0275\u0275pipe"](5,"avatar"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"span",75),d["\u0275\u0275text"](7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"td"),d["\u0275\u0275text"](9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"td"),d["\u0275\u0275template"](11,Mo,2,0,"span",12),d["\u0275\u0275template"](12,Oo,2,0,"span",13),d["\u0275\u0275template"](13,Po,2,0,"span",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("src",d["\u0275\u0275pipeBind1"](5,7,e.profilePhoto),d["\u0275\u0275sanitizeUrl"]),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate2"]("",e.firstName," ",e.surname,""),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](null==e?null:e.companyName),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",3===e.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",2===e.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",1===e.taskStatusID)}}function Ao(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"table",69),d["\u0275\u0275elementStart"](1,"thead"),d["\u0275\u0275elementStart"](2,"tr"),d["\u0275\u0275elementStart"](3,"th"),d["\u0275\u0275text"](4,"Name"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"th"),d["\u0275\u0275text"](6,"Company"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"th"),d["\u0275\u0275text"](8,"Status"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"tbody"),d["\u0275\u0275template"](10,To,14,9,"tr",70),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](10),d["\u0275\u0275property"]("ngForOf",e.task.taskOwners)}}function _o(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",76),d["\u0275\u0275element"](1,"app-task-sections-preview",77),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("disabledActions",!0)("sections",e.sections)("masterCompanyID",e.taskOwner.companyID)("taskOwner",e.taskOwner)("task",e.task)}}function Fo(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"div",66),d["\u0275\u0275elementStart"](2,"p",16),d["\u0275\u0275text"](3),d["\u0275\u0275pipe"](4,"date"),d["\u0275\u0275pipe"](5,"dateObject"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](6,Ao,11,1,"table",67),d["\u0275\u0275template"](7,_o,2,5,"div",68),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind2"](4,3,d["\u0275\u0275pipeBind1"](5,6,e.task.endDate),"MMMM yyyy")," status review "),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",0===e.tabView),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.sections.length&&1!==(null==e.taskOwner?null:e.taskOwner.taskStatusID)&&1===e.tabView)}}function Ro(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",26),d["\u0275\u0275text"](1,"Underway"),d["\u0275\u0275elementEnd"]())}function Lo(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",28),d["\u0275\u0275text"](1,"Pending"),d["\u0275\u0275elementEnd"]())}function Vo(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",27),d["\u0275\u0275text"](1,"Completed"),d["\u0275\u0275elementEnd"]())}function jo(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"div",66),d["\u0275\u0275elementStart"](2,"div",10),d["\u0275\u0275template"](3,Ro,2,0,"span",11),d["\u0275\u0275template"](4,Lo,2,0,"span",13),d["\u0275\u0275template"](5,Vo,2,0,"span",12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"p",16),d["\u0275\u0275text"](7),d["\u0275\u0275pipe"](8,"date"),d["\u0275\u0275pipe"](9,"dateObject"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"span"),d["\u0275\u0275text"](11),d["\u0275\u0275pipe"](12,"date"),d["\u0275\u0275pipe"](13,"dateObject"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"button",78),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](2).navigateToTask()}),d["\u0275\u0275text"](15,"Begin"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",1===e.taskOwner.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",2===e.taskOwner.taskStatusID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",3===e.taskOwner.taskStatusID),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind2"](8,5,d["\u0275\u0275pipeBind1"](9,8,e.task.endDate),"MMMM yyyy")," status review "),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate1"](" Your monthly business status review for ",d["\u0275\u0275pipeBind2"](12,10,d["\u0275\u0275pipeBind1"](13,13,e.task.endDate),"MMMM")," is due. ")}}function Bo(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,Fo,8,8,"ng-container",7),d["\u0275\u0275template"](2,jo,16,15,"ng-container",7),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.isAdmin),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.taskOwner&&e.taskOwner.contactID===e.contactID)}}const No=function(){return[3,17,27,28,29,30,33,25,35,36,37,51]};let Uo=(()=>{class e{constructor(e,t,n,i,o,a,r,s,l,c,d){this.taskService=e,this.discussionService=t,this.modal=n,this.signalRService=i,this.notificationService=o,this.documentsService=a,this.distributionService=r,this.router=s,this.userService=l,this.renderer2=c,this.document=d,this.documents=[],this.chats=[],this.chatMembers=[],this.attachImages=[],this.attachFiles=[],this.apiBlobUrl=T.a.apiBlobUrl+"/",this.actionPlans=[],this.tabView=0,this.sections=[],this.channel="",this.destroy$=new E.a,this.user=this.userService.user.getValue(),this.fullScreen=this.userService.taskFullWidth,this.contactID=this.user.contactID,this.companyID=this.user.companyID}set Data(e){this.task=null,this.taskOwner=null,this.taskSupporter=null,this.isAdmin=!1,this.tabView=0,this.sections=[],this.documents=[],this.chats=[],this.chat=null,this.attachFiles=[],this.attachImages=[],this.invoiceDiscussion=null,this.actionPlans=[],this.getData(e)}ngOnInit(){this.initSignalHub()}getData(e){this.loading=!0,this.getPlans(e.taskID),Object(k.a)(this.taskService.getTaskOwners(e.taskID,0,0,0,0,0),this.taskService.getTaskSupporters(e.taskID),39===e.taskCategoryID?this.discussionService.getAllDiscussion(0,e.taskID,10):Object(l.a)([]),39===e.taskCategoryID?this.documentsService.getDocument(e.taskID,21,0,0,0):Object(l.a)([]),this.taskService.getTask(e.taskID,0,0,0,0,0,0,0,!1)).subscribe(t=>{t[4][0]&&(e=t[4][0]),e.taskOwners=t[0],e.taskSupporters=t[1],39===e.taskCategoryID&&t[2][0]&&(this.chat=t[2][0],this.getChats(this.chat.discussionID),this.channel="taskD"+this.chat.discussionID,this.signalRService.joinChannel(this.channel),this.getChatMembers(this.chat.discussionID)),39===e.taskCategoryID&&(this.attachImages=this.getGalleryFiles(t[3],"quote"),this.documents=t[3].filter(e=>!P.b.isGalleryDocument(e)).map(e=>Object.assign(Object.assign({},e),{documentPath:this.apiBlobUrl+e.documentPath})),this.attachFiles=this.documents.map(e=>this.getFile(e,"quote"))),this.taskOwner=e.taskOwners.find(e=>e.contactID===this.contactID)||e.taskOwners[0]||null,this.taskSupporter=e.taskSupporters.find(e=>e.contactID===this.contactID)||e.taskSupporters[0]||null,this.isAdmin=e.submittedBy===this.contactID,this.taskOwner&&this.taskOwner.discussionID&&39!==e.taskCategoryID&&(this.initMainDiscussion(this.taskOwner.discussionID),this.discussionService.getAllMembers(this.taskOwner.discussionID).subscribe()),this.task=e,this.loading=!1})}initMainDiscussion(e){this.discussionLoading=!0,this.chat=null,this.chats=[],this.discussionService.fetchDiscussions(0,0,0,0,e).subscribe(e=>{this.chat=e[0],this.getChats(this.chat.discussionID)},()=>this.discussionLoading=!1)}getChats(e){this.discussionLoading=!0,this.discussionService.fetchDiscussions(0,0,0,e,0).subscribe(e=>{this.chats=e;const t=this.chats.find(e=>7===e.discussionCategoryID&&e.discussionCreatedByContactID===this.task.submittedBy);t&&(this.invoiceDiscussion=Object(g.l)(t)),this.invoiceDiscussion&&(this.attachImages=[...this.attachImages,...this.getGalleryFiles(this.invoiceDiscussion.documents,"invoice")],this.invoiceDiscussion.documents=this.invoiceDiscussion.documents.filter(e=>!P.b.isGalleryDocument(e)).map(e=>Object.assign(Object.assign({},e),{documentPath:this.apiBlobUrl+e.documentPath})),this.attachFiles=[...this.attachFiles,...this.invoiceDiscussion.documents.map(e=>this.getFile(e,"invoice"))]),this.discussionLoading=!1},()=>this.discussionLoading=!1)}onClose(){this.taskService.storeActiveTaskRx(null),this.renderer2.removeClass(this.document.body,"hide-scrolls")}getGalleryFiles(e,t=""){return e.filter(e=>P.b.isGalleryDocument(e)).map(e=>{t&&(e[t]=!0);const n=P.b.isVideoDocument(e)?{videoUrl:this.apiBlobUrl+e.documentPath}:{imageUrl:`${this.apiBlobUrl}1024px/${e.documentPath}`};return Object.assign({id:e.documentID,documentPath:e.documentPath,data:n,type:e.documentType,progress:100},e)})}getFile(e,t=""){return t&&(e[t]=!0),Object.assign({id:e.documentID,documentPath:e.documentPath,data:{name:e.documentTitle},type:e.documentType,progress:100,fakeId:e.documentID},e)}noticeSupporter(e,t){const n=Object(g.a)(new Date),i=`${this.taskOwner.firstName} ${this.taskOwner.surname}| has ${[3,6].includes(t)?"approved":"declined"} support request`,o={notificationCategoryID:Rt.a.activity_sign_off_task_owner,referenceID:this.task.taskID,contactID:e.contactID,description:i,createdContact:this.contactID},a=(new Date).toString()+"|"+this.task.companyID,r={date:n,body:i.replace("|",""),topic:i.replace("|",""),senderFullName:"",senderPhoto:"",notificationId:Math.floor(1e3*Math.random()),channel:"dashboard",reference:o.referenceID,notificationType:Lt.a.applicantRequest,senderId:o.createdContact,receivers:[o.contactID],uniqueId:a,discussionId:0};this.notificationService.noticeNotification(o).subscribe(()=>{this.signalRService.transferMessage("dashboard",r)});const s=Vt.a.fullDomain()+"/task/"+o.referenceID,l=`\n\t\t\t<p>Hi ${e.firstName}</p>\n\t\t\t<p>${i.replace("|","")}</p>\n\t\t\t<br>\n\t\t\t<p><span class="btn btn-primary" style="margin: 0; padding: 0"><a href="${s}">See Details</a></span></p>\n\t\t\t<br>\n\t\t`,c={distributionTitle:"Support request status update",distributionCategoryID:null,referenceID:null,distributionDate:null,userID:this.contactID,emailBody:jt.a.template(l),subjectLine:"Support request status update",senderEmail:"info@incubatorportal.com",senderName:`${this.user.firstName} ${this.user.surname}`,replyTo:null,contacts:[o.contactID]};this.distributionService.create(c).subscribe(()=>{},()=>{})}noticeOwner(e){const t=this.user.firstName+"| has updated Support Request",n=Object(g.a)(new Date),i={notificationCategoryID:Rt.a.activity_sign_off_task_owner,referenceID:this.task.taskID,contactID:e.contactID,description:t,createdContact:this.contactID},o=(new Date).toString()+"|"+this.task.companyID,a={date:n,body:t.replace("|",""),topic:t.replace("|",""),senderFullName:"",senderPhoto:"",notificationId:Math.floor(1e3*Math.random()),channel:"dashboard",reference:i.referenceID,notificationType:Lt.a.applicantRequest,senderId:i.createdContact,receivers:[i.contactID],uniqueId:o,discussionId:0};this.notificationService.noticeNotification(i).subscribe(()=>{this.signalRService.transferMessage("dashboard",a)});const r=Vt.a.fullDomain()+"/task/"+i.referenceID,s=`\n\t\t\t<p>Hi ${this.taskOwner.firstName}</p>\n\t\t\t<p>${t.replace("|","")}</p>\n\t\t\t<br>\n\t\t\t<p><span class="btn btn-primary" style="margin: 0; padding: 0"><a href="${r}">See Details</a></span></p>\n\t\t\t<br>\n\t\t`,l={distributionTitle:"Goal Status Update",distributionCategoryID:null,referenceID:null,distributionDate:null,userID:this.contactID,emailBody:jt.a.template(s),subjectLine:"Goal Status Update",senderEmail:"info@incubatorportal.com",senderName:`${this.user.firstName} ${this.user.surname}`,replyTo:null,contacts:[i.contactID]};this.distributionService.create(l).subscribe(()=>{},()=>{})}requestStatusUpdate(e,t=!1){const n=this.modal.open(f.a,{backdrop:"static",size:"md"});n.componentInstance.taskOwner=this.taskOwner,n.componentInstance.supportTask=!0,n.componentInstance.logSubsidyAmount=t,n.componentInstance.parentDiscussionID=this.chat.discussionID,n.componentInstance.discussionCategoryID=[6,3].includes(e)?8:9,n.result.then(t=>{t&&(t.firstName=this.user.firstName,t.surname=this.user.surname,t.profilePhoto=this.user.profilePhoto,t.dateCreated=Nt().utc().format(te.c),this.signalRService.transferMessage(this.channel,{type:v.a.chatAdd,data:t}),this.task.taskStatusID=e,this.task.taskOwners.forEach(t=>{t.taskStatusID=e,t.dateSentForSignOff=Object(g.a)(new Date),this.taskService.updateTaskOwner(t).subscribe()}),3===e&&(this.task.taskStatusID=e,this.task.taskBudget=t.discussionValue,this.task.endDate=Object(g.a)(new Date(this.task.endDate)),this.taskService.updateTask(this.task).subscribe()),this.taskService.storeUpdatedTaskRx(this.task),this.chats.unshift(t),this.task.taskSupporters.forEach(t=>{this.noticeSupporter(t,e)}),this.taskRealtimeMessageCount())})}postInvoice(){const e=this.modal.open(f.a,{backdrop:"static",size:"md"});e.componentInstance.taskOwner=this.taskOwner,e.componentInstance.supportTask=!0,e.componentInstance.parentDiscussionID=this.chat.discussionID,e.componentInstance.discussionCategoryID=7,e.result.then(e=>{e&&(e.firstName=this.user.firstName,e.surname=this.user.surname,e.profilePhoto=this.user.profilePhoto,e.dateCreated=Nt().utc().format(te.c),this.signalRService.transferMessage(this.channel,{type:v.a.chatAdd,data:e}),this.chats.unshift(e),this.invoiceDiscussion=e,this.attachImages=[...this.attachImages,...this.getGalleryFiles(this.invoiceDiscussion.documents,"invoice")],this.invoiceDiscussion.documents=this.invoiceDiscussion.documents.filter(e=>!P.b.isGalleryDocument(e)).map(e=>Object.assign(Object.assign({},e),{documentPath:this.apiBlobUrl+e.documentPath})),this.attachFiles=[...this.attachFiles,...this.invoiceDiscussion.documents.map(e=>this.getFile(e,"invoice"))],this.task.taskOwners.forEach(e=>{e.taskStatusID=7,e.dateSentForSignOff=Object(g.a)(new Date),this.taskService.updateTaskOwner(e).subscribe(),this.task.taskStatusID=7,this.taskService.storeUpdatedTaskRx(this.task),this.noticeOwner(e)}),this.taskRealtimeMessageCount())})}editTask(){const e=this.modal.open(Bt.a);e.componentInstance.task=Object(g.l)(this.task),e.componentInstance.taskOwners=[],e.componentInstance.taskSupporters=[],e.result.then(e=>{this.task=e.task,this.taskService.storeUpdatedTaskRx(this.task)})}deleteTask(){const e=this.modal.open(h.a);e.componentInstance.objectType="Task",e.componentInstance.objectDetails=this.task.taskTitle+" - Task",e.result.then(e=>{e&&"Yes"===e&&this.taskService.deleteTask(this.task.taskID).subscribe(()=>{this.taskService.storeDeletedTaskRx(this.task),this.taskService.storeActiveTaskRx(null)})})}getPlans(e){this.planLoading=!0,this.taskService.getTask(0,0,0,0,0,0,0,0,!0,e).pipe(Object(w.a)(this.destroy$)).subscribe(e=>{this.actionPlans=e.map(e=>(e.toDoCanUpdate=e.taskOwners.find(e=>e.contactID===this.contactID),e)),this.planLoading=!1})}navigateToTask(){this.router.navigate(["/task",this.task.taskID])}fillSections(e){this.taskOwner=e,this.tabView=1,this.taskService.getTaskOwnerSection(this.taskOwner.taskOwnerID,0).pipe(Object(w.a)(this.destroy$)).subscribe(e=>{this.sections=e})}getChatMembers(e){this.discussionService.getAllMembers(e).pipe(Object(w.a)(this.destroy$)).subscribe(e=>{this.chatMembers=e,this.lastSeenFeature()})}lastSeenFeature(){const e=this.chatMembers.find(e=>e.contactID===this.contactID);e&&(e.lastReadDate=Nt().utc().format(te.c),this.discussionService.updateMember(e).subscribe())}initSignalHub(){this.signalRService.transferMessageEvent.subscribe(e=>{if(this.channel===e.channel){const t=e.message,n=t.data;if(t.type===v.a.chatAdd&&(this.chats.unshift(n),7===n.discussionCategoryID&&(this.task.taskStatusID=7,this.taskService.storeUpdatedTaskRx(this.task)),8===n.discussionCategoryID&&(this.chats.some(e=>8===e.discussionCategoryID)?(this.task.taskStatusID=3,this.taskService.storeUpdatedTaskRx(this.task)):(this.task.taskStatusID=6,this.taskService.storeUpdatedTaskRx(this.task)))),t.type===v.a.chatDelete){const e=this.chats.findIndex(e=>e.discussionID===n.discussionID);-1!==e&&this.chats.splice(e,1)}if(t.type===v.a.chatEdit){const e=this.chats.findIndex(e=>e.discussionID===n.discussionID);-1!==e&&(this.chats[e]=n)}}})}taskRealtimeMessageCount(){const e={reference:this.task.taskID,notificationType:Lt.a.taskUnreadMessage,date:Object(g.a)(new Date)};this.signalRService.transferMessage("dashboard",e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.lastSeenFeature(),this.signalRService.leaveChannel(this.channel),this.renderer2.removeClass(this.document.body,"hide-scrolls")}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](Ue.a),d["\u0275\u0275directiveInject"](y.a),d["\u0275\u0275directiveInject"](b.p),d["\u0275\u0275directiveInject"](I.a),d["\u0275\u0275directiveInject"](We.a),d["\u0275\u0275directiveInject"](A.a),d["\u0275\u0275directiveInject"](Ut.a),d["\u0275\u0275directiveInject"](a.c),d["\u0275\u0275directiveInject"](F.a),d["\u0275\u0275directiveInject"](d.Renderer2),d["\u0275\u0275directiveInject"](i.d))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-task-right-panel"]],inputs:{Data:["activeTask","Data"]},decls:14,vars:13,consts:[[1,"d-flex"],[1,"d-flex","flex-column","task-right-panel"],[1,"d-flex","flex-column","full-height",3,"avnonLoader"],[1,"page-title","d-flex"],[1,"cursor-pointer","text-primary","display-inline","mr-2",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline","mb-0","mr-2"],[4,"ngIf"],["class","full-height d-flex flex-column",3,"activeTask",4,"ngIf"],[1,"d-flex","flex-column","align-items-start","pl-3","pr-3","pt-2","pb-2","border-bottom"],[1,"d-flex","w-100"],["class","tag tag-blue tag-filled",4,"ngIf"],["class","tag tag-green tag-filled",4,"ngIf"],["class","tag tag-orange tag-filled",4,"ngIf"],["class","tag tag-yellow tag-filled",4,"ngIf"],["class","actions ml-auto mt-0",4,"ngIf"],[1,"p23-text","mb-2","mt-2"],["class","ml-2",4,"ngIf"],[1,"w-100",3,"listView","images","hideImageView","files","editable","click"],[1,"icon-list","d-flex","flex-wrap","mb-3","pl-0","pr-0"],["class","text-muted other mt-2 mr-4",4,"ngIf"],["class","d-flex align-items-center w-100 pt-2 pb-2 pl-3 pr-3",4,"ngIf"],["class","d-flex flex-column pt-2",4,"ngIf"],["class","d-flex flex-column w-100 pt-2 pb-2 pl-3 pr-3 align-items-start",4,"ngIf"],[1,"d-flex","flex-column","mt-4"],[3,"supportTask","hideImageView","newUI","discussion",4,"ngFor","ngForOf"],[1,"tag","tag-blue","tag-filled"],[1,"tag","tag-green","tag-filled"],[1,"tag","tag-orange","tag-filled"],[1,"tag","tag-yellow","tag-filled"],[1,"actions","ml-auto","mt-0"],[1,"dropdown"],["type","button","id","dd1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["aria-labelledby","dd1",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"ml-2"],[1,"text-muted","other","mt-2","mr-4"],[1,"fas","fa-user-alt"],[1,"fas","fa-calendar-alt"],[1,"d-flex","align-items-center","w-100","pt-2","pb-2","pl-3","pr-3"],[1,"btn","btn-sm","btn-primary","mr-2",3,"click"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"d-flex","flex-column","pt-2"],[1,"mb-0","pl-3","pr-3"],["type","button",1,"btn","btn-sm","btn-primary","mr-auto","mt-2","ml-3",3,"click"],[1,"d-flex","flex-column","w-100","pt-2","pb-2","pl-3","pr-3","align-items-start"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[3,"supportTask","hideImageView","newUI","discussion"],["class","tag tag-blue",4,"ngIf"],["class","tag tag-orange",4,"ngIf"],["class","tag tag-green",4,"ngIf"],["class","entry mb-2",3,"border-0",4,"ngFor","ngForOf"],[1,"font-weight-bold","pl-3","pr-3","mb-2","mt-2"],[3,"user","parentTaskID","companyID","contactID","tasks"],[1,"tag","tag-blue"],[1,"tag","tag-orange"],[1,"tag","tag-green"],[1,"entry","mb-2"],[1,"media","avatar","avatar-48","avatar-48-rounded"],["alt","Avatar",1,"img-fluid","img-48","cover",3,"src"],[1,"meta"],[1,"entry-content"],[3,"task","taskOwner","isAdmin","taskSupporter"],[3,"task","taskOwner","isAdmin"],[1,"full-height","d-flex","flex-column",3,"activeTask"],[1,"d-flex","flex-column","align-items-start","pl-3","pr-3","pt-2","pb-2"],["class","table support-task-list",4,"ngIf"],["class","d-flex flex-column",4,"ngIf"],[1,"table","support-task-list"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"d-flex","align-items-center"],[1,"avatar-30"],["alt","",1,"img-thumbnail","p-0",3,"src"],[1,"ml-1"],[1,"d-flex","flex-column"],[3,"disabledActions","sections","masterCompanyID","taskOwner","task"],[1,"btn","btn-outline-primary","ml-3","mt-2","mr-auto",3,"click"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"div",2),d["\u0275\u0275elementStart"](3,"div",3),d["\u0275\u0275elementStart"](4,"span",4),d["\u0275\u0275listener"]("click",function(){return t.onClose()}),d["\u0275\u0275element"](5,"i",5),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"h1",6),d["\u0275\u0275template"](7,ao,3,2,"ng-container",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](8,bo,25,25,"ng-container",7),d["\u0275\u0275template"](9,Do,15,15,"ng-container",7),d["\u0275\u0275template"](10,wo,2,4,"ng-container",7),d["\u0275\u0275template"](11,ko,2,3,"ng-container",7),d["\u0275\u0275template"](12,Eo,1,1,"app-monthly-verification",8),d["\u0275\u0275template"](13,Bo,3,2,"ng-container",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275classProp"]("overlay-fullscreen",t.fullScreen),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("avnonLoader",t.loading||t.discussionLoading||t.planLoading),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngIf",null==t.task?null:t.task.taskID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.task&&39===t.task.taskCategoryID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.task&&6===t.task.taskCategoryID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.task&&!t.task.formID&&d["\u0275\u0275pureFunction0"](10,No).includes(t.task.taskCategoryID)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.task&&(d["\u0275\u0275pureFunction0"](11,no).includes(t.task.taskCategoryID)||d["\u0275\u0275pureFunction0"](12,io).includes(t.task.taskCategoryID)&&t.task.formID)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.task&&34===t.task.taskCategoryID),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.task&&31===t.task.taskCategoryID))},directives:[R.a,i.n,N.a,i.m,x.a,Gt.a,jn,pi,qi,zi.a],pipes:[i.e,Yt.a,xi.a,i.f,he.c,i.v,G.a],styles:[".overlay-fullscreen[_ngcontent-%COMP%]{top:0;left:0;position:fixed;z-index:1022;width:100%;height:100vh;background:rgba(0,0,0,.5)}.overlay-fullscreen[_ngcontent-%COMP%]   .task-right-panel[_ngcontent-%COMP%]{right:0!important;min-height:calc(100vh - 14px);max-height:calc(100vh - 14px);height:100%;top:7px}@media (max-width:1500px){.overlay-fullscreen[_ngcontent-%COMP%]   .task-right-panel[_ngcontent-%COMP%]{width:calc(100% - 594px)}}"]}),e})();function Go(e,t){if(1&e&&d["\u0275\u0275element"](0,"app-task-right-panel",6),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275property"]("activeTask",e.activeTask)}}const $o=function(e,t,n){return{"auto-width":e,"full-w-content":t,"w-100":n}},Ho=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o,a){var r;this.router=e,this.userService=t,this.cdref=n,this.deviceService=i,this.mobileResponsiveService=o,this.taskService=a,this.hideSearch=!1,this.isMobileScreen=!1,this.isMobileDevice=!1,this.destroy$=new E.a,e.events.subscribe(e=>{this.hideSearch=this.router.url.includes("chats")||this.router.url.includes("event-monthly")||this.router.url.includes("breakdown-monthly")}),this.user=this.userService.user.getValue(),this.contactID=(null===(r=this.user)||void 0===r?void 0:r.contactID)||0,this.onLoadResposiveCheck()}onLoadResposiveCheck(){this.isMobileDevice=this.deviceService.isMobile(),this.isOnMobileScreenSize(window.innerWidth)}onResize(e){this.isMobileDevice=this.deviceService.isMobile(),this.isOnMobileScreenSize(e.target.innerWidth)}isOnMobileScreenSize(e){this.mobileResponsiveService.changeState(e<1060)}ngOnInit(){this.taskService.getActiveTaskRx().pipe(Object(w.a)(this.destroy$)).subscribe(e=>{this.activeTask=e}),this.userService.fullSearchWidth.pipe(Object(w.a)(this.destroy$)).subscribe(e=>{this.fullSearchWidth=e}),this.userService.fullWidth.pipe(Object(w.a)(this.destroy$)).subscribe(e=>{this.fullWidth=e})}ngAfterViewChecked(){this.cdref.detectChanges()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](a.c),d["\u0275\u0275directiveInject"](F.a),d["\u0275\u0275directiveInject"](d.ChangeDetectorRef),d["\u0275\u0275directiveInject"](Be),d["\u0275\u0275directiveInject"](Ne.a),d["\u0275\u0275directiveInject"](Ue.a))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-main-home"]],decls:8,vars:7,consts:[[1,"container-fluid"],[1,"row"],[3,"fullWidth"],[1,"row","main-row",2,"padding-top","54px"],[1,"content",3,"ngClass"],[3,"activeTask",4,"ngIf"],[3,"activeTask"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275element"](2,"app-search",2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"div",3),d["\u0275\u0275element"](4,"app-sidemenu"),d["\u0275\u0275elementStart"](5,"div",4),d["\u0275\u0275element"](6,"router-outlet"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](7,Go,1,1,"app-task-right-panel",5)),2&e&&(d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("fullWidth",t.fullSearchWidth),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngClass",d["\u0275\u0275pureFunction3"](3,$o,t.hideSearch,t.fullSearchWidth,t.fullWidth)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",t.activeTask))},directives:[ft,Ft,i.l,a.h,i.n,Uo],styles:[""]}),e})(),children:[{path:"apply/:id",resolve:{user:r.a,lookup:m},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(0),n.e(34)]).then(n.bind(null,"TR/v"))).ProgramInstanceApplyModule})},{path:"news",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.resolve().then(n.bind(null,"tkyS"))).NewsFeedModule})},{path:"explore",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(5),n.e(6),n.e(11),n.e(16),n.e(17),n.e(0),n.e(38)]).then(n.bind(null,"vwuq"))).ExploreModule})},{path:"discussion/preview/:discussionID",canActivate:[u.a],resolve:{user:r.a},children:[{path:"",component:Z}]},{path:"company/:companyID",canActivate:[u.a],resolve:{user:r.a,lookup:ee.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(6),n.e(11),n.e(16),n.e(62)]).then(n.bind(null,"WX91"))).ExploreCompanyModule})},{path:"program",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(1),n.e(2),n.e(3),n.e(19),n.e(0),n.e(27)]).then(n.bind(null,"B1Kl"))).ProgramModule})},{path:"form/:formID/:formCategoryID/:answerReferenceID/:formFieldAnswerCategoryID",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield n.e(53).then(n.bind(null,"VAg2"))).SurveyFormPlaybackModule})},{path:"enrollment",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(1),n.e(2),n.e(3),n.e(5),n.e(6),n.e(13)]).then(n.bind(null,"6gVs"))).EnrollmentModule})},{path:"forms",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(8),n.e(39)]).then(n.bind(null,"BJ+2"))).FormModule})},{path:"pipeline",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(1),n.e(2),n.e(3),n.e(5),n.e(6),n.e(13),n.e(14),n.e(28)]).then(n.bind(null,"0CdS"))).PipelineModule})},{path:"home",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(1),n.e(2),n.e(3),n.e(4),n.e(8),n.e(5),n.e(7),n.e(6),n.e(10),n.e(11),n.e(13),n.e(14),n.e(17),n.e(15),n.e(20),n.e(40)]).then(n.bind(null,"wMrW"))).NotificationsModule})},{path:"weekly-plan",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(1),n.e(2),n.e(3),n.e(4),n.e(8),n.e(7),n.e(10)]).then(n.bind(null,"Ws3k"))).PlannerModule})},{path:"review",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield n.e(42).then(n.bind(null,"6H9e"))).ProgramStageReviewModule})},{path:"task",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield n.e(66).then(n.bind(null,"S1vP"))).TasksModule})},{path:"event",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(1),n.e(2),n.e(4),n.e(7),n.e(0),n.e(30)]).then(n.bind(null,"zB96"))).EventModule})},{path:"contracts",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(9),n.e(37)]).then(n.bind(null,"oBwn"))).ContractModule})},{path:"contract/add/:mentorID",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield n.e(9).then(n.bind(null,"p7Rj"))).ContractAddModule})},{path:"contract/add",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield n.e(9).then(n.bind(null,"p7Rj"))).ContractAddModule})},{path:"contract/edit/:contractID",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield n.e(9).then(n.bind(null,"p7Rj"))).ContractAddModule})},{path:"mentee/:contractAssignmentID",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(1),n.e(2),n.e(3),n.e(4),n.e(8),n.e(7),n.e(10),n.e(18)]).then(n.bind(null,"ro8G"))).AssignmentMenteeDetailModule})},{path:"assignment/:contractAssignmentID",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(1),n.e(2),n.e(3),n.e(4),n.e(8),n.e(7),n.e(10),n.e(11),n.e(18),n.e(45)]).then(n.bind(null,"KGtp"))).AssignmentModule})},{path:"chats",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(4),n.e(5),n.e(20),n.e(26)]).then(n.bind(null,"CEgs"))).ChatsModule})},{path:"documents",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield n.e(15).then(n.bind(null,"X0Jz"))).DocumentsModule})},{path:"venues",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(0),n.e(35)]).then(n.bind(null,"eZu5"))).VenuesModule})},{path:"courses",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(19),n.e(31)]).then(n.bind(null,"wr0u"))).CourseModule})},{path:"user/settings",canActivate:[u.a],resolve:{user:r.a},children:[{path:"",component:Ie}]},{path:"permissions",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield n.e(46).then(n.bind(null,"N5Gn"))).PermissionModule})},{path:"onboarding",canActivate:[u.a],data:{preventNavigation:!0},resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(0),n.e(43)]).then(n.bind(null,"/+S6"))).OnboardingModule})},{canActivate:[u.a],resolve:{user:r.a},path:"form/report/:formID/:formCategoryID/:answerReferenceID/:formFieldAnswerCategoryID",loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(1),n.e(14)]).then(n.bind(null,"5JBz"))).FormReportModule})},{canActivate:[u.a],resolve:{user:r.a},path:"accounts",loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(0),n.e(32)]).then(n.bind(null,"njZD"))).AccountModule})},{path:"dashboard",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(0),n.e(25)]).then(n.bind(null,"YVir"))).DashboardStatsModule})},{path:"product",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield n.e(44).then(n.bind(null,"E/1g"))).ProductGoalWizardModule})},{path:"product/:id",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield n.e(41).then(n.bind(null,"qvFY"))).ProductModule})},{path:"task/section/builder",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield n.e(65).then(n.bind(null,"RmR4"))).TaskSectionBuilderModule})},{path:"task/section/builder/:id",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(0),n.e(33)]).then(n.bind(null,"MxHx"))).TaskSectionBuilderDetailModule})},{path:"email/templates",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield n.e(29).then(n.bind(null,"3AGo"))).EmailTemplatingModule})},{path:"customers",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield n.e(50).then(n.bind(null,"vfUp"))).CustomersModule})},{path:"customer/:id",canActivate:[u.a],resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield n.e(49).then(n.bind(null,"k8QF"))).CustomersDetailsModule})},{path:"customer/satisfaction/response",resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield n.e(48).then(n.bind(null,"ZXZF"))).CustomerSatisfactionModule})},{path:"startup/dashboard",resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield n.e(63).then(n.bind(null,"lE0e"))).StartupDashboardModule})},{path:"support",resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield n.e(64).then(n.bind(null,"ZlwT"))).SupportModule})},{path:"ecosystem",resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield Promise.all([n.e(0),n.e(36)]).then(n.bind(null,"KMy1"))).EcosystemModule})},{path:"company/investment/:companyID",resolve:{user:r.a},loadChildren:()=>Object(o.a)(void 0,void 0,void 0,function*(){return(yield n.e(47).then(n.bind(null,"U5u3"))).CompanyInvestmentsModule})},{path:"404",resolve:{user:r.a},component:(()=>{class e{constructor(e){this.userService=e,this.user=this.userService.user.getValue()}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](F.a))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-not-found"]],decls:8,vars:0,consts:[[1,"d-flex","w-100","flex-column","align-items-center","justify-content-center","min-full-height"],["routerLink","/",1,"btn","btn-outline-primary"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"h1"),d["\u0275\u0275text"](2,"404"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"h3"),d["\u0275\u0275text"](4,"Page Not Found"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"p"),d["\u0275\u0275elementStart"](6,"a",1),d["\u0275\u0275text"](7,"Home"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]())},directives:[a.f],styles:["h1[_ngcontent-%COMP%]{font-size:32px}h3[_ngcontent-%COMP%]{font-size:20px}"]}),e})()}]}];let qo=(()=>{class e{}return e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.g.forChild(Ho)],a.g]}),e})();var zo=n("zemM"),Wo=n("j4PG"),Xo=n("4TQh"),Yo=n("PCNd"),Ko=n("tkyS");let Qo=(()=>{class e{}return e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,L.l,L.z,zo.a,Wo.a,Xo.a,Yo.a,he.b,Ko.NewsFeedModule]]}),e})(),Jo=(()=>{class e{}return e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[b.i],imports:[[i.c,L.l,a.g,L.z,he.b,b.l,Qo,qo]]}),e})()},jD4a:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n("ofXK"),o=n("3Pt+"),a=n("7AQL"),r=n("1kSV"),s=n("oAWB"),l=n("76iY"),c=n("fXoL");let d=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,o.l,r.x,a.a,s.a,l.a]]}),e})()},jGZE:function(e,t,n){"use strict";n.d(t,"a",function(){return ce});var i=n("fXoL"),o=n("KJJU"),a=n("BoU9"),r=n("eIep"),s=n("1G5W"),l=n("lJxs"),c=n("LRne"),d=n("cp0P"),p=n("XNiG"),m=n("6lqT"),u=n("tk/3"),h=n("QF1F"),f=n("myoa"),g=n("AytR"),v=n("yjI1"),y=n("Wgwc"),b=n("BN3N"),I=n("XAmU"),x=n("esnG"),S=n("WhH8"),C=n("1kSV"),D=n("skrp"),w=n("kmKP"),k=n("ofXK"),E=n("Jn3s"),M=n("iHql"),O=n("3Pt+"),P=n("5eqV"),T=n("OOVy"),A=n("enax"),_=n("D7eP"),F=n("SdWN");function R(e,t){if(1&e&&(i["\u0275\u0275element"](0,"img",16),i["\u0275\u0275pipe"](1,"avatar")),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("src",i["\u0275\u0275pipeBind1"](1,1,e.currentUser.profilePhoto),i["\u0275\u0275sanitizeUrl"])}}function L(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"app-file-upload",17),i["\u0275\u0275listener"]("uploadFileChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).onUploadFile(t)}),i["\u0275\u0275elementEnd"]()}2&e&&i["\u0275\u0275property"]("supportRequest",!0)}function V(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",18),i["\u0275\u0275elementStart"](1,"textarea",19,20),i["\u0275\u0275listener"]("paste",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).onPaste(t)})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).discussion.discussionTopic=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("area-control",!e.supportRequest),i["\u0275\u0275property"]("placeholder",e.placeholder?e.placeholder:"Share news or files with your ecosystem")("ngModel",e.discussion.discussionTopic)}}function j(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275element"](1,"app-link-preview",22),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("linkUrl",e.discussion.urlLinks[e.discussion.urlLinks.length-1])}}function B(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,j,2,1,"ng-container",8),i["\u0275\u0275elementStart"](2,"app-image-layout",21),i["\u0275\u0275listener"]("handleRemoveImage",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).onRemoveFile(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.getGalleryFiles(e.discussion.documents).length&&(null==e.discussion||null==e.discussion.urlLinks?null:e.discussion.urlLinks.length)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("images",e.getGalleryFiles(e.discussion.documents))("editable",!0)("listView",e.supportRequest)("files",e.getNoneGalleryFiles(e.discussion.documents))}}function N(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngb-alert",23),i["\u0275\u0275text"](1,"Your post is being created "),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275property"]("dismissible",!1)}function U(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"ul",27),i["\u0275\u0275elementStart"](1,"li",28),i["\u0275\u0275elementStart"](2,"div",29),i["\u0275\u0275elementStart"](3,"span",30),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](5,"ngb-progressbar",31),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"button",32),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit,o=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](3).onRemoveProgressFile(o,n)}),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](e.data.name),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("value",e.progress)("showValue",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",100===e.progress&&n.isLoading),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](n.isLoading?"Cancel":"Delete")}}function G(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,U,8,5,"ul",26),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.getFile(e))}}function $(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",24),i["\u0275\u0275template"](1,G,2,1,"ng-container",25),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.discussion.documents)}}function H(e,t){1&e&&i["\u0275\u0275element"](0,"input",33)}function q(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"app-file-upload",34),i["\u0275\u0275listener"]("uploadFileChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).onUploadFile(t)}),i["\u0275\u0275elementEnd"]()}}function z(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1," Entire Ecosystem "),i["\u0275\u0275elementContainerEnd"]())}function W(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.audience.network," ")}}function X(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1," My connections "),i["\u0275\u0275elementContainerEnd"]())}function Y(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1," My Team "),i["\u0275\u0275elementContainerEnd"]())}function K(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" Applicants - ",e.audience.opportunity," ")}}const Q=function(){return[2,3,4]};function J(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",37),i["\u0275\u0275template"](1,z,2,0,"ng-container",8),i["\u0275\u0275template"](2,W,2,1,"ng-container",8),i["\u0275\u0275template"](3,X,2,0,"ng-container",8),i["\u0275\u0275template"](4,Y,2,0,"ng-container",8),i["\u0275\u0275template"](5,K,2,1,"ng-container",8),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===e.audience.discussionAudienceCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pureFunction0"](5,Q).includes(e.audience.discussionAudienceCategoryID)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",5===e.audience.discussionAudienceCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",6===e.audience.discussionAudienceCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",7===e.audience.discussionAudienceCategoryID)}}function Z(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",35),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).openContactSelector()}),i["\u0275\u0275template"](1,J,6,6,"span",36),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.taskOwner)}}const ee=function(e){return{"p-0 m-0 w-100":e}};function te(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275template"](1,R,2,3,"img",3),i["\u0275\u0275elementStart"](2,"div",4),i["\u0275\u0275elementStart"](3,"div",5),i["\u0275\u0275template"](4,L,1,1,"app-file-upload",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,V,3,4,"div",7),i["\u0275\u0275template"](6,B,3,5,"ng-container",8),i["\u0275\u0275template"](7,N,2,1,"ngb-alert",9),i["\u0275\u0275template"](8,$,2,1,"div",10),i["\u0275\u0275elementStart"](9,"div",11),i["\u0275\u0275template"](10,H,1,0,"input",12),i["\u0275\u0275template"](11,q,1,0,"app-file-upload",13),i["\u0275\u0275template"](12,Z,2,1,"div",14),i["\u0275\u0275elementStart"](13,"button",15),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onSubmit()}),i["\u0275\u0275text"](14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("pt-0",e.supportRequest),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.supportRequest),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](17,ee,e.supportRequest))("avnonLoader",e.showSpinner||e.isLoading||e.loading),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.supportRequest),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.supportRequest),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.isLoading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.editing&&e.isLoading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isLoading),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("mt-0",e.supportRequest),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.supportRequest),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.supportRequest),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===e.currentUser.userGroupID&&3!==e.discussionCategoryID&&!e.taskOwner&&!e.hideAudience),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",!e.supportRequest&&e.isNotAllowed()||e.supportRequest&&!(null!=e.discussion&&null!=e.discussion.documents&&e.discussion.documents.length)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.supportRequest?"Send":"Post"," ")}}function ne(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275element"](1,"app-link-preview",22),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("linkUrl",e.discussion.urlLinks[e.discussion.urlLinks.length-1])}}function ie(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,ne,2,1,"ng-container",8),i["\u0275\u0275elementStart"](2,"app-image-layout",21),i["\u0275\u0275listener"]("handleRemoveImage",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).onRemoveFile(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.getGalleryFiles(e.discussion.documents).length&&(null==e.discussion||null==e.discussion.urlLinks?null:e.discussion.urlLinks.length)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("images",e.getGalleryFiles(e.discussion.documents))("editable",!0)("listView",e.supportRequest)("files",e.getNoneGalleryFiles(e.discussion.documents))}}function oe(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngb-alert",23),i["\u0275\u0275text"](1,"Your post is being created "),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275property"]("dismissible",!1)}function ae(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"ul",27),i["\u0275\u0275elementStart"](1,"li",28),i["\u0275\u0275elementStart"](2,"div",29),i["\u0275\u0275elementStart"](3,"span",30),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](5,"ngb-progressbar",31),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"button",32),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit,o=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](3).onRemoveProgressFile(o,n)}),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](e.data.name),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("value",e.progress)("showValue",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",100===e.progress&&n.isLoading),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](n.isLoading?"Cancel":"Delete")}}function re(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,ae,8,5,"ul",26),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.getFile(e))}}function se(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",24),i["\u0275\u0275template"](1,re,2,1,"ng-container",25),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.discussion.documents)}}function le(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",38),i["\u0275\u0275element"](1,"img",39),i["\u0275\u0275pipe"](2,"avatar"),i["\u0275\u0275elementStart"](3,"div",40),i["\u0275\u0275elementStart"](4,"div",41),i["\u0275\u0275elementStart"](5,"textarea",42,20),i["\u0275\u0275listener"]("paste",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onPaste(t)})("keyup.enter",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onPostEnter()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().discussion.discussionTopic=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"app-file-upload",43),i["\u0275\u0275listener"]("uploadFileChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onUploadFile(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,ie,3,5,"ng-container",8),i["\u0275\u0275template"](9,oe,2,1,"ngb-alert",9),i["\u0275\u0275template"](10,se,2,1,"div",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("src",i["\u0275\u0275pipeBind1"](2,11,e.currentUser.profilePhoto),i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("avnonLoader",e.showSpinner||e.isLoading||e.loading),i["\u0275\u0275advance"](2),i["\u0275\u0275classProp"]("area-control",!e.supportRequest),i["\u0275\u0275property"]("minRows",1)("placeholder",e.placeholder?e.placeholder:"Post a comment")("ngModel",e.discussion.discussionTopic),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hideImage",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.isLoading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.editing&&e.isLoading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isLoading)}}let ce=(()=>{class e{constructor(e,t,n,r,s,l){this.discussionService=e,this.documentService=t,this.contactService=n,this.ngbModal=r,this.linkService=s,this.userService=l,this.created=new i.EventEmitter,this.updated=new i.EventEmitter,this.discussionCategoryID=0,this.referenceID=0,this.parentDiscussionID=0,this.placeholder="",this.discussion=new a.a,this.contacts=[],this.members=[],this.editing=!1,this.totalContactSharing=0,this.isLoading=!1,this.showSpinner=!1,this.currentUser=new o.a,this.fakeId=0,this.unsubscribe=[],this.documentsWillRemove=[],this.audience={discussionAudienceCategoryID:1,referenceID:0,network:"",opportunity:""},this.currentUser=this.userService.user.getValue(),this.audience.referenceID=this.currentUser.companyID||0}ngOnInit(){this.editing=this.discussion.discussionID>0,this.discussion.urlLinks=this.discussion.urlLinks||[],this.linkService.getLinksSubject.subscribe(e=>{this.discussion.urlLinks=e}),this.getContacts(),this.editing&&!this.taskOwner&&this.getAudience(this.discussion.discussionID)}getContacts(){this.taskOwner||this.contactService.getContactConnect(0,this.currentUser.contactID||0,0,0,"0",1,1e3).subscribe(e=>{e&&(this.contacts=e,this.editing&&this.getMembers())})}getMembers(){this.discussionService.getAllMembers(this.discussion.discussionID).subscribe(e=>{e&&(this.members=e,this.contacts.forEach(e=>{e.selected=this.members.some(t=>t.contactID===e.contactID)}),this.calculateContactSharing())})}onSubmit(){this.showSpinner=!0,this.isLoading=!0,this.editing?this.updateDiscussion():this.createDiscussion()}updateDiscussion(){const e=Object.assign(Object.assign({},this.discussion),{documents:null});this.discussionService.updateDiscussion(e).pipe(Object(r.a)(()=>{this.saveMembers();const e=this.documentsWillRemove.map(e=>this.documentService.deleteDocument(e)),t=e&&e.length?e:Object(c.a)([]),n=Object(d.a)(t),i=this.discussion.documents.filter(e=>!e.documentID);return this.targetAudience?this.targetAudience.referenceID===this.audience.referenceID&&this.targetAudience.discussionAudienceCategoryID===this.audience.discussionAudienceCategoryID||(this.targetAudience.referenceID=this.audience.referenceID,this.targetAudience.discussionAudienceCategoryID=this.audience.discussionAudienceCategoryID,this.updateAudience()):this.createAudience(this.discussion.discussionID),Object(d.a)([this.saveDocuments(this.discussion.discussionID,i),n])})).subscribe(([e])=>{this.discussion.documents||(this.discussion.documents=[]),this.discussion.documents=this.discussion.documents.filter(e=>e.documentID),e&&e.length&&this.discussion.documents.push(...e),this.discussion.documents=this.discussion.documents.filter(e=>e),this.updated.emit(this.discussion)})}createDiscussion(){var e;let t=12,n=this.referenceID;this.discussionCategoryID&&(t=this.discussionCategoryID),7===(null===(e=this.audience)||void 0===e?void 0:e.discussionAudienceCategoryID)&&(n=this.audience.referenceID,t=27),1===this.audience.discussionAudienceCategoryID&&this.audience.referenceID&&!n&&(n=this.audience.referenceID),this.supportRequest&&!this.discussion.discussionTopic&&(this.discussion.discussionTopic="Request Status Update"),this.discussion.discussionCreatedByContactID=this.currentUser.contactID,this.discussion.referenceID=n,this.discussion.discussionCategoryID=t,this.discussion.isDirectMessage=!1,this.discussion.parentDiscussionID=this.parentDiscussionID;const i=Object.assign(Object.assign({},this.discussion),{documents:null});this.discussionService.insertDiscussion(i).subscribe(e=>{this.discussion.discussionID=e.inOut_DiscussionID,this.discussion.firstName=this.currentUser.firstName,this.discussion.surname=this.currentUser.surname,this.discussion.dateCreated=y().utc().format(b.c),this.discussion.profilePhoto=this.currentUser.profilePhoto,this.createAudience(this.discussion.discussionID),this.saveMembers(),this.saveDocuments(this.discussion.discussionID,this.discussion.documents).subscribe(e=>{this.discussion.documents=e.filter(e=>e),this.created.emit(this.discussion),this.clearData()})})}saveDocuments(e,t){return t&&0!==t.length?Object(d.a)(t.map((t,n)=>{const i=new FormData;return i.append("file",t.file.data),this.unsubscribe.push({id:t.file.fakeId,sub:new p.a}),this.documentService.insertDocument(i,22,e,+localStorage.getItem("CoID"),0,0).pipe(Object(s.a)(this.unsubscribe[n].sub),Object(l.a)(e=>{switch(e.type){case u.e.UploadProgress:this.showSpinner=!1,t.file.progress=Math.round(100*e.loaded/e.total);break;case u.e.Response:return e.body[0]}}))})):Object(c.a)([])}isNotAllowed(){var e;return this.discussion&&this.discussion.documents?!(this.discussion.documents.length>0||this.discussion.discussionTopic&&this.discussion.discussionTopic.length>0):!(null===(e=this.discussion.discussionTopic)||void 0===e?void 0:e.trim())}onUploadFile(e){this.discussion.documents=this.discussion.documents||[];const t=new m.a;e.fakeId=this.fakeId++,t.file=e,this.discussion.documents.push(t)}onRemoveFile(e){const t=this.discussion.documents.findIndex(t=>t.file?t.file.fakeId===e.fakeId:t.documentID===e.id);-1!==t&&this.discussion.documents[t].documentID&&this.documentsWillRemove.push(this.discussion.documents[t].documentID),this.discussion.documents.splice(t,1)}onRemoveProgressFile(e,t){this.onRemoveFile(t);const n=this.unsubscribe.find(t=>t.id===e.file.fakeId);n&&n.sub.next()}getGalleryFiles(e){return e?e.filter(e=>f.b.isImage(e)).map(e=>this.getFile(e)):[]}getNoneGalleryFiles(e){return e?e.filter(e=>!f.b.isImage(e)).map(e=>this.getFile(e)):[]}getFile(e){return e.file?e.file:Object.assign({id:e.documentID,documentPath:e.documentPath,data:Object.assign({name:e.documentTitle},"video/mp4"===e.documentType?{videoUrl:g.a.apiBlobUrl+"/"+e.documentPath}:{imageUrl:`${g.a.apiBlobUrl}/1024px/${e.documentPath}`}),type:e.documentType,progress:100,fakeId:this.fakeId++},e)}openContactSelector(){if(this.taskOwner)return;const e=this.ngbModal.open(v.a);e.componentInstance.audience=this.audience,e.result.then(e=>{e&&(this.audience=e)})}calculateContactSharing(){var e;this.totalContactSharing=null===(e=this.contacts)||void 0===e?void 0:e.filter(e=>e.selected).length}saveMembers(){const e=[];this.contacts.forEach(t=>{const n=this.members.some(e=>e.contactID===t.contactID);t.selected&&!n&&e.push(this.discussionService.addMember({discussionID:this.discussion.discussionID,contactID:t.contactID,isAdmin:!1})),!t.selected&&n&&e.push(this.discussionService.deleteMember(this.discussion.discussionID,t.contactID))}),e.length&&Object(d.a)(e).subscribe()}createAudience(e){this.taskOwner||this.discussionService.createDiscussionAudience({discussionID:e,discussionAudienceCategoryID:this.audience.discussionAudienceCategoryID,referenceID:this.audience.referenceID}).subscribe()}updateAudience(){this.taskOwner||this.discussionService.updateDiscussionAudience(this.targetAudience).subscribe()}getAudience(e){this.loading=!0,this.discussionService.getDiscussionAudience(e).subscribe(e=>{this.targetAudience=e[0],this.targetAudience&&(this.audience.discussionAudienceCategoryID=this.targetAudience.discussionAudienceCategoryID,this.audience.referenceID=this.targetAudience.referenceID),this.loading=!1},()=>this.loading=!1)}clearData(){this.discussion=new a.a,this.editing=!1,this.totalContactSharing=0,this.isLoading=!1,this.showSpinner=!1,this.fakeId=0,this.documentsWillRemove=[],this.loading=!1,this.audience={discussionAudienceCategoryID:1,referenceID:0,network:"",opportunity:""},this.targetAudience=null,this.unsubscribe.map(e=>{e&&e.sub&&!e.sub.closed&&(e.sub.next(),e.sub.complete())}),this.unsubscribe=[]}onPostEnter(){this.isNotAllowed()||this.onSubmit()}onPaste(e){if(e.clipboardData&&e.clipboardData.files&&e.clipboardData.files.length&&/^image\//.test(e.clipboardData.files[0].type)){const t=new FileReader,n=e.clipboardData.files[0];t.readAsDataURL(n),t.onload=()=>{n.imageUrl=t.result;const e=n,i=new h.a;i.data=e,i.progress=0;const o=new m.a;i.fakeId=this.fakeId++,o.file=i,!this.discussion.documents||this.discussion.documents&&!this.discussion.documents.length?this.discussion.documents=[o]:this.discussion.documents.push(o)}}}ngOnDestroy(){this.unsubscribe.map(e=>{e&&e.sub&&!e.sub.closed&&(e.sub.next(),e.sub.complete())})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](I.a),i["\u0275\u0275directiveInject"](x.a),i["\u0275\u0275directiveInject"](S.a),i["\u0275\u0275directiveInject"](C.p),i["\u0275\u0275directiveInject"](D.a),i["\u0275\u0275directiveInject"](w.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-post-news"]],inputs:{discussionCategoryID:"discussionCategoryID",referenceID:"referenceID",parentDiscussionID:"parentDiscussionID",placeholder:"placeholder",taskOwner:"taskOwner",hideAudience:"hideAudience",supportRequest:"supportRequest",newUI:"newUI"},outputs:{created:"created",updated:"updated"},decls:2,vars:2,consts:[["class","news-post-container",3,"pt-0",4,"ngIf"],["class","post-comment-container pl-3 pr-3 pt-2 pb-2",4,"ngIf"],[1,"news-post-container"],["alt","Profile Photo","class","photo",3,"src",4,"ngIf"],[1,"news-form",3,"ngClass","avnonLoader"],[1,"d-flex","mb-2"],[3,"supportRequest","uploadFileChange",4,"ngIf"],["class","form-group",4,"ngIf"],[4,"ngIf"],["type","success","class","mt-2 mb-0",3,"dismissible",4,"ngIf"],["class","progress-holder",4,"ngIf"],[1,"bottom-actions"],["type","text","class","form-control mr-4 pl-0 pr-0","placeholder","Add a note",4,"ngIf"],[3,"uploadFileChange",4,"ngIf"],["class","author-post ml-2",3,"click",4,"ngIf"],[1,"btn","btn-primary","btn-sm","ml-auto",3,"disabled","click"],["alt","Profile Photo",1,"photo",3,"src"],[3,"supportRequest","uploadFileChange"],[1,"form-group"],["autosize","","name","topic","appExtractLinks","",1,"form-control",3,"placeholder","ngModel","paste","ngModelChange"],["article","ngModel"],[1,"w-100",3,"images","editable","listView","files","handleRemoveImage"],[1,"w-100",3,"linkUrl"],["type","success",1,"mt-2","mb-0",3,"dismissible"],[1,"progress-holder"],[4,"ngFor","ngForOf"],["class","list-group list-group-flush",4,"ngIf"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between"],[1,"w-100"],[1,"file-name"],["type","success","textType","white",3,"value","showValue"],["type","button",1,"btn","btn-link",3,"disabled","click"],["type","text","placeholder","Add a note",1,"form-control","mr-4","pl-0","pr-0"],[3,"uploadFileChange"],[1,"author-post","ml-2",3,"click"],["class","title-sm-meta d-block cursor-pointer text-primary","ngbTooltip","Audience",4,"ngIf"],["ngbTooltip","Audience",1,"title-sm-meta","d-block","cursor-pointer","text-primary"],[1,"post-comment-container","pl-3","pr-3","pt-2","pb-2"],["alt","profile photo",1,"img-40","img-border","rounded-border","mr-2",3,"src"],[1,"d-flex","flex-grow-1","comment-input","flex-column",3,"avnonLoader"],[1,"d-flex","w-100"],["autosize","","name","topic","appExtractLinks","",1,"form-control",3,"minRows","placeholder","ngModel","paste","keyup.enter","ngModelChange"],[1,"m-1",3,"hideImage","uploadFileChange"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,te,15,19,"div",0),i["\u0275\u0275template"](1,le,11,13,"div",1)),2&e&&(i["\u0275\u0275property"]("ngIf",!t.newUI),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.newUI))},directives:[k.n,k.l,E.a,M.a,O.b,P.a,T.a,O.q,O.t,A.a,_.a,C.b,k.m,C.u,C.C],pipes:[F.a],styles:[".news-post-container[_ngcontent-%COMP%]{width:100%;display:flex;padding:.75rem 1rem;border-bottom:1px solid #dfdfdf;background:#fff}.news-post-container[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]{width:48px;height:48px;object-fit:cover;box-shadow:inset 0 0 2px rgba(0,0,0,.02);border-radius:50%;border:1px solid #dfdfdf}.news-post-container[_ngcontent-%COMP%]   .news-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:12px;width:calc(100% - 52px)}.news-post-container[_ngcontent-%COMP%]   .news-form[_ngcontent-%COMP%]   textarea.area-control[_ngcontent-%COMP%]{border:none;font-size:19px;padding-left:0}.news-post-container[_ngcontent-%COMP%]   .news-form[_ngcontent-%COMP%]   textarea.area-control[_ngcontent-%COMP%]:focus{box-shadow:none}.news-post-container[_ngcontent-%COMP%]   .news-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{max-width:120px}.news-post-container[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{display:inline-block;width:380px;white-space:nowrap;overflow:hidden!important;text-overflow:ellipsis}.news-post-container[_ngcontent-%COMP%]   .progress-holder[_ngcontent-%COMP%]{max-height:200px;overflow-x:hidden;overflow-y:auto}.news-post-container[_ngcontent-%COMP%]   .spinner-holder[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.news-post-container[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%], .news-post-container[_ngcontent-%COMP%]   .progress-holder[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.news-post-container[_ngcontent-%COMP%]   .bottom-actions[_ngcontent-%COMP%]{padding:0;display:flex;align-items:center;margin:10px 0 0}.news-post-container[_ngcontent-%COMP%]   .bottom-actions[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:0}.news-post-container[_ngcontent-%COMP%]   .bottom-actions[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border:0;box-shadow:none}.post-comment-container[_ngcontent-%COMP%]{width:100%;display:flex}.post-comment-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none}textarea.form-control[_ngcontent-%COMP%]{height:38px}"]}),e})()},jMTf:function(e,t,n){"use strict";var i=n("pyRK"),o=n("U6JX"),a=Object(o.a)(Object.keys,Object),r=Object.prototype.hasOwnProperty;t.a=function(e){if(!Object(i.a)(e))return a(e);var t=[];for(var n in Object(e))r.call(e,n)&&"constructor"!=n&&t.push(n);return t}},jN84:function(e,t,n){"use strict";var i=n("WJ6P"),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols;t.a=a?function(e){return null==e?[]:(e=Object(e),function(t,n){for(var i=-1,a=null==t?0:t.length,r=0,s=[];++i<a;){var l=t[i];o.call(e,l)&&(s[r++]=l)}return s}(a(e)))}:i.a},jnkw:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n("LRne"),o=n("Ll2f"),a=n("lJxs"),r=n("fXoL"),s=n("wgH9");let l=(()=>{class e{constructor(e){this.lookupService=e,this.lookup=new o.a}resolve(e,t){const n=String(e.params.companyID).toLocaleLowerCase(),o=Number(e.params.companyID);return"edgegrowth"===n?(this.lookup.lookupName=n,this.lookup.referenceID=3630,Object(i.a)([this.lookup]).pipe(Object(a.a)(e=>e[0]||null))):"avnon"===n?(this.lookup.lookupName=n,this.lookup.referenceID=3558,Object(i.a)([this.lookup]).pipe(Object(a.a)(e=>e[0]||null))):"testqstp"===n?(this.lookup.lookupName=n,this.lookup.referenceID=4291,Object(i.a)([this.lookup]).pipe(Object(a.a)(e=>e[0]||null))):Number.isInteger(o)?(this.lookup.lookupName="",this.lookup.referenceID=o,Object(i.a)([this.lookup]).pipe(Object(a.a)(e=>e[0]||null))):this.lookupService.getLookup(0,1,0,n).pipe(Object(a.a)(e=>e[0]||null))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](s.a))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},knhq:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("fXoL"),o=n("1kSV"),a=n("ofXK"),r=n("0mlJ");function s(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"date"),i["\u0275\u0275pipe"](3,"dateObject"),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](2,1,i["\u0275\u0275pipeBind1"](3,4,e.companyProgramStageStartDate),"dd MMM yyyy")," ")}}function l(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"div",12),i["\u0275\u0275elementStart"](2,"span",13),i["\u0275\u0275element"](3,"img",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"span",15),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"]().viewCompany(n.companyID)}),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"span",16),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"]().viewCompany(n.companyID)}),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",17),i["\u0275\u0275template"](9,s,4,6,"span",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](10,"div",19),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("src",null!=e&&e.profilePhoto?n.blobUrl+e.profilePhoto:"../assets/img/trainer-holder.png",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.firstname," ",e.surname,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.companyName),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.companyProgramStageStartDate)}}let c=(()=>{class e{constructor(e,t){this.activeModal=e,this.modal=t,this.activeStages=[],this.blobUrl="https://avnonportalstorage.blob.core.windows.net/avnon-api-v2/256px/"}ngOnInit(){}viewCompany(e){}dismiss(){this.activeModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.a),i["\u0275\u0275directiveInject"](o.p))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-companies-on-stage-modal"]],decls:16,vars:2,consts:[[1,"modal-header"],["id","postModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"d-flex","flex-column","float-left","w-100"],[1,"row","table-row","table-users"],[1,"col-sm-5","d-flex","align-items-center","cursor-pointer"],[1,"col-sm-3","d-flex","align-items-center","cursor-pointer"],[1,"col-sm-4","d-flex","align-items-center","justify-content-end","cursor-pointer"],["class","row table-row table-users applicants-table",4,"ngFor","ngForOf"],[1,"row","table-row","table-users","applicants-table"],[1,"col-sm-5","title-avatar"],[1,"float-left"],["alt","",1,"img-fluid","avatar-rounded","avatar-60",3,"src"],[1,"table-title","s-block",2,"cursor","pointer",3,"click"],[1,"s-block",2,"cursor","pointer",3,"click"],[1,"col-sm-3","pr-0","d-flex","flex-column","align-items-start"],[4,"ngIf"],[1,"col-sm-4","last-right","text-right","d-flex","justify-content-between","flex-wrap"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h5",1),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",2),i["\u0275\u0275listener"]("click",function(){return t.dismiss()}),i["\u0275\u0275elementStart"](4,"span",3),i["\u0275\u0275text"](5,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275elementStart"](8,"div",6),i["\u0275\u0275elementStart"](9,"div",7),i["\u0275\u0275text"](10," Applicant "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",8),i["\u0275\u0275text"](12," Start Date "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",9),i["\u0275\u0275text"](14," Progress "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](15,l,11,5,"div",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" Active Companies on ",t.stage.programStageTitle," Stage "),i["\u0275\u0275advance"](13),i["\u0275\u0275property"]("ngForOf",t.activeStages))},directives:[a.m,a.n],pipes:[a.e,r.a],styles:[".avatar-60[_ngcontent-%COMP%]{object-fit:cover;max-height:60px}"]}),e})()},"m+qv":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("fXoL"),o=n("kmKP");let a=(()=>{class e{constructor(e){this.userService=e,this.isEdge=window.location.hostname.toLocaleLowerCase().includes("edgegrowth"),this.isQstp=window.location.hostname.toLocaleLowerCase().includes("qstp"),this.user=this.userService.user.getValue()}transform(e=""){let t="$";return this.isEdge&&(t="R"),this.isQstp&&(t="QAR"),this.user&&this.user.currencySymbol&&(t=this.user.currencySymbol),t}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.a))},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"userCurrency",type:e,pure:!0}),e})()},m25l:function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{constructor(){this.companyID=null,this.connectCompanyID=null,this.companyConnectCategoryID=null,this.dateAssociated=null,this.companyConnectTypeID=null,this.lifeTimeRevenue=null,this.missedDeadlines=null,this.companyProductMarketID=null}}},mOT8:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a});class i{constructor(e){this.companyID=null,this.companyName=null,this.companyMission=null,this.companyProfile=null,this.companyRegistrationNumber=null,this.dateRegistered=null,this.fundingReceived=null,this.valueProposition=null,this.businessModel=null,this.currentStage=null,this.companyLocation=null,this.physicalAddress=null,this.CompanyProgramInstanceStageTypeID=null,this.companyProgramStageStartDate=null,this.daysSinceStart=null,this.companyOwnerContactID=null,this.companyLogo=null,this.bannerURL=null,this.companyBanner=null,this.companyTypeID=null,this.industryID=null,this.industry=null,this.companyProgramInstanceStageTypeID=null,this.telephoneNumber=null,this.emailAddress=null,this.website=null,this.companyProgramInstanceStageID=null,this.programTitle=null,this.companyPitch=null,this.contacts=[],this.subIndustryID=null,this.beeLevelID=null,this.blackOwnership=null,this.exitStrategy=null,this.exitStrategyID=null,this.exitStrategyDate=null,this.exitStrategyDetail=null,this.companyObjectives=null,this.blackManagement=null,this.blackOwnershipWomen=null,this.accreditationBody=null,this.accreditationNumber=null,this.employeeFT=null}}class o{constructor(){this.companyID=null,this.yearID=null,this.grossIncome=null,this.netProfit=null}}class a{constructor(){this.companyID=null,this.valuation=null,this.leadEvaluatorID=null,this.valuationDate=null,this.companyValuationDetail=null,this.companyValuationCategoryID=null,this.referenceID=null,this.dateLogged=null,this.addedbyContactID=null,this.companyValuationID=null}}},mbIT:function(e,t,n){"use strict";t.isArray=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},mkut:function(e,t,n){"use strict";var i=n("7gMY"),o=n("jMTf"),a=n("5WsY");t.a=function(e){return Object(a.a)(e)?Object(i.a)(e):Object(o.a)(e)}},mwbx:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("fXoL"),o=n("1kSV"),a=n("w4ga");let r=(()=>{class e{constructor(e){this.activeModal=e,this.isProcessing=!0,this.viewInitialized=!1}ngOnInit(){}ngAfterViewInit(){this.viewInitialized=!0}onLoaded(){this.viewInitialized&&(this.isProcessing=!1)}onCancel(){this.activeModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-document-preview"]],inputs:{document:"document"},decls:13,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],[1,"file-name"],[1,"download-button"],["download","","target","_blank",3,"href"],[1,"fa","fa-download"],["type","button","ngbAutofocus","","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["viewer","google",3,"url","googleCheckContentLoaded","loaded"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h5",1),i["\u0275\u0275elementStart"](2,"span",2),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",3),i["\u0275\u0275elementStart"](5,"a",4),i["\u0275\u0275element"](6,"i",5),i["\u0275\u0275text"](7," Download "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"button",6),i["\u0275\u0275listener"]("click",function(){return t.onCancel()}),i["\u0275\u0275elementStart"](9,"span",7),i["\u0275\u0275text"](10,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",8),i["\u0275\u0275elementStart"](12,"ngx-doc-viewer",9),i["\u0275\u0275listener"]("loaded",function(){return t.onLoaded()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",t.document.documentTitle," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("href",t.document.documentPath,i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](7),i["\u0275\u0275property"]("url",t.document.documentPath)("googleCheckContentLoaded",!0))},directives:[a.a],styles:[".file-name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-right:10px}.download-button[_ngcontent-%COMP%]{width:100%;text-align:right}.download-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-right:10px;color:#007bff;font-size:1.25rem;cursor:pointer}ngx-doc-viewer[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 138px)}"]}),e})()},myoa:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});const i=/(([a-z]+:\/\/)?(([a-z0-9\-]+\.)+([a-z]{2}|aero|arpa|biz|com|coop|edu|gov|info|int|jobs|mil|museum|name|nato|net|org|pro|travel|local|internal))(:[0-9]{1,5})?(\/[a-z0-9_\-\.~]+)*(\/([a-z0-9_\-\.]*)(\?[a-z0-9+_\-\.%=&amp;]*)?)?(#[a-zA-Z0-9!$&'()*+.=-_~:@/?]*)?)(\s+|$)/gi,o=["image/jpeg","image/png","video/mp4"];class a{static isGalleryDocument(e){return o.includes(e.documentType)}static isVideoDocument(e){return"video/mp4"===e.documentType}static isImage(e){return e.file?e.file.data.type&&/^image|video\//.test(e.file.data.type):o.includes(e.documentType)}static isYoutubeLink(e){return/^(http(s)?:\/\/)?((w){3}.)?youtu(be|.be)?(\.com)?\/.+/.test(e)}static isAzure(e){return/^(http(s)?:\/\/)?((w){3}.)?avnonmedia-usea.streaming.media.azure.net\/?.*manifest+/.test(e)}static isLink(e){return e.match(i)}}},n1y0:function(e,t,n){"use strict";n.d(t,"a",function(){return N});var i=n("mOT8"),o=n("Kj3r"),a=n("/uUt"),r=n("lJxs"),s=n("wPnq"),l=n("GUj1"),c=n("AytR"),d=n("tk/3"),p=n("OzGw"),m=n("gk2U"),u=n("fXoL"),h=n("esnG"),f=n("e6FA"),g=n("Hu2X"),v=n("1kSV"),y=n("5eHb"),b=n("tyNb"),I=n("kmKP"),x=n("Jn3s"),S=n("3Pt+"),C=n("ofXK"),D=n("7itd"),w=n("pxUr"),k=n("5eqV"),E=n("sYmb");const M=["locationRef"];function O(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",21),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;u["\u0275\u0275property"]("ngValue",e.industryID),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",e.industry," ")}}function P(e,t){if(1&e){const e=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",15),u["\u0275\u0275elementStart"](1,"div",16),u["\u0275\u0275elementStart"](2,"label",44),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"select",45),u["\u0275\u0275listener"]("ngModelChange",function(t){return u["\u0275\u0275restoreView"](e),u["\u0275\u0275nextContext"]().registered=t}),u["\u0275\u0275elementStart"](6,"option",21),u["\u0275\u0275text"](7),u["\u0275\u0275pipe"](8,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"option",21),u["\u0275\u0275text"](10),u["\u0275\u0275pipe"](11,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"option",21),u["\u0275\u0275text"](13),u["\u0275\u0275pipe"](14,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){const e=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](4,8,"COMPANY.IS-BUSINESS-REGISTERED")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",e.registered),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngValue",null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" - ",u["\u0275\u0275pipeBind1"](8,10,"COMMON.PLEASE-SELECT")," - "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngValue",1),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](11,12,"COMMON.YES")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngValue",2),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](14,14,"COMMON.NO")," ")}}function T(e,t){if(1&e){const e=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"label",46),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"input",47),u["\u0275\u0275listener"]("ngModelChange",function(t){return u["\u0275\u0275restoreView"](e),u["\u0275\u0275nextContext"](2).company.companyRegistrationNumber=t}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,2,"COMPANY.REGISTRATION-NUMBER")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",e.company.companyRegistrationNumber)}}function A(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",15),u["\u0275\u0275elementStart"](1,"div",16),u["\u0275\u0275template"](2,T,5,4,"ng-container",41),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){const e=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1===e.registered)}}function _(e,t){if(1&e&&u["\u0275\u0275element"](0,"ngb-highlight",48),2&e){const e=t.term;u["\u0275\u0275property"]("result",t.result.companyLocation)("term",e)}}function F(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"agm-map",49),u["\u0275\u0275element"](1,"agm-marker",50),u["\u0275\u0275elementEnd"]()),2&e){const e=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("latitude",e.headOfficeLocationModel.latitude)("longitude",e.headOfficeLocationModel.longitude)("zoom",15)("scrollwheel",!1),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("latitude",e.headOfficeLocationModel.latitude)("longitude",e.headOfficeLocationModel.longitude)}}function R(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"p",51),u["\u0275\u0275text"](2),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()),2&e){const e=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](e.headOfficeLocationModel.physicalAddress)}}function L(e,t){}function V(e,t){if(1&e){const e=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",28),u["\u0275\u0275elementStart"](1,"div",16),u["\u0275\u0275elementStart"](2,"label",52),u["\u0275\u0275text"](3,"Business Objectives"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"textarea",53),u["\u0275\u0275listener"]("ngModelChange",function(t){return u["\u0275\u0275restoreView"](e),u["\u0275\u0275nextContext"]().company.companyObjectives=t}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){const e=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("maxLength",150)("ngModel",e.company.companyObjectives)}}function j(e,t){if(1&e){const e=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",28),u["\u0275\u0275elementStart"](1,"div",16),u["\u0275\u0275elementStart"](2,"label",54),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"textarea",55),u["\u0275\u0275listener"]("ngModelChange",function(t){return u["\u0275\u0275restoreView"](e),u["\u0275\u0275nextContext"]().company.companyProfile=t}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){const e=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](4,2,"COMPANY.COMPANY-PROFILE")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",e.company.companyProfile)}}function B(e,t){if(1&e){const e=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275element"](1,"hr"),u["\u0275\u0275elementStart"](2,"div",56),u["\u0275\u0275elementStart"](3,"a",57),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](e),u["\u0275\u0275nextContext"]().onDeleteCompany()}),u["\u0275\u0275text"](4),u["\u0275\u0275pipe"](5,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"p",58),u["\u0275\u0275text"](7),u["\u0275\u0275pipe"](8,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](9,"hr"),u["\u0275\u0275elementContainerEnd"]()}2&e&&(u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](5,2,"COMPANY.DELETE-COMPANY-PROFILE")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](8,4,"COMPANY.COMPANY-DELETION-WARNING")," "))}let N=(()=>{class e{constructor(e,t,n,d,p,m,u,h){this.documentService=e,this.companyLocationService=t,this.companyService=n,this.activeModal=d,this.modal=p,this.toastrService=m,this.router=u,this.userService=h,this.company=new i.a,this.companyLocationID=null,this.locations=[],this.industries=[],this.companyTypes=s.a,this.profilePhoto="assets/img/card-placeholder.jpg",this.selectedFile=null,this.headOfficeLocationModel=new l.a,this.apiBlobUrl=c.a.apiBlobUrl+"/",this.registered=null,this.headOfficeFormatter=e=>e.companyLocation,this.headOfficeLocationSearch=e=>e.pipe(Object(o.a)(300),Object(a.a)(),Object(r.a)(e=>{let t=[];return this.hideGoogleMapResults(),t=""===e?this.locations:this.locations.filter(t=>new RegExp(e,"mi").test(t.companyLocation)),0===t.length&&this.showGoogleMapResults(),t.slice(0,10)})),this.user=this.userService.user.getValue(),this.contactID=this.user.contactID}ngOnInit(){this.isQstp=window.location.hostname.toLocaleLowerCase().includes("qstp"),this.company.companyID?(this.company.companyLogo&&(this.profilePhoto=this.apiBlobUrl+this.company.companyLogo),this.companyID=this.company.companyID,this.registered=this.company.companyRegistrationNumber||this.company.dateRegistered?1:null,this.isEdit=!0):this.companyID=this.user.companyID||0,this.getIndustries(),this.getLocations()}getIndustries(){this.companyService.getIndustry().subscribe(e=>{e&&(this.industries=e)})}getLocations(){this.companyLocationService.getLocations(this.companyID).subscribe(e=>{if(e.length>0&&(this.locations=e,this.company.companyID)){const e=this.locations[0];e.longitude=Number(e.longitude),e.latitude=Number(e.latitude),e.companyLocation=e.physicalAddress,this.headOfficeLocationModel=e}})}changeContactPhoto(){const e=this.modal.open(m.a,{windowClass:"myCustomModalClass"});e.componentInstance.previousImage=this.profilePhoto,e.componentInstance.referenceID=null,e.componentInstance.documentCategoryID=18,e.result.then(e=>{if(e){this.selectedFile=e;const t=new FileReader;t.readAsDataURL(e),t.onload=e=>{this.profilePhoto=t.result}}}).catch(()=>{})}onSubmit(){if(1!==this.registered&&(this.company.companyRegistrationNumber=null),this.company.companyID)return this.locations.length&&(this.headOfficeLocationModel.companyID=this.company.companyID,this.headOfficeLocationModel.companyLocationID=this.locations[0].companyLocationID),void this.updateCompany();this.loading=!0,this.companyService.addCompany(this.company).subscribe(e=>{this.company.companyID=e.inOut_CompanyID,this.company.companyOwnerContactID=this.contactID,this.headOfficeLocationModel.companyID=this.company.companyID,this.updateOwner(this.company.companyID,this.contactID),this.addCompanyLocation(),this.selectedFile?this.insertDocument():(this.loading=!1,this.toastrService.success("Company has been added"),this.activeModal.close(this.company))},()=>{this.loading=!1})}insertDocument(){const e=new FormData;e.append("image",this.selectedFile,this.selectedFile.name),this.documentService.insertDocument(e,1,this.company.companyID,+localStorage.getItem("CoID"),1,0).subscribe(e=>{if(e.type==d.e.Response){const t=e.body[0];t.documentID&&(this.company.companyLogo=t.documentPath),this.company.companyID&&(this.loading=!1,this.toastrService.success("Company has been "+(this.isEdit?"updated":"added")),this.activeModal.close(this.company))}})}addCompanyLocation(){this.companyLocationService.createCompanyLocation(this.headOfficeLocationModel).subscribe()}showGoogleMapResults(){var e,t;const n=document.getElementsByClassName("pac-container");for(let i=0,o=n.length;i<o;i++)null===(e=n[i].classList)||void 0===e||e.remove("d-none"),null===(t=n[i].classList)||void 0===t||t.add("map-selector")}hideGoogleMapResults(){var e,t;const n=document.getElementsByClassName("pac-container");for(let i=0,o=n.length;i<o;i++)null===(e=n[i].classList)||void 0===e||e.add("d-none"),null===(t=n[i].classList)||void 0===t||t.remove("map-selector")}handleAddressChange(e){var t,n;this.headOfficeLocationModel=new l.a,this.headOfficeLocationModel.companyLocationID=0,this.headOfficeLocationModel.companyLocation=null==e?void 0:e.name,this.headOfficeLocationModel.physicalAddress=null==e?void 0:e.formatted_address,this.headOfficeLocationModel.latitude=null===(t=null==e?void 0:e.geometry)||void 0===t?void 0:t.location.lat(),this.headOfficeLocationModel.longitude=null===(n=null==e?void 0:e.geometry)||void 0===n?void 0:n.location.lng(),this.headOfficeLocationModel.googleMapURL=null==e?void 0:e.url}onSelectLocation(e){var t,n;e&&e.companyLocationID&&(this.headOfficeLocationModel.latitude=+(null===(t=this.headOfficeLocationModel)||void 0===t?void 0:t.latitude),this.headOfficeLocationModel.longitude=+(null===(n=this.headOfficeLocationModel)||void 0===n?void 0:n.longitude))}updateCompany(){this.loading=!0,this.companyService.updateCompany(this.company).subscribe(()=>{this.locations.length?this.updateLocation():(this.headOfficeLocationModel.companyID=this.company.companyID,this.addCompanyLocation()),this.selectedFile?this.insertDocument():(this.toastrService.success("Company has been updated"),this.activeModal.close(this.company),this.loading=!1)},()=>{this.toastrService.warning("Cannot update company"),this.loading=!1})}updateLocation(){this.companyLocationService.updateCompanyLocation(this.headOfficeLocationModel).subscribe()}onCancel(){this.activeModal.close()}fileChangeEvent(e){if(e.target.files[0]){this.selectedFile=e.target.files[0];const t=new FileReader;t.readAsDataURL(this.selectedFile),t.onload=e=>{this.profilePhoto=t.result}}}updateOwner(e,t){this.companyService.updateCompanyOwner(e,t).subscribe()}onDeleteCompany(){const e=this.modal.open(p.a,{backdrop:"static"});e.componentInstance.objectType="Company",e.componentInstance.objectDetails=this.company.companyName+" company",e.result.then(e=>{e&&"Yes"===e&&this.deleteCompany()})}deleteCompany(){this.companyService.deleteCompany(this.company.companyID).subscribe(()=>{this.toastrService.success("Company removed"),localStorage.removeItem("companyObject"),this.router.navigate(["/home"])},()=>{this.toastrService.warning("Cannot delete company")})}}return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](h.a),u["\u0275\u0275directiveInject"](f.a),u["\u0275\u0275directiveInject"](g.a),u["\u0275\u0275directiveInject"](v.a),u["\u0275\u0275directiveInject"](v.p),u["\u0275\u0275directiveInject"](y.b),u["\u0275\u0275directiveInject"](b.c),u["\u0275\u0275directiveInject"](I.a))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["app-company-add"]],viewQuery:function(e,t){if(1&e&&u["\u0275\u0275viewQuery"](M,!0),2&e){let e;u["\u0275\u0275queryRefresh"](e=u["\u0275\u0275loadQuery"]())&&(t.locationRef=e.first)}},decls:76,vars:46,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",3,"avnonLoader"],[3,"ngSubmit"],["f","ngForm"],[1,"add-company-form-content"],[1,"form-group","mb-3"],["for","logo",1,"m-0"],[1,"photo-upload-preview"],["id","logo","accept","image/*","type","file",2,"display","none",3,"change"],["fileInput",""],[1,"img-fluid","avatar-upload",3,"src","click"],[1,"row","p-0"],[1,"col-sm-6"],[1,"form-group","mb-2"],["for","companyName",1,"mb-0"],["type","text","placeholder","Enter Company Name","id","companyName","required","","name","companyName",1,"form-control",3,"ngModel","ngModelChange"],["for","industryID",1,"mb-0"],["name","industryID","id","industryID","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","col-sm-6",4,"ngIf"],["for","website",1,"mb-0"],["type","text","id","website","placeholder","Enter Website","required","","name","website",1,"form-control",3,"ngModel","ngModelChange"],["for","telephoneNumber",1,"mb-0"],["type","text","id","telephoneNumber","placeholder","Enter Contact Number","required","","name","telephoneNumber",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],["for","headOfficeLocation",1,"m-0"],[1,"w-100","float-left","form-group","mb-2"],["headOfficeLocationResults",""],["required","","autocomplete","off","ngx-google-places-autocomplete","","name","headOfficeLocation","placeholder","Head Office Location","id","headOfficeLocation",1,"form-control",3,"ngModel","ngbTypeahead","resultTemplate","inputFormatter","onAddressChange","ngModelChange"],["locationRef","ngx-places"],[1,"w-100","float-left","my-2"],[3,"latitude","longitude","zoom","scrollwheel",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseNoCompanyLocation",""],["for","companyMission",1,"mb-0"],["required","","name","companyMission","id","companyMission",1,"form-control",3,"maxLength","ngModel","ngModelChange"],["class","col-sm-12",4,"ngIf"],[4,"ngIf"],[1,"text-right","pt-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],["for","companyTypeID",1,"mb-0"],["name","companyTypeID","id","companyTypeID",1,"form-control",3,"ngModel","ngModelChange"],["for","companyRegistrationNumber",1,"mb-0"],["type","text","id","companyRegistrationNumber","placeholder","Registration Number","required","","name","companyRegistrationNumber",1,"form-control",3,"ngModel","ngModelChange"],[3,"result","term"],[3,"latitude","longitude","zoom","scrollwheel"],[3,"latitude","longitude"],[1,"mb-1"],["for","companyObjectives",1,"mb-0"],["placeholder","What are your primary business objectives","required","","name","companyObjectives","id","companyObjectives",1,"form-control",3,"maxLength","ngModel","ngModelChange"],["for","companyProfile",1,"mb-0"],["rows","5","autosize","","required","","name","companyProfile","id","companyProfile","placeholder","Please provide a brief history of your company and any key milestones",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group"],["href","javascript:void(0)",3,"click"],[1,"text-muted"]],template:function(e,t){if(1&e){const e=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",0),u["\u0275\u0275elementStart"](1,"h5",1),u["\u0275\u0275text"](2),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"button",2),u["\u0275\u0275listener"]("click",function(){return t.onCancel()}),u["\u0275\u0275elementStart"](4,"span",3),u["\u0275\u0275text"](5,"\xd7"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"div",4),u["\u0275\u0275elementStart"](7,"form",5,6),u["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),u["\u0275\u0275elementStart"](9,"div",7),u["\u0275\u0275elementStart"](10,"div",8),u["\u0275\u0275elementStart"](11,"label",9),u["\u0275\u0275text"](12),u["\u0275\u0275pipe"](13,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](14,"div",10),u["\u0275\u0275elementStart"](15,"input",11,12),u["\u0275\u0275listener"]("change",function(e){return t.fileChangeEvent(e)}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](17,"img",13),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](e),u["\u0275\u0275reference"](16).click()}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](18,"div",14),u["\u0275\u0275elementStart"](19,"div",15),u["\u0275\u0275elementStart"](20,"div",16),u["\u0275\u0275elementStart"](21,"label",17),u["\u0275\u0275text"](22),u["\u0275\u0275pipe"](23,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](24,"input",18),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.company.companyName=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](25,"div",15),u["\u0275\u0275elementStart"](26,"div",16),u["\u0275\u0275elementStart"](27,"label",19),u["\u0275\u0275text"](28),u["\u0275\u0275pipe"](29,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](30,"select",20),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.company.industryID=e}),u["\u0275\u0275elementStart"](31,"option",21),u["\u0275\u0275text"](32,"- Please select -"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](33,O,2,2,"option",22),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](34,P,15,16,"div",23),u["\u0275\u0275template"](35,A,3,1,"div",23),u["\u0275\u0275elementStart"](36,"div",15),u["\u0275\u0275elementStart"](37,"div",16),u["\u0275\u0275elementStart"](38,"label",24),u["\u0275\u0275text"](39),u["\u0275\u0275pipe"](40,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](41,"input",25),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.company.website=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](42,"div",15),u["\u0275\u0275elementStart"](43,"div",16),u["\u0275\u0275elementStart"](44,"label",26),u["\u0275\u0275text"](45),u["\u0275\u0275pipe"](46,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](47,"input",27),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.company.telephoneNumber=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](48,"div",28),u["\u0275\u0275elementStart"](49,"label",29),u["\u0275\u0275text"](50),u["\u0275\u0275pipe"](51,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](52,"div",30),u["\u0275\u0275template"](53,_,1,2,"ng-template",null,31,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275elementStart"](55,"input",32,33),u["\u0275\u0275listener"]("onAddressChange",function(e){return t.handleAddressChange(e)})("ngModelChange",function(e){return t.headOfficeLocationModel=e})("ngModelChange",function(e){return t.onSelectLocation(e)}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](57,"div",34),u["\u0275\u0275template"](58,F,2,6,"agm-map",35),u["\u0275\u0275template"](59,R,3,1,"ng-container",36),u["\u0275\u0275template"](60,L,0,0,"ng-template",null,37,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](62,"div",28),u["\u0275\u0275elementStart"](63,"div",16),u["\u0275\u0275elementStart"](64,"label",38),u["\u0275\u0275text"](65),u["\u0275\u0275pipe"](66,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](67,"textarea",39),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.company.companyMission=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](68,"small"),u["\u0275\u0275text"](69),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](70,V,5,2,"div",40),u["\u0275\u0275template"](71,j,6,4,"div",40),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](72,B,10,6,"ng-container",41),u["\u0275\u0275elementStart"](73,"div",42),u["\u0275\u0275elementStart"](74,"button",43),u["\u0275\u0275text"](75,"Submit "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){const e=u["\u0275\u0275reference"](8),n=u["\u0275\u0275reference"](54),i=u["\u0275\u0275reference"](61);u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" Company ",t.company.companyID?"Edit":"Add"," "),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("avnonLoader",t.loading),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](13,32,"COMPANY.COMPANY-LOGO")," "),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("src",t.profilePhoto,u["\u0275\u0275sanitizeUrl"]),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](23,34,"COMPANY.COMPANY-NAME")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",t.company.companyName),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](29,36,"COMPANY.INDUSTRY")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",t.company.industryID),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngValue",null),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngForOf",t.industries),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==t.company?null:t.company.companyID),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==t.company?null:t.company.companyID),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](40,38,"COMPANY.WEBSITE")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",t.company.website),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](46,40,"COMPANY.CONTACT-NUMBER")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",t.company.telephoneNumber),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](51,42,"COMPANY.HEAD-OFFICE-LOCATION")," "),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngModel",t.headOfficeLocationModel)("ngbTypeahead",t.headOfficeLocationSearch)("resultTemplate",n)("inputFormatter",t.headOfficeFormatter),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",t.headOfficeLocationModel.latitude),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.headOfficeLocationModel.physicalAddress)("ngIfElse",i),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](66,44,"COMPANY.DESCRIBE-COMPANY-HEADLINE")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("maxLength",150)("ngModel",t.company.companyMission),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"]("",150-((null==t.company||null==t.company.companyMission?null:t.company.companyMission.length)||0)," characters remaining"),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.isQstp&&(null==t.company?null:t.company.companyOwnerContactID)===t.contactID),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.company.companyID),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.company.companyID&&t.company.companyOwnerContactID===t.contactID&&t.user.companyID!==t.company.companyID),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("disabled",!e.valid||!(null!=t.headOfficeLocationModel&&t.headOfficeLocationModel.physicalAddress)||t.loading)}},directives:[x.a,S.E,S.r,S.s,S.b,S.A,S.q,S.t,S.B,S.v,S.D,C.m,C.n,v.E,D.GooglePlaceDirective,v.n,w.b,w.c,k.a],pipes:[E.c],styles:[".photo-upload-preview[_ngcontent-%COMP%]   .avatar-upload[_ngcontent-%COMP%]{height:140px}.form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:red}.add-company-form-content[_ngcontent-%COMP%]{max-height:73vh;overflow-y:auto;overflow-x:hidden}  .pac-container.map-selector{z-index:999999!important}agm-map[_ngcontent-%COMP%]{height:160px;width:300px;float:left;margin-right:10px}"]}),e})()},n3uD:function(e,t,n){"use strict";var i=!1;t.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}}},nFnv:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var i=n("fXoL"),o=n("1kSV"),a=n("ofXK"),r=n("SdWN"),s=n("0mlJ");function l(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.companyIndicator.indicator," Reviews ")}}function c(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate2"](" Customer Satisfaction for ",e.monthName," ",e.yearID," ")}}function d(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275elementStart"](1,"span",8),i["\u0275\u0275element"](2,"img",9),i["\u0275\u0275pipe"](3,"avatar"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",10),i["\u0275\u0275elementStart"](5,"h2"),i["\u0275\u0275text"](6),i["\u0275\u0275elementStart"](7,"span",11),i["\u0275\u0275text"](8),i["\u0275\u0275pipe"](9,"date"),i["\u0275\u0275pipe"](10,"dateObject"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",11),i["\u0275\u0275element"](12,"ngb-rating",12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",13),i["\u0275\u0275elementStart"](14,"p"),i["\u0275\u0275text"](15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",i["\u0275\u0275pipeBind1"](3,7,e.profilePhoto),i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate2"](" ",e.firstname," ",e.surname," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](9,9,i["\u0275\u0275pipeBind1"](10,12,e.datePosted),"dd MMM, yyyy")),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("max",4)("rate",e.sentimentRatingID),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.comment)}}function p(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275elementStart"](1,"span",8),i["\u0275\u0275element"](2,"img",9),i["\u0275\u0275pipe"](3,"avatar"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",10),i["\u0275\u0275elementStart"](5,"h2"),i["\u0275\u0275text"](6),i["\u0275\u0275elementStart"](7,"span",11),i["\u0275\u0275text"](8),i["\u0275\u0275pipe"](9,"date"),i["\u0275\u0275pipe"](10,"dateObject"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",11),i["\u0275\u0275element"](12,"ngb-rating",12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",13),i["\u0275\u0275elementStart"](14,"p"),i["\u0275\u0275text"](15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",i["\u0275\u0275pipeBind1"](3,7,e.profilePhoto),i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate2"](" ",e.firstName," ",e.surname," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](9,9,i["\u0275\u0275pipeBind1"](10,12,e.dateCreated),"dd MMM, yyyy")),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("max",4)("rate",e.discussionValue),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.discussionTopic)}}let m=(()=>{class e{constructor(e){this.activeModal=e,this.sentiments=[],this.reviews=[],this.months=class{static create(){return[{value:1,name:"January"},{value:2,name:"February"},{value:3,name:"March"},{value:4,name:"April"},{value:5,name:"May"},{value:6,name:"June"},{value:7,name:"July"},{value:8,name:"August"},{value:9,name:"September"},{value:10,name:"October"},{value:11,name:"November"},{value:12,name:"December"}]}}.create()}ngOnInit(){this.monthName=this.months[this.monthID-1].name}dismiss(){this.activeModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-sentiment-review-dialog"]],decls:10,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","d-flex","flex-column","pl-0","pr-0"],["class","entry",4,"ngFor","ngForOf"],[1,"entry"],[1,"media","avatar","avatar-48","avatar-48-rounded"],["alt","Avatar",1,"img-fluid","img-48","cover",3,"src"],[1,"d-flex"],[1,"meta"],["readonly","",3,"max","rate"],[1,"entry-content"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h5",1),i["\u0275\u0275template"](2,l,2,1,"ng-container",2),i["\u0275\u0275template"](3,c,2,2,"ng-container",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",3),i["\u0275\u0275listener"]("click",function(){return t.dismiss()}),i["\u0275\u0275elementStart"](5,"span",4),i["\u0275\u0275text"](6,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275template"](8,d,16,14,"div",6),i["\u0275\u0275template"](9,p,16,14,"div",6),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.companyIndicator),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.companyIndicator),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngForOf",t.sentiments),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.reviews))},directives:[a.n,a.m,o.w],pipes:[r.a,a.e,s.a],styles:[".modal-body[_ngcontent-%COMP%]{max-height:86vh;overflow-x:hidden;overflow-y:auto}"]}),e})()},nLtN:function(e,t,n){"use strict";var i=n("YHEm"),o=function(e,t){for(var n=e.length;n--;)if(Object(i.a)(e[n][0],t))return n;return-1},a=Array.prototype.splice;function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}r.prototype.clear=function(){this.__data__=[],this.size=0},r.prototype.delete=function(e){var t=this.__data__,n=o(t,e);return!(n<0||(n==t.length-1?t.pop():a.call(t,n,1),--this.size,0))},r.prototype.get=function(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]},r.prototype.has=function(e){return o(this.__data__,e)>-1},r.prototype.set=function(e,t){var n=this.__data__,i=o(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},t.a=r},nNlV:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var i=n("fXoL"),o=n("rOaL"),a=n("1kSV"),r=n("kmKP"),s=n("ofXK");function l(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",8),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"]().onRemoveFile(t)}),i["\u0275\u0275elementStart"](1,"span",9),i["\u0275\u0275text"](2,"Close"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function c(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"img",10),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"]().onOpenGallery(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("src",e.documentPath?"https://avnonportalstorage.blob.core.windows.net/avnon-api-v2/256px/"+e.documentPath:"../assets/img/person-10.jpg",i["\u0275\u0275sanitizeUrl"])}}function d(e,t){if(1&e&&i["\u0275\u0275element"](0,"ngb-progressbar",13),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275property"]("value",null==e.file?null:e.file.progress)("showValue",!0)}}function p(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"img",14),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2).$implicit;return i["\u0275\u0275nextContext"]().onOpenGallery(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("src",null==e.file||null==e.file.data?null:e.file.data.imageUrl,i["\u0275\u0275sanitizeUrl"])}}function m(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"video",15),i["\u0275\u0275element"](2,"source",16),i["\u0275\u0275text"](3," Browser not supported "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",null==e.file||null==e.file.data?null:e.file.data.videoUrl,i["\u0275\u0275sanitizeUrl"])}}function u(e,t){1&e&&i["\u0275\u0275element"](0,"span",22)}function h(e,t){1&e&&i["\u0275\u0275element"](0,"span",23)}function f(e,t){1&e&&i["\u0275\u0275element"](0,"span",24)}function g(e,t){1&e&&i["\u0275\u0275element"](0,"span",25)}function v(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,u,1,0,"span",17),i["\u0275\u0275template"](2,h,1,0,"span",18),i["\u0275\u0275template"](3,f,1,0,"span",19),i["\u0275\u0275template"](4,g,1,0,"span",20),i["\u0275\u0275elementStart"](5,"span",21),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.powerPointMimeType.includes(null==e.file||null==e.file.data?null:e.file.data.type)&&!t.excelMimeType.includes(null==e.file||null==e.file.data?null:e.file.data.type)&&!t.pdfMimeType.includes(null==e.file||null==e.file.data?null:e.file.data.type)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.pdfMimeType.includes(null==e.file||null==e.file.data?null:e.file.data.type)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.excelMimeType.includes(null==e.file||null==e.file.data?null:e.file.data.type)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.powerPointMimeType.includes(null==e.file||null==e.file.data?null:e.file.data.type)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",null==e.file||null==e.file.data?null:e.file.data.name," ")}}function y(e,t){1&e&&i["\u0275\u0275element"](0,"span",22)}function b(e,t){1&e&&i["\u0275\u0275element"](0,"span",23)}function I(e,t){1&e&&i["\u0275\u0275element"](0,"span",24)}function x(e,t){1&e&&i["\u0275\u0275element"](0,"span",25)}function S(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,y,1,0,"span",17),i["\u0275\u0275template"](2,b,1,0,"span",18),i["\u0275\u0275template"](3,I,1,0,"span",19),i["\u0275\u0275template"](4,x,1,0,"span",20),i["\u0275\u0275elementStart"](5,"span",21),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3).$implicit,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.powerPointMimeType.includes(null==e.file||null==e.file.data?null:e.file.data.type)&&!t.excelMimeType.includes(null==e.file?null:e.file.type)&&!t.pdfMimeType.includes(null==e.file?null:e.file.type)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.pdfMimeType.includes(null==e.file?null:e.file.type)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.excelMimeType.includes(null==e.file?null:e.file.type)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.powerPointMimeType.includes(null==e.file?null:e.file.type)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",null==e.file||null==e.file.data?null:e.file.data.name," ")}}function C(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,v,7,5,"ng-container",12),i["\u0275\u0275template"](2,S,7,5,"ng-container",12),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!(null!=e.file&&e.file.type)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==e.file?null:e.file.type)}}function D(e,t){if(1&e&&(i["\u0275\u0275template"](0,d,1,2,"ngb-progressbar",11),i["\u0275\u0275template"](1,p,2,1,"ng-container",12),i["\u0275\u0275template"](2,m,4,1,"ng-container",12),i["\u0275\u0275template"](3,C,3,2,"ng-container",12)),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("ngIf","uploading"===(null==e.file?null:e.file.status)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(null==e.file||null==e.file.data?null:e.file.data.imageUrl)&&!(null!=e.file&&null!=e.file.data&&e.file.data.videoUrl)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==e.file||null==e.file.data?null:e.file.data.videoUrl),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!(null!=e.file&&null!=e.file.data&&e.file.data.videoUrl||null!=e.file&&null!=e.file.data&&e.file.data.imageUrl))}}function w(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",3),i["\u0275\u0275elementStart"](2,"div",4),i["\u0275\u0275template"](3,l,3,0,"button",5),i["\u0275\u0275template"](4,c,2,1,"ng-container",6),i["\u0275\u0275template"](5,D,4,4,"ng-template",null,7,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275reference"](6),o=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",o.contactID&&e.documentUploadedByID===o.contactID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.documentID)("ngIfElse",n)}}let k=(()=>{class e{constructor(e,t){var n;this.modalService=e,this.userService=t,this.documents=[],this.removeFile=new i.EventEmitter,this.changeState=new i.EventEmitter,this.pdfMimeType=["application/pdf"],this.excelMimeType=["application/vnd.ms-excel","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.binary.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled.12"],this.powerPointMimeType=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint.addin.macroenabled.12","application/vnd.ms-powerpoint.slide.macroenabled.12","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],this.user=this.userService.user.getValue(),this.contactID=(null===(n=this.user)||void 0===n?void 0:n.contactID)||0}ngOnInit(){}onOpenGallery(e){const t=this.modalService.open(o.a,{size:"gallery",centered:!0});t.componentInstance.documents=this.documents,t.componentInstance.documentActive=e,t.result.then(e=>{if(e)if(e.state)this.changeState.emit(e);else if("deleted"===e.action){const t=this.documents.findIndex(t=>{var n,i,o;return(null===(n=t.file)||void 0===n?void 0:n.fakeId)===(null===(o=null===(i=e.document)||void 0===i?void 0:i.file)||void 0===o?void 0:o.fakeId)});this.documents.splice(t,1)}},()=>{})}onRemoveFile(e){this.removeFile.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](a.p),i["\u0275\u0275directiveInject"](r.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-preview-file-upload"]],inputs:{documents:"documents"},outputs:{removeFile:"removeFile",changeState:"changeState"},decls:3,vars:1,consts:[[1,"file-upload-container"],[1,"row-12","row","p-0"],[4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-4","col-sm-4","row-entry"],[1,"file-item"],["type","button","class","close btn-close btn-remove-file","data-dismiss","modal","aria-label","Close",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseNewImage",""],["type","button","data-dismiss","modal","aria-label","Close",1,"close","btn-close","btn-remove-file",3,"click"],["aria-hidden","true",1,"sr-only"],[3,"src","click"],["type","success","textType","white","height",".5rem","class","process-upload",3,"value","showValue",4,"ngIf"],[4,"ngIf"],["type","success","textType","white","height",".5rem",1,"process-upload",3,"value","showValue"],["alt","Image",3,"src","click"],["controls","",1,"video"],[3,"src"],["class","icon common-file-icon",4,"ngIf"],["class","icon pdf-file-icon",4,"ngIf"],["class","icon xls-file-icon",4,"ngIf"],["class","icon power-point-file-icon",4,"ngIf"],[1,"file-name"],[1,"icon","common-file-icon"],[1,"icon","pdf-file-icon"],[1,"icon","xls-file-icon"],[1,"icon","power-point-file-icon"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275template"](2,w,7,3,"ng-container",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.documents))},directives:[s.m,s.n,a.u],styles:[".file-upload-container[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]{background:#fff;min-height:160px;margin-bottom:15px;overflow:hidden;position:relative}.file-upload-container[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .btn-remove-file[_ngcontent-%COMP%]{position:absolute;right:6px;top:0;cursor:pointer;box-shadow:0 0 10px #aaa;width:24px;height:24px;text-align:center;border-radius:50%;background-position:50%;background-color:#fff;z-index:2;display:none}.file-upload-container[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .btn-remove-file[_ngcontent-%COMP%]:hover{opacity:.9}.file-upload-container[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]:hover   .btn-remove-file[_ngcontent-%COMP%]{display:inline}.file-upload-container[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .file-upload-container[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:160px;object-fit:cover}.file-upload-container[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;padding:0 12px;overflow:hidden;text-overflow:ellipsis;font-size:16px;font-weight:700}.file-upload-container[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:32px;height:32px;background-repeat:no-repeat;background-size:100%;position:absolute;left:10px;top:20px}  ngb-progressbar.process-upload .progress{position:absolute;right:0;left:0}"]}),e})()},o4o7:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n("ofXK"),o=n("3Pt+"),a=n("/ogr"),r=n("iv3V"),s=n("fXoL");let l=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,o.l,a.a,r.a]]}),e})()},oAWB:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("ofXK"),o=n("3Pt+"),a=n("1kSV"),r=n("/ogr"),s=n("j4PG"),l=n("fXoL");let c=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,o.l,a.v,r.a,s.a]]}),e})()},oSzE:function(e,t,n){"use strict";var i=n("nLtN"),o=n("3cmB"),a=n("DlmY");function r(e){var t=this.__data__=new i.a(e);this.size=t.size}r.prototype.clear=function(){this.__data__=new i.a,this.size=0},r.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},r.prototype.get=function(e){return this.__data__.get(e)},r.prototype.has=function(e){return this.__data__.has(e)},r.prototype.set=function(e,t){var n=this.__data__;if(n instanceof i.a){var r=n.__data__;if(!o.a||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new a.a(r)}return n.set(e,t),this.size=n.size,this},t.a=r},oYcn:function(e,t,n){"use strict";var i=n("8M4i"),o=n("Js68"),a=n("EUcb"),r={};r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1;var s=n("ovuK"),l=n("xutz"),c=l.a&&l.a.isTypedArray,d=c?Object(s.a)(c):function(e){return Object(a.a)(e)&&Object(o.a)(e.length)&&!!r[Object(i.a)(e)]};t.a=d},ovuK:function(e,t,n){"use strict";t.a=function(e){return function(t){return e(t)}}},"p+bo":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});class i{constructor(){this.taskOwnerSectionID=null,this.taskOwnerID=null,this.taskID=null,this.taskCategoryID=null,this.companyID=null,this.taskOwnerSectionStatusID=null,this.taskOwnerSectionStatusDate=null,this.taskSection=null,this.taskSectionID=null,this.taskSectionReferenceID=null}}class o{constructor(e){if(this.taskOwnerID=null,this.contactID=null,this.taskID=null,this.statusID=null,this.taskStatusID=null,this.dateSentForSignOff=null,this.taskOwnerCategoryID=null,this.referenceID=null,this.flagged=null,this.deadline=null,this.firstName=null,this.surname=null,this.profilePhoto=null,this.percentComplete=0,this.viewed=null,this.discussionID=null,this.taskStatus=null,this.TaskOwnerStatusID=null,this.overdue=!1,this.sendingReminder=!1,this.formReviewMaxScore=0,this.formReviewPercentage=0,this.formReviewScore=0,this.endDate=null,this.indexID=null,this.scopeID=null,this.taskCategoryID=null,this.taskMasterScheduleID=null,this.taskTitle=null,this.submittedBy=null,this.formID=null,this.companyID=null,this.companyName=null,this.eventDelegateID=null,this.taskOwners=[],this.completedCount=0,this.pendingCount=0,this.underWayCount=0,this.formTypeID=null,this.division=null,this.designation=null,this.taskOwnerBudget=null,this.formName=null,this.companyLogo=null,this.unreadMessageCount=null,this.lastUpdatePosted=null,this.totalSeconds=null,this.DATE_TIME_FIELD=["deadline","viewed"],e){const t=this;for(const n of Object.keys(e))t.hasOwnProperty(n)&&(t[n]=-1!==t.DATE_TIME_FIELD.indexOf(n)?e[n]?new Date(e[n]):null:e[n]);this.percentComplete||(this.percentComplete=0)}}get fullName(){return`${this.firstName} ${this.surname}`}updateID(e){return this.taskOwnerID=e.inOut_TaskOwnerID,this}}},"p//D":function(e,t,n){"use strict";t.rxSubscriber=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),t.$$rxSubscriber=t.rxSubscriber},p0ro:function(e,t,n){"use strict";n.d(t,"a",function(){return Ce});var i=n("cp0P"),o=n("LRne"),a=n("XNiG"),r=n("eIep"),s=n("1G5W"),l=n("lJxs"),c=n("tk/3"),d=n("HNxE"),p=n("KJJU"),m=n("QF1F"),u=n("p+bo"),h=n("6lqT"),f=n("ofXK"),g=n("MNGV"),v=n("4CJs"),y=n("w6ya"),b=n("8J6U"),I=n("knhq"),x=n("frau"),S=n("VgRj"),C=n("3DXX"),D=n("fXoL"),w=n("XAmU"),k=n("ev4g"),E=n("esnG"),M=n("xDUJ"),O=n("1kSV"),P=n("1bi4"),T=n("WhH8"),A=n("5eHb"),_=n("S2+F"),F=n("kmKP"),R=n("9nlD"),L=n("euQB"),V=n("zmD5"),j=n("3Pt+"),B=n("Jn3s"),N=n("sYmb"),U=n("m+qv");function G(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"h1",19),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){const e=D["\u0275\u0275nextContext"]();D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate2"](" ",e.task&&e.task.taskID?"Edit":"Create"," ",e.indicator?e.indicator.indicator+" - Action Plan":"Task"," ")}}function $(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"h1",19),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"COMMON.CREATE-SUPPORT-REQUEST")," "))}function H(e,t){if(1&e){const e=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"div",8),D["\u0275\u0275elementStart"](1,"label",20),D["\u0275\u0275text"](2,"Category"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](3,"select",21),D["\u0275\u0275listener"]("ngModelChange",function(t){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275nextContext"]().task.taskClassificationID=t}),D["\u0275\u0275elementStart"](4,"option",22),D["\u0275\u0275text"](5,"Please Select"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](6,"option",22),D["\u0275\u0275text"](7,"Legal Services"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](8,"option",22),D["\u0275\u0275text"](9,"Basic Accounting Services"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](10,"option",22),D["\u0275\u0275text"](11,"Financial Audit"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()}if(2&e){const e=D["\u0275\u0275nextContext"]();D["\u0275\u0275advance"](3),D["\u0275\u0275property"]("ngModel",e.task.taskClassificationID),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngValue",null),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngValue",1),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngValue",2),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngValue",3)}}function q(e,t){if(1&e){const e=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"div",8),D["\u0275\u0275elementStart"](1,"label",23),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](4,"select",24),D["\u0275\u0275listener"]("change",function(){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275nextContext"]().onTaskTypeChange()})("ngModelChange",function(t){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275nextContext"]().taskType=t}),D["\u0275\u0275elementStart"](5,"option",22),D["\u0275\u0275text"](6),D["\u0275\u0275pipe"](7,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](8,"option",22),D["\u0275\u0275text"](9),D["\u0275\u0275pipe"](10,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()}if(2&e){const e=D["\u0275\u0275nextContext"]();D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](3,6,"PROGRAM.TASK-TYPE")," "),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngModel",e.taskType),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngValue",1),D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](7,8,"PROGRAM.GENERAL-TASK")),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngValue",2),D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](10,10,"PROGRAM.FORM-SUBMISSION"))}}function z(e,t){1&e&&(D["\u0275\u0275elementContainerStart"](0),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementContainerEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"PROGRAM.TASK-TITLE")," * "))}function W(e,t){1&e&&(D["\u0275\u0275elementContainerStart"](0),D["\u0275\u0275text"](1," Short description of your support request * "),D["\u0275\u0275elementContainerEnd"]())}function X(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"label",28),D["\u0275\u0275template"](1,z,3,3,"ng-container",29),D["\u0275\u0275template"](2,W,2,0,"ng-container",29),D["\u0275\u0275elementEnd"]()),2&e){const e=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",!e.startUpSupport),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",e.startUpSupport)}}function Y(e,t){if(1&e){const e=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"input",30),D["\u0275\u0275listener"]("ngModelChange",function(t){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275nextContext"](2).task.taskTitle=t}),D["\u0275\u0275elementEnd"]()}if(2&e){const e=D["\u0275\u0275nextContext"](2);D["\u0275\u0275property"]("placeholder",e.isGroupDiscussionTask?"Support request title":"Task Title")("ngModel",e.task.taskTitle)("readOnly",16===e.taskCategoryID)}}function K(e,t){if(1&e){const e=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"textarea",31),D["\u0275\u0275listener"]("ngModelChange",function(t){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275nextContext"](2).task.taskTitle=t}),D["\u0275\u0275elementEnd"]()}if(2&e){const e=D["\u0275\u0275nextContext"](2);D["\u0275\u0275property"]("ngModel",e.task.taskTitle)}}function Q(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div",8),D["\u0275\u0275template"](1,X,3,2,"label",25),D["\u0275\u0275template"](2,Y,1,3,"input",26),D["\u0275\u0275template"](3,K,1,1,"textarea",27),D["\u0275\u0275elementEnd"]()),2&e){const e=D["\u0275\u0275nextContext"]();D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",!e.isGroupDiscussionTask||e.startUpSupport),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",!e.startUpSupport),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",e.startUpSupport)}}function J(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"option",22),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;D["\u0275\u0275property"]("ngValue",e.formID),D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",e.formName," ")}}function Z(e,t){if(1&e){const e=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"div",8),D["\u0275\u0275elementStart"](1,"label",32),D["\u0275\u0275text"](2,"Form"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](3,"select",33),D["\u0275\u0275listener"]("ngModelChange",function(t){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275nextContext"]().task.formID=t}),D["\u0275\u0275elementStart"](4,"option",22),D["\u0275\u0275text"](5),D["\u0275\u0275pipe"](6,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](7,J,2,2,"option",34),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()}if(2&e){const e=D["\u0275\u0275nextContext"]();D["\u0275\u0275advance"](3),D["\u0275\u0275property"]("ngModel",e.task.formID),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngValue",0),D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](6,4,"PROGRAM.SELECT-FORM")),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngForOf",e.forms)}}function ee(e,t){if(1&e){const e=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"label",35),D["\u0275\u0275listener"]("click",function(){D["\u0275\u0275restoreView"](e);const t=D["\u0275\u0275nextContext"]();return t.detailsVisible=!t.detailsVisible}),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()}if(2&e){const e=D["\u0275\u0275nextContext"]();D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate2"](" ",e.detailsVisible?"Hide":"Add"," ",D["\u0275\u0275pipeBind1"](2,2,"PROGRAM.DETAILS")," ")}}function te(e,t){if(1&e){const e=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"textarea",36),D["\u0275\u0275listener"]("ngModelChange",function(t){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275nextContext"]().task.taskDescription=t}),D["\u0275\u0275text"](1,"\t\t\t"),D["\u0275\u0275elementEnd"]()}if(2&e){const e=D["\u0275\u0275nextContext"]();D["\u0275\u0275property"]("ngModel",e.task.taskDescription)}}function ne(e,t){if(1&e){const e=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"div",8),D["\u0275\u0275elementStart"](1,"label",37),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"userCurrency"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](4,"input",38),D["\u0275\u0275listener"]("ngModelChange",function(t){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275nextContext"]().task.taskValue=t}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()}if(2&e){const e=D["\u0275\u0275nextContext"]();D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"]("Estimated cost of the services ",D["\u0275\u0275pipeBind1"](3,2,""),"*"),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngModel",e.task.taskValue)}}function ie(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"span",42),D["\u0275\u0275element"](1,"i",43),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](3,1,"PROGRAM.ADD-TASK-OWNERS")," "))}function oe(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"span",45),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",e.firstName+" "+e.surname," ")}}function ae(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"span",42),D["\u0275\u0275template"](1,oe,2,1,"span",44),D["\u0275\u0275elementEnd"]()),2&e){const e=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngForOf",e.selectedOwners)}}function re(e,t){if(1&e){const e=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"div",8),D["\u0275\u0275elementStart"](1,"label",39),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](4,"div",40),D["\u0275\u0275listener"]("click",function(){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275nextContext"]().openOwnerSelect()}),D["\u0275\u0275template"](5,ie,4,3,"span",41),D["\u0275\u0275template"](6,ae,2,1,"span",41),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()}if(2&e){const e=D["\u0275\u0275nextContext"]();D["\u0275\u0275classProp"]("d-none",17===e.taskCategoryID||e.isGroupDiscussionTask),D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"]("",D["\u0275\u0275pipeBind1"](3,5,"PROGRAM.TASK-OWNERS")," *"),D["\u0275\u0275advance"](3),D["\u0275\u0275property"]("ngIf",0===e.selectedOwners.length),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",e.selectedOwners.length>0)}}function se(e,t){if(1&e){const e=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"div",48),D["\u0275\u0275elementStart"](1,"input",49),D["\u0275\u0275listener"]("change",function(t){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275nextContext"](2).onSignOffAvailable(t.target.checked)}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](2,"label",50),D["\u0275\u0275text"](3),D["\u0275\u0275pipe"](4,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()}if(2&e){const e=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("checked",e.isSignOffRequired),D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](4,2,"PROGRAM.IS-SIGN-OFF-REQUIRED"))}}function le(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"span",54),D["\u0275\u0275element"](1,"i",43),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](3,1,"PROGRAM.SELECT-WHO-SHOULD-SIGN-OFF")," "))}function ce(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"span",45),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",e.firstName+" "+e.surname," ")}}function de(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"span",42),D["\u0275\u0275template"](1,ce,2,1,"span",44),D["\u0275\u0275elementEnd"]()),2&e){const e=D["\u0275\u0275nextContext"](3);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngForOf",e.selectedSupporters)}}function pe(e,t){if(1&e){const e=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"div",51),D["\u0275\u0275elementStart"](1,"div",52),D["\u0275\u0275listener"]("click",function(){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275nextContext"](2).openTaskSupporters()}),D["\u0275\u0275template"](2,le,4,3,"span",53),D["\u0275\u0275template"](3,de,2,1,"span",41),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()}if(2&e){const e=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngIf",0===e.selectedSupporters.length),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",e.selectedSupporters.length>0)}}const me=function(){return[15,16]};function ue(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div",8),D["\u0275\u0275elementStart"](1,"label"),D["\u0275\u0275text"](2,"Requirements"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](3,se,5,4,"div",46),D["\u0275\u0275template"](4,pe,4,2,"div",47),D["\u0275\u0275elementEnd"]()),2&e){const e=D["\u0275\u0275nextContext"]();D["\u0275\u0275classProp"]("d-none",e.isGroupDiscussionTask),D["\u0275\u0275advance"](3),D["\u0275\u0275property"]("ngIf",!D["\u0275\u0275pureFunction0"](4,me).includes(e.taskCategoryID)),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",e.isSignOffRequired)}}function he(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"small",63),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"PROGRAM.TASK-DATE-CANNOT-BE-AFTER-STAGE-END-DATE")," "))}function fe(e,t){if(1&e){const e=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"div",8),D["\u0275\u0275elementStart"](1,"label",55),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](4,"div",56),D["\u0275\u0275listener"]("click",function(){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275reference"](6).toggle()}),D["\u0275\u0275elementStart"](5,"input",57,58),D["\u0275\u0275listener"]("ngModelChange",function(t){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275nextContext"]().endDateModel=t})("ngModelChange",function(){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275nextContext"]().onDateChange()}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](7,"div",59),D["\u0275\u0275elementStart"](8,"span",60),D["\u0275\u0275element"](9,"span",61),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](10,he,3,3,"small",62),D["\u0275\u0275elementEnd"]()}if(2&e){const e=D["\u0275\u0275nextContext"]();D["\u0275\u0275classProp"]("d-none",e.isGroupDiscussionTask),D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"]("",D["\u0275\u0275pipeBind1"](3,7,"PROGRAM.WHEN-TASK-DUE")," *"),D["\u0275\u0275advance"](3),D["\u0275\u0275classProp"]("error",e.afterStageDate),D["\u0275\u0275property"]("ngModel",e.endDateModel),D["\u0275\u0275advance"](5),D["\u0275\u0275property"]("ngIf",e.afterStageDate)}}function ge(e,t){1&e&&(D["\u0275\u0275elementContainerStart"](0),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementContainerEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"PROGRAM.REFERENCE-MATERIALS")," "))}function ve(e,t){1&e&&(D["\u0275\u0275elementContainerStart"](0),D["\u0275\u0275text"](1," Please upload supporting documentation (quotation etc) * "),D["\u0275\u0275elementContainerEnd"]())}function ye(e,t){if(1&e){const e=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"li",14),D["\u0275\u0275elementStart"](1,"span",72),D["\u0275\u0275text"](2),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](3,"span",73),D["\u0275\u0275listener"]("click",function(){D["\u0275\u0275restoreView"](e);const n=t.$implicit;return D["\u0275\u0275nextContext"](3).removeFile(n.file)}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",e.file.data.name||e.documentTitle," ")}}function be(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div",69),D["\u0275\u0275elementStart"](1,"ul",70),D["\u0275\u0275template"](2,ye,4,1,"li",71),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()),2&e){const e=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngForOf",e.documents)}}function Ie(e,t){if(1&e){const e=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"div",64),D["\u0275\u0275elementStart"](1,"label",65),D["\u0275\u0275template"](2,ge,3,3,"ng-container",29),D["\u0275\u0275template"](3,ve,2,0,"ng-container",29),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](4,"span",66),D["\u0275\u0275listener"]("click",function(){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275nextContext"](),D["\u0275\u0275reference"](28).click()}),D["\u0275\u0275element"](5,"span",67),D["\u0275\u0275text"](6,"Upload "),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](7,be,3,1,"div",68),D["\u0275\u0275elementEnd"]()}if(2&e){const e=D["\u0275\u0275nextContext"]();D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngIf",!e.startUpSupport),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",e.startUpSupport),D["\u0275\u0275advance"](4),D["\u0275\u0275property"]("ngIf",e.documents&&e.documents.length>0)}}function xe(e,t){if(1&e){const e=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"div",74),D["\u0275\u0275element"](1,"i",75),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"translate"),D["\u0275\u0275elementStart"](4,"span",76),D["\u0275\u0275listener"]("click",function(){return D["\u0275\u0275restoreView"](e),D["\u0275\u0275nextContext"]().openActiveStagesModal()}),D["\u0275\u0275text"](5),D["\u0275\u0275elementEnd"](),D["\u0275\u0275text"](6),D["\u0275\u0275pipe"](7,"translate"),D["\u0275\u0275elementEnd"]()}if(2&e){const e=D["\u0275\u0275nextContext"]();D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](3,3,"PROGRAM.TASK-TO-BE-ASSIGNED-TO"),""),D["\u0275\u0275advance"](3),D["\u0275\u0275textInterpolate"](e.activeStages.length),D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](7,5,"PROGRAM.COMPANIES-ACTIVE-ON-THIS-STAGE")," ")}}function Se(e,t){1&e&&D["\u0275\u0275element"](0,"span",77)}let Ce=(()=>{class e{constructor(e,t,n,i,o,a,r,s,l,c,d,m,u,h){this.discussionService=e,this.taskService=t,this.documentsService=n,this.formService=i,this.ngbModal=o,this.activeModal=a,this.distributionService=r,this.contactService=s,this.toastrService=l,this.signalRService=c,this.userService=d,this.notificationService=m,this.portfolioService=u,this.indicatorService=h,this.task=new g.a,this.endDateModel={year:null,month:null,day:null},this.taskOwners=[],this.taskSupporters=[],this.currentUser=new p.a,this.selectedOwners=[],this.selectedSupporters=[],this.forms=[],this.documents=[],this.isSignOffRequired=!1,this.isFormAvailable=!1,this.indicatorMentors=[],this.taskType=1,this.fakeId=0,this.unsubscribe=[],this.documentsWillRemove=[],this.contacts=[],this.loading=!1,this.detailsVisible=!1,this.activeStages=[],this.delegates=[],this.currentUser=this.userService.user.getValue(),this.currentUser.companyID=this.currentUser.companyID||0}ngOnInit(){var e,t,n,i,o;if(this.getForms(),25!==this.taskCategoryID?this.getContactConnect():this.isSignOffRequired=!0,(null===(e=this.programInstanceStage)||void 0===e?void 0:e.programInstanceID)&&(this.taskCategoryID=17,this.referenceId=this.programInstanceStage.programInstanceStageID,!(null===(t=this.task)||void 0===t?void 0:t.taskID)&&(this.getActiveStageCompanies(),this.programInstance&&this.programInstance.rollingIntake))){const e=new Date;this.endDateModel.year=e.getFullYear(),this.endDateModel.month=e.getMonth()+14,this.endDateModel.day=e.getDate()}if(this.delegate&&!this.task.taskID&&(this.task.taskTitle=`Pitch Review - ${this.delegate.firstName} ${this.delegate.surname}`,this.referenceId=this.delegate.eventID,this.delegates.forEach(e=>{this.contacts.push(e),this.selectedOwners.push(e)}),this.onFormAvailable(!0)),this.task&&this.task.taskID){this.taskCategoryID=this.task.taskCategoryID,this.selectedOwners=this.task.taskOwners,this.selectedSupporters=this.task.taskSupporters;const e=new Date(this.task.endDate);this.endDateModel.year=e.getFullYear(),this.endDateModel.month=e.getMonth()+1,this.endDateModel.day=e.getDate(),this.isSignOffRequired=this.task.taskSupporters.length>0&&15!==this.task.taskCategoryID,this.isFormAvailable=this.task.formID&&this.task.formID>0,this.detailsVisible=(null===(n=this.task.taskDescription)||void 0===n?void 0:n.length)>0,this.isFormAvailable&&(this.taskType=2),this.documentsService.getDocument(this.task.taskID,21,0,0,0).subscribe(e=>{this.documents=e.map(e=>{const t=this.getFile(e);return e.file=t,e})})}else this.task.submittedBy=this.currentUser.contactID,this.task.formID=0,this.meetingEvent&&(this.selectedSupporters=this.delegates.filter(e=>4===e.eventDelegateTypeID),this.isSignOffRequired=!0);if(28===this.taskCategoryID&&this.getIndicatorMentors(),this.isGroupDiscussionTask&&!this.startUpSupport){this.detailsVisible=!0,this.taskCategoryID=36,this.taskType=1,this.task.formID=0,this.isFormAvailable=!1;const e=new d.a;e.contactID=13591,e.firstName="Daniel",e.surname="Avnon",this.selectedOwners.push(e),this.isSignOffRequired=!0,this.selectedSupporters.push(this.contacts.filter(e=>e.contactID===this.currentUser.contactID)[0]);const t=new Date;this.endDateModel.year=t.getFullYear(),this.endDateModel.month=t.getMonth()+1,this.endDateModel.day=t.getDate()}if(this.startUpSupport){this.taskCategoryID=39,this.taskType=1,this.task.formID=0,this.task.subReferenceID=this.currentUser.companyID,this.task.supporterCompanyID=this.currentUser.companyID,this.isFormAvailable=!1,this.contacts.forEach(e=>{this.selectedOwners.push(e)}),this.isSignOffRequired=!0;const e=new d.a;e.contactID=this.currentUser.contactID,e.firstName=this.currentUser.firstName,e.surname=this.currentUser.surname,this.selectedSupporters=[e];const t=new Date;this.endDateModel.year=t.getFullYear(),this.endDateModel.month=t.getMonth()+1,this.endDateModel.day=t.getDate()}(null===(i=this.task)||void 0===i?void 0:i.taskID)&&36===this.task.taskCategoryID&&(this.isGroupDiscussionTask=!0),(null===(o=this.task)||void 0===o?void 0:o.taskID)&&39===this.task.taskCategoryID&&(this.isGroupDiscussionTask=!0,this.startUpSupport=!0)}getContactConnect(){16!==this.taskCategoryID&&this.masterCompanyID&&this.contactService.getContacts(this.masterCompanyID).subscribe(e=>{this.contacts=e})}openOwnerSelect(){const e=this.ngbModal.open(x.a);e.componentInstance.contacts=Object(b.l)(this.contacts),e.componentInstance.selectedContacts=Object(b.l)(this.selectedOwners),e.componentInstance.staticSelector=!!this.teamMemberOwnerOnly||this.staticSelector,this.meetingEvent&&(e.componentInstance.contacts=this.delegates),e.componentInstance.emailValidationOn=!0,e.result.then(e=>{e&&(this.selectedOwners=Object(b.j)(e,"contactID"))})}openTaskSupporters(){const e=this.ngbModal.open(x.a);this.teamMemberOwnerOnly||(e.componentInstance.contacts=Object(b.l)(28===this.taskCategoryID?this.indicatorMentors:this.contacts)),this.selectedSupporters.length>0&&(e.componentInstance.selectedContacts=Object(b.l)(this.selectedSupporters)),e.componentInstance.staticSelector=this.staticSelector,e.componentInstance.emailValidationOn=!0,this.meetingEvent&&(e.componentInstance.contacts=this.delegates),e.result.then(e=>{e&&e&&(this.selectedSupporters=Object(b.j)(e,"contactID"))})}onSubmit(){var e,t,n;if(this.task.formID&&!this.task.taskID){const e=this.forms.find(e=>e.formID===this.task.formID);this.task.taskTitle=e.formName}if(!this.task.taskTitle)return void this.toastrService.warning("Task title is missing");if(0===this.selectedOwners.length&&!this.taskCategoryID)return void this.toastrService.warning("Please select task owners");if(this.isSignOffRequired&&0===this.selectedSupporters.length)return void this.toastrService.warning("Please select task supporters");if(!this.endDateModel.year)return void this.toastrService.warning("Task due data is missing");if(this.loading)return;const i=new Date(null===(e=this.endDateModel)||void 0===e?void 0:e.year,(null===(t=this.endDateModel)||void 0===t?void 0:t.month)-1,null===(n=this.endDateModel)||void 0===n?void 0:n.day),o={taskID:null,autoSignOff:!1,endDate:Object(b.a)(i),referenceID:this.referenceId||0,submittedBy:this.task.submittedBy,taskDescription:this.task.taskDescription,taskTitle:this.task.taskTitle,taskCategoryID:this.taskCategoryID?this.taskCategoryID:this.task.formID?1:3,formID:this.task.formID||0,parentTaskID:this.task.parentTaskID||0,taskValue:this.task.taskValue||0,taskClassificationID:this.task.taskClassificationID||0,companyID:this.currentUser.companyID,taskBudget:this.task.taskBudget,subReferenceID:this.task.subReferenceID||0,supporterCompanyID:this.task.supporterCompanyID||0,taskStatusID:this.task.taskStatusID||1};this.task.endDate=o.endDate,this.selectedOwners=this.selectedOwners.filter((e,t,n)=>t===n.findIndex(t=>t.contactID===e.contactID)),this.loading=!0,this.task&&this.task.taskID?(o.taskID=this.task.taskID,o.taskCategoryID=this.task.taskCategoryID,this.processUpdateTask(o)):this.processAddTask(o)}processAddTask(e){let t,n;const a=[],s=[];this.taskService.addTask(e).pipe(Object(r.a)(r=>{const l=[];return r.taskID=r.inOut_TaskID,t=r.taskID,n=r,n.taskOwners=[],n.taskSupporters=[],n.taskStatusID=1,16!==this.taskCategoryID&&a.push({discussionTopic:e.taskTitle,discussionCategoryID:10,referenceID:t,isDirectMessage:!0,discussionCreatedByContactID:this.currentUser.contactID,discussionBody:e.taskDescription,parentDiscussionID:0}),this.addTaskOwner(r,e,s,l),this.addTaskSupporter(t,s,l),l.length>0?Object(i.a)(l):Object(o.a)([])}),Object(r.a)(r=>{r.forEach(i=>{if(i.hasOwnProperty("taskOwnerID")){i.taskStatusID=1;const o=this.selectedOwners.findIndex(e=>e.contactID===i.contactID);if(-1!==o&&(i.firstName=this.selectedOwners[o].firstName,i.surname=this.selectedOwners[o].surname,i.profilePhoto=this.selectedOwners[o].profilePhoto,n.taskOwners.push(i)),16===this.taskCategoryID)return;a.push({discussionTopic:e.taskTitle,discussionCategoryID:6,referenceID:i.taskOwnerID,isDirectMessage:!0,discussionCreatedByContactID:this.currentUser.contactID,discussionBody:e.taskDescription,parentDiscussionID:0}),this.noticeNotification(y.a.activity_task_owner,t,i.contactID)}if(i.hasOwnProperty("inOut_TaskSupporterID")){i.taskSupporterID=i.inOut_TaskSupporterID;const e=this.selectedSupporters.findIndex(e=>e.contactID===i.contactID);-1!==e&&(i.firstName=this.selectedSupporters[e].firstName,i.surname=this.selectedSupporters[e].surname,i.profilePhoto=this.selectedSupporters[e].profilePhoto,n.taskSupporters.push(i))}});const s=this.documentsWillRemove.map(e=>this.documentsService.deleteDocument(e)),l=s&&s.length?s:Object(o.a)([]),c=Object(i.a)(l),d=this.documents.filter(e=>!e.documentID);return Object(i.a)([this.saveDocuments(t,d),c])})).subscribe(()=>{this.checkUpdateDiscussions({discussions:a,members:s,task:n})})}processUpdateTask(e){let t,n;const a=[],s=[];this.taskService.updateTask(e).pipe(Object(r.a)(a=>{const r=[];return t=a.taskID,n=a,n.taskOwners=this.selectedOwners.filter(e=>e.hasOwnProperty("taskOwnerID")),n.taskSupporters=this.selectedSupporters.filter(e=>e.hasOwnProperty("taskSupporterID")),this.updateTaskOwner(a,e,s,r),this.updateTaskSupporter(t,s,r),r.length>0?Object(i.a)(r):Object(o.a)([])}),Object(r.a)(r=>{r.forEach(t=>{if(t.hasOwnProperty("taskOwnerID")){const i=this.selectedOwners.findIndex(e=>e.contactID===t.contactID);-1!==i&&(t.firstName=this.selectedOwners[i].firstName,t.surname=this.selectedOwners[i].surname,t.profilePhoto=this.selectedOwners[i].profilePhoto,n.taskOwners.push(t)),a.push({discussionTopic:e.taskTitle,discussionCategoryID:6,referenceID:t.taskOwnerID,isDirectMessage:!0,discussionCreatedByContactID:this.currentUser.contactID,discussionBody:e.taskDescription,parentDiscussionID:0})}if(t.hasOwnProperty("inOut_TaskSupporterID")){t.taskSupporterID=t.inOut_TaskSupporterID;const e=this.selectedSupporters.findIndex(e=>e.contactID===t.contactID);-1!==e&&(t.firstName=this.selectedSupporters[e].firstName,t.surname=this.selectedSupporters[e].surname,t.profilePhoto=this.selectedSupporters[e].profilePhoto,n.taskSupporters.push(t))}});const s=this.documentsWillRemove.map(e=>this.documentsService.deleteDocument(e)),l=s&&s.length?s:Object(o.a)([]),c=Object(i.a)(l),d=this.documents.filter(e=>!e.documentID);return Object(i.a)([this.saveDocuments(t,d),c])})).subscribe(()=>{this.checkUpdateDiscussions({discussions:a,members:s,task:n})},()=>{this.loading=!1})}addTaskSupporter(e,t,n){this.selectedSupporters=Object(b.j)(this.selectedSupporters,"contactID"),this.selectedSupporters.forEach(i=>{const o={taskID:e,contactID:i.contactID};-1===t.findIndex(e=>e===i.contactID)&&t.push(i.contactID),n.push(this.taskService.addTaskSupporter(o))})}addTaskOwner(e,t,n,i){this.selectedOwners=Object(b.j)(this.selectedOwners,"contactID"),this.selectedOwners.forEach(o=>{const a=new u.a;a.contactID=o.contactID,a.taskID=e.taskID,a.deadline=t.endDate,a.taskOwnerCategoryID=t.taskCategoryID||1,a.referenceID=t.referenceID||0,a.companyID=o.companyID||0,o.hasOwnProperty("eventDelegateID")&&(a.referenceID=o.eventDelegateID,a.taskOwnerCategoryID=16,25===this.taskCategoryID&&(a.taskOwnerCategoryID=t.taskCategoryID)),-1===n.findIndex(e=>e===o.contactID)&&n.push(o.contactID),a.companyID=(null==o?void 0:o.companyID)||0,i.push(this.taskService.addTaskOwner(a))})}updateTaskOwner(e,t,n,i){var o,a;const r=[],s=[];this.selectedOwners=Object(b.j)(this.selectedOwners,"contactID"),null===(o=this.selectedOwners)||void 0===o||o.forEach(e=>{var t;-1===(null===(t=this.task.taskOwners)||void 0===t?void 0:t.findIndex(t=>t.contactID===e.contactID))&&r.push(e)}),null===(a=this.task)||void 0===a||a.taskOwners.forEach(e=>{var t;-1===(null===(t=this.selectedOwners)||void 0===t?void 0:t.findIndex(t=>t.contactID===e.contactID))&&s.push(e)}),r.forEach(o=>{const a=new u.a;a.contactID=o.contactID,a.taskID=e.taskID,a.deadline=t.endDate,a.taskOwnerCategoryID=t.taskCategoryID||1,a.referenceID=t.referenceID||0,a.companyID=o.companyID||0,-1===n.findIndex(e=>e===o.contactID)&&n.push(o.contactID),i.push(this.taskService.addTaskOwner(a))}),s.forEach(e=>{-1===n.findIndex(t=>t===e.contactID)&&n.push(e.contactID),i.push(this.taskService.deleteTaskOwner({taskOwnerID:e.taskOwnerID,taskID:this.task.taskID,contactID:e.contactID,referenceID:e.referenceID}))})}updateTaskSupporter(e,t,n){var i,o;const a=[],r=[];this.selectedSupporters=Object(b.j)(this.selectedSupporters,"contactID"),null===(i=this.selectedSupporters)||void 0===i||i.forEach(e=>{var t;-1===(null===(t=this.task.taskSupporters)||void 0===t?void 0:t.findIndex(t=>t.contactID===e.contactID))&&a.push(e)}),null===(o=this.task)||void 0===o||o.taskSupporters.forEach(e=>{var t;-1===(null===(t=this.selectedSupporters)||void 0===t?void 0:t.findIndex(t=>t.contactID===e.contactID))&&r.push(e)}),a.forEach(i=>{const o={taskID:e,contactID:i.contactID};-1===t.findIndex(e=>e===i.contactID)&&t.push(i.contactID),n.push(this.taskService.addTaskSupporter(o))}),r.forEach(e=>{-1===t.findIndex(t=>t===e.contactID)&&t.push(e.contactID),n.push(this.taskService.deleteTaskSupporter(e.taskSupporterID))})}checkUpdateDiscussions(e){if(e&&e.hasOwnProperty("discussions")&&e.hasOwnProperty("members")){const t=e.members,n=[];let a=[];e.discussions.forEach(e=>{e.parentDiscussionID=10===e.discussionCategoryID?this.referenceId:0,n.push(this.discussionService.insertDiscussion(e))}),(n.length?Object(i.a)(n):Object(o.a)([])).pipe(Object(r.a)(e=>{const n=[];return a=e,e.forEach(e=>(t.forEach(t=>{6===e.discussionCategoryID&&n.push(this.discussionService.addMember({discussionID:e.discussionID,contactID:t,isAdmin:!0})),10===e.discussionCategoryID&&n.push(this.discussionService.addMember({discussionID:e.discussionID,contactID:t,isAdmin:!0}))}),e)),n.length?Object(i.a)(n):Object(o.a)([])})).subscribe(()=>{this.task.taskID||([36,39].includes(this.task.taskCategoryID)?this.toastrService.success("Support request has been created"):this.toastrService.success("Task has been created")),this.activeModal.close({disResponse:a,task:e.task,status:"ok"})})}}saveDocuments(e,t){return t&&0!==t.length?Object(i.a)(t.map((t,n)=>{const i=new FormData;return i.append("file",t.file.data),this.unsubscribe.push({id:t.file.fakeId,sub:new a.a}),this.documentsService.insertDocument(i,21,e,this.currentUser.contactID,0,0).pipe(Object(s.a)(this.unsubscribe[n].sub),Object(l.a)(e=>{switch(e.type){case c.e.UploadProgress:t.file.progress=Math.round(100*e.loaded/e.total);break;case c.e.Response:return e.body[0]}}))})):Object(o.a)([])}onFileSelect(e){const t=e.target.files;for(let n=0;n<t.length;n++){const e=t.item(n),i=new m.a;i.data=e,i.progress=0;const o=new h.a;i.fakeId=this.fakeId++,o.file=i,this.documents.push(o)}}removeFile(e){const t=this.documents.findIndex(t=>t.file?t.file.fakeId===e.fakeId:t.documentID===e.id);-1!==t&&this.documents[t].documentID&&this.documentsWillRemove.push(this.documents[t].documentID),this.documents.splice(t,1)}getFile(e){return e.file?e.file:{id:e.documentID,data:{name:e.documentTitle},type:e.documentType,progress:100,fakeId:this.fakeId++}}getForms(){this.formService.getForms(this.currentUser.companyID,0,0).subscribe(e=>{this.forms=e})}onFormAvailable(e){e&&(this.isSignOffRequired=!1,this.selectedSupporters=[],this.isFormAvailable=!0)}onSignOffAvailable(e){e?(this.task.formID=0,this.isFormAvailable=!1,this.isSignOffRequired=!0):(this.task.formID=0,this.isFormAvailable=!1,this.isSignOffRequired=!1,this.selectedSupporters=[])}ngOnDestroy(){this.unsubscribe.map(e=>{e&&e.sub&&!e.sub.closed&&(e.sub.next(),e.sub.complete())})}noticeNotification(e,t,n){if(this.currentUser.contactID===n)return;const i=new Date,o=Object(f.y)(i,"yyyy-MM-dd HH:mm:ss","en-UK");let a=`${this.currentUser.firstName} ${this.currentUser.surname}| has assigned ${this.task.taskTitle} - Task`;if(this.startUpSupport){let e="Legal Services";2===this.task.taskClassificationID&&(e="Basic Accounting Services"),3===this.task.taskClassificationID&&(e="Financial Audit"),a=`${this.currentUser.companyName}| has logged a ${e} subsidy request`}!this.startUpSupport&&this.isGroupDiscussionTask&&(a=`${this.currentUser.companyName}| has logged a ${this.task.taskTitle} support request`);const r={notificationCategoryID:e,referenceID:t,contactID:n,description:a,createdContact:this.currentUser.contactID},s=o+"|"+t,l={date:o,body:a.replace("|",""),topic:a.replace("|",""),senderFullName:"",senderPhoto:"",notificationId:Math.floor(1e3*Math.random()),channel:"dashboard",reference:r.referenceID,notificationType:v.a.applicantRequest,senderId:r.createdContact,receivers:[r.contactID],uniqueId:s,discussionId:0};if(this.notificationService.noticeNotification(r).subscribe(()=>{this.signalRService.transferMessage("dashboard",l)}),this.isGroupDiscussionTask){const e=S.a.fullDomain()+"/task/"+t,i=`\n      <p>Hi ${this.selectedOwners.find(e=>e.contactID===n).firstName}</p>\n\t\t\t<p>${a.replace("|","")}</p>\n\t\t\t<br>\n\t\t\t<p><span class="btn btn-primary" style="margin: 0; padding: 0"><a href="${e}">View Task</a></span></p>\n\t\t\t<br>\n\t\t`,o={distributionTitle:"Support Task",distributionCategoryID:null,referenceID:t,distributionDate:null,userID:this.currentUser.contactID,emailBody:C.a.template(i),subjectLine:"Support Task",senderEmail:"info@incubatorportal.com",senderName:`${this.currentUser.firstName} ${this.currentUser.surname}`,replyTo:null,contacts:[n]};this.distributionService.create(o).subscribe(()=>{},()=>{})}}onDateChange(){var e,t,n,i,o;if(!this.endDateModel.year)return;const a=new Date(null===(e=this.endDateModel)||void 0===e?void 0:e.year,(null===(t=this.endDateModel)||void 0===t?void 0:t.month)-1,null===(n=this.endDateModel)||void 0===n?void 0:n.day);if((null===(i=this.programInstanceStage)||void 0===i?void 0:i.programInstanceID)&&!(null===(o=this.programInstance)||void 0===o?void 0:o.rollingIntake)){const e=new Date(this.programInstanceStage.programStageEndDate).getTime()-a.getTime();this.afterStageDate=e<0}}getActiveStageCompanies(){this.activeStagesLoading=!0,this.portfolioService.getCompanyRoadmapStages(0,0,0,0,this.programInstanceStage.programInstanceStageID,0).subscribe(e=>{this.activeStages=e.filter(e=>2===e.companyProgramStageStatusID&&e.programInstanceStageID===this.programInstanceStage.programInstanceStageID),this.activeStages.forEach(e=>{this.selectedOwners.push({contactID:e.contactID})}),this.activeStagesLoading=!1})}openActiveStagesModal(){const e=this.ngbModal.open(I.a,{backdrop:"static",size:"lg"});e.componentInstance.stage=this.programInstanceStage,e.componentInstance.activeStages=this.activeStages}getIndicatorMentors(){this.indicatorMentorsLoading=!0,this.indicatorService.getCompanyProgramInstanceIndicatorContact(0,this.indicator.indicatorID,0,this.masterCompanyID).subscribe(e=>{this.indicatorMentors=e.map(e=>(e.firstName=e.firstname,e)),this.indicatorMentors.find(e=>e.contactID===this.currentUser.contactID)&&this.selectedSupporters.push(this.currentUser),this.loading=!1})}onTaskTypeChange(){1===this.taskType?(this.task.formID=0,this.isFormAvailable=!1):this.onFormAvailable(!0)}onPaste(e){if(e.clipboardData&&e.clipboardData.files&&e.clipboardData.files.length&&/^image\//.test(e.clipboardData.files[0].type)){const t=new FileReader,n=e.clipboardData.files[0];t.readAsDataURL(n),t.onload=()=>{n.imageUrl=t.result;const e=n,i=new m.a;i.data=e,i.progress=0;const o=new h.a;i.fakeId=this.fakeId++,o.file=i,this.documents.push(o)}}}}return e.\u0275fac=function(t){return new(t||e)(D["\u0275\u0275directiveInject"](w.a),D["\u0275\u0275directiveInject"](k.a),D["\u0275\u0275directiveInject"](E.a),D["\u0275\u0275directiveInject"](M.a),D["\u0275\u0275directiveInject"](O.p),D["\u0275\u0275directiveInject"](O.a),D["\u0275\u0275directiveInject"](P.a),D["\u0275\u0275directiveInject"](T.a),D["\u0275\u0275directiveInject"](A.b),D["\u0275\u0275directiveInject"](_.a),D["\u0275\u0275directiveInject"](F.a),D["\u0275\u0275directiveInject"](R.a),D["\u0275\u0275directiveInject"](L.a),D["\u0275\u0275directiveInject"](V.a))},e.\u0275cmp=D["\u0275\u0275defineComponent"]({type:e,selectors:[["app-task-add-modal"]],decls:29,vars:20,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","d-flex"],[1,"form-block","m-0","p-0",3,"avnonLoader","paste","ngSubmit"],["f","ngForm"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","taskDescription","class","cursor-pointer text-primary",3,"click",4,"ngIf"],["name","taskDescription","placeholder","Please provide more details (optional)","id","taskDescription","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],["class","form-group",3,"d-none",4,"ngIf"],["class","form-group d-flex flex-column",4,"ngIf"],["class","alert pl-0 pt-2 pb-2 pr-2",4,"ngIf"],[1,"w-100","d-flex","align-items-center"],["type","submit",1,"btn","btn-primary","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["type","file","multiple","","onclick","this.value = null",1,"d-none",3,"change"],["fileInput",""],[1,"modal-title"],["for","taskClassificationID"],["name","taskClassificationID","id","taskClassificationID","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],["for","taskType"],["name","taskType","id","taskType",1,"form-control",3,"ngModel","change","ngModelChange"],["for","taskTitle",4,"ngIf"],["type","text","class","form-control","name","taskTitle","id","taskTitle","required","",3,"placeholder","ngModel","readOnly","ngModelChange",4,"ngIf"],["type","text","class","form-control","name","taskTitle","placeholder","Support request title","id","taskTitle","required","",3,"ngModel","ngModelChange",4,"ngIf"],["for","taskTitle"],[4,"ngIf"],["type","text","name","taskTitle","id","taskTitle","required","",1,"form-control",3,"placeholder","ngModel","readOnly","ngModelChange"],["type","text","name","taskTitle","placeholder","Support request title","id","taskTitle","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","taskForm"],["name","taskForm","id","taskForm","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["for","taskDescription",1,"cursor-pointer","text-primary",3,"click"],["name","taskDescription","placeholder","Please provide more details (optional)","id","taskDescription",1,"form-control",3,"ngModel","ngModelChange"],["for","taskValue"],["type","number","required","","name","taskValue","id","taskValue",1,"form-control",3,"ngModel","ngModelChange"],["for","taskOwners"],["id","taskOwners",3,"click"],["class","title-sm",4,"ngIf"],[1,"title-sm"],[1,"fas","fa-plus"],["class","badge badge-info p-2 m-1",4,"ngFor","ngForOf"],[1,"badge","badge-info","p-2","m-1"],["class","form-group form-check m-0",4,"ngIf"],["class","form-group mt-1 pl-4",4,"ngIf"],[1,"form-group","form-check","m-0"],["type","checkbox","id","isSignOffRequired","name","submissionType","value","2",1,"form-check-input",3,"checked","change"],["for","isSignOffRequired",1,"form-check-label","font-weight-normal"],[1,"form-group","mt-1","pl-4"],["id","taskSupporters",3,"click"],["class","title-sm cursor-pointer",4,"ngIf"],[1,"title-sm","cursor-pointer"],["for","endDate"],[1,"input-group",3,"click"],["placeholder","yyyy-mm-dd","name","endDate","required","","ngbDatepicker","","id","endDate","container","body","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["endDatePicker","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text","bg-transparent"],[1,"calendar-icon","icon-sm"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"form-group","d-flex","flex-column"],["for","attachments"],["id","attachments",1,"cursor-pointer",3,"click"],[1,"plus-ico-2"],["class","files-list mt-1",4,"ngIf"],[1,"files-list","mt-1"],[1,"mb-3"],["class","w-100 d-flex align-items-center",4,"ngFor","ngForOf"],[1,"flex-grow-1"],[1,"fas","fa-trash",3,"click"],[1,"alert","pl-0","pt-2","pb-2","pr-2"],[1,"fas","fa-info-circle","text-info"],[1,"cursor-pointer","text-primary",3,"click"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div",0),D["\u0275\u0275template"](1,G,2,2,"h1",1),D["\u0275\u0275template"](2,$,3,3,"h1",1),D["\u0275\u0275elementStart"](3,"button",2),D["\u0275\u0275listener"]("click",function(){return t.activeModal.dismiss()}),D["\u0275\u0275elementStart"](4,"span",3),D["\u0275\u0275text"](5,"\xd7"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](6,"div",4),D["\u0275\u0275elementStart"](7,"form",5,6),D["\u0275\u0275listener"]("paste",function(e){return t.onPaste(e)})("ngSubmit",function(){return t.onSubmit()}),D["\u0275\u0275template"](9,H,12,5,"div",7),D["\u0275\u0275template"](10,q,11,12,"div",7),D["\u0275\u0275template"](11,Q,4,3,"div",7),D["\u0275\u0275template"](12,Z,8,6,"div",7),D["\u0275\u0275elementStart"](13,"div",8),D["\u0275\u0275template"](14,ee,3,4,"label",9),D["\u0275\u0275template"](15,te,2,1,"textarea",10),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](16,ne,5,4,"div",7),D["\u0275\u0275template"](17,re,7,7,"div",11),D["\u0275\u0275template"](18,ue,5,5,"div",11),D["\u0275\u0275template"](19,fe,11,9,"div",11),D["\u0275\u0275template"](20,Ie,8,3,"div",12),D["\u0275\u0275template"](21,xe,8,7,"div",13),D["\u0275\u0275elementStart"](22,"div",14),D["\u0275\u0275elementStart"](23,"button",15),D["\u0275\u0275template"](24,Se,1,0,"span",16),D["\u0275\u0275text"](25),D["\u0275\u0275pipe"](26,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](27,"input",17,18),D["\u0275\u0275listener"]("change",function(e){return t.onFileSelect(e)}),D["\u0275\u0275elementEnd"]()),2&e){const e=D["\u0275\u0275reference"](8);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",!t.isGroupDiscussionTask),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",t.isGroupDiscussionTask),D["\u0275\u0275advance"](5),D["\u0275\u0275property"]("avnonLoader",t.activeStagesLoading||t.loading),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngIf",t.startUpSupport),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",!t.isGroupDiscussionTask&&!t.task.taskID),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",(!t.task.taskID||t.task.taskID&&15!==t.task.taskCategoryID)&&!t.task.formID&&!t.isFormAvailable),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",t.isFormAvailable),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngIf",!t.isGroupDiscussionTask),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",t.detailsVisible),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",t.startUpSupport),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",!t.task.taskID||t.task.taskID&&15!==t.task.taskCategoryID),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",1===t.taskType),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",!t.programInstance||t.programInstance&&!t.programInstance.rollingIntake),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",!t.task.taskID||t.task.taskID&&15!==t.task.taskCategoryID),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",t.activeStages&&t.activeStages.length>0),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("disabled",e.invalid||t.loading||0===t.selectedOwners.length&&(!t.taskCategoryID||28===t.taskCategoryID)||t.isSignOffRequired&&0===t.selectedSupporters.length||t.afterStageDate||t.startUpSupport&&!t.documents.length),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",t.loading),D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](26,18,"COMMON.SUBMIT")," ")}},directives:[f.n,j.E,j.r,j.s,B.a,j.B,j.A,j.q,j.t,j.v,j.D,j.b,f.m,j.w,O.o],pipes:[N.c,U.a],styles:[".files-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;float:left;padding:0;margin-bottom:0}.files-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 0;border-bottom:1px solid #eaeaea!important;list-style:none;width:100%;float:left;color:#2a2a2a;display:flex}.files-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{margin-right:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.files-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .upload-title[_ngcontent-%COMP%]{margin-right:4px}.files-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .fa-trash[_ngcontent-%COMP%]{margin-left:auto;font-size:14px;color:#aaa;cursor:pointer}.files-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .fa-trash[_ngcontent-%COMP%]:hover{opacity:.8}.upload-file-icon[_ngcontent-%COMP%]{background:none;color:#2a2a2a;border:none}.upload-file-icon[_ngcontent-%COMP%]:last-child{margin-left:10px}.btn[_ngcontent-%COMP%]:disabled{pointer-events:none}.attachment-cursor[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;color:#aaa;font-size:14px}"]}),e})()},pRyc:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var i=n("ofXK"),o=n("3Pt+"),a=n("iKws"),r=n("j4PG"),s=n("1kSV"),l=n("Grqx"),c=n("pr+S"),d=n("4Ptv"),p=n("cC3c"),m=n("sYmb"),u=n("fXoL");let h=(()=>{class e{}return e.\u0275mod=u["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,o.l,r.a,s.l,l.a,s.q,c.a,d.a,m.b]]}),e})();u["\u0275\u0275setComponentScope"](p.a,[a.a],[])},pqhe:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var i=n("AytR"),o=n("rOaL"),a=n("Xdyb"),r=n("mwbx"),s=n("fXoL"),l=n("1kSV"),c=n("ofXK"),d=n("Rarl");const p=["downloadLink"];function m(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"span",6),s["\u0275\u0275element"](1,"img",7),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("ngClass",e.fileStyleClass),s["\u0275\u0275advance"](1),s["\u0275\u0275propertyInterpolate"]("alt",e.linkName),s["\u0275\u0275property"]("ngClass",e.fileStyleClass)("src",e.mini?"/assets/img/file-icon.svg":e.fileImageSrc,s["\u0275\u0275sanitizeUrl"])}}function u(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275text"](1),s["\u0275\u0275elementContainerEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.document.documentTitle.split(".").pop()," ")}}function h(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"span",8),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"fileSize"),s["\u0275\u0275template"](3,u,2,1,"ng-container",9),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,2,+e.document.documentSize)," "),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",e.document.documentTitle)}}function f(e,t){if(1&e&&s["\u0275\u0275element"](0,"a",10,11),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("download",e.linkName),s["\u0275\u0275attribute"]("href",e.apiBlobUrl+"/"+e.documentPath,s["\u0275\u0275sanitizeUrl"])}}const g=function(e){return{"mb-1 text-primary font-weight-normal":e}};let v=(()=>{class e{constructor(e){this.modal=e,this.linkName=null,this.isFolder=!1,this.documentPath=null,this.isImage=!1,this.isVideo=!1,this.mini=!1,this.documentLink=!1,this.apiBlobUrl=i.a.apiBlobUrl}ngOnInit(){if(this.linkName=this.truncate(this.linkName),this.isFolder)this.fileImageSrc="assets/img/folder-icon.svg",this.fileStyleClass="folder";else switch(this.fileExtension()){case"pdf":this.fileImageSrc="assets/img/file-icon-pdf.svg",this.fileStyleClass="file-pdf";break;case"xls":case"xlsx":this.fileImageSrc="assets/img/file-icon-excel.svg",this.fileStyleClass="file-xls";break;case"png":case"jpg":case"jpeg":case"gif":case"svg":this.fileImageSrc=`${this.apiBlobUrl}/128px/${this.documentPath}`,this.fileStyleClass="file-png";break;case"docx":case"doc":this.fileImageSrc="assets/img/file-icon-doc.svg",this.fileStyleClass="file-doc";break;case"ptt":this.fileImageSrc="assets/img/file-icon-ppt.svg",this.fileStyleClass="file-ppt";break;case"txt":this.fileImageSrc="assets/img/file-icon-txt.svg",this.fileStyleClass="file-txt";break;case"csv":this.fileImageSrc="assets/img/file-icon-csv.svg",this.fileStyleClass="file-csv";break;default:this.fileImageSrc="assets/img/file-icon.svg",this.fileStyleClass="file"}}fileExtension(){const e=this.linkName.split(".");return e?e.pop().toLowerCase():""}truncate(e,t=12,n=30){if(!e)return"";if(e.length<n)return e;const i=e.toString();return`${i.substr(0,t)}...${i.substr(i.length-t,t)}`}onClickDocument(){if(!this.documentLink)if(this.isFolder);else if(this.isImage)this.showGallery(this.document);else if(this.isVideo)this.document.ampLink&&this.showVideo(this.document);else switch(this.fileExtension()){case"pdf":case"xls":case"xlsx":case"docx":case"doc":case"csv":case"ptt":case"json":this.modal.open(r.a,{size:"xl"}).componentInstance.document={documentTitle:this.document.documentTitle,documentPath:this.apiBlobUrl+"/"+this.document.documentPath};break;default:this.downloadLink.nativeElement.click()}}showGallery(e){const t=this.modal.open(o.a,{size:"gallery",centered:!0});t.componentInstance.documents=[e],t.componentInstance.documentActive=e,t.componentInstance.disableAction=!0,t.result.then(e=>{},()=>{})}showVideo(e){const t=this.modal.open(a.a,{size:"lg"});t.componentInstance.document=e,t.componentInstance.showTitle=!1,t.componentInstance.downloadAvailable=!0}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](l.p))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-document-thumbnail"]],viewQuery:function(e,t){if(1&e&&s["\u0275\u0275viewQuery"](p,!0),2&e){let e;s["\u0275\u0275queryRefresh"](e=s["\u0275\u0275loadQuery"]())&&(t.downloadLink=e.first)}},inputs:{linkName:"linkName",isFolder:"isFolder",documentPath:"documentPath",isImage:"isImage",isVideo:"isVideo",mini:"mini",documentLink:"documentLink",document:"document"},decls:7,vars:12,consts:[[1,"d-flex","w-100",3,"click"],[3,"ngClass",4,"ngIf"],[1,"d-flex","flex-grow-1","d-flex","flex-column"],[1,"cursor",3,"ngClass","title"],["class","meta",4,"ngIf"],["style","visibility: hidden",3,"download",4,"ngIf"],[3,"ngClass"],[1,"document-thumb-icon",3,"alt","ngClass","src"],[1,"meta"],[4,"ngIf"],[2,"visibility","hidden",3,"download"],["downloadLink",""]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275listener"]("click",function(){return t.onClickDocument()}),s["\u0275\u0275template"](1,m,2,4,"span",1),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275elementStart"](3,"h3",3),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](5,h,4,4,"span",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](6,f,2,2,"a",5)),2&e&&(s["\u0275\u0275classProp"]("mini",t.mini),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.mini),s["\u0275\u0275advance"](1),s["\u0275\u0275classProp"]("pl-2",!t.mini),s["\u0275\u0275advance"](1),s["\u0275\u0275propertyInterpolate"]("title",t.linkName),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction1"](10,g,t.mini)),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",t.linkName," "),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.document&&t.document.documentSize&&!t.mini),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.documentPath))},directives:[c.n,c.l],pipes:[d.a],styles:[".document-thumb-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:4px;object-fit:cover;cursor:pointer}.document-thumb-icon.file[_ngcontent-%COMP%]{object-fit:contain}.mini[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px!important;height:20px!important}"]}),e})()},"pr+S":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("ofXK"),o=n("fXoL");let a=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})()},pshJ:function(e,t,n){"use strict";t.isFunction=function(e){return"function"==typeof e}},pxUr:function(e,t,n){"use strict";function i(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r}function o(e,t){return function(n,i){t(n,i,e)}}function a(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function r(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{l(i.next(e))}catch(t){a(t)}}function s(e){try{l(i.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((i=i.apply(e,t||[])).next())})}n.d(t,"a",function(){return oe}),n.d(t,"b",function(){return W}),n.d(t,"c",function(){return K});var s=n("fXoL"),l=n("HDdC"),c=n("2Vo4"),d=n("Cfvw"),p=n("PqYM"),m=(n("XNiG"),n("04ZW")),u=n("VRyK"),h=n("jtHE");n("quSY");var f=n("lJxs");n("8Qeq"),n("DH7j"),n("z+Ro"),n("LRne"),n("z6cu");var g=n("5+tZ"),v=n("zx2A");class y{constructor(e){this.notifier=e}call(e,t){const n=new b(e),i=t.subscribe(n);return i.add(Object(v.c)(this.notifier,new v.a(n))),i}}class b extends v.b{constructor(){super(...arguments),this.hasValue=!1}_next(e){this.value=e,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}var I=n("eIep"),x=n("UXun"),S=(n("/uUt"),n("1G5W"),n("JX91")),C=n("7o/Q");class D{constructor(e){this.total=e}call(e,t){return t.subscribe(new w(e,this.total))}}class w extends C.a{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}n("oB13");var k=n("ofXK");const E=["*"];let M=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),O=(()=>{let e=class{constructor(e,t){this._loader=e,this._zone=t,this._map=new Promise(e=>{this._mapResolver=e})}createMap(e,t){return this._zone.runOutsideAngular(()=>this._loader.load().then(()=>{const n=new google.maps.Map(e,t);this._mapResolver(n)}))}setMapOptions(e){return this._zone.runOutsideAngular(()=>{this._map.then(t=>{t.setOptions(e)})})}createMarker(e={},t=!0){return this._zone.runOutsideAngular(()=>this._map.then(n=>(t&&(e.map=n),new google.maps.Marker(e))))}createInfoWindow(e){return this._zone.runOutsideAngular(()=>this._map.then(()=>new google.maps.InfoWindow(e)))}createCircle(e){return this._zone.runOutsideAngular(()=>this._map.then(t=>("string"==typeof e.strokePosition&&(e.strokePosition=google.maps.StrokePosition[e.strokePosition]),e.map=t,new google.maps.Circle(e))))}createRectangle(e){return this._zone.runOutsideAngular(()=>this._map.then(t=>(e.map=t,new google.maps.Rectangle(e))))}createPolyline(e){return this._zone.runOutsideAngular(()=>this.getNativeMap().then(t=>{let n=new google.maps.Polyline(e);return n.setMap(t),n}))}createPolygon(e){return this._zone.runOutsideAngular(()=>this.getNativeMap().then(t=>{let n=new google.maps.Polygon(e);return n.setMap(t),n}))}createDataLayer(e){return this._zone.runOutsideAngular(()=>this._map.then(t=>{let n=new google.maps.Data(e);return n.setMap(t),n}))}createTransitLayer(e){return this._zone.runOutsideAngular(()=>this._map.then(t=>{let n=new google.maps.TransitLayer;return n.setMap(e.visible?t:null),n}))}createBicyclingLayer(e){return this._zone.runOutsideAngular(()=>this._map.then(t=>{let n=new google.maps.BicyclingLayer;return n.setMap(e.visible?t:null),n}))}containsLocation(e,t){return google.maps.geometry.poly.containsLocation(e,t)}subscribeToMapEvent(e){return new l.a(t=>{this._map.then(n=>{n.addListener(e,e=>{this._zone.run(()=>t.next(e))})})})}clearInstanceListeners(){return this._zone.runOutsideAngular(()=>{this._map.then(e=>{google.maps.event.clearInstanceListeners(e)})})}setCenter(e){return this._zone.runOutsideAngular(()=>this._map.then(t=>t.setCenter(e)))}getZoom(){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.getZoom()))}getBounds(){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.getBounds()))}getMapTypeId(){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.getMapTypeId()))}setZoom(e){return this._zone.runOutsideAngular(()=>this._map.then(t=>t.setZoom(e)))}getCenter(){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.getCenter()))}panTo(e){return this._zone.runOutsideAngular(()=>this._map.then(t=>t.panTo(e)))}panBy(e,t){return this._zone.runOutsideAngular(()=>this._map.then(n=>n.panBy(e,t)))}fitBounds(e,t){return this._zone.runOutsideAngular(()=>this._map.then(n=>n.fitBounds(e,t)))}panToBounds(e,t){return this._zone.runOutsideAngular(()=>this._map.then(n=>n.panToBounds(e,t)))}getNativeMap(){return this._map}triggerMapEvent(e){return this._map.then(t=>google.maps.event.trigger(t,e))}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](M),s["\u0275\u0275inject"](s.NgZone))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:function(t){return e.\u0275fac(t)}}),e=i([a("design:paramtypes",[M,s.NgZone])],e),e})(),P=(()=>{let e=class{constructor(e){this._wrapper=e,this._layers=new Map}addTransitLayer(e,t){const n=this._wrapper.createTransitLayer(t);this._layers.set(e,n)}addBicyclingLayer(e,t){const n=this._wrapper.createBicyclingLayer(t);this._layers.set(e,n)}deleteLayer(e){return this._layers.get(e).then(t=>{t.setMap(null),this._layers.delete(e)})}toggleLayerVisibility(e,t){return this._layers.get(e).then(e=>t.visible?this._wrapper.getNativeMap().then(t=>{e.setMap(t)}):void e.setMap(null))}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](O))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:function(t){return e.\u0275fac(t)}}),e=i([a("design:paramtypes",[O])],e),e})(),T=(()=>{let e=class{constructor(e,t){this._apiWrapper=e,this._zone=t,this._circles=new Map}addCircle(e){this._circles.set(e,this._apiWrapper.createCircle({center:{lat:e.latitude,lng:e.longitude},clickable:e.clickable,draggable:e.draggable,editable:e.editable,fillColor:e.fillColor,fillOpacity:e.fillOpacity,radius:e.radius,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokePosition:e.strokePosition,strokeWeight:e.strokeWeight,visible:e.visible,zIndex:e.zIndex}))}removeCircle(e){return this._circles.get(e).then(t=>{t.setMap(null),this._circles.delete(e)})}setOptions(e,t){return this._circles.get(e).then(e=>{"string"==typeof t.strokePosition&&(t.strokePosition=google.maps.StrokePosition[t.strokePosition]),e.setOptions(t)})}getBounds(e){return this._circles.get(e).then(e=>e.getBounds())}getCenter(e){return this._circles.get(e).then(e=>e.getCenter())}getRadius(e){return this._circles.get(e).then(e=>e.getRadius())}setCenter(e){return this._circles.get(e).then(t=>t.setCenter({lat:e.latitude,lng:e.longitude}))}setEditable(e){return this._circles.get(e).then(t=>t.setEditable(e.editable))}setDraggable(e){return this._circles.get(e).then(t=>t.setDraggable(e.draggable))}setVisible(e){return this._circles.get(e).then(t=>t.setVisible(e.visible))}setRadius(e){return this._circles.get(e).then(t=>t.setRadius(e.radius))}getNativeCircle(e){return this._circles.get(e)}createEventObservable(e,t){return new l.a(n=>{let i=null;return this._circles.get(t).then(t=>{i=t.addListener(e,e=>this._zone.run(()=>n.next(e)))}),()=>{null!==i&&i.remove()}})}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](O),s["\u0275\u0275inject"](s.NgZone))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:function(t){return e.\u0275fac(t)}}),e=i([a("design:paramtypes",[O,s.NgZone])],e),e})(),A=(()=>{let e=class{constructor(e,t){this._wrapper=e,this._zone=t,this._layers=new Map}addDataLayer(e){const t=this._wrapper.createDataLayer({style:e.style}).then(t=>(e.geoJson&&this.getDataFeatures(t,e.geoJson).then(e=>t.features=e),t));this._layers.set(e,t)}deleteDataLayer(e){this._layers.get(e).then(t=>{t.setMap(null),this._layers.delete(e)})}updateGeoJson(e,t){this._layers.get(e).then(e=>{e.forEach(function(t){e.remove(t);var n=e.features.indexOf(t,0);n>-1&&e.features.splice(n,1)}),this.getDataFeatures(e,t).then(t=>e.features=t)})}setDataOptions(e,t){this._layers.get(e).then(e=>{e.setControlPosition(t.controlPosition),e.setControls(t.controls),e.setDrawingMode(t.drawingMode),e.setStyle(t.style)})}createEventObservable(e,t){return new l.a(n=>{this._layers.get(t).then(t=>{t.addListener(e,e=>this._zone.run(()=>n.next(e)))})})}getDataFeatures(e,t){return new Promise((n,i)=>{if("object"==typeof t)try{n(e.addGeoJson(t))}catch(o){i(o)}else"string"==typeof t?e.loadGeoJson(t,null,n):i("Impossible to extract features from geoJson: wrong argument type")})}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](O),s["\u0275\u0275inject"](s.NgZone))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:function(t){return e.\u0275fac(t)}}),e=i([a("design:paramtypes",[O,s.NgZone])],e),e})();class _{}let F=(()=>{let e=class{constructor(e){var t;this._boundsChangeSampleTime$=new c.a(200),this._includeInBounds$=new c.a(new Map),this.bounds$=Object(d.a)(e.load()).pipe(Object(g.a)(()=>this._includeInBounds$),(t=this._boundsChangeSampleTime$.pipe(Object(I.a)(e=>Object(p.a)(0,e))),e=>e.lift(new y(t))),Object(f.a)(e=>this._generateBounds(e)),Object(x.a)(1))}_generateBounds(e){const t=new google.maps.LatLngBounds;return e.forEach(e=>t.extend(e)),t}addToBounds(e){const t=this._createIdentifier(e);if(this._includeInBounds$.value.has(t))return;const n=this._includeInBounds$.value;n.set(t,e),this._includeInBounds$.next(n)}removeFromBounds(e){const t=this._includeInBounds$.value;t.delete(this._createIdentifier(e)),this._includeInBounds$.next(t)}changeFitBoundsChangeSampleTime(e){this._boundsChangeSampleTime$.next(e)}getBounds$(){return this.bounds$}_createIdentifier(e){return`${e.lat}+${e.lng}`}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](M))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:function(t){return e.\u0275fac(t)}}),e=i([a("design:paramtypes",[M])],e),e})(),R=(()=>{let e=class{constructor(e,t){this._mapsWrapper=e,this._zone=t,this._markers=new Map}convertAnimation(e){return r(this,void 0,void 0,function*(){return null===e?null:this._mapsWrapper.getNativeMap().then(()=>google.maps.Animation[e])})}deleteMarker(e){const t=this._markers.get(e);return null==t?Promise.resolve():t.then(t=>this._zone.run(()=>{t.setMap(null),this._markers.delete(e)}))}updateMarkerPosition(e){return this._markers.get(e).then(t=>t.setPosition({lat:e.latitude,lng:e.longitude}))}updateTitle(e){return this._markers.get(e).then(t=>t.setTitle(e.title))}updateLabel(e){return this._markers.get(e).then(t=>{t.setLabel(e.label)})}updateDraggable(e){return this._markers.get(e).then(t=>t.setDraggable(e.draggable))}updateIcon(e){return this._markers.get(e).then(t=>t.setIcon(e.iconUrl))}updateOpacity(e){return this._markers.get(e).then(t=>t.setOpacity(e.opacity))}updateVisible(e){return this._markers.get(e).then(t=>t.setVisible(e.visible))}updateZIndex(e){return this._markers.get(e).then(t=>t.setZIndex(e.zIndex))}updateClickable(e){return this._markers.get(e).then(t=>t.setClickable(e.clickable))}updateAnimation(e){return r(this,void 0,void 0,function*(){(yield this._markers.get(e)).setAnimation(yield this.convertAnimation(e.animation))})}addMarker(e){const t=new Promise(t=>r(this,void 0,void 0,function*(){return this._mapsWrapper.createMarker({position:{lat:e.latitude,lng:e.longitude},label:e.label,draggable:e.draggable,icon:e.iconUrl,opacity:e.opacity,visible:e.visible,zIndex:e.zIndex,title:e.title,clickable:e.clickable,animation:yield this.convertAnimation(e.animation)}).then(t)}));this._markers.set(e,t)}getNativeMarker(e){return this._markers.get(e)}createEventObservable(e,t){return new l.a(n=>{this._markers.get(t).then(t=>{t.addListener(e,e=>this._zone.run(()=>n.next(e)))})})}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](O),s["\u0275\u0275inject"](s.NgZone))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:function(t){return e.\u0275fac(t)}}),e=i([a("design:paramtypes",[O,s.NgZone])],e),e})(),L=(()=>{let e=class{constructor(e,t,n){this._mapsWrapper=e,this._zone=t,this._markerManager=n,this._infoWindows=new Map}deleteInfoWindow(e){const t=this._infoWindows.get(e);return null==t?Promise.resolve():t.then(t=>this._zone.run(()=>{t.close(),this._infoWindows.delete(e)}))}setPosition(e){return this._infoWindows.get(e).then(t=>t.setPosition({lat:e.latitude,lng:e.longitude}))}setZIndex(e){return this._infoWindows.get(e).then(t=>t.setZIndex(e.zIndex))}open(e){return this._infoWindows.get(e).then(t=>null!=e.hostMarker?this._markerManager.getNativeMarker(e.hostMarker).then(e=>this._mapsWrapper.getNativeMap().then(n=>t.open(n,e))):this._mapsWrapper.getNativeMap().then(e=>t.open(e)))}close(e){return this._infoWindows.get(e).then(e=>e.close())}setOptions(e,t){return this._infoWindows.get(e).then(e=>e.setOptions(t))}addInfoWindow(e){const t={content:e.content,maxWidth:e.maxWidth,zIndex:e.zIndex,disableAutoPan:e.disableAutoPan};"number"==typeof e.latitude&&"number"==typeof e.longitude&&(t.position={lat:e.latitude,lng:e.longitude});const n=this._mapsWrapper.createInfoWindow(t);this._infoWindows.set(e,n)}createEventObservable(e,t){return new l.a(n=>{this._infoWindows.get(t).then(t=>{t.addListener(e,e=>this._zone.run(()=>n.next(e)))})})}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](O),s["\u0275\u0275inject"](s.NgZone),s["\u0275\u0275inject"](R))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:function(t){return e.\u0275fac(t)}}),e=i([a("design:paramtypes",[O,s.NgZone,R])],e),e})();var V;let j=0,B=(()=>{let e=V=class{constructor(e,t){this._infoWindowManager=e,this._el=t,this.isOpen=!1,this.infoWindowClose=new s.EventEmitter,this._infoWindowAddedToManager=!1,this._id=(j++).toString()}ngOnInit(){this.content=this._el.nativeElement.querySelector(".agm-info-window-content"),this._infoWindowManager.addInfoWindow(this),this._infoWindowAddedToManager=!0,this._updateOpenState(),this._registerEventListeners()}ngOnChanges(e){this._infoWindowAddedToManager&&((e.latitude||e.longitude)&&"number"==typeof this.latitude&&"number"==typeof this.longitude&&this._infoWindowManager.setPosition(this),e.zIndex&&this._infoWindowManager.setZIndex(this),e.isOpen&&this._updateOpenState(),this._setInfoWindowOptions(e))}_registerEventListeners(){this._infoWindowManager.createEventObservable("closeclick",this).subscribe(()=>{this.isOpen=!1,this.infoWindowClose.emit()})}_updateOpenState(){this.isOpen?this.open():this.close()}_setInfoWindowOptions(e){let t={};Object.keys(e).filter(e=>-1!==V._infoWindowOptionsInputs.indexOf(e)).forEach(n=>{t[n]=e[n].currentValue}),this._infoWindowManager.setOptions(this,t)}open(){return this._infoWindowManager.open(this)}close(){return this._infoWindowManager.close(this).then(()=>{this.infoWindowClose.emit()})}id(){return this._id}toString(){return"AgmInfoWindow-"+this._id.toString()}ngOnDestroy(){this._infoWindowManager.deleteInfoWindow(this)}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](L),s["\u0275\u0275directiveInject"](s.ElementRef))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["agm-info-window"]],inputs:{isOpen:"isOpen",latitude:"latitude",longitude:"longitude",disableAutoPan:"disableAutoPan",zIndex:"zIndex",maxWidth:"maxWidth"},outputs:{infoWindowClose:"infoWindowClose"},features:[s["\u0275\u0275NgOnChangesFeature"]],ngContentSelectors:E,decls:2,vars:0,consts:[[1,"agm-info-window-content"]],template:function(e,t){1&e&&(s["\u0275\u0275projectionDef"](),s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275projection"](1),s["\u0275\u0275elementEnd"]())},encapsulation:2}),e._infoWindowOptionsInputs=["disableAutoPan","maxWidth"],e=V=i([a("design:paramtypes",[L,s.ElementRef])],e),e})(),N=(()=>{let e=class{constructor(e,t){this._wrapper=e,this._zone=t,this._layers=new Map}addKmlLayer(e){const t=this._wrapper.getNativeMap().then(t=>new google.maps.KmlLayer({clickable:e.clickable,map:t,preserveViewport:e.preserveViewport,screenOverlays:e.screenOverlays,suppressInfoWindows:e.suppressInfoWindows,url:e.url,zIndex:e.zIndex}));this._layers.set(e,t)}setOptions(e,t){this._layers.get(e).then(e=>e.setOptions(t))}deleteKmlLayer(e){this._layers.get(e).then(t=>{t.setMap(null),this._layers.delete(e)})}createEventObservable(e,t){return new l.a(n=>{this._layers.get(t).then(t=>{t.addListener(e,e=>this._zone.run(()=>n.next(e)))})})}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](O),s["\u0275\u0275inject"](s.NgZone))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:function(t){return e.\u0275fac(t)}}),e=i([a("design:paramtypes",[O,s.NgZone])],e),e})();function U(e){const t=["insert_at","remove_at","set_at"];return Object(m.a)(n=>t.map(t=>e.addListener(t,(i,o)=>n.apply(e,[{newArr:e.getArray(),evName:t,index:i,previous:o}]))),(e,t)=>t.forEach(e=>e.remove()))}let G=(()=>{let e=class{constructor(e,t){this._mapsWrapper=e,this._zone=t,this._polygons=new Map}addPolygon(e){const t=this._mapsWrapper.createPolygon({clickable:e.clickable,draggable:e.draggable,editable:e.editable,fillColor:e.fillColor,fillOpacity:e.fillOpacity,geodesic:e.geodesic,paths:e.paths,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight,visible:e.visible,zIndex:e.zIndex});this._polygons.set(e,t)}updatePolygon(e){const t=this._polygons.get(e);return null==t?Promise.resolve():t.then(t=>this._zone.run(()=>{t.setPaths(e.paths)}))}setPolygonOptions(e,t){return this._polygons.get(e).then(e=>{e.setOptions(t)})}deletePolygon(e){const t=this._polygons.get(e);return null==t?Promise.resolve():t.then(t=>this._zone.run(()=>{t.setMap(null),this._polygons.delete(e)}))}getPath(e){return this._polygons.get(e).then(e=>e.getPath().getArray())}getPaths(e){return this._polygons.get(e).then(e=>e.getPaths().getArray().map(e=>e.getArray()))}createEventObservable(e,t){return new l.a(n=>{this._polygons.get(t).then(t=>{t.addListener(e,e=>this._zone.run(()=>n.next(e)))})})}createPathEventObservable(e){return r(this,void 0,void 0,function*(){const t=(yield this._polygons.get(e)).getPaths();return U(t).pipe(Object(S.a)({newArr:t.getArray()}),Object(I.a)(e=>Object(u.a)(...e.newArr.map((t,n)=>U(t).pipe(Object(f.a)(t=>({parentMVEvent:e,chMVCEvent:t,pathIndex:n}))))).pipe(Object(S.a)({parentMVEvent:e,chMVCEvent:null,pathIndex:null}))),e=>e.lift(new D(1)),Object(f.a)(({parentMVEvent:e,chMVCEvent:t,pathIndex:n})=>{let i;return t?(i={newArr:e.newArr.map(e=>e.getArray().map(e=>e.toJSON())),pathIndex:n,eventName:t.evName,index:t.index},t.previous&&(i.previous=t.previous)):(i={newArr:e.newArr.map(e=>e.getArray().map(e=>e.toJSON())),eventName:e.evName,index:e.index},e.previous&&(i.previous=e.previous.getArray())),i}))})}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](O),s["\u0275\u0275inject"](s.NgZone))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:function(t){return e.\u0275fac(t)}}),e=i([a("design:paramtypes",[O,s.NgZone])],e),e})();var $;let H=(()=>{let e=$=class{constructor(e,t){this._mapsWrapper=e,this._zone=t,this._polylines=new Map}static _convertPoints(e){return e._getPoints().map(e=>({lat:e.latitude,lng:e.longitude}))}static _convertPath(e){const t=google.maps.SymbolPath[e];return"number"==typeof t?t:e}static _convertIcons(e){const t=e._getIcons().map(e=>({fixedRotation:e.fixedRotation,offset:e.offset,repeat:e.repeat,icon:{anchor:new google.maps.Point(e.anchorX,e.anchorY),fillColor:e.fillColor,fillOpacity:e.fillOpacity,path:$._convertPath(e.path),rotation:e.rotation,scale:e.scale,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight}}));return t.forEach(e=>{Object.entries(e).forEach(([t,n])=>{void 0===n&&delete e[t]}),void 0!==e.icon.anchor.x&&void 0!==e.icon.anchor.y||delete e.icon.anchor}),t}addPolyline(e){const t=this._mapsWrapper.getNativeMap().then(()=>[$._convertPoints(e),$._convertIcons(e)]).then(([t,n])=>this._mapsWrapper.createPolyline({clickable:e.clickable,draggable:e.draggable,editable:e.editable,geodesic:e.geodesic,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight,visible:e.visible,zIndex:e.zIndex,path:t,icons:n}));this._polylines.set(e,t)}updatePolylinePoints(e){const t=$._convertPoints(e),n=this._polylines.get(e);return null==n?Promise.resolve():n.then(e=>this._zone.run(()=>{e.setPath(t)}))}updateIconSequences(e){return r(this,void 0,void 0,function*(){yield this._mapsWrapper.getNativeMap();const t=$._convertIcons(e),n=this._polylines.get(e);if(null!=n)return n.then(e=>this._zone.run(()=>e.setOptions({icons:t})))})}setPolylineOptions(e,t){return this._polylines.get(e).then(e=>{e.setOptions(t)})}deletePolyline(e){const t=this._polylines.get(e);return null==t?Promise.resolve():t.then(t=>this._zone.run(()=>{t.setMap(null),this._polylines.delete(e)}))}getMVCPath(e){return r(this,void 0,void 0,function*(){return(yield this._polylines.get(e)).getPath()})}getPath(e){return r(this,void 0,void 0,function*(){return(yield this.getMVCPath(e)).getArray()})}createEventObservable(e,t){return new l.a(n=>{this._polylines.get(t).then(t=>{t.addListener(e,e=>this._zone.run(()=>n.next(e)))})})}createPathEventObservable(e){return r(this,void 0,void 0,function*(){return U(yield this.getMVCPath(e))})}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](O),s["\u0275\u0275inject"](s.NgZone))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:function(t){return e.\u0275fac(t)}}),e=$=i([a("design:paramtypes",[O,s.NgZone])],e),e})(),q=(()=>{let e=class{constructor(e,t){this._apiWrapper=e,this._zone=t,this._rectangles=new Map}addRectangle(e){this._rectangles.set(e,this._apiWrapper.createRectangle({bounds:{north:e.north,east:e.east,south:e.south,west:e.west},clickable:e.clickable,draggable:e.draggable,editable:e.editable,fillColor:e.fillColor,fillOpacity:e.fillOpacity,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokePosition:e.strokePosition,strokeWeight:e.strokeWeight,visible:e.visible,zIndex:e.zIndex}))}removeRectangle(e){return this._rectangles.get(e).then(t=>{t.setMap(null),this._rectangles.delete(e)})}setOptions(e,t){return this._rectangles.get(e).then(e=>e.setOptions(t))}getBounds(e){return this._rectangles.get(e).then(e=>e.getBounds())}setBounds(e){return this._rectangles.get(e).then(t=>t.setBounds({north:e.north,east:e.east,south:e.south,west:e.west}))}setEditable(e){return this._rectangles.get(e).then(t=>t.setEditable(e.editable))}setDraggable(e){return this._rectangles.get(e).then(t=>t.setDraggable(e.draggable))}setVisible(e){return this._rectangles.get(e).then(t=>t.setVisible(e.visible))}createEventObservable(e,t){return l.a.create(n=>{let i=null;return this._rectangles.get(t).then(t=>{i=t.addListener(e,e=>this._zone.run(()=>n.next(e)))}),()=>{null!==i&&i.remove()}})}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](O),s["\u0275\u0275inject"](s.NgZone))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:function(t){return e.\u0275fac(t)}}),e=i([a("design:paramtypes",[O,s.NgZone])],e),e})();var z;let W=(()=>{let e=z=class{constructor(e,t,n,i,o){this._elem=e,this._mapsWrapper=t,this._platformId=n,this._fitBoundsService=i,this._zone=o,this.longitude=0,this.latitude=0,this.zoom=8,this.draggable=!0,this.disableDoubleClickZoom=!1,this.disableDefaultUI=!1,this.scrollwheel=!0,this.keyboardShortcuts=!0,this.styles=[],this.usePanning=!1,this.fitBounds=!1,this.scaleControl=!1,this.mapTypeControl=!1,this.panControl=!1,this.rotateControl=!1,this.fullscreenControl=!1,this.mapTypeId="roadmap",this.clickableIcons=!0,this.showDefaultInfoWindow=!0,this.gestureHandling="auto",this.tilt=0,this._observableSubscriptions=[],this.mapClick=new s.EventEmitter,this.mapRightClick=new s.EventEmitter,this.mapDblClick=new s.EventEmitter,this.centerChange=new s.EventEmitter,this.boundsChange=new s.EventEmitter,this.mapTypeIdChange=new s.EventEmitter,this.idle=new s.EventEmitter,this.zoomChange=new s.EventEmitter,this.mapReady=new s.EventEmitter,this.tilesLoaded=new s.EventEmitter}ngOnInit(){if(Object(k.D)(this._platformId))return;const e=this._elem.nativeElement.querySelector(".agm-map-container-inner");this._initMapInstance(e)}_initMapInstance(e){this._mapsWrapper.createMap(e,{center:{lat:this.latitude||0,lng:this.longitude||0},zoom:this.zoom,minZoom:this.minZoom,maxZoom:this.maxZoom,controlSize:this.controlSize,disableDefaultUI:this.disableDefaultUI,disableDoubleClickZoom:this.disableDoubleClickZoom,scrollwheel:this.scrollwheel,backgroundColor:this.backgroundColor,draggable:this.draggable,draggableCursor:this.draggableCursor,draggingCursor:this.draggingCursor,keyboardShortcuts:this.keyboardShortcuts,styles:this.styles,zoomControl:this.zoomControl,zoomControlOptions:this.zoomControlOptions,streetViewControl:this.streetViewControl,streetViewControlOptions:this.streetViewControlOptions,scaleControl:this.scaleControl,scaleControlOptions:this.scaleControlOptions,mapTypeControl:this.mapTypeControl,mapTypeControlOptions:this.mapTypeControlOptions,panControl:this.panControl,panControlOptions:this.panControlOptions,rotateControl:this.rotateControl,rotateControlOptions:this.rotateControlOptions,fullscreenControl:this.fullscreenControl,fullscreenControlOptions:this.fullscreenControlOptions,mapTypeId:this.mapTypeId,clickableIcons:this.clickableIcons,gestureHandling:this.gestureHandling,tilt:this.tilt,restriction:this.restriction}).then(()=>this._mapsWrapper.getNativeMap()).then(e=>this.mapReady.emit(e)),this._handleMapCenterChange(),this._handleMapZoomChange(),this._handleMapMouseEvents(),this._handleBoundsChange(),this._handleMapTypeIdChange(),this._handleTilesLoadedEvent(),this._handleIdleEvent()}ngOnDestroy(){this._observableSubscriptions.forEach(e=>e.unsubscribe()),this._mapsWrapper.clearInstanceListeners(),this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe()}ngOnChanges(e){this._updateMapOptionsChanges(e),this._updatePosition(e)}_updateMapOptionsChanges(e){let t={};Object.keys(e).filter(e=>-1!==z._mapOptionsAttributes.indexOf(e)).forEach(n=>{t[n]=e[n].currentValue}),this._mapsWrapper.setMapOptions(t)}triggerResize(e=!0){return new Promise(t=>{setTimeout(()=>this._mapsWrapper.triggerMapEvent("resize").then(()=>{e&&(null!=this.fitBounds?this._fitBounds():this._setCenter()),t()}))})}_updatePosition(e){(null!=e.latitude||null!=e.longitude||e.fitBounds)&&("fitBounds"in e?this._fitBounds():"number"==typeof this.latitude&&"number"==typeof this.longitude&&this._setCenter())}_setCenter(){let e={lat:this.latitude,lng:this.longitude};this.usePanning?this._mapsWrapper.panTo(e):this._mapsWrapper.setCenter(e)}_fitBounds(){switch(this.fitBounds){case!0:this._subscribeToFitBoundsUpdates();break;case!1:this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe();break;default:this._updateBounds(this.fitBounds,this.fitBoundsPadding)}}_subscribeToFitBoundsUpdates(){this._zone.runOutsideAngular(()=>{this._fitBoundsSubscription=this._fitBoundsService.getBounds$().subscribe(e=>{this._zone.run(()=>this._updateBounds(e,this.fitBoundsPadding))})})}_updateBounds(e,t){if(e){if(this._isLatLngBoundsLiteral(e)&&"undefined"!=typeof google&&google&&google.maps&&google.maps.LatLngBounds){const t=new google.maps.LatLngBounds;t.union(e),e=t}this.usePanning?this._mapsWrapper.panToBounds(e,t):this._mapsWrapper.fitBounds(e,t)}}_isLatLngBoundsLiteral(e){return null!=e&&void 0===e.extend}_handleMapCenterChange(){const e=this._mapsWrapper.subscribeToMapEvent("center_changed").subscribe(()=>{this._mapsWrapper.getCenter().then(e=>{this.latitude=e.lat(),this.longitude=e.lng(),this.centerChange.emit({lat:this.latitude,lng:this.longitude})})});this._observableSubscriptions.push(e)}_handleBoundsChange(){const e=this._mapsWrapper.subscribeToMapEvent("bounds_changed").subscribe(()=>{this._mapsWrapper.getBounds().then(e=>{this.boundsChange.emit(e)})});this._observableSubscriptions.push(e)}_handleMapTypeIdChange(){const e=this._mapsWrapper.subscribeToMapEvent("maptypeid_changed").subscribe(()=>{this._mapsWrapper.getMapTypeId().then(e=>{this.mapTypeIdChange.emit(e)})});this._observableSubscriptions.push(e)}_handleMapZoomChange(){const e=this._mapsWrapper.subscribeToMapEvent("zoom_changed").subscribe(()=>{this._mapsWrapper.getZoom().then(e=>{this.zoom=e,this.zoomChange.emit(e)})});this._observableSubscriptions.push(e)}_handleIdleEvent(){const e=this._mapsWrapper.subscribeToMapEvent("idle").subscribe(()=>{this.idle.emit(void 0)});this._observableSubscriptions.push(e)}_handleTilesLoadedEvent(){const e=this._mapsWrapper.subscribeToMapEvent("tilesloaded").subscribe(()=>this.tilesLoaded.emit(void 0));this._observableSubscriptions.push(e)}_handleMapMouseEvents(){[{name:"click",emitter:this.mapClick},{name:"rightclick",emitter:this.mapRightClick},{name:"dblclick",emitter:this.mapDblClick}].forEach(e=>{const t=this._mapsWrapper.subscribeToMapEvent(e.name).subscribe(t=>{let n={coords:{lat:t.latLng.lat(),lng:t.latLng.lng()},placeId:t.placeId};n.placeId&&!this.showDefaultInfoWindow&&t.stop(),e.emitter.emit(n)});this._observableSubscriptions.push(t)})}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](O),s["\u0275\u0275directiveInject"](s.PLATFORM_ID),s["\u0275\u0275directiveInject"](F),s["\u0275\u0275directiveInject"](s.NgZone))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["agm-map"]],hostVars:2,hostBindings:function(e,t){2&e&&s["\u0275\u0275classProp"]("sebm-google-map-container",!0)},inputs:{longitude:"longitude",latitude:"latitude",zoom:"zoom",draggable:["mapDraggable","draggable"],disableDoubleClickZoom:"disableDoubleClickZoom",disableDefaultUI:"disableDefaultUI",scrollwheel:"scrollwheel",keyboardShortcuts:"keyboardShortcuts",styles:"styles",usePanning:"usePanning",fitBounds:"fitBounds",scaleControl:"scaleControl",mapTypeControl:"mapTypeControl",panControl:"panControl",rotateControl:"rotateControl",fullscreenControl:"fullscreenControl",mapTypeId:"mapTypeId",clickableIcons:"clickableIcons",showDefaultInfoWindow:"showDefaultInfoWindow",gestureHandling:"gestureHandling",tilt:"tilt",minZoom:"minZoom",maxZoom:"maxZoom",controlSize:"controlSize",backgroundColor:"backgroundColor",draggableCursor:"draggableCursor",draggingCursor:"draggingCursor",zoomControl:"zoomControl",zoomControlOptions:"zoomControlOptions",streetViewControl:"streetViewControl",streetViewControlOptions:"streetViewControlOptions",fitBoundsPadding:"fitBoundsPadding",scaleControlOptions:"scaleControlOptions",mapTypeControlOptions:"mapTypeControlOptions",panControlOptions:"panControlOptions",rotateControlOptions:"rotateControlOptions",fullscreenControlOptions:"fullscreenControlOptions",restriction:"restriction"},outputs:{mapClick:"mapClick",mapRightClick:"mapRightClick",mapDblClick:"mapDblClick",centerChange:"centerChange",boundsChange:"boundsChange",mapTypeIdChange:"mapTypeIdChange",idle:"idle",zoomChange:"zoomChange",mapReady:"mapReady",tilesLoaded:"tilesLoaded"},features:[s["\u0275\u0275ProvidersFeature"]([T,A,A,F,O,L,N,P,R,G,H,q]),s["\u0275\u0275NgOnChangesFeature"]],ngContentSelectors:E,decls:3,vars:0,consts:[[1,"agm-map-container-inner","sebm-google-map-container-inner"],[1,"agm-map-content"]],template:function(e,t){1&e&&(s["\u0275\u0275projectionDef"](),s["\u0275\u0275element"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275projection"](2),s["\u0275\u0275elementEnd"]())},styles:[".agm-map-container-inner[_ngcontent-%COMP%] {\n      width: inherit;\n      height: inherit;\n    }\n    .agm-map-content[_ngcontent-%COMP%] {\n      display:none;\n    }"]}),e._mapOptionsAttributes=["disableDoubleClickZoom","scrollwheel","draggable","draggableCursor","draggingCursor","keyboardShortcuts","zoomControl","zoomControlOptions","styles","streetViewControl","streetViewControlOptions","zoom","mapTypeControl","mapTypeControlOptions","minZoom","maxZoom","panControl","panControlOptions","rotateControl","rotateControlOptions","fullscreenControl","fullscreenControlOptions","scaleControl","scaleControlOptions","mapTypeId","clickableIcons","gestureHandling","tilt","restriction"],e=z=i([o(2,Object(s.Inject)(s.PLATFORM_ID)),a("design:paramtypes",[s.ElementRef,O,Object,F,s.NgZone])],e),e})();var X;let Y=0,K=(()=>{let e=X=class{constructor(e){this._markerManager=e,this.draggable=!1,this.visible=!0,this.openInfoWindow=!0,this.opacity=1,this.zIndex=1,this.clickable=!0,this.animationChange=new s.EventEmitter,this.markerClick=new s.EventEmitter,this.markerDblClick=new s.EventEmitter,this.markerRightClick=new s.EventEmitter,this.dragStart=new s.EventEmitter,this.drag=new s.EventEmitter,this.dragEnd=new s.EventEmitter,this.mouseOver=new s.EventEmitter,this.mouseOut=new s.EventEmitter,this.infoWindow=new s.QueryList,this._markerAddedToManger=!1,this._observableSubscriptions=[],this._fitBoundsDetails$=new h.a(1),this._id=(Y++).toString()}ngAfterContentInit(){this.handleInfoWindowUpdate(),this.infoWindow.changes.subscribe(()=>this.handleInfoWindowUpdate())}handleInfoWindowUpdate(){if(this.infoWindow.length>1)throw new Error("Expected no more than one info window.");this.infoWindow.forEach(e=>{e.hostMarker=this})}ngOnChanges(e){if("string"==typeof this.latitude&&(this.latitude=Number(this.latitude)),"string"==typeof this.longitude&&(this.longitude=Number(this.longitude)),"number"==typeof this.latitude&&"number"==typeof this.longitude){if(!this._markerAddedToManger)return this._markerManager.addMarker(this),this._updateFitBoundsDetails(),this._markerAddedToManger=!0,void this._addEventListeners();(e.latitude||e.longitude)&&(this._markerManager.updateMarkerPosition(this),this._updateFitBoundsDetails()),e.title&&this._markerManager.updateTitle(this),e.label&&this._markerManager.updateLabel(this),e.draggable&&this._markerManager.updateDraggable(this),e.iconUrl&&this._markerManager.updateIcon(this),e.opacity&&this._markerManager.updateOpacity(this),e.visible&&this._markerManager.updateVisible(this),e.zIndex&&this._markerManager.updateZIndex(this),e.clickable&&this._markerManager.updateClickable(this),e.animation&&this._markerManager.updateAnimation(this)}}getFitBoundsDetails$(){return this._fitBoundsDetails$.asObservable()}_updateFitBoundsDetails(){this._fitBoundsDetails$.next({latLng:{lat:this.latitude,lng:this.longitude}})}_addEventListeners(){const e=this._markerManager.createEventObservable("click",this).subscribe(()=>{this.openInfoWindow&&this.infoWindow.forEach(e=>e.open()),this.markerClick.emit(this)});this._observableSubscriptions.push(e);const t=this._markerManager.createEventObservable("dblclick",this).subscribe(()=>{this.markerDblClick.emit(null)});this._observableSubscriptions.push(t);const n=this._markerManager.createEventObservable("rightclick",this).subscribe(()=>{this.markerRightClick.emit(null)});this._observableSubscriptions.push(n);const i=this._markerManager.createEventObservable("dragstart",this).subscribe(e=>{this.dragStart.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(i);const o=this._markerManager.createEventObservable("drag",this).subscribe(e=>{this.drag.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(o);const a=this._markerManager.createEventObservable("dragend",this).subscribe(e=>{this.dragEnd.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(a);const r=this._markerManager.createEventObservable("mouseover",this).subscribe(e=>{this.mouseOver.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(r);const s=this._markerManager.createEventObservable("mouseout",this).subscribe(e=>{this.mouseOut.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(s);const l=this._markerManager.createEventObservable("animation_changed",this).subscribe(()=>{this.animationChange.emit(this.animation)});this._observableSubscriptions.push(l)}id(){return this._id}toString(){return"AgmMarker-"+this._id.toString()}ngOnDestroy(){this._markerManager.deleteMarker(this),this._observableSubscriptions.forEach(e=>e.unsubscribe())}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](R))},e.\u0275dir=s["\u0275\u0275defineDirective"]({type:e,selectors:[["agm-marker"]],contentQueries:function(e,t,n){if(1&e&&s["\u0275\u0275contentQuery"](n,B,!1),2&e){let e;s["\u0275\u0275queryRefresh"](e=s["\u0275\u0275loadQuery"]())&&(t.infoWindow=e)}},inputs:{latitude:"latitude",longitude:"longitude",title:"title",label:"label",draggable:["markerDraggable","draggable"],iconUrl:"iconUrl",openInfoWindow:"openInfoWindow",opacity:"opacity",visible:"visible",zIndex:"zIndex",animation:"animation",clickable:["markerClickable","clickable"]},outputs:{markerClick:"markerClick",dragStart:"dragStart",drag:"drag",dragEnd:"dragEnd",mouseOver:"mouseOver",mouseOut:"mouseOut",animationChange:"animationChange",markerDblClick:"markerDblClick",markerRightClick:"markerRightClick"},features:[s["\u0275\u0275ProvidersFeature"]([{provide:_,useExisting:Object(s.forwardRef)(()=>X)}]),s["\u0275\u0275NgOnChangesFeature"]]}),e=X=i([a("design:paramtypes",[R])],e),e})();class Q{getNativeWindow(){return window}}class J{getNativeDocument(){return document}}const Z=[Q,J];var ee=function(e){return e[e.HTTP=1]="HTTP",e[e.HTTPS=2]="HTTPS",e[e.AUTO=3]="AUTO",e}({});const te=new s.InjectionToken("angular-google-maps LAZY_MAPS_API_CONFIG");let ne=(()=>{let e=class extends M{constructor(e=null,t,n,i){super(),this.localeId=i,this._SCRIPT_ID="agmGoogleMapsApiScript",this.callbackName="agmLazyMapsAPILoader",this._config=e||{},this._windowRef=t,this._documentRef=n}load(){const e=this._windowRef.getNativeWindow();if(e.google&&e.google.maps)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;const t=this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);if(t)return this._assignScriptLoadingPromise(t),this._scriptLoadingPromise;const n=this._documentRef.getNativeDocument().createElement("script");return n.type="text/javascript",n.async=!0,n.defer=!0,n.id=this._SCRIPT_ID,n.src=this._getScriptSrc(this.callbackName),this._assignScriptLoadingPromise(n),this._documentRef.getNativeDocument().body.appendChild(n),this._scriptLoadingPromise}_assignScriptLoadingPromise(e){this._scriptLoadingPromise=new Promise((t,n)=>{this._windowRef.getNativeWindow()[this.callbackName]=()=>{t()},e.onerror=e=>{n(e)}})}_getScriptSrc(e){let t;switch(this._config&&this._config.protocol||ee.HTTPS){case ee.AUTO:t="";break;case ee.HTTP:t="http:";break;case ee.HTTPS:t="https:"}const n={v:this._config.apiVersion||"quarterly",callback:e,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language||"en-US"!==this.localeId?this.localeId:null};return`${t}//${this._config.hostAndPath||"maps.googleapis.com/maps/api/js"}?${Object.keys(n).filter(e=>null!=n[e]).filter(e=>!Array.isArray(n[e])||Array.isArray(n[e])&&n[e].length>0).map(e=>{let t=n[e];return Array.isArray(t)?{key:e,value:t.join(",")}:{key:e,value:n[e]}}).map(e=>`${e.key}=${e.value}`).join("&")}`}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](te,8),s["\u0275\u0275inject"](Q),s["\u0275\u0275inject"](J),s["\u0275\u0275inject"](s.LOCALE_ID))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:function(t){return e.\u0275fac(t)}}),e=i([o(0,Object(s.Optional)()),o(0,Object(s.Inject)(te)),o(3,Object(s.Inject)(s.LOCALE_ID)),a("design:paramtypes",[Object,Q,J,String])],e),e})();var ie;let oe=(()=>{let e=ie=class{static forRoot(e){return{ngModule:ie,providers:[...Z,{provide:M,useClass:ne},{provide:te,useValue:e}]}}};return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e})()},pyRK:function(e,t,n){"use strict";var i=Object.prototype;t.a=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||i)}},qe9b:function(e,t,n){"use strict";n.d(t,"a",function(){return T});var i=n("E7AJ"),o=n("rOaL"),a=n("OzGw"),r=n("fXoL"),s=n("1kSV"),l=n("esnG"),c=n("ofXK"),d=n("pqhe"),p=n("Xdyb");function m(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",3),r["\u0275\u0275elementStart"](1,"div",4),r["\u0275\u0275elementStart"](2,"a",5),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onUploadDocument()}),r["\u0275\u0275element"](3,"span",6),r["\u0275\u0275text"](4,"Upload "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}}function u(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"td"),r["\u0275\u0275elementStart"](1,"span"),r["\u0275\u0275text"](2,"Modified"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]())}function h(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"thead"),r["\u0275\u0275elementStart"](1,"tr"),r["\u0275\u0275elementStart"](2,"td",14),r["\u0275\u0275elementStart"](3,"span"),r["\u0275\u0275text"](4,"Name"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](5,u,3,0,"td",12),r["\u0275\u0275elementStart"](6,"td",15),r["\u0275\u0275text"](7,"Options"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngIf",!e.hideDate)}}function f(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"td"),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.dateUploaded)}}function g(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",22),r["\u0275\u0275element"](1,"ngb-progressbar",23),r["\u0275\u0275elementStart"](2,"span",24),r["\u0275\u0275text"](3,"Encoding"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](3).$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("value",e.streamProcessing||0)("showValue",!0)("height","20px")}}function v(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275template"](1,g,4,3,"div",21),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2).$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",100!==e.streamProcessing)}}function y(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",25),r["\u0275\u0275elementStart"](1,"button",26),r["\u0275\u0275element"](2,"i",27),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"div",28),r["\u0275\u0275elementStart"](4,"button",29),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"](2).$implicit;return r["\u0275\u0275nextContext"](3).onDeleteDocument(t)}),r["\u0275\u0275text"](5," Delete "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}}function b(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"td",19),r["\u0275\u0275template"](1,v,2,1,"ng-container",12),r["\u0275\u0275template"](2,y,6,0,"div",20),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().$implicit,t=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",(e.documentType.includes("video")||e.documentType.includes("application/octet-stream"))&&e.isStream),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.documentUploadedByID===t.contactID)}}const I=function(e,t){return{"pl-3":e,"pl-3 pr-3 pt-1 pb-1 border-0":t}};function x(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275elementStart"](1,"td",16),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"](3).onPreviewImage(n)}),r["\u0275\u0275element"](2,"app-document-thumbnail",17),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](3,f,2,1,"td",12),r["\u0275\u0275template"](4,b,3,2,"td",18),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction2"](9,I,!n.mini,n.mini)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("linkName",e.documentTitle)("document",e)("mini",n.mini)("isVideo",e.documentType.includes("video")||e.documentType.includes("application/octet-stream"))("isImage",e.documentType.includes("image"))("documentPath",e.documentPath),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!n.hideDate),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!n.mini)}}function S(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"table",11),r["\u0275\u0275template"](2,h,8,1,"thead",12),r["\u0275\u0275elementStart"](3,"tbody"),r["\u0275\u0275template"](4,x,5,12,"tr",13),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("mini-size-table",e.mini),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!e.mini),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",e.documentsFilted)}}function C(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",31),r["\u0275\u0275element"](1,"media-player",32),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("document",e)}}function D(e,t){if(1&e&&r["\u0275\u0275template"](0,C,2,1,"div",30),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("ngForOf",e.documentsFilted)}}function w(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",7),r["\u0275\u0275elementStart"](1,"div",8),r["\u0275\u0275template"](2,S,5,4,"ng-container",9),r["\u0275\u0275template"](3,D,1,1,"ng-template",null,10,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275reference"](4),t=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",3!==t.tabActive)("ngIfElse",e)}}function k(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275elementStart"](1,"td",35),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"](3).onPreviewImage(n)}),r["\u0275\u0275element"](2,"app-document-thumbnail",17),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("linkName",e.documentTitle)("document",e)("mini",n.mini)("isVideo",e.documentType.includes("video")||e.documentType.includes("application/octet-stream"))("isImage",e.documentType.includes("image"))("documentPath",e.documentPath)}}function E(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"table",34),r["\u0275\u0275elementStart"](2,"tbody"),r["\u0275\u0275template"](3,k,3,6,"tr",13),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngForOf",e.documentsFilted)}}function M(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",31),r["\u0275\u0275element"](1,"media-player",32),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("document",e)}}function O(e,t){if(1&e&&r["\u0275\u0275template"](0,M,2,1,"div",30),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("ngForOf",e.documentsFilted)}}function P(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",33),r["\u0275\u0275template"](1,E,4,1,"ng-container",9),r["\u0275\u0275template"](2,O,1,1,"ng-template",null,10,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275reference"](3),t=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",3!==t.tabActive)("ngIfElse",e)}}let T=(()=>{class e{constructor(e,t){this.modal=e,this.documentsService=t,this.isProcessing=!1,this.tabActive=1,this.documentsFilted=[],this.allDocuments=[],this.TIME_RELOAD_DATA=30}ngOnChanges(e){e.referenceID.currentValue&&this.getDocuments()}ngOnInit(){this.contactID=+localStorage.getItem("CoID"),this.getDocuments(),this.timerSub=setInterval(()=>{this.getDocuments()},1e3*this.TIME_RELOAD_DATA)}getDocuments(){this.referenceID&&this.documentsService.getDocuments(this.documentCategoryID,this.referenceID,0,0,0).subscribe(e=>{this.documentsFilted=e,this.allDocuments=[...this.documentsFilted]})}onUploadDocument(){const e=this.modal.open(i.a,{size:"lg"});e.componentInstance.documents=[],e.componentInstance.referenceID=this.referenceID,e.componentInstance.reference2ID=0,e.componentInstance.documentCategoryID=this.documentCategoryID,e.componentInstance.documentFolderID=0,e.result.then(e=>{e&&this.getDocuments()},()=>{})}onFilterDocument(e){switch(this.tabActive=e,this.tabActive){case 1:this.documentsFilted=this.allDocuments.filter(e=>!e.documentType.includes("image")&&!e.documentType.includes("video"));break;case 2:this.documentsFilted=this.allDocuments.filter(e=>e.documentType.includes("image"));break;case 3:this.documentsFilted=this.allDocuments.filter(e=>e.documentType.includes("video"))}}onPreviewImage(e){if(e.documentType.includes("image")&&2===this.tabActive){const t=this.modal.open(o.a,{size:"gallery",centered:!0});t.componentInstance.documents=this.documentsFilted,t.componentInstance.documentActive=e}}onDeleteDocument(e){const t=this.modal.open(a.a);t.componentInstance.objectType="Delete Document",t.componentInstance.objectDetails="document "+e.documentTitle,t.result.then(t=>{"Yes"===t&&this.deleteDocument(e)},()=>{})}deleteDocument(e){this.documentsService.deleteDocument(e.documentID).subscribe(()=>{this.documentsFilted=this.documentsFilted.filter(t=>t.documentID!==e.documentID),this.allDocuments=this.documentsFilted})}ngOnDestroy(){this.timerSub&&clearInterval(this.timerSub)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](s.p),r["\u0275\u0275directiveInject"](l.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-documents-files"]],inputs:{referenceID:"referenceID",documentCategoryID:"documentCategoryID",disableUpload:"disableUpload",hideDate:"hideDate",mini:"mini"},features:[r["\u0275\u0275NgOnChangesFeature"]],decls:3,vars:3,consts:[["class","d-flex justify-content-end align-items-center filter-container",4,"ngIf"],["class","row event-documents-tab filter-container",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"d-flex","justify-content-end","align-items-center","filter-container"],[1,"actions"],[3,"click"],[1,"plus-ico-2"],[1,"row","event-documents-tab","filter-container"],[1,"table-responsive","mb-2"],[4,"ngIf","ngIfElse"],["elseDisplayVideo",""],[1,"table","m-0"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pl-3"],[1,"text-right","pl-3"],[1,"cursor-pointer",3,"ngClass","click"],[3,"linkName","document","mini","isVideo","isImage","documentPath"],["class","text-right pr-3",4,"ngIf"],[1,"text-right","pr-3"],["ngbDropdown","","container","body","class","action-dropdown inline-block",4,"ngIf"],["class","d-flex flex-column float-left align-items-start",4,"ngIf"],[1,"d-flex","flex-column","float-left","align-items-start"],["textType","dark",1,"progress-item",3,"value","showValue","height"],[1,"mt-1"],["ngbDropdown","","container","body",1,"action-dropdown","inline-block"],["ngbDropdownToggle","","type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-sm","no-icon","icon-right"],[1,"fas","fa-ellipsis-h"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],["class","mb-3",4,"ngFor","ngForOf"],[1,"mb-3"],[3,"document"],[1,"table-responsive"],[1,"table","m-0","mini-size-table"],[1,"cursor-pointer","pl-3","pr-3","pt-1","pb-1","border-0",3,"click"]],template:function(e,t){1&e&&(r["\u0275\u0275template"](0,m,5,0,"div",0),r["\u0275\u0275template"](1,w,5,2,"div",1),r["\u0275\u0275template"](2,P,4,2,"div",2)),2&e&&(r["\u0275\u0275property"]("ngIf",!t.mini),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.mini),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.mini))},directives:[c.n,c.m,c.l,d.a,s.u,s.i,s.m,s.k,s.j,p.a],styles:[".mini-size-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#f0f3ff}"]}),e})()},rOaL:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var i=n("AytR"),o=n("fXoL"),a=n("1kSV"),r=n("esnG"),s=n("kmKP"),l=n("ofXK"),c=n("3Pt+");const d=["myCarousel"];function p(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275element"](1,"img",14),o["\u0275\u0275elementContainerEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2).$implicit,t=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("src",e.documentPath?t.apiBlobUrl+e.documentPath:"../assets/img/person-10.jpg",o["\u0275\u0275sanitizeUrl"])}}function m(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",17),o["\u0275\u0275elementStart"](1,"video",18,19),o["\u0275\u0275element"](3,"source",14),o["\u0275\u0275text"](4," Browser not supported "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](3).$implicit;o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("src",null==e.file||null==e.file.data?null:e.file.data.videoUrl,o["\u0275\u0275sanitizeUrl"])}}function u(e,t){if(1&e&&o["\u0275\u0275element"](0,"img",20),2&e){const e=o["\u0275\u0275nextContext"](3).$implicit;o["\u0275\u0275property"]("src",null==e.file||null==e.file.data?null:e.file.data.imageUrl,o["\u0275\u0275sanitizeUrl"])}}function h(e,t){if(1&e&&(o["\u0275\u0275template"](0,m,5,1,"div",15),o["\u0275\u0275template"](1,u,1,1,"img",16)),2&e){const e=o["\u0275\u0275nextContext"](2).$implicit;o["\u0275\u0275property"]("ngIf",null==e.file||null==e.file.data?null:e.file.data.videoUrl),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!(null!=e.file&&null!=e.file.data&&e.file.data.videoUrl))}}function f(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",31),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](3).$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",e.documentDescription," ")}}function g(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"button",27),o["\u0275\u0275listener"]("click",function(){o["\u0275\u0275restoreView"](e);const t=o["\u0275\u0275nextContext"](3).$implicit;return o["\u0275\u0275nextContext"]().onEdit(t)}),o["\u0275\u0275text"](1," Edit "),o["\u0275\u0275elementEnd"]()}}function v(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"button",27),o["\u0275\u0275listener"]("click",function(){o["\u0275\u0275restoreView"](e);const t=o["\u0275\u0275nextContext"](3).$implicit;return o["\u0275\u0275nextContext"]().onDelete(t)}),o["\u0275\u0275text"](1," Delete "),o["\u0275\u0275elementEnd"]()}}function y(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"div",21),o["\u0275\u0275template"](2,f,2,1,"div",22),o["\u0275\u0275elementStart"](3,"div",23),o["\u0275\u0275element"](4,"button",24),o["\u0275\u0275elementStart"](5,"div",25),o["\u0275\u0275template"](6,g,2,0,"button",26),o["\u0275\u0275template"](7,v,2,0,"button",26),o["\u0275\u0275elementStart"](8,"button",27),o["\u0275\u0275listener"]("click",function(){o["\u0275\u0275restoreView"](e);const t=o["\u0275\u0275nextContext"](2).$implicit;return o["\u0275\u0275nextContext"]().onDownloadImage(t)}),o["\u0275\u0275text"](9," Download "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"div",28),o["\u0275\u0275elementStart"](11,"button",29),o["\u0275\u0275listener"]("click",function(){o["\u0275\u0275restoreView"](e);const t=o["\u0275\u0275nextContext"](2).$implicit;return o["\u0275\u0275nextContext"]().onDownloadImage(t)}),o["\u0275\u0275element"](12,"img",30),o["\u0275\u0275text"](13," Download "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2).$implicit,t=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",e.documentDescription),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngIf",e.documentUploadedByID===t.contactID),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.disableAction&&e.documentUploadedByID===t.contactID)}}function b(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"textarea",32),o["\u0275\u0275listener"]("ngModelChange",function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).$implicit.documentDescription=t}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](1,"div",33),o["\u0275\u0275elementStart"](2,"button",34),o["\u0275\u0275listener"]("click",function(){o["\u0275\u0275restoreView"](e);const t=o["\u0275\u0275nextContext"](2).$implicit;return o["\u0275\u0275nextContext"]().onCancelUpdateGallery(t)}),o["\u0275\u0275text"](3," Cancel "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"button",35),o["\u0275\u0275listener"]("click",function(){o["\u0275\u0275restoreView"](e);const t=o["\u0275\u0275nextContext"](2).$implicit;return o["\u0275\u0275nextContext"]().onUpdateGallery(t)}),o["\u0275\u0275text"](5," Save "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2).$implicit;o["\u0275\u0275property"]("ngModel",e.documentDescription)}}function I(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",5),o["\u0275\u0275elementStart"](1,"div",6),o["\u0275\u0275template"](2,p,2,1,"ng-container",7),o["\u0275\u0275template"](3,h,2,2,"ng-template",null,8,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"div",9),o["\u0275\u0275elementStart"](6,"div",10),o["\u0275\u0275elementStart"](7,"button",11),o["\u0275\u0275listener"]("click",function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).onCloseModal(null)}),o["\u0275\u0275elementStart"](8,"span",12),o["\u0275\u0275text"](9,"\xd7"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](10,y,14,3,"ng-container",7),o["\u0275\u0275template"](11,b,6,1,"ng-template",null,13,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275reference"](4),t=o["\u0275\u0275reference"](12),n=o["\u0275\u0275nextContext"]().$implicit,i=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",n.documentID)("ngIfElse",e),o["\u0275\u0275advance"](8),o["\u0275\u0275property"]("ngIf",!i.isEditGallery)("ngIfElse",t)}}function x(e,t){1&e&&o["\u0275\u0275template"](0,I,13,4,"ng-template",4),2&e&&o["\u0275\u0275propertyInterpolate1"]("id","gallery-slideId-",t.index,"")}let S=(()=>{class e{constructor(e,t,n){this.activeModel=e,this.documentService=t,this.userService=n,this.apiBlobUrl=i.a.apiBlobUrl+"/",this.isEditGallery=!1,this.contactID=n.user.getValue().contactID}ngOnInit(){var e,t;this.documents=null===(e=this.documents)||void 0===e?void 0:e.filter(e=>{var t;return null===(t=null==e?void 0:e.documentType)||void 0===t?void 0:t.includes("image")}),null===(t=this.documents)||void 0===t||t.findIndex(e=>e.documentID===this.documentActive.documentID)}onCloseModal(e){this.activeModel.close(e)}onCancelUpdateGallery(e){var t;e.documentDescription=null===(t=this.tmpDocumentEdit)||void 0===t?void 0:t.documentDescription,this.isEditGallery=!1}onUpdateGallery(e){e&&e.documentID?this.documentService.updateDocument(e).subscribe(()=>{this.onCloseModal({document:e,state:!0,action:"updated"})}):this.onCloseModal({document:e,state:!1,action:"updated"})}onEdit(e){this.tmpDocumentEdit=Object.assign({},e),this.isEditGallery=!0}onDelete(e){e&&e.documentID?this.documentService.deleteDocument(e.documentID).subscribe(()=>{this.onCloseModal({document:e,state:!0,action:"deleted"})}):this.onCloseModal({document:e,state:!1,action:"deleted"})}onDownloadImage(e){const t=document.createElement("a");t.setAttribute("type","hidden"),t.setAttribute("target","_blank"),t.href=this.apiBlobUrl+e.documentPath,t.download=e.documentPath,document.body.appendChild(t),t.click(),t.remove()}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](a.a),o["\u0275\u0275directiveInject"](r.a),o["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-gallery-modal"]],viewQuery:function(e,t){if(1&e&&o["\u0275\u0275viewQuery"](d,!0),2&e){let e;o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.myCarousel=e.first)}},decls:4,vars:5,consts:[[1,"modal-body","p-0"],[3,"interval","pauseOnHover","showNavigationIndicators","showNavigationArrows"],["myCarousel","ngbCarousel"],[4,"ngFor","ngForOf"],["ngbSlide","",3,"id"],[1,"d-flex"],[1,"flex-grow-1","content-image-gallery"],[4,"ngIf","ngIfElse"],["elseNewImage",""],[1,"image-capture"],[1,"text-right"],["type","button","aria-label","Close",1,"close","float-none",3,"click"],["aria-hidden","true"],["elseEditGallery",""],[3,"src"],["class","video",4,"ngIf"],["class","img-fluid",3,"src",4,"ngIf"],[1,"video"],["controls",""],["videoPlayer",""],[1,"img-fluid",3,"src"],[1,"d-flex","align-items-start"],["class","flex-grow-1",4,"ngIf"],["ngbDropdown","",1,"d-inline-block"],["id","editGallery","ngbDropdownToggle","","type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-sm","no-icon","icon-center"],["ngbDropdownMenu","","aria-labelledby","editGallery"],["ngbDropdownItem","",3,"click",4,"ngIf"],["ngbDropdownItem","",3,"click"],[1,"btn-download"],[1,"btn","pr-1",3,"click"],["src","assets/img/download.svg","alt",""],[1,"flex-grow-1"],["rows","10",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"text-right","pt-2"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-primary","ml-2",3,"click"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"ngb-carousel",1,2),o["\u0275\u0275template"](3,x,1,1,void 0,3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("interval",1e5)("pauseOnHover",!0)("showNavigationIndicators",!1)("showNavigationArrows",t.documents&&t.documents.length>1),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngForOf",t.documents))},directives:[a.e,l.m,a.y,l.n,a.i,a.m,a.k,a.j,c.b,c.q,c.t],styles:[".content-image-gallery[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.8);text-align:center;min-height:calc(100vh - 5px);display:flex;align-items:center;justify-content:center}.content-image-gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;object-fit:cover}.image-capture[_ngcontent-%COMP%]{width:300px;min-width:300px;padding:0 10px;background:#fff}  .carousel-control-next,   .carousel-control-prev{opacity:1}  .carousel-control-next{right:300px}.video[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:100%}.btn-download[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0}  .modal-dialog.modal-gallery{width:99%;max-width:none;margin:0 auto}  .modal-dialog.modal-gallery .modal-content{background:transparent}  .modal-dialog.modal-gallery .dropdown-toggle.no-icon:after{content:none}  .modal-dialog.modal-gallery .icon-center{background-position:50%}"]}),e})()},skrp:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("tk/3"),o=n("XNiG"),a=n("cxbk"),r=n("fXoL");let s=(()=>{class e{constructor(e){this.http=e,this.key="5b54e80a65c77848ceaa4630331e8384950e09d392365",this.api=a.a.linkPreviewApi,this.getLinksSubject=new o.a}fetchLink(e){const t=(new i.g).append("key",this.key).append("q",e);return this.http.get(this.api,{params:t})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](i.b))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},tPH9:function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e}},tkyS:function(e,t,n){"use strict";n.r(t),n.d(t,"NewsFeedModule",function(){return G});var i=n("ofXK"),o=n("3Pt+"),a=n("1kSV"),r=n("TIDI"),s=n("tyNb"),l=n("fXoL");let c=(()=>{class e{ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-news-feed"]],decls:4,vars:0,consts:[[1,"search","home-header"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"h1"),l["\u0275\u0275text"](2,"Home"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](3,"router-outlet"))},directives:[s.h],encapsulation:2}),e})();var d=n("SL35"),p=n("OzGw"),m=n("8J6U"),u=n("AytR"),h=n("9122"),f=n("eIep"),g=n("cp0P"),v=n("LRne"),y=n("XAmU"),b=n("kmKP"),I=n("euQB"),x=n("8CXc"),S=n("jGZE"),C=n("MEae");function D(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",16),l["\u0275\u0275element"](1,"img",17),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit,t=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("src",e.bannerImage?t.apiBlobUrl+e.bannerImage:"assets/img/program-banner.jpg",l["\u0275\u0275sanitizeUrl"])}}function w(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",8),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](e);const n=t.$implicit;return l["\u0275\u0275nextContext"](2).navigateToOpportunity(n.programInstanceID)}),l["\u0275\u0275elementStart"](1,"span",9),l["\u0275\u0275element"](2,"img",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"h2"),l["\u0275\u0275text"](4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"div",11),l["\u0275\u0275elementStart"](6,"span"),l["\u0275\u0275text"](7),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"div",12),l["\u0275\u0275elementStart"](9,"p"),l["\u0275\u0275text"](10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](11,D,2,1,"div",13),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"div",14),l["\u0275\u0275elementStart"](13,"button",15),l["\u0275\u0275text"](14," Apply "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("src",e.companyLogo?n.apiBlobUrl+e.companyLogo:"assets/img/card-placeholder.jpg",l["\u0275\u0275sanitizeUrl"]),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](e.programTitle),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"]("Powered by ",e.companyName,""),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](e.programOverview),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.bannerImage)}}function k(e,t){if(1&e&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275template"](1,w,15,5,"div",7),l["\u0275\u0275elementContainerEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",e.opportunities)}}function E(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"app-news-item",19),l["\u0275\u0275listener"]("delete",function(){l["\u0275\u0275restoreView"](e);const t=l["\u0275\u0275nextContext"](),n=t.$implicit,i=t.index;return l["\u0275\u0275nextContext"]().onDeleteDiscussionModal(n.discussionID,i)})("edit",function(){l["\u0275\u0275restoreView"](e);const t=l["\u0275\u0275nextContext"](),n=t.$implicit,i=t.index;return l["\u0275\u0275nextContext"]().onEditDiscussionModal(n,i)})("like",function(){l["\u0275\u0275restoreView"](e);const t=l["\u0275\u0275nextContext"]().$implicit;return l["\u0275\u0275nextContext"]().onDiscussionLikeChange(t)})("dislike",function(){l["\u0275\u0275restoreView"](e);const t=l["\u0275\u0275nextContext"]().$implicit;return l["\u0275\u0275nextContext"]().onDislikeChange(t)}),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275property"]("discussion",e)}}function M(e,t){if(1&e&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275template"](1,E,1,1,"app-news-item",18),l["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.discussionID)}}function O(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",28),l["\u0275\u0275elementStart"](1,"span",29),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"span",30),l["\u0275\u0275text"](4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"]("",e.totalApplicants," Applicants"),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"]("",e.activeApplicants," Active")}}function P(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",24),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](e);const n=t.$implicit;return l["\u0275\u0275nextContext"](2).navigateToPipeline(n.programInstanceID)}),l["\u0275\u0275elementStart"](1,"div",25),l["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),l["\u0275\u0275elementStart"](2,"span",26),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](e);const n=t.$implicit;return l["\u0275\u0275nextContext"](2).navigateToProgram(n.programID)}),l["\u0275\u0275text"](3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"div",26),l["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),l["\u0275\u0275elementStart"](5,"h2",26),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](e);const n=t.$implicit;return l["\u0275\u0275nextContext"](2).navigateToInstance(n.programInstanceID)}),l["\u0275\u0275text"](6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](7,O,5,2,"div",27),l["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](e.programTitle),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](e.programInstanceTitle),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.totalApplicants||e.activeApplicants)}}function T(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",20),l["\u0275\u0275elementStart"](1,"div",21),l["\u0275\u0275elementStart"](2,"h3"),l["\u0275\u0275text"](3,"Our Programs"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"div",22),l["\u0275\u0275template"](5,P,8,3,"div",23),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("ngForOf",e.instances)}}function A(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",24),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](e);const n=t.$implicit;return l["\u0275\u0275nextContext"](2).navigateToMyProgram(n.companyProgramInstanceID)}),l["\u0275\u0275elementStart"](1,"div",31),l["\u0275\u0275elementStart"](2,"span"),l["\u0275\u0275text"](3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"div"),l["\u0275\u0275elementStart"](5,"h2"),l["\u0275\u0275text"](6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](7,"div",28),l["\u0275\u0275elementStart"](8,"span",29),l["\u0275\u0275text"](9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](e.programTitle),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](e.programInstanceTitle),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](e.programStageTitle)}}function _(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",20),l["\u0275\u0275elementStart"](1,"div",21),l["\u0275\u0275elementStart"](2,"h3"),l["\u0275\u0275text"](3,"My Programs"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"div",22),l["\u0275\u0275template"](5,A,10,3,"div",23),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("ngForOf",e.myApplications)}}const F=[{path:"",component:c,children:[{path:"",component:(()=>{class e{constructor(e,t,n,i,o,a){var r,s,l;this.modal=e,this.discussionService=t,this.userService=n,this.router=i,this.portfolioService=o,this.programsService=a,this.profilePhoto="",this.discussions=[],this.opportunities=[],this.apiBlobUrl=u.a.apiBlobUrl+"/",this.instances=[],this.myApplications=[],this.user=n.user.getValue(),this.profilePhoto=null===(r=this.user)||void 0===r?void 0:r.profilePhoto,this.contactID=(null===(s=this.user)||void 0===s?void 0:s.contactID)||0,this.companyID=(null===(l=this.user)||void 0===l?void 0:l.companyID)||0,this.superAdmin=this.user.permissions.some(e=>e.permissionAreaID===h.b.Admin),this.programAdmin=this.user.permissions.some(e=>e.permissionAreaID===h.b.Programs)}ngOnInit(){this.user&&(this.getDiscussions(),this.getOpportunities(),(this.superAdmin||this.programAdmin)&&this.companyID&&this.getPrograms(),3===this.user.userGroupID&&this.companyID&&this.getMyPrograms())}getMyPrograms(){this.portfolioService.getCompanyRoadmapStages(this.companyID,0,0,0,0,0).subscribe(e=>{this.myApplications=Object(m.j)(e.filter(e=>e.programStageTypeID>=3),"companyProgramInstanceID")})}getDiscussions(){this.discussionService.getNewsDiscussions(this.contactID).subscribe(e=>{this.discussions=e.slice(0,20).map(e=>(e.documents||(e.documents=[]),e))})}onCreate(e){this.discussions.unshift(e)}onDeleteDiscussionModal(e,t){this.modal.open(p.a,{}).result.then(n=>{"No"!==n&&this.discussionService.deleteDiscussion(e).subscribe(()=>{this.discussions.splice(t,1)})})}onEditDiscussionModal(e,t){const n=this.modal.open(d.a,{backdrop:"static",size:"md"});n.componentInstance.discussion=Object(m.l)(e),n.result.then(e=>{this.discussions[t]=e},()=>{})}onDiscussionLikeChange(e){e.likes||(e.likes=0),e.likes+=1}onDislikeChange(e){e.likes||(e.likes=1),e.likes-=1}navigateToOpportunity(e){this.router.navigate(["/apply",e])}getOpportunities(){let e=0;const t=window.location.hostname.toLocaleLowerCase();t.includes("enviroserv")?e=4092:t.includes("edgegrowth")?e=3630:t.includes("qstp")&&(e=3628),this.programsService.getOpenInstances(0,e).subscribe(e=>{this.opportunities=e})}getPrograms(){let e=[];this.programsService.getPrograms(this.companyID).pipe(Object(f.a)(t=>{t.forEach(t=>{e=[...e,...t.instances]});const n=[];return e.forEach(e=>{n.push(this.portfolioService.getStageCount(e.programInstanceID))}),n.length?Object(g.a)(n):Object(v.a)([])})).subscribe(t=>{t.forEach(t=>{if(t[0]){const n=e.findIndex(e=>e.stages.some(e=>e.programInstanceStageID===t[0].programInstanceStageID));-1!==n&&(e[n].totalApplicants=t.reduce((e,t)=>e+t.totalCompanies,0),e[n].activeApplicants=t.filter(e=>3===e.programStageTypeID).reduce((e,t)=>e+t.totalCompanies,0))}}),this.instances=e})}navigateToPipeline(e){this.router.navigate(["/pipeline",e])}navigateToProgram(e){this.router.navigate(["/program/admin",e])}navigateToInstance(e){this.router.navigate(["/program/instance",e])}navigateToMyProgram(e){this.router.navigate(["/enrollment/program",e])}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](a.p),l["\u0275\u0275directiveInject"](y.a),l["\u0275\u0275directiveInject"](b.a),l["\u0275\u0275directiveInject"](s.c),l["\u0275\u0275directiveInject"](I.a),l["\u0275\u0275directiveInject"](x.a))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-news-feed-content"]],decls:8,vars:4,consts:[[1,"main"],[3,"created"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-auto","filter-section"],[1,"sticky-container","d-flex","flex-column"],["class","card w-100 twitter-fill twitter-border-color",4,"ngIf"],["class","entry",3,"click",4,"ngFor","ngForOf"],[1,"entry",3,"click"],[1,"media","avatar","avatar-48","avatar-48-rounded"],[1,"img-fluid","img-48",3,"src"],[1,"meta"],[1,"entry-content"],["class","entry-media bordered-media-banner",4,"ngIf"],[1,"actions"],[1,"btn","btn-sm","btn-outline-primary"],[1,"entry-media","bordered-media-banner"],[1,"img-fluid","img-border",3,"src"],[3,"discussion","delete","edit","like","dislike",4,"ngIf"],[3,"discussion","delete","edit","like","dislike"],[1,"card","w-100","twitter-fill","twitter-border-color"],[1,"card-header","twitter-border-color"],[1,"card-body","pl-0","pr-0","pt-0","twitter-border-color"],["class","entry twitter-border-color our-program-entry",3,"click",4,"ngFor","ngForOf"],[1,"entry","twitter-border-color","our-program-entry",3,"click"],[1,"meta","fz13","mb015",3,"click"],[3,"click"],["class","d-flex meta mt-1",4,"ngIf"],[1,"d-flex","meta","mt-1"],[1,"mr-1","fz13"],[1,"ml-1","fz13"],[1,"meta","fz13","mb015"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"app-post-news",1),l["\u0275\u0275listener"]("created",function(e){return t.onCreate(e)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](2,k,2,1,"ng-container",2),l["\u0275\u0275template"](3,M,2,1,"ng-container",3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"div",4),l["\u0275\u0275elementStart"](5,"div",5),l["\u0275\u0275template"](6,T,6,1,"div",6),l["\u0275\u0275template"](7,_,6,1,"div",6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",3===(null==t.user?null:t.user.userGroupID)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",t.discussions),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngIf",t.programAdmin||t.superAdmin),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",3===(null==t.user?null:t.user.userGroupID)&&t.myApplications.length))},directives:[S.a,i.n,i.m,C.a],styles:[".img-48[_ngcontent-%COMP%]{object-fit:contain;border:1px solid rgba(0,0,0,.05)}.our-program-entry[_ngcontent-%COMP%]{padding-bottom:12px}.mb015[_ngcontent-%COMP%]{margin-bottom:.15rem}.today-events[_ngcontent-%COMP%]{border:0!important}.today-events[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:120px;padding:.5rem 1rem}.delegate-list[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:15px}.delegate-list[_ngcontent-%COMP%]:last-child{border-bottom:0}.delegate-list[_ngcontent-%COMP%]   .date-holder[_ngcontent-%COMP%]{min-width:48px}"]}),e})()}]}];let R=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[s.g.forChild(F)],s.g]}),e})();var L=n("PCNd"),V=n("Grqx"),j=n("V6Zj"),B=n("5eqV"),N=n("/ogr"),U=n("CzEO");let G=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,o.l,o.z,a.q,a.l,j.a,r.b,a.v,a.c,L.a,R,V.a,a.D,B.b,N.a,U.b.forRoot()]]}),e})()},vJtL:function(e,t,n){"use strict";var i=n("8M4i"),o=n("IzLi");t.a=function(e){if(!Object(o.a)(e))return!1;var t=Object(i.a)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},vdWK:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});class i{constructor(){this.formID=null,this.formName=null,this.formDescription=null,this.formCategoryID=null,this.referenceID=null,this.createdOn=null,this.status=null,this.companyID=null,this.createdByID=null,this.formTypeID=null}}class o{constructor(){this.stats=[],this.formSectionTitle="",this.formSectionDescription=""}}class a{constructor(){this.formFieldIsRequired=!1,this.formFieldValidations="",this.defaultDisplay=!1,this.formFieldOrder=0,this.nextFormFieldID=0,this.folderPath="",this.formFieldIsComment=!1,this.status=0,this.incubatorDocumentCategoryID=0,this.incubatorDocumentFolderID=0,this.maxScore=0,this.formFieldScale=0,this.commentRequired=!1,this.pointsQuestion=!1,this.maxCharacters=0,this.formFieldDetail="",this.summaryField=!1}static copyValues(e,t){if(t.formFieldID=e.formFieldID,t.formSectionID=e.formSectionID,t.formFieldTitle=e.formFieldTitle,t.formFieldTypeID=e.formFieldTypeID,t.formFieldIsRequired=e.formFieldIsRequired,t.formFieldValidations=e.formFieldValidations,t.defaultDisplay=e.defaultDisplay,t.formFieldOrder=e.formFieldOrder,t.nextFormFieldID=e.nextFormFieldID,t.folderPath=e.folderPath,t.createdOn=e.createdOn,t.status=e.status,t.incubatorDocumentCategoryID=e.incubatorDocumentCategoryID,t.incubatorDocumentFolderID=e.incubatorDocumentFolderID,t.maxScore=e.maxScore,t.formFieldScale=e.formFieldScale,t.commentRequired=e.commentRequired,t.pointsQuestion=e.pointsQuestion,e.options){const n=e.options.slice(0,e.options.length);t.options?t.options.splice(0,t.options.length):t.options=[],n.forEach(e=>{t.options.push(r.clone(e))})}else t.options=e.options}static createNew(e){const t=new a;return this.copyValues(e,t),t}}class r{static clone(e){const t=new r;return t.formFieldOptionID=e.formFieldOptionID,t.formFieldOptionID1=e.formFieldOptionID1,t.formFieldID=e.formFieldID,t.formFieldOptionText=e.formFieldOptionText,t.formFieldOptionValue=e.formFieldOptionValue?e.formFieldOptionValue:null,t.status=e.status,t.points=e.points?e.points:null,t.commentRequired=e.commentRequired?e.commentRequired:null,t}}class s{}},w4ga:function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"b",function(){return y});var i=n("mrSG"),o=n("fXoL"),a=n("IzEk"),r=n("PqYM"),s=n("ofXK"),l=n("jhN1");const c=["iframe"];function d(e,t){if(1&e&&o["\u0275\u0275element"](0,"div",3),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275property"]("innerHtml",e.docHtml,o["\u0275\u0275sanitizeHtml"])}}function p(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"object",4),o["\u0275\u0275elementStart"](1,"p"),o["\u0275\u0275text"](2,"Your browser does not support PDFs. "),o["\u0275\u0275elementStart"](3,"a",5),o["\u0275\u0275text"](4,"Download the PDF"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](5,"."),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275property"]("data",e.fullUrl,o["\u0275\u0275sanitizeResourceUrl"]),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("href",e.fullUrl,o["\u0275\u0275sanitizeUrl"])}}function m(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275template"](1,d,1,1,"div",1),o["\u0275\u0275template"](2,p,6,2,"object",2),o["\u0275\u0275elementContainerEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","pdf"!==e.configuredViewer),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.fullUrl&&"pdf"===e.configuredViewer)}}function u(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"iframe",8,9),o["\u0275\u0275listener"]("load",function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).iframeLoaded()}),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275property"]("src",e.fullUrl,o["\u0275\u0275sanitizeResourceUrl"])}}function h(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"iframe",8,9),o["\u0275\u0275listener"]("load",function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](3).iframeLoaded()}),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](3);o["\u0275\u0275property"]("src",e.fullUrl,o["\u0275\u0275sanitizeResourceUrl"])}}function f(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",10),o["\u0275\u0275element"](1,"div"),o["\u0275\u0275template"](2,h,2,1,"iframe",6),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275styleProp"]("background-color","popout-hide"===e.disableContent?"#fff":"transparent"),o["\u0275\u0275classProp"]("overlay-full","all"===e.disableContent)("overlay-popout-google","google"===e.configuredViewer&&("popout"===e.disableContent||"popout-hide"===e.disableContent))("overlay-popout-office","office"===e.configuredViewer&&("popout"===e.disableContent||"popout-hide"===e.disableContent)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.fullUrl)}}function g(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275template"](1,u,2,1,"iframe",6),o["\u0275\u0275template"](2,f,3,9,"div",7),o["\u0275\u0275elementContainerEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.fullUrl&&"none"===e.disableContent),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","none"!==e.disableContent)}}let v=(()=>{class e{constructor(e,t){this.domSanitizer=e,this.ngZone=t,this.loaded=new o.EventEmitter,this.url="",this.queryParams="",this.viewerUrl="",this.googleCheckInterval=3e3,this.disableContent="none",this.googleCheckContentLoaded=!0,this.fullUrl=null,this.externalViewer=!1,this.docHtml="",this.configuredViewer="google",this.checkIFrameSubscription=null}ngOnDestroy(){this.checkIFrameSubscription&&this.checkIFrameSubscription.unsubscribe()}ngOnChanges(e){return Object(i.a)(this,void 0,void 0,function*(){if(e&&e.viewer&&(e.viewer.isFirstChange||e.viewer.currentValue!==e.viewer.previousValue)&&("google"!==this.viewer&&"office"!==this.viewer&&"mammoth"!==this.viewer&&"pdf"!==this.viewer&&"url"!==this.viewer&&console.error(`Unsupported viewer: '${this.viewer}'. Supported viewers: google, office, mammoth and pdf`),"mammoth"===this.viewer&&null===mammoth&&console.error("please install mammoth when using local viewer"),this.configuredViewer=this.viewer),e.url&&e.url.currentValue!==e.url.previousValue||e.viewer&&e.viewer.currentValue!==e.viewer.previousValue||e.viewerUrl&&e.viewerUrl.currentValue!==e.viewerUrl.previousValue){switch(e.viewerUrl||(this.viewerUrl=null),this.configuredViewer){case"google":this.viewerUrl="https://docs.google.com/gview?url=%URL%&embedded=true";break;case"office":this.viewerUrl="https://view.officeapps.live.com/op/embed.aspx?src=%URL%";break;case"pdf":this.viewerUrl=null}if(this.docHtml="",this.externalViewer="google"===this.configuredViewer||"office"===this.configuredViewer||"url"===this.configuredViewer,this.checkIFrameSubscription&&this.checkIFrameSubscription.unsubscribe(),this.url)if("office"===this.configuredViewer||"google"===this.configuredViewer||"pdf"===this.configuredViewer||"url"===this.configuredViewer){const e=this.url.indexOf("/")?encodeURIComponent(this.url):this.url;let t=this.viewerUrl?this.viewerUrl.replace("%URL%",e):this.url;this.queryParams&&"pdf"!==this.configuredViewer&&(t=`${t}${this.queryParams.startsWith("&")?"":"&"}${this.queryParams}`),this.fullUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(t),"google"===this.configuredViewer&&this.googleCheckContentLoaded&&this.ngZone.runOutsideAngular(()=>{this.checkIFrameSubscription=Object(r.a)(100,this.googleCheckInterval).pipe(Object(a.a)(Math.round(0===this.googleCheckInterval?0:2e4/this.googleCheckInterval))).subscribe(()=>{var e,t;const n=null===(t=null===(e=this.iframes)||void 0===e?void 0:e.first)||void 0===t?void 0:t.nativeElement;this.reloadIFrame(n)})})}else"mammoth"===this.configuredViewer&&(mammoth||console.error("Please install mammoth and make sure mammoth.browser.min.js is loaded."),this.docHtml=yield this.getDocxToHtml(this.url));else this.fullUrl=null}})}iframeLoaded(){this.loaded.emit(null),this.checkIFrameSubscription&&this.checkIFrameSubscription.unsubscribe()}reloadIFrame(e){e&&(console.log("reloading.."),e.src=e.src)}getDocxToHtml(e){return Object(i.a)(this,void 0,void 0,function*(){const t=yield this.fileToArray(e);return(yield mammoth.convertToHtml({arrayBuffer:t})).value})}fileToArray(e){return new Promise((t,n)=>{try{const n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=()=>{const e=new FileReader;e.readAsArrayBuffer(n.response),e.onloadend=n=>{t(e.result)}},n.send()}catch(i){n(`error while retrieving file ${e}.`)}})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](l.b),o["\u0275\u0275directiveInject"](o.NgZone))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-doc-viewer"]],viewQuery:function(e,t){if(1&e&&o["\u0275\u0275viewQuery"](c,!0),2&e){let e;o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.iframes=e)}},inputs:{url:"url",queryParams:"queryParams",viewerUrl:"viewerUrl",googleCheckInterval:"googleCheckInterval",disableContent:"disableContent",googleCheckContentLoaded:"googleCheckContentLoaded",viewer:"viewer"},outputs:{loaded:"loaded"},features:[o["\u0275\u0275NgOnChangesFeature"]],decls:2,vars:2,consts:[[4,"ngIf"],[3,"innerHtml",4,"ngIf"],["type","application/pdf","width","100%","height","100%",3,"data",4,"ngIf"],[3,"innerHtml"],["type","application/pdf","width","100%","height","100%",3,"data"],[3,"href"],["id","iframe","frameBorder","0",3,"src","load",4,"ngIf"],["class","container",4,"ngIf"],["id","iframe","frameBorder","0",3,"src","load"],["iframe",""],[1,"container"]],template:function(e,t){1&e&&(o["\u0275\u0275template"](0,m,3,2,"ng-container",0),o["\u0275\u0275template"](1,g,3,2,"ng-container",0)),2&e&&(o["\u0275\u0275property"]("ngIf",!t.externalViewer),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.externalViewer))},directives:[s.n],styles:["[_nghost-%COMP%] {\n        display: block;\n    }\n    .container[_ngcontent-%COMP%] {\n        width: 100%;\n        height: 100%;\n        position: relative;\n    }\n    .overlay-popout-google[_ngcontent-%COMP%] {\n        width: 40px;\n        height: 40px;\n        right: 26px;\n        top: 11.5px;\n        position: absolute;\n        z-index: 1000;\n    }\n    .overlay-popout-office[_ngcontent-%COMP%] {\n        width: 100px;\n        height: 20px;\n        right: 0;\n        bottom: 0;\n        position: absolute;\n        z-index: 1000;\n    }\n    .overlay-full[_ngcontent-%COMP%] {\n        width: 100%;\n        height: 100%;\n        right: 0;\n        top: 0;\n        position: absolute;\n        z-index: 1000;\n    }\n    iframe[_ngcontent-%COMP%] {\n        width: 100%;\n        height: 100%;\n    }"]}),e})(),y=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[s.c]]}),e})()},w6ya:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(e){return e[e.reply_discussion_item=1]="reply_discussion_item",e[e.mention_discussion_item=2]="mention_discussion_item",e[e.activity_task_owner=3]="activity_task_owner",e[e.activity_sign_off_task_owner=4]="activity_sign_off_task_owner",e[e.group_invitation_discussion=5]="group_invitation_discussion",e[e.general_notice_discussion_item=6]="general_notice_discussion_item",e[e.event_invite_declined_event_deligate=7]="event_invite_declined_event_deligate",e[e.event_invite_accpeted_event_deligate=8]="event_invite_accpeted_event_deligate",e[e.event_invite_event_deligate=9]="event_invite_event_deligate",e[e.folder_shared_document_folder=10]="folder_shared_document_folder",e[e.file_shared_document=11]="file_shared_document",e[e.goal_support_task_owner=12]="goal_support_task_owner",e[e.connect_request_contact_connect=13]="connect_request_contact_connect",e[e.applicant_review_task_assigned=14]="applicant_review_task_assigned",e[e.applicant_review_feedback_submitted=15]="applicant_review_feedback_submitted",e[e.applicant_review_feedback_updated=16]="applicant_review_feedback_updated",e[e.connect_request_employment=17]="connect_request_employment",e[e.connect_request_approved_employment=18]="connect_request_approved_employment",e[e.connect_request_declined_employment=19]="connect_request_declined_employment",e[e.connect_request_mentor=20]="connect_request_mentor",e[e.connect_request_approved_mentor=21]="connect_request_approved_mentor",e[e.connect_request_declined_mentor=22]="connect_request_declined_mentor",e[e.goal_support_task_owner_accept=23]="goal_support_task_owner_accept",e[e.goal_status_update=24]="goal_status_update",e[e.activity_sign_off_decline=25]="activity_sign_off_decline",e[e.activity_sign_off_approve=26]="activity_sign_off_approve",e[e.program_connect=27]="program_connect",e[e.program_connect_decline=28]="program_connect_decline",e[e.program_connect_approve=29]="program_connect_approve",e[e.external_mentor_request=30]="external_mentor_request",e[e.external_mentor_approve=31]="external_mentor_approve",e[e.external_mentor_decline=32]="external_mentor_decline",e[e.contract_assignment_mentoring=33]="contract_assignment_mentoring",e[e.contract_assignment_mentor=34]="contract_assignment_mentor",e[e.program_stage_accept=35]="program_stage_accept",e[e.program_stage_decline=36]="program_stage_decline",e[e.connect_request_contact_connect_accepted=37]="connect_request_contact_connect_accepted",e[e.monthly_report_feedback_task_owner=38]="monthly_report_feedback_task_owner",e[e.monthly_report_feedback=39]="monthly_report_feedback",e[e.monthly_report_task_owner=40]="monthly_report_task_owner",e[e.transaction_verification_notification=41]="transaction_verification_notification",e[e.baseline_report_task_owner=42]="baseline_report_task_owner",e[e.indicator_review_task_owner=43]="indicator_review_task_owner",e[e.form_report_scorecard_pending=44]="form_report_scorecard_pending",e[e.form_report_scorecard_review=45]="form_report_scorecard_review",e[e.goal_supporter_role=46]="goal_supporter_role",e[e.goal_supporter_role_accept=47]="goal_supporter_role_accept",e[e.goal_conversation_update=48]="goal_conversation_update",e[e.check_list_update=49]="check_list_update",e[e.program_invitation=50]="program_invitation",e[e.reviewers_feedback=51]="reviewers_feedback",e[e.applicant_preview=52]="applicant_preview",e[e.follow_request=53]="follow_request",e[e.onboarding_task=54]="onboarding_task",e[e.onboarding_task_update=55]="onboarding_task_update",e}({})},wPnq:function(e,t,n){"use strict";n.d(t,"a",function(){return i});const i=[{id:1,name:"Startup / SME"},{id:2,name:"Enterprise / Corporate"},{id:3,name:"Incubator / Accelerator"},{id:4,name:"Government Agency"}]},wgH9:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("AytR"),o=n("fXoL"),a=n("tk/3");let r=(()=>{class e{constructor(e){this.httpClient=e,this.baseUrl=i.a.apiUrl}getLookup(e=0,t=0,n=0,i="NA"){return this.httpClient.get(`${this.baseUrl}/lookup?LookupID=${e}&LookupCategoryID=${t}&ReferenceID=${n}&LookupName=${i}`)}postLookup(e){return this.httpClient.post(this.baseUrl+"/lookup",e)}updateLookup(e){return this.httpClient.put(this.baseUrl+"/lookup",e)}deleteLookup(e){return this.httpClient.delete(`${this.baseUrl}/lookup/${e}`)}getExitStrategy(){return this.httpClient.get(this.baseUrl+"/lookup/ExitStrategy")}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](a.b))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"xC+5":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("lJxs"),o=n("AytR"),a=n("fXoL"),r=n("tk/3");let s=(()=>{class e{constructor(e){this.http=e,this.BaseURI=o.a.apiUrl}addTaskOwner(e){return this.http.post(this.BaseURI+"/Task/owner",e)}updateTaskOwner(e){return this.http.put(this.BaseURI+"/Task/owner",e).pipe(Object(i.a)(e=>e))}deleteTaskOwner(e){return this.http.delete(`${this.BaseURI}/Task/owner/${e}`).pipe(Object(i.a)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](r.b))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},xDUJ:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("2Vo4"),o=n("lJxs"),a=n("tk/3"),r=n("fXoL");let s=(()=>{class e{constructor(e){this.http=e,this.BaseURI="https://api.incubatorportal.com/api",this.formUrl=this.BaseURI+"/form",this._replayFormFieldTypes=[],this._formFieldTypesCalled=!1,this.formObject=new i.a(""),this.formObject$=this.formObject.asObservable()}updateFormValue(e){this.formObject.next({form:e})}insertForm(e){return this.http.post(this.BaseURI+"/form",e).pipe(Object(o.a)(e=>e))}deleteForm(e){return this.http.delete(this.BaseURI+"/form/"+e)}updateForm(e){return this.http.put(this.BaseURI+"/form",e).pipe(Object(o.a)(e=>e))}insertFormTask(e){return this.http.post(this.BaseURI+"/form/task",e).pipe(Object(o.a)(e=>e))}updateFormTask(e){return this.http.put(this.BaseURI+"/form/task",e).pipe(Object(o.a)(e=>e))}deleteFormTask(e){return this.http.delete(this.BaseURI+"/form/task",e)}getFormTask(e,t){return this.http.get(this.BaseURI+"/form/task/?referenceID="+e+"&formCategoryID="+t)}getForm(e,t,n){return this.http.get(this.BaseURI+"/form/all?referenceID="+e+"&formCategoryID="+t+"&formID="+n)}getForms(e,t,n){return this.http.get(this.BaseURI+"/Form?CompanyID="+e+"&formCategoryID="+t+"&parentFormID="+n)}getFormSections(e){return this.http.get(`${this.BaseURI}/form/section/all/${e}`).pipe(Object(o.a)(e=>e))}getFormFieldTypes(){return this.http.get(this.BaseURI+"/form/section/field/type/all").pipe(Object(o.a)(e=>e))}getFields(e){return this.http.get(`${this.formUrl}/section/field/all/${e}`).pipe(Object(o.a)(e=>e))}insertField(e){return this.http.post(this.formUrl+"/section/field",e).pipe(Object(o.a)(e=>e))}updateField(e){return this.http.put(this.formUrl+"/section/field",e).pipe(Object(o.a)(e=>e))}deleteField(e){return this.http.delete(this.BaseURI+"/form/section/field/"+e)}getOptions(e){return this.http.get(`${this.formUrl}/section/field/option/all/${e}`).pipe(Object(o.a)(e=>e))}getOption(e){return this.http.get(`${this.formUrl}/section/field/option/${e}`).pipe(Object(o.a)(e=>e))}insertOption(e){return this.http.post(this.formUrl+"/section/field/option",e).pipe(Object(o.a)(e=>e))}updateOption(e){return this.http.put(this.formUrl+"/section/field/option",e).pipe(Object(o.a)(e=>e))}deleteOption(e){return this.http.delete(`${this.formUrl}/section/field/option/${e}`).pipe(Object(o.a)(e=>e))}newGuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}insertSection(e){return this.http.post(this.formUrl+"/section",e).pipe(Object(o.a)(e=>e))}updateSection(e){return this.http.put(this.formUrl+"/section",e).pipe(Object(o.a)(e=>e))}deleteSection(e){return this.http.delete(`${this.formUrl}/section/${e}`).pipe(Object(o.a)(e=>e))}getFormFieldAnswers(e,t,n,i,o,a){return this.http.get(this.BaseURI+"/form/section/field/answers?referenceID="+e+"&contactID="+t+"&formCategoryID="+n+"&answerReferenceID="+i+"&formFieldAnswerCategoryID="+o+"&formID="+a)}insertAnswer(e){return this.http.post(this.formUrl+"/section/field/answer",e).pipe(Object(o.a)(e=>e))}updateAnswer(e){return this.http.put(this.formUrl+"/section/field/answer",e).pipe(Object(o.a)(e=>e))}deleteAnswer(e){return this.http.delete(`${this.formUrl}/section/field/answer/${e}`).pipe(Object(o.a)(e=>e))}panelMemberAnswers(e=0,t=0,n=0,i=0,o=0,a=0){return this.http.get(`\n\t\t${this.formUrl}/answersummarypanelmember?taskID=${e}&taskReferenceID=${t}&taskCategoryID=${n}&taskOwnerID=${i}&eventID=${o}&eventDelegateID=${a}\n\t\t`)}getSectionReview(e=0,t=0){return this.http.get(`${this.formUrl}/section/review?FormSectionReviewID=${e}&FormSectionID=${t}`)}postSectionReview(e){return this.http.post(this.formUrl+"/section/review",e)}updateSectionReview(e){return this.http.put(this.formUrl+"/section/review",e)}deleteSectionReview(e){const t={headers:new a.f({"Content-Type":"application/json"}),body:{formSectionReviewID:e}};return this.http.delete(this.formUrl+"/section/review",t)}getSectionReviewOwner(e=0,t=0,n=0,i=0){return this.http.get(`${this.formUrl}/section/review/taskowner?FormSectionReviewTaskOwnerID=${e}&FormSectionID=${t}&TaskOwnerID=${n}&Score=${i}`)}postSectionReviewOwner(e){return this.http.post(this.formUrl+"/section/review/taskowner",e)}updateSectionReviewOwner(e){return this.http.put(this.formUrl+"/section/review/taskowner",e)}deleteSectionReviewOwner(e){const t={headers:new a.f({"Content-Type":"application/json"}),body:{formSectionReviewTaskOwnerID:e}};return this.http.delete(this.formUrl+"/section/review/taskowner",t)}getScore(e){return this.http.get(`${this.formUrl}/score?taskOwnerID=${e}`)}getSectionScores(e=0,t=0,n=0){return this.http.get(`${this.formUrl}/section/score/consolidated?TaskOwnerID=${e}&TaskCategoryID=${t}&TaskReferenceID=${n}`)}getSectionScoresByParent(e=0,t=0,n=0){return this.http.get(`${this.formUrl}/section/score/consolidated/byparent?TaskOwnerID=${e}&TaskCategoryID=${t}&TaskReferenceID=${n}`)}getAnswerSummary(e=0,t=0,n=0,i=0,o=0,a=0,r=0){return this.http.get(`${this.formUrl}/section/field/answer/summary?FormFieldID=${e}&FormID=${t}&FormFieldAnswerCategoryID=${n}&AnswerReferenceID=${i}&FormCategoryID=${o}&ContactID=${a}&ReferenceID=${r}`)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](a.b))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},xdDH:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n("fXoL"),o=n("XNiG"),a=n("1G5W"),r=n("Kj3r"),s=n("/uUt"),l=n("vkgz");let c=(()=>{class e{constructor(){this.debounceTime=250,this.onEvent=new i.EventEmitter,this.emitEvent$=new o.a,this.subscription$=new o.a}ngOnInit(){this.emitEvent$.pipe(Object(a.a)(this.subscription$),Object(r.a)(this.debounceTime),Object(s.a)(),Object(l.a)(e=>this.emitChange(e))).subscribe()}emitChange(e){this.onEvent.emit(e)}ngOnDestroy(){this.subscription$.next(),this.subscription$.complete()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","appAbstractDebounce",""]],inputs:{debounceTime:"debounceTime"},outputs:{onEvent:"onEvent"}}),e})(),d=(()=>{class e extends c{constructor(){super()}onKeyUp(e){e.preventDefault(),this.emitEvent$.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","appKeyupDebounce",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("keyup",function(e){return t.onKeyUp(e)})},features:[i["\u0275\u0275InheritDefinitionFeature"]]}),e})()},xutz:function(e,t,n){"use strict";(function(e){var i=n("XqMk"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,r=a&&a.exports===o&&i.a.process,s=function(){try{return a&&a.require&&a.require("util").types||r&&r.binding&&r.binding("util")}catch(e){}}();t.a=s}).call(this,n("3UD+")(e))},yDbM:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("fXoL");let o=(()=>{class e{constructor(e){this.element=e}ngOnChanges(){this.focus&&this.element.nativeElement.focus()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.ElementRef))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","focus",""]],inputs:{focus:"focus"},features:[i["\u0275\u0275NgOnChangesFeature"]]}),e})()},yjI1:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var i=n("fXoL"),o=n("SVtl"),a=n("WhH8"),r=n("kmKP"),s=n("1kSV"),l=n("ofXK");const c=function(){return[2,3,4]};function d(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"]().selectNetwork(t)}),i["\u0275\u0275elementStart"](1,"div",8),i["\u0275\u0275element"](2,"i",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",26),i["\u0275\u0275elementStart"](4,"label",27),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](6,"input",28),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](),t=e.$implicit,n=e.index,o=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("active",o.audience.referenceID===t.networkID&&i["\u0275\u0275pureFunction0"](6,c).includes(o.audience.discussionAudienceCategoryID)),i["\u0275\u0275advance"](4),i["\u0275\u0275propertyInterpolate1"]("for","network-",n,""),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.network," "),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate1"]("id","network-",n,""),i["\u0275\u0275property"]("checked",o.audience.referenceID===t.networkID&&i["\u0275\u0275pureFunction0"](7,c).includes(o.audience.discussionAudienceCategoryID))}}const p=function(){return[6,5,3]};function m(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,d,7,8,"div",25),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!i["\u0275\u0275pureFunction0"](1,p).includes(e.networkTypeClassificationID))}}function u(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.opportunity.opportunity)}}let h=(()=>{class e{constructor(e,t,n,i,o){this.networkService=e,this.contactService=t,this.userService=n,this.modal=i,this.activeModal=o,this.networks=[],this.audience={referenceID:0,discussionAudienceCategoryID:1,network:"",opportunity:""},this.user=this.userService.user.getValue(),this.companyID=this.user.companyID||0,this.contactID=this.user.contactID,this.audience.referenceID=this.companyID}ngOnInit(){this.fillNetworks()}fillNetworks(){this.loading=!0,this.networkService.getNetwork(0,0,0,0,this.companyID,0,0).subscribe(e=>{this.networks=e,this.loading=!1})}entire(){this.opportunity=null,this.audience.discussionAudienceCategoryID=1,this.audience.referenceID=this.companyID}selectNetwork(e){this.opportunity=null,this.audience.network=e.network,this.audience.referenceID=e.networkID,this.audience.discussionAudienceCategoryID=1===e.networkTypeClassificationID?2:2===e.networkTypeClassificationID?3:4}myConnections(){this.opportunity=null,this.audience.discussionAudienceCategoryID=5,this.audience.referenceID=this.contactID}myTeam(){this.opportunity=null,this.audience.discussionAudienceCategoryID=6,this.audience.referenceID=this.companyID}submit(){this.activeModal.close(this.audience)}openOpportunityModal(){}dismiss(){this.activeModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.a),i["\u0275\u0275directiveInject"](a.a),i["\u0275\u0275directiveInject"](r.a),i["\u0275\u0275directiveInject"](s.p),i["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-ecosystem-selector"]],decls:47,vars:15,consts:[[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"data-container"],[1,"item",3,"click"],[1,"icon-holder"],[1,"fas","fa-globe"],[1,"form-check","pl-0","d-flex","align-items-center","flex-grow-1"],["for","radio",1,"form-check-label","mr-2"],["type","radio","name","network","id","radio",1,"form-check-input","ml-auto",3,"checked"],[4,"ngFor","ngForOf"],["for","radio-1",1,"form-check-label","mr-2"],["type","radio","name","network","id","radio-1",1,"form-check-input","ml-auto",3,"checked"],["for","radio-2",1,"form-check-label","mr-2"],["type","radio","name","network","id","radio-2",1,"form-check-input","ml-auto",3,"checked"],["for","radio-3",1,"form-check-label","mr-2"],[1,"fas","fa-chevron-right"],["class","meta",4,"ngIf"],["type","radio","name","network","id","radio-3",1,"form-check-input","ml-auto",3,"checked"],[1,"d-flex","justify-content-between","float-left","w-100","pt-3","align-items-center"],[1,"cursor-pointer","text-primary",3,"click"],[1,"btn","btn-primary",3,"disabled","click"],["class","item",3,"active","click",4,"ngIf"],[1,"form-check","d-flex","align-items-center","pl-0","flex-grow-1"],[1,"form-check-label","mr-2",3,"for"],["type","radio","name","network",1,"form-check-input","ml-auto",3,"id","checked"],[1,"meta"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"h5",2),i["\u0275\u0275text"](3,"Who can see you post?"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",3),i["\u0275\u0275listener"]("click",function(){return t.dismiss()}),i["\u0275\u0275elementStart"](5,"span",4),i["\u0275\u0275text"](6,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275elementStart"](8,"div",6),i["\u0275\u0275elementStart"](9,"div",7),i["\u0275\u0275listener"]("click",function(){return t.entire()}),i["\u0275\u0275elementStart"](10,"div",8),i["\u0275\u0275element"](11,"i",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",10),i["\u0275\u0275elementStart"](13,"label",11),i["\u0275\u0275text"](14," Entire Ecosystem "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](15,"input",12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](16,m,2,2,"ng-container",13),i["\u0275\u0275elementStart"](17,"div",7),i["\u0275\u0275listener"]("click",function(){return t.myConnections()}),i["\u0275\u0275elementStart"](18,"div",8),i["\u0275\u0275element"](19,"i",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"div",10),i["\u0275\u0275elementStart"](21,"label",14),i["\u0275\u0275text"](22," My Connections "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](23,"input",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"div",7),i["\u0275\u0275listener"]("click",function(){return t.myTeam()}),i["\u0275\u0275elementStart"](25,"div",8),i["\u0275\u0275element"](26,"i",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](27,"div",10),i["\u0275\u0275elementStart"](28,"label",16),i["\u0275\u0275text"](29," My team "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](30,"input",17),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](31,"div",7),i["\u0275\u0275listener"]("click",function(){return t.openOpportunityModal()}),i["\u0275\u0275elementStart"](32,"div",8),i["\u0275\u0275element"](33,"i",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"div",10),i["\u0275\u0275elementStart"](35,"label",18),i["\u0275\u0275elementStart"](36,"span"),i["\u0275\u0275text"](37," Applicants "),i["\u0275\u0275element"](38,"i",19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](39,"br"),i["\u0275\u0275template"](40,u,2,1,"span",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](41,"input",21),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](42,"div",22),i["\u0275\u0275elementStart"](43,"span",23),i["\u0275\u0275listener"]("click",function(){return t.dismiss()}),i["\u0275\u0275text"](44," Back "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](45,"button",24),i["\u0275\u0275listener"]("click",function(){return t.submit()}),i["\u0275\u0275text"](46," Save "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](9),i["\u0275\u0275classProp"]("active",1===t.audience.discussionAudienceCategoryID),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("checked",1===t.audience.discussionAudienceCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.networks),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("active",5===t.audience.discussionAudienceCategoryID),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("checked",5===t.audience.discussionAudienceCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("active",6===t.audience.discussionAudienceCategoryID),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("checked",6===t.audience.discussionAudienceCategoryID),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("active",7===t.audience.discussionAudienceCategoryID),i["\u0275\u0275advance"](9),i["\u0275\u0275property"]("ngIf",t.opportunity),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("checked",7===t.audience.discussionAudienceCategoryID),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("disabled",!t.audience.discussionAudienceCategoryID||!t.audience.referenceID))},directives:[l.m,l.n],styles:[".data-container[_ngcontent-%COMP%]{height:400px;position:relative;overflow:auto}.data-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:6px 12px;border-bottom:1px dotted #aaa;cursor:pointer}.data-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:relative}.data-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;flex:1}.data-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{background:#e8eefd}.data-container[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]{background:#e0e0e0}.data-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:last-child{border-bottom:0}.data-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .icon-holder[_ngcontent-%COMP%]{width:34px;height:34px;display:flex;align-items:center;justify-content:center;margin-right:12px}.data-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .icon-holder[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px;color:#9b9b9b}.meta[_ngcontent-%COMP%]{font-size:14px;font-weight:400}"]}),e})()},ylTp:function(e,t,n){"use strict";var i=n("Ju5/");t.a=i.a.Symbol},yoF8:function(e,t,n){"use strict";t.identity=function(e){return e}},yx2s:function(e,t,n){"use strict";var i=n("FWf1");t.canReportError=function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof i.Subscriber?t:null}return!0}},"zB/H":function(e,t,n){"use strict";var i=n("mbIT"),o=n("GMZp"),a=n("pshJ"),r=n("LBXl");function s(e){return e.reduce(function(e,t){return e.concat(t instanceof r.UnsubscriptionError?t.errors:t)},[])}t.Subscription=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,l=n._parentOrParents,c=n._ctorUnsubscribe,d=n._unsubscribe,p=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,l instanceof e)l.remove(this);else if(null!==l)for(var m=0;m<l.length;++m)l[m].remove(this);if(a.isFunction(d)){c&&(this._unsubscribe=void 0);try{d.call(this)}catch(f){t=f instanceof r.UnsubscriptionError?s(f.errors):[f]}}if(i.isArray(p)){m=-1;for(var u=p.length;++m<u;){var h=p[m];if(o.isObject(h))try{h.unsubscribe()}catch(f){t=t||[],f instanceof r.UnsubscriptionError?t=t.concat(s(f.errors)):t.push(f)}}}if(t)throw new r.UnsubscriptionError(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var a=this._subscriptions;return null===a?this._subscriptions=[n]:a.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}()},zF3M:function(e,t,n){var i,o,a;a=function(e){function t(e,t,n,i){e.hasOwnProperty(t)||(e[t]=i.apply(null,n))}t(e=e?e._modules:{},"Series/Funnel/FunnelSeries.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Color/Palette.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,n,i,o){var a=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=t.noop,s=i.series,l=i.seriesTypes.pie;t=o.addEvent;var c=o.fireEvent,d=o.isArray,p=o.merge,m=o.pick;return(0,o.extend)((o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return a(t,e),t.prototype.alignDataLabel=function(e,t,n,i,o){var a=e.series,r=e.dlBox||e.shapeArgs,l=n.align,c=n.verticalAlign,d=((a.options||{}).dataLabels||{}).inside,p=a.center[1];a=a.getWidthAt(((i=a.options.reversed)?2*p-e.plotY:e.plotY)-r.height/2+t.height),a="middle"===c?(r.topWidth-r.bottomWidth)/4:(a-r.bottomWidth)/2,p=r.y;var m=r.x;"middle"===c?p=r.y-r.height/2+t.height/2:"top"===c&&(p=r.y-r.height+t.height+n.padding),("top"===c&&!i||"bottom"===c&&i||"middle"===c)&&("right"===l?m=r.x-n.padding+a:"left"===l&&(m=r.x+n.padding-a)),i={x:m,y:i?p-r.height:p,width:r.bottomWidth,height:r.height},n.verticalAlign="bottom",d&&!e.visible||s.prototype.alignDataLabel.call(this,e,t,n,i,o),d&&(!e.visible&&e.dataLabel&&(e.dataLabel.placed=!1),e.contrastColor&&t.css({color:e.contrastColor}))},t.prototype.drawDataLabels=function(){var e,t=this.data,n=this.options.dataLabels.distance,o=t.length;for(this.center[2]-=2*n;o--;){var a=t[o],r=(e=a.half)?1:-1,s=a.plotY;a.labelDistance=m(a.options.dataLabels&&a.options.dataLabels.distance,n),this.maxLabelDistance=Math.max(a.labelDistance,this.maxLabelDistance||0);var l=this.getX(s,e,a);a.labelPosition={natural:{x:0,y:s},final:{},alignment:e?"right":"left",connectorPosition:{breakAt:{x:l+(a.labelDistance-5)*r,y:s},touchingSliceAt:{x:l+a.labelDistance*r,y:s}}}}i.seriesTypes[this.options.dataLabels.inside?"column":"pie"].prototype.drawDataLabels.call(this)},t.prototype.translate=function(){function e(e,t){return/%$/.test(e)?t*parseInt(e,10)/100:parseInt(e,10)}var t=0,n=this,i=n.chart,o=n.options,a=o.reversed,s=o.ignoreHiddenPoint,l=i.plotWidth;i=i.plotHeight;var d,p=0,u=o.center,h=e(u[0],l),f=e(u[1],i),g=e(o.width,l),v=e(o.height,i),y=e(o.neckWidth,l),b=e(o.neckHeight,i),I=f-v/2+v-b;l=n.data;var x,S,C,D,w,k,E,M,O,P="left"===o.dataLabels.position?1:0;n.getWidthAt=function(e){return e>I||v===b?y:y+(g-y)*(1-(e-(f-v/2))/(v-b))},n.getX=function(e,t,i){return h+(t?-1:1)*(n.getWidthAt(a?2*f-e:e)/2+i.labelDistance)},n.center=[h,f,v],n.centerX=h,l.forEach(function(e){s&&!1===e.visible||(t+=e.y)}),l.forEach(function(e){O=null,E=(D=f-v/2+p*v)+(S=t?e.y/t:0)*v,d=n.getWidthAt(D),w=(C=h-d/2)+d,d=n.getWidthAt(E),M=(k=h-d/2)+d,D>I?(C=k=h-y/2,w=M=h+y/2):E>I&&(O=E,d=n.getWidthAt(I),M=(k=h-d/2)+d,E=I),a&&(D=2*f-D,E=2*f-E,null!==O&&(O=2*f-O)),x=[["M",C,D],["L",w,D],["L",M,E]],null!==O&&x.push(["L",M,O],["L",k,O]),x.push(["L",k,E],["Z"]),e.shapeType="path",e.shapeArgs={d:x},e.percentage=100*S,e.plotX=h,e.plotY=(D+(O||E))/2,e.tooltipPos=[h,e.plotY],e.dlBox={x:k,y:D,topWidth:w-C,bottomWidth:M-k,height:Math.abs(m(O,E)-D),width:NaN},e.slice=r,e.half=P,s&&!1===e.visible||(p+=S)}),c(n,"afterTranslate")},t.prototype.sortByAngle=function(e){e.sort(function(e,t){return e.plotY-t.plotY})},t.defaultOptions=p(l.defaultOptions,{animation:!1,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,size:!0,dataLabels:{connectorWidth:1,verticalAlign:"middle"},states:{select:{color:n.neutralColor20,borderColor:n.neutralColor100}}}),t}(l)).prototype,{animate:r}),t(e,"afterHideAllOverlappingLabels",function(){this.series.forEach(function(e){var t=e.options&&e.options.dataLabels;d(t)&&(t=t[0]),e.is("pie")&&e.placeDataLabels&&t&&!t.inside&&e.placeDataLabels()})}),i.registerSeriesType("funnel",o),o}),t(e,"Series/Pyramid/PyramidSeries.js",[e["Series/Funnel/FunnelSeries.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,n){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=n.merge;return n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return i(n,t),n.defaultOptions=o(e.defaultOptions,{neckWidth:"0%",neckHeight:"0%",reversed:!0}),n}(e),t.registerSeriesType("pyramid",n),n}),t(e,"masters/modules/funnel.src.js",[],function(){})},e.exports?(a.default=a,e.exports=a):(i=[n("6n/F")],void 0===(o=(function(e){return a(e),a.Highcharts=e,a}).apply(t,i))||(e.exports=o))},zemM:function(e,t,n){"use strict";n.d(t,"a",function(){return M});var i=n("ofXK"),o=n("3Pt+"),a=n("1kSV"),r=n("j4PG"),s=n("GKkB"),l=n("fXoL");let c=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,a.q,s.a]]}),e})();var d=n("PCNd"),p=n("ZLSo"),m=n("sYmb"),u=n("tkyS"),h=n("6pDZ"),f=n("UWWY"),g=n("Jiv2"),v=n("tyNb"),y=n("5eqV"),b=n("pRyc");let I=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,o.l,o.z,a.q,r.a]]}),e})();var x=n("jD4a"),S=n("7AQL"),C=n("4TQh"),D=n("76iY"),w=n("7itd"),k=n("pxUr"),E=n("CzEO");let M=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,o.l,o.z,a.F,a.h,r.a,c,p.a,d.a,m.b,u.NewsFeedModule,a.l,a.x,h.a,f.a,g.a,v.g,y.b,a.q,b.a,s.a,I,a.v,x.a,S.a,a.D,C.a,D.a,w.GooglePlaceModule,k.a.forRoot(),E.b]]}),e})()},zfKp:function(e,t,n){"use strict";t.observable=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},zs7b:function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{static create(){return[{value:1,yy:"01",name:"January"},{value:2,yy:"02",name:"February"},{value:3,yy:"03",name:"March"},{value:4,yy:"04",name:"April"},{value:5,yy:"05",name:"May"},{value:6,yy:"06",name:"June"},{value:7,yy:"07",name:"July"},{value:8,yy:"08",name:"August"},{value:9,yy:"09",name:"September"},{value:10,yy:"10",name:"October"},{value:11,yy:"11",name:"November"},{value:12,yy:"12",name:"December"}]}}}}]);