(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"++ZE":function(e,t,n){var a=n("wF/u");e.exports=function(e,t){return a(e,t)}},"+6XX":function(e,t,n){var a=n("y1pI");e.exports=function(e){return a(this.__data__,e)>-1}},"03A+":function(e,t,n){var a=n("JTzB"),r=n("ExA7"),o=Object.prototype,l=o.hasOwnProperty,i=o.propertyIsEnumerable,s=a(function(){return arguments}())?a:function(e){return r(e)&&l.call(e,"callee")&&!i.call(e,"callee")};e.exports=s},"0Cz8":function(e,t,n){var a=n("Xi7e"),r=n("ebwN"),o=n("e4Nc");e.exports=function(e,t){var n=this.__data__;if(n instanceof a){var l=n.__data__;if(!r||l.length<199)return l.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(l)}return n.set(e,t),this.size=n.size,this}},"0ycA":function(e,t){e.exports=function(){return[]}},"1hJj":function(e,t,n){var a=n("e4Nc"),r=n("ftKO"),o=n("3A9y");function l(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new a;++t<n;)this.add(e[t])}l.prototype.add=l.prototype.push=r,l.prototype.has=o,e.exports=l},"2gN3":function(e,t,n){var a=n("Kz5y");e.exports=a["__core-js_shared__"]},"3A9y":function(e,t){e.exports=function(e){return this.__data__.has(e)}},"3Fdi":function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},"4kuk":function(e,t,n){var a=n("SfRM"),r=n("Hvzi"),o=n("u8Dt"),l=n("ekgI"),i=n("JSQU");function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}s.prototype.clear=a,s.prototype.delete=r,s.prototype.get=o,s.prototype.has=l,s.prototype.set=i,e.exports=s},"6sVZ":function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},"77Zs":function(e,t,n){var a=n("Xi7e");e.exports=function(){this.__data__=new a,this.size=0}},"7GkX":function(e,t,n){var a=n("b80T"),r=n("A90E"),o=n("MMmD");e.exports=function(e){return o(e)?a(e):r(e)}},"7fqy":function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,a){n[++t]=[a,e]}),n}},A90E:function(e,t,n){var a=n("6sVZ"),r=n("V6Ve"),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!a(e))return r(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},AP2z:function(e,t,n){var a=n("nmnc"),r=Object.prototype,o=r.hasOwnProperty,l=r.toString,i=a?a.toStringTag:void 0;e.exports=function(e){var t=o.call(e,i),n=e[i];try{e[i]=void 0;var a=!0}catch(s){}var r=l.call(e);return a&&(t?e[i]=n:delete e[i]),r}},B8du:function(e,t){e.exports=function(){return!1}},CH3K:function(e,t){e.exports=function(e,t){for(var n=-1,a=t.length,r=e.length;++n<a;)e[r+n]=t[n];return e}},Cwc5:function(e,t,n){var a=n("NKxu"),r=n("Npjl");e.exports=function(e,t){var n=r(e,t);return a(n)?n:void 0}},"D+TJ":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n("tk/3"),r=n("2Vo4"),o=n("AytR"),l=n("fXoL");const i=o.a.apiUrl+"/",s=localStorage.getItem("token");let m=(()=>{class e{constructor(e){this.http=e,this.cachedEnterpriseEventDetails=new r.a(null),this.httpOptions={headers:new a.f({"Content-Type":"application/json",Token:s})}}getJobCreation(e,t="2020-01-01",n="2020-01-01",a=0,r=0,o=0){return this.http.get(`${i}JobCreation?CompanyID=${e}&StartDate=${t}&EndDate=${n}&ProgramID=${a}&ProgramInstanceID=${r}&CompanyLocationID=${o}`,this.httpOptions)}getPortfolios(e,t,n,a,r,o="2020-01-01",l="2020-01-01"){return this.http.get(`${i}portfolio/stage/timeline?ProgramInstanceStageID=${a}&CompanyID=${t}&companyProgramInstanceStageID=${r}&StartDate=${o}&ProgramID=${e}&ProgramInstanceID=${n}&EndDate=${l}`,this.httpOptions)}getEnterpriseEventDetails(e,t,n,a,r,o,l,s,m,c,d,p){return this.http.get(`\n        ${i}Event/summary/byprogrammedetailenterprise?CompanyID=${e}&DivisionID=${t}&DepartmentID=${n}&CourseID=${a}&CourseCategoryID=${r}&ProviderID=${o}&StartDate=${l}&EndDate=${s}&ProvinceID=${m}&PeromnesID=${c}&DesignationID=${d}&ContactID=${p}\n    `)}getCachedEnterpriseEventDetails(){return this.cachedEnterpriseEventDetails.asObservable()}setCachedEnterpriseEventDetails(e){this.cachedEnterpriseEventDetails.next(e)}getApplications(e){return this.http.get(`${i}Application/all?CompanyID=${e}&MasterCompanyID=0&ProgramInstanceID=0&CompanyLocationID=0&ApplicationStatusID=0&ApplicationID=0`,this.httpOptions)}getApplicationsReview(e){return this.http.get(`${i}Application/Review?MasterCompanyID=${e}&ApplicationReviewID=0&ApplicationID=0`,this.httpOptions)}getEvents(e){return this.http.get(`${i}Event/full?CompanyID=${e}\n\t\t\t&ContactID=0\n\t\t\t&CourseID=0\n\t\t\t&ReferenceID=0\n\t\t\t&StartDate=''\n\t\t\t&EndDate=''\n\t\t\t&EventCategoryID=0\n\t\t\t&EventID=0`,this.httpOptions)}getFinancial(e,t){return this.http.get(`${i}Company/financial?CompanyID=${e}&FinancialCategoryID=0&MonthID=0&YearID=${t}`,this.httpOptions)}getBudget(e,t){return this.http.get(`${i}Company/budget?CompanyBudgetID=0&CompanyID=${e}&CompanyFinancialCategoryID=0&MonthID=0&YearID=${t}`,this.httpOptions)}getDelegates(){return this.http.get(i+"Event/delegate?EventDelegateID=0&CourseID=0&EventID=0&ContactID=0&EventCategoryID=0&ParentEventID=0",this.httpOptions)}getTransaction(){return this.http.get(i+"Transaction/event?CompanyAccountID=0&EventID=0",this.httpOptions)}getCompanyFinancialPortfolio(e,t,n=2020,a=0,r=0,o=0,l=0,s=0){return this.http.get(`${i}Company/financial/portfolio?CompanyID=${e}&FinancialCategoryID=${t}&MonthID=${a}&YearID=${n}&ProgramInstanceID=${r}&ProgramID=${o}&CompanyLocationID=${l}&MasterCompanyID=${s}`,this.httpOptions)}getDashboard(e=0,t=0,n=0,a=0){return this.http.get(`${i}dashboard?DashboardID=${e}&ContactID=${t}&DashboardCategoryID=${n}&ReferenceID=${a}`)}postDashboard(e){return this.http.post(i+"dashboard",e)}deleteDashboard(e){return this.http.delete(`${i}dashboard/${e}`)}getDashboardCard(e){return this.http.get(`${i}dashboard/card?DashboardID=${e}`)}postDashboardCard(e){return this.http.post(i+"dashboard/card",e)}deleteDashboardCard(e=0){return this.http.delete(`${i}dashboard/card/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275inject"](a.b))},e.\u0275prov=l["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})()},DSRE:function(e,t,n){(function(e){var a=n("Kz5y"),r=n("B8du"),o=t&&!t.nodeType&&t,l=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=l&&l.exports===o?a.Buffer:void 0;e.exports=(i?i.isBuffer:void 0)||r}).call(this,n("YuTi")(e))},E2jh:function(e,t,n){var a,r=n("2gN3"),o=(a=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"";e.exports=function(e){return!!o&&o in e}},EpBk:function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},ExA7:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},GoyQ:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},H8j4:function(e,t,n){var a=n("QkVE");e.exports=function(e,t){var n=a(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},HDyB:function(e,t,n){var a=n("nmnc"),r=n("JHRd"),o=n("ljhN"),l=n("or5M"),i=n("7fqy"),s=n("rEGp"),m=a?a.prototype:void 0,c=m?m.valueOf:void 0;e.exports=function(e,t,n,a,m,d,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=i;case"[object Set]":if(u||(u=s),e.size!=t.size&&!(1&a))return!1;var h=p.get(e);if(h)return h==t;a|=2,p.set(e,t);var g=l(u(e),u(t),a,m,d,p);return p.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},HOxn:function(e,t,n){var a=n("Cwc5")(n("Kz5y"),"Promise");e.exports=a},Hvzi:function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},JHRd:function(e,t,n){var a=n("Kz5y");e.exports=a.Uint8Array},JHgL:function(e,t,n){var a=n("QkVE");e.exports=function(e){return a(this,e).get(e)}},JSQU:function(e,t,n){var a=n("YESw");e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=a&&void 0===t?"__lodash_hash_undefined__":t,this}},JTzB:function(e,t,n){var a=n("NykK"),r=n("ExA7");e.exports=function(e){return r(e)&&"[object Arguments]"==a(e)}},KMkd:function(e,t){e.exports=function(){this.__data__=[],this.size=0}},KfNM:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},Kz5y:function(e,t,n){var a=n("WFqU"),r="object"==typeof self&&self&&self.Object===Object&&self,o=a||r||Function("return this")();e.exports=o},L8xA:function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},LXxW:function(e,t){e.exports=function(e,t){for(var n=-1,a=null==e?0:e.length,r=0,o=[];++n<a;){var l=e[n];t(l,n,e)&&(o[r++]=l)}return o}},MMmD:function(e,t,n){var a=n("lSCD"),r=n("shjB");e.exports=function(e){return null!=e&&r(e.length)&&!a(e)}},MvSz:function(e,t,n){var a=n("LXxW"),r=n("0ycA"),o=Object.prototype.propertyIsEnumerable,l=Object.getOwnPropertySymbols;e.exports=l?function(e){return null==e?[]:(e=Object(e),a(l(e),function(t){return o.call(e,t)}))}:r},NKxu:function(e,t,n){var a=n("lSCD"),r=n("E2jh"),o=n("GoyQ"),l=n("3Fdi"),i=/^\[object .+?Constructor\]$/,s=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||r(e))&&(a(e)?s:i).test(l(e))}},Npjl:function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},NykK:function(e,t,n){var a=n("nmnc"),r=n("AP2z"),o=n("KfNM"),l=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?r(e):o(e)}},"Of+w":function(e,t,n){var a=n("Cwc5")(n("Kz5y"),"WeakMap");e.exports=a},QkVE:function(e,t,n){var a=n("EpBk");e.exports=function(e,t){var n=e.__data__;return a(t)?n["string"==typeof t?"string":"hash"]:n.map}},QoRX:function(e,t){e.exports=function(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}},QqLw:function(e,t,n){var a=n("tadb"),r=n("ebwN"),o=n("HOxn"),l=n("yGk4"),i=n("Of+w"),s=n("NykK"),m=n("3Fdi"),c="[object Map]",d="[object Promise]",p="[object Set]",u="[object WeakMap]",h="[object DataView]",g=m(a),f=m(r),v=m(o),S=m(l),y=m(i),x=s;(a&&x(new a(new ArrayBuffer(1)))!=h||r&&x(new r)!=c||o&&x(o.resolve())!=d||l&&x(new l)!=p||i&&x(new i)!=u)&&(x=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,a=n?m(n):"";if(a)switch(a){case g:return h;case f:return c;case v:return d;case S:return p;case y:return u}return t}),e.exports=x},SfRM:function(e,t,n){var a=n("YESw");e.exports=function(){this.__data__=a?a(null):{},this.size=0}},"UNi/":function(e,t){e.exports=function(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}},Ujtm:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("fXoL"),r=n("tk/3");let o=(()=>{class e{constructor(e){this.http=e,this.BaseURI="https://api.incubatorportal.com/api"}getOpportunityResponse(e,t,n,a,r,o){return this.http.get(this.BaseURI+"/report/opportunity/response?opportunityID="+e+"&masterCompanyID="+t+"&opportunityResponseID="+n+"&companyLocationID="+a+"&opportunityCategoryID="+r+"&formatNumber="+o,{observe:"response",responseType:"blob"})}getDiagnosticReport(e=0,t=0,n=0,a=0,r=1,o=0){return this.http.get(this.BaseURI+"/report/diagnosticReport?TaskOwnerID="+e+"&TaskReferenceID="+t+"&TaskCategoryID="+n+"&FormID="+a+"&CompanyID="+o+"&formatNumber="+r,{observe:"response",responseType:"blob"})}budgetImplementationReport(e=0,t=0,n=0,a="2000-01-01",r="2000-01-01",o=1,l=0,i=0,s=0,m=0,c=0,d=0,p=0){return this.http.get(this.BaseURI+"/Report/BudgetImplementation?CompanyID="+e+"&DivisionID="+t+"&DepartmentID="+n+"&StartDate="+a+"&EndDate="+r+"&formatNumber="+o+"&CourseID="+l+"&CourseCategoryID="+i+"&ProviderID="+s+"&ProvinceID="+m+"&PeromnesID="+c+"&DesignationID="+d+"&ContactID="+p,{observe:"response",responseType:"blob"})}trainingExecutiveSummary(e=0,t=0,n=0,a="2000-01-01",r="2000-01-01",o=1,l=0,i=0,s=0,m=0,c=0,d=0,p=0){return this.http.get(this.BaseURI+"/Report/TrainingExecutiveSummary?CompanyID="+e+"&DivisionID="+t+"&DepartmentID="+n+"&StartDate="+a+"&EndDate="+r+"&formatNumber="+o+"&CourseID="+l+"&CourseCategoryID="+i+"&ProviderID="+s+"&ProvinceID="+m+"&PeromnesID="+c+"&DesignationID="+d+"&ContactID="+p,{observe:"response",responseType:"blob"})}trainingDetailSummary(e=0,t=0,n=0,a="2000-01-01",r="2000-01-01",o=1,l=0,i=0,s=0,m=0,c=0,d=0,p=0){return this.http.get(this.BaseURI+"/Report/TrainingDetail?CompanyID="+e+"&DivisionID="+t+"&DepartmentID="+n+"&StartDate="+a+"&EndDate="+r+"&formatNumber="+o+"&CourseID="+l+"&CourseCategoryID="+i+"&ProviderID="+s+"&ProvinceID="+m+"&PeromnesID="+c+"&DesignationID="+d+"&ContactID="+p,{observe:"response",responseType:"blob"})}trainingIndividualSummary(e=0,t=0,n=0,a="2000-01-01",r="2000-01-01",o=1,l=0,i=0,s=0,m=0,c=0,d=0,p=0){return this.http.get(this.BaseURI+"/Report/IndividualTrainingSummary?CompanyID="+e+"&DivisionID="+t+"&DepartmentID="+n+"&StartDate="+a+"&EndDate="+r+"&formatNumber="+o+"&CourseID="+l+"&CourseCategoryID="+i+"&ProviderID="+s+"&ProvinceID="+m+"&PeromnesID="+c+"&DesignationID="+d+"&ContactID="+p,{observe:"response",responseType:"blob"})}diagnosticSummary(e=0,t=0,n=0,a=1,r=""){return this.http.get(this.BaseURI+"/Report/DiagnosticSummary?TaskOwnerID="+e+"&TaskCategoryID="+t+"&TaskReferenceID="+n+"&formatNumber="+a+"&fileName="+encodeURIComponent(r),{observe:"response",responseType:"blob"})}getAttendanceCertificates(e=0,t,n=1){return this.http.get(this.BaseURI+"/Report/AttendanceCertificate?EventID="+e+"&EventDelegateList="+t+"&formatNumber="+n,{observe:"response",responseType:"blob"})}getCompetenceCertificate(e=0,t,n,a,r=1){return this.http.get(this.BaseURI+"/Report/CompetenceCertificate?EventID="+e+"&EventDelegateList="+t+"&AssessmentDate="+n+"&ExpiryDate="+a+"&formatNumber="+r,{observe:"response",responseType:"blob"})}qstpApplicationReport(e=0,t=0,n=1){return this.http.get(this.BaseURI+"/Report/QSTPApplication?CompanyID="+e+"&ContactID="+t+"&formatNumber="+n,{observe:"response",responseType:"blob"})}projectProfileReport(e=0,t=0,n=0,a=1){return this.http.get(this.BaseURI+"/Report/ProjectProfile?CompanyID="+e+"&ContactID="+t+"&TaskID="+n+"&formatNumber="+a,{observe:"response",responseType:"blob"})}benificiariesTrained(e=0,t="",n="",a=1,r=0,o="0"){return this.http.get(this.BaseURI+"/Report/86319_51452_Bulk_Upload_2019_Beneficiaries_Completed_Training?CompanyID="+e+"&Divisions="+o+"&DepartmentID="+r+"&StartDate="+t+"&EndDate="+n+"&formatNumber="+a,{observe:"response",responseType:"blob"})}benificiariesCompleted(e=0,t="",n="",a=1,r=0,o="0"){return this.http.get(this.BaseURI+"/Report/86319_53500_Bulk_Upload_2019_Number_Actual_Beneficiaries_V1?CompanyID="+e+"&Divisions="+o+"&DepartmentID="+r+"&StartDate="+t+"&EndDate="+n+"&formatNumber="+a,{observe:"response",responseType:"blob"})}setaEmployee(e=0,t="",n="",a=1,r=0,o="0"){return this.http.get(this.BaseURI+"/Report/86319_27165_Bulk_Upload_2019_Employment_Summary_V1?CompanyID="+e+"&Divisions="+o+"&DepartmentID="+r+"&StartDate="+t+"&EndDate="+n+"&formatNumber="+a,{observe:"response",responseType:"blob"})}beeReport(e=0,t="",n="",a=1,r=0,o=0,l="0",i="0"){return this.http.get(this.BaseURI+"/Report/BEE?CompanyID="+e+"&DivisionID="+o+"&DepartmentID="+r+"&StartDate="+t+"&EndDate="+n+"&Division="+l+"&Department="+i+"&formatNumber="+a,{observe:"response",responseType:"blob"})}annualReport(e=0,t="",n="",a=0,r=0,o=0,l=1){return this.http.get(this.BaseURI+"/Report/AnnualReport?CompanyID="+e+"&MasterCompanyID="+a+"&StartDate="+t+"&EndDate="+n+"&InvestmentID="+o+"&ContactID="+r+"&formatNumber="+l,{observe:"response",responseType:"blob"})}monthlyExecutive(e=0,t="",n="",a=0,r=0,o=0,l=0,i=0,s=1){return this.http.get(this.BaseURI+"/Report/MonthlyExecutiveSummary?CompanyID="+e+"&MasterCompanyID="+a+"&ProgramID="+r+"&StartDate="+t+"&EndDate="+n+"&ProgramInstanceID="+o+"&InvestmentID="+l+"&CompanyLocationID="+i+"&formatNumber="+s,{observe:"response",responseType:"blob"})}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](r.b))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},Unjc:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("2Vo4"),r=n("fXoL");let o=(()=>{class e{constructor(){this._observableState=new Array}getObservable(e){return this._observableState[e]||(this._observableState[e]=new a.a(null)),this._observableState[e].asObservable()}setObservable(e,t){this._observableState[e]||(this._observableState[e]=new a.a(null)),this._observableState[e].next(t)}unsubscribe(e){this._observableState[e]&&(this._observableState[e].unsubscribe(),this._observableState[e]=null)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})()},V6Ve:function(e,t,n){var a=n("kekF")(Object.keys,Object);e.exports=a},VaNO:function(e,t){e.exports=function(e){return this.__data__.has(e)}},WFqU:function(e,t){var n="object"==typeof global&&global&&global.Object===Object&&global;e.exports=n},Xi7e:function(e,t,n){var a=n("KMkd"),r=n("adU4"),o=n("tMB7"),l=n("+6XX"),i=n("Z8oC");function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}s.prototype.clear=a,s.prototype.delete=r,s.prototype.get=o,s.prototype.has=l,s.prototype.set=i,e.exports=s},YESw:function(e,t,n){var a=n("Cwc5")(Object,"create");e.exports=a},YVir:function(e,t,n){"use strict";n.r(t),n.d(t,"DashboardStatsModule",function(){return Ci});var a=n("ofXK"),r=n("tyNb"),o=n("XNiG"),l=n("1G5W"),i=n("fXoL"),s=n("kmKP");const m=function(){return["/dashboard"]},c=function(){return{exact:!0}};function d(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"li",4),i["\u0275\u0275elementStart"](1,"a",5),i["\u0275\u0275text"](2,"Dashboard"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("routerLink",i["\u0275\u0275pureFunction0"](2,m))("routerLinkActiveOptions",i["\u0275\u0275pureFunction0"](3,c)))}const p=function(){return["/dashboard/enterprise-dashboard"]};function u(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"li",4),i["\u0275\u0275elementStart"](1,"a",5),i["\u0275\u0275text"](2,"Dashboard"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("routerLink",i["\u0275\u0275pureFunction0"](2,p))("routerLinkActiveOptions",i["\u0275\u0275pureFunction0"](3,c)))}const h=function(){return["/dashboard/reports"]};function g(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",1),i["\u0275\u0275elementStart"](1,"ul",2),i["\u0275\u0275template"](2,d,3,4,"li",3),i["\u0275\u0275template"](3,u,3,4,"li",3),i["\u0275\u0275elementStart"](4,"li",4),i["\u0275\u0275elementStart"](5,"a",5),i["\u0275\u0275text"](6,"Reports"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",4092!==e.companyID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",4092===e.companyID),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("routerLink",i["\u0275\u0275pureFunction0"](4,h))("routerLinkActiveOptions",i["\u0275\u0275pureFunction0"](5,c))}}let f=(()=>{class e{constructor(e){this.userService=e,this.destroy$=new o.a,this.user=this.userService.user.getValue(),this.companyID=this.user.companyID}ngOnInit(){this.userService.ecosystemNavigation.pipe(Object(l.a)(this.destroy$)).subscribe(e=>{this.hiddenNavigation=e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dashboard-stats"]],decls:2,vars:1,consts:[["class","tabs",4,"ngIf"],[1,"tabs"],[1,"nav","nav-fill","justify-content-center"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink","routerLinkActiveOptions"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,g,7,6,"div",0),i["\u0275\u0275element"](1,"router-outlet")),2&e&&i["\u0275\u0275property"]("ngIf",!t.hiddenNavigation)},directives:[a.n,r.i,r.g,r.f],styles:[".entry-content[_ngcontent-%COMP%]{padding-left:85px!important;padding-bottom:10px}h3[_ngcontent-%COMP%]{margin-bottom:0}a[_ngcontent-%COMP%]:hover{text-decoration:underline!important}.v-collapsed[_ngcontent-%COMP%]{visibility:hidden}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:0!important;padding:.25rem 1rem}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#f0f3ff;cursor:pointer}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:0;padding:.15rem 1rem}.table--legend[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{color:#333;font-size:12px;font-weight:700;fill:#333}"]}),e})();var v=n("ELnu"),S=n("6n/F"),y=n.n(S),x=n("8J6U"),D=n("A63E"),E=n("ev4g"),I=n("D+TJ"),b=n("8CXc"),C=n("Jn3s"),P=n("3Pt+"),M=n("m+qv");function w(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("disabled",e.value<n.filterParams.toMonthID&&n.filterParams.fromYearID!==n.filterParams.toYearID||n.filterParams.fromYearID===n.filterParams.toYearID&&e.value>n.filterParams.fromMonthID)("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.name," ")}}function O(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("disabled",e.value<n.filterParams.toYearID-1)("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function F(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",27),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function j(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",27),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function k(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",27),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.programID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.programTitle," ")}}function T(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",27),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.programInstanceID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.programInstanceTitle," ")}}const B=function(){return["/dashboard/financials"]},Y=function(){return["/dashboard/transactions"]},V=function(){return["/dashboard/portfolio"]},L=function(){return["/dashboard/applicants"]},A=function(){return["/dashboard/event"]},_=function(){return["/dashboard/subsidies"]};function R(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"h3"),i["\u0275\u0275text"](4,"Total Sales"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"span"),i["\u0275\u0275text"](6),i["\u0275\u0275pipe"](7,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",3),i["\u0275\u0275element"](9,"div",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"div",5),i["\u0275\u0275elementStart"](11,"h3"),i["\u0275\u0275text"](12,"Total Transaction"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"span"),i["\u0275\u0275text"](14),i["\u0275\u0275pipe"](15,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",3),i["\u0275\u0275element"](17,"div",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"div",5),i["\u0275\u0275elementStart"](19,"h3"),i["\u0275\u0275text"](20,"Total Porfolio Creation"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"span"),i["\u0275\u0275text"](22),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](23,"div",3),i["\u0275\u0275element"](24,"div",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](25,"div",5),i["\u0275\u0275elementStart"](26,"h3"),i["\u0275\u0275text"](27,"Total Applicant"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"span"),i["\u0275\u0275text"](29),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"div",3),i["\u0275\u0275element"](31,"div",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](32,"div",5),i["\u0275\u0275elementStart"](33,"h3"),i["\u0275\u0275text"](34,"Total Events"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](35,"span"),i["\u0275\u0275text"](36),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"div",3),i["\u0275\u0275element"](38,"div",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](39,"div",5),i["\u0275\u0275elementStart"](40,"h3"),i["\u0275\u0275text"](41,"Subsidies"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](42,"span"),i["\u0275\u0275text"](43),i["\u0275\u0275pipe"](44,"userCurrency"),i["\u0275\u0275pipe"](45,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](46,"div",3),i["\u0275\u0275element"](47,"div",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](48,"div",11),i["\u0275\u0275elementStart"](49,"div",12),i["\u0275\u0275elementStart"](50,"div",13),i["\u0275\u0275elementStart"](51,"div",14),i["\u0275\u0275elementStart"](52,"h3"),i["\u0275\u0275text"](53,"Filters"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](54,"div",15),i["\u0275\u0275elementStart"](55,"div",16),i["\u0275\u0275elementStart"](56,"label",17),i["\u0275\u0275text"](57,"Date From"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](58,"div",18),i["\u0275\u0275elementStart"](59,"select",19),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onMonthFromSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.fromMonthID=t}),i["\u0275\u0275template"](60,w,2,3,"option",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](61,"select",21),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().fromYearSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.fromYearID=t}),i["\u0275\u0275template"](62,O,2,3,"option",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](63,"div",16),i["\u0275\u0275elementStart"](64,"label",22),i["\u0275\u0275text"](65,"Date To"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](66,"div",18),i["\u0275\u0275elementStart"](67,"select",23),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onMonthToSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.toMonthID=t}),i["\u0275\u0275template"](68,F,2,2,"option",24),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](69,"select",25),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onYearToSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.toYearID=t}),i["\u0275\u0275template"](70,j,2,2,"option",24),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](71,"div",16),i["\u0275\u0275elementStart"](72,"select",26),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onProgramSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.programID=t}),i["\u0275\u0275elementStart"](73,"option",27),i["\u0275\u0275text"](74,"All Programs"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](75,k,2,2,"option",24),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](76,"div",16),i["\u0275\u0275elementStart"](77,"select",28),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onInstanceSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.programInstanceID=t}),i["\u0275\u0275elementStart"](78,"option",27),i["\u0275\u0275text"](79,"All Instances"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](80,T,2,2,"option",24),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("avnonLoader",e.loading||e.programLoading||e.transactionLoading||e.financialsLoading||e.jobsLoading),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate3"](" ",i["\u0275\u0275pipeBind2"](7,31,e.totalSales,"1.1-2")," combined sales from ",e.totalSalesCompanies," portfolio ",e.totalSalesCompanies>1?"companies":"company"," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("routerLink",i["\u0275\u0275pureFunction0"](42,B)),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate2"](" ",e.totalTransactions," transactions, R ",i["\u0275\u0275pipeBind2"](15,34,e.transactionsAmount,"1.1-2")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("routerLink",i["\u0275\u0275pureFunction0"](43,Y)),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate1"](" ",e.totalPortfolios," portfolios created "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("routerLink",i["\u0275\u0275pureFunction0"](44,V)),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate1"](" ",e.totalApplicants," applicants "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("routerLink",i["\u0275\u0275pureFunction0"](45,L)),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate1"](" ",e.totalEvents," events "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("routerLink",i["\u0275\u0275pureFunction0"](46,A)),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate2"](" ",i["\u0275\u0275pipeBind1"](44,37,""),"",i["\u0275\u0275pipeBind2"](45,39,e.totalSubsidies,"1.2-2")," allocated "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("routerLink",i["\u0275\u0275pureFunction0"](47,_)),i["\u0275\u0275advance"](13),i["\u0275\u0275property"]("ngModel",e.filterParams.fromMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.filterParams.fromYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.years),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",e.filterParams.toMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.filterParams.toYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.years),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.filterParams.programID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.programs),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.filterParams.programInstanceID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.instances)}}function N(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",30),i["\u0275\u0275elementStart"](2,"p",31),i["\u0275\u0275element"](3,"i",32),i["\u0275\u0275text"](4,"Dashboard Coming Soon "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]())}const $=function(){return[2,3]},G=n("2BfV"),W=n("Tos5"),U=n("M8aS"),z=n("zF3M");G(S),W(S),U(S),z(S);let J=(()=>{class e{constructor(e,t,n,a,r,o){this.userService=e,this.financialService=t,this.router=n,this.taskService=a,this.dashboardService=r,this.programsService=o,this.programs=[],this.instances=[],this.totalSales=0,this.totalSalesCompanies=0,this.today=new Date,this.filterParams={fromMonthID:(new Date).getMonth()+1,fromYearID:(new Date).getFullYear(),toMonthID:(new Date).getMonth()+1,toYearID:(new Date).getFullYear(),programID:0,programInstanceID:0},this.years=[],this.months=v.a.create(),this.totalJobs=0,this.totalPortfolios=0,this.totalApplicants=0,this.totalTransactions=0,this.transactionsAmount=0,this.totalSubsidies=0,this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID}ngOnInit(){[2,3].includes(this.user.userGroupID)||(this.initPrograms(),this.generateDateFilters(),this.fetchFinancials(),this.getTransaction(),this.getPorfoliosAndApplicants(),this.getEvents(),this.getSubsidies())}generateDateFilters(){for(let e=this.filterParams.fromYearID-5;e<=this.filterParams.toYearID+5;++e)this.years.push({name:e,value:e})}initPrograms(){this.programLoading=!0,this.programsService.getPrograms(this.companyID).subscribe(e=>{this.programs=e,this.programLoading=!1})}onProgramSelect(){this.filterParams.programInstanceID=0,this.filterParams.programID&&(this.instances=this.programs.find(e=>e.programID===this.filterParams.programID).instances),this.fetchFinancials(),this.getJobCreations(),this.getPorfoliosAndApplicants()}onInstanceSelect(){this.fetchFinancials(),this.getJobCreations(),this.getPorfoliosAndApplicants()}onMonthFromSelect(){this.getTransaction(),this.fetchFinancials(),this.getJobCreations(),this.getPorfoliosAndApplicants()}fromYearSelect(){this.filterParams.fromYearID>this.filterParams.toYearID&&(this.filterParams.toYearID=this.filterParams.fromYearID),this.getTransaction(),this.fetchFinancials(),this.getJobCreations(),this.getPorfoliosAndApplicants()}onMonthToSelect(){this.filterParams.fromMonthID=this.filterParams.toMonthID,this.getTransaction(),this.fetchFinancials(),this.getJobCreations(),this.getPorfoliosAndApplicants()}onYearToSelect(){this.filterParams.fromYearID=this.filterParams.toYearID-1,this.getTransaction(),this.fetchFinancials(),this.getJobCreations(),this.getPorfoliosAndApplicants()}fetchFinancials(){this.financialsLoading=!0;const e=this.filterParams;this.financialService.portfolioFinancial(0,e.toMonthID,e.toYearID,e.programID,e.programInstanceID,0,this.companyID).subscribe(e=>{this.generateChart(e)})}generateChart(e){let t=[];for(let r=1;r<=13;r++){const e=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-r,1),n=this.months[e.getMonth()];t.push({monthID:e.getMonth()+1,yearID:e.getFullYear(),title:`${n.name}(${e.getFullYear()})`})}t=t.reverse();const n={chart:{type:"column",height:250},title:{text:""},xAxis:{categories:t.map(e=>e.title),gridLineWidth:0,title:!1,labels:{enabled:!1}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[]},a={type:"column",name:"Income",data:[],showInLegend:!1,color:"#accafc",legend:{enabled:!1}};t.forEach(t=>{const n=e.filter(e=>e.yearID===t.yearID&&e.monthID===t.monthID).reduce((e,t)=>e+(t.actualAmount||0),0);a.data.push(n)}),n.series.push(a),this.totalSales=e.filter(e=>t.some(t=>t.yearID===e.yearID&&t.monthID===e.monthID)).reduce((e,t)=>e+(t.actualAmount||0),0),this.salesChart=S.chart("salesChart",n),this.totalSalesCompanies=Object(x.j)(e,"companyID").length,this.financialsLoading=!1}getJobCreations(){this.jobsLoading=!0;const e=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),t=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0),n=Object(x.a)(e),a=Object(x.a)(t);this.dashboardService.getJobCreation(this.companyID,n,a,this.filterParams.programID,this.filterParams.programInstanceID,0).subscribe(e=>{this.generateJobChart(e)})}generateJobChart(e){let t=[];for(let r=1;r<=13;r++){const e=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-r,1),n=this.months[e.getMonth()];t.push({monthID:e.getMonth()+1,yearID:e.getFullYear(),title:`${n.name}(${e.getFullYear()})`})}t=t.reverse();const n={chart:{type:"column",height:250},title:{text:""},xAxis:{categories:t.map(e=>e.title),gridLineWidth:0,title:!1,labels:{enabled:!1}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[]},a={type:"column",name:"Jobs",data:[],showInLegend:!1,color:"#accafc",legend:{enabled:!1}};t.forEach(t=>{const n=e.filter(e=>{const n=new Date(e.dateEmployed).getMonth()+1,a=new Date(e.dateEmployed).getFullYear();return n===t.monthID&&t.yearID===a}).length;a.data.push(n)}),n.series.push(a),this.jobsChart=S.chart("jobsChart",n),this.totalJobs=e.filter(e=>{const n=new Date(e.dateEmployed).getFullYear(),a=new Date(e.dateEmployed).getMonth()+1;return t.some(e=>e.yearID===n&&e.monthID===a)}).length,this.jobsLoading=!1}getPorfoliosAndApplicants(){this.portfolioLoading=!0,this.applicantsLoading=!0;const e=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),t=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0),n=Object(x.a)(e),a=Object(x.a)(t);this.dashboardService.getPortfolios(0,this.companyID,0,0,0,n,a).subscribe(e=>{let t=e.filter(e=>3===e.companyProgramStageStatusID&&e.companyProgramStageStartDate>=n&&e.companyProgramStageEndDate<=a),r=e.filter(e=>1===e.companyProgramStageStatusID||2===e.companyProgramStageStatusID&&e.companyProgramStageStartDate>=n&&e.companyProgramStageEndDate<=a);console.log("Portfolios information: ",t),console.log("Applicants information: ",r);var o=this.programs.map(function(e){return e.programID});t=t.filter(e=>o.includes(e.programID)),r=r.filter(e=>o.includes(e.programID)),this.generatePortfolioChart(t),this.generateApplicantsChart(r)})}generatePortfolioChart(e){let t=[];for(let r=1;r<=13;r++){const e=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-r,1),n=this.months[e.getMonth()];t.push({monthID:e.getMonth()+1,yearID:e.getFullYear(),title:`${n.name}(${e.getFullYear()})`})}t=t.reverse();const n={chart:{type:"column",height:250},title:{text:""},xAxis:{categories:t.map(e=>e.title),gridLineWidth:0,title:!1,labels:{enabled:!1}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[]},a={type:"column",name:"Portfolios",data:[],showInLegend:!1,color:"#accafc",legend:{enabled:!1}};t.forEach(t=>{const n=e.filter(e=>e.monthID===t.monthID&&e.yearID===t.yearID).length;a.data.push(n)}),n.series.push(a),this.portfoliosChart=S.chart("portfoliosChart",n),this.totalPortfolios=e.filter(e=>{const n=e.yearID,a=e.monthID;return t.some(e=>e.yearID===n&&a===e.monthID)}).length,this.portfolioLoading=!1}getEvents(){this.eventLoading=!0;const e=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),t=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0),n=Object(x.a)(e),a=Object(x.a)(t);this.dashboardService.getEnterpriseEventDetails(this.companyID,0,0,0,0,0,n,a,0,0,0,0).subscribe(e=>{this.dashboardService.setCachedEnterpriseEventDetails(e),this.generateEventsChart(e)})}generateEventsChart(e){console.log("Enterprise event data: ",e);let t=[];for(let r=1;r<=13;r++){const e=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-r,1),n=this.months[e.getMonth()];t.push({monthID:e.getMonth()+1,yearID:e.getFullYear(),title:`${n.name}(${e.getFullYear()})`})}t=t.reverse();const n={chart:{type:"column",height:250},title:{text:""},xAxis:{categories:t.map(e=>e.title),gridLineWidth:0,title:!1,labels:{enabled:!1}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[]},a={type:"column",name:"Events",data:[],showInLegend:!1,color:"#accafc",legend:{enabled:!1}};t.forEach(t=>{const n=e.filter(e=>{const n=new Date(e.startDate).getMonth()+1,a=new Date(e.startDate).getFullYear();return n===t.monthID&&a===t.yearID}).length;a.data.push(n)}),n.series.push(a),this.eventChart=S.chart("eventChart",n),this.totalEvents=e.filter(e=>{const n=new Date(e.startDate).getMonth()+1,a=new Date(e.startDate).getFullYear();return t.some(e=>e.yearID===a&&n===e.monthID)}).length,this.eventLoading=!1}generateApplicantsChart(e){let t=[];for(let r=1;r<=13;r++){const e=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-r,1),n=this.months[e.getMonth()];t.push({monthID:e.getMonth()+1,yearID:e.getFullYear(),title:`${n.name}(${e.getFullYear()})`})}t=t.reverse();const n={chart:{type:"column",height:250},title:{text:""},xAxis:{categories:t.map(e=>e.title),gridLineWidth:0,title:!1,labels:{enabled:!1}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[]},a={type:"column",name:"Applicants",data:[],showInLegend:!1,color:"#accafc",legend:{enabled:!1}};t.forEach(t=>{const n=e.filter(e=>e.monthID===t.monthID&&e.yearID===t.yearID).length;a.data.push(n)}),n.series.push(a),this.applicantsChart=S.chart("applicantsChart",n),this.totalApplicants=e.filter(e=>{const n=e.yearID,a=e.monthID;return t.some(e=>e.yearID===n&&a===e.monthID)}).length,this.applicantsLoading=!1}getTransaction(){this.transactionLoading=!0;const e=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),t=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0),n=Object(x.a)(e),a=Object(x.a)(t);this.financialService.getTransactionByAccountID(0,0,0,n,a,0,0,!1,this.companyID).subscribe(e=>{this.generateTransactionChart(e)})}generateTransactionChart(e){let t=[];for(let r=1;r<=13;r++){const e=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-r,1),n=this.months[e.getMonth()];t.push({monthID:e.getMonth()+1,yearID:e.getFullYear(),title:`${n.name}(${e.getFullYear()})`})}t=t.reverse();const n={chart:{type:"column",height:250},title:{text:""},xAxis:{categories:t.map(e=>e.title),gridLineWidth:0,title:!1,labels:{enabled:!1}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[]},a={type:"column",name:"Transactions",data:[],showInLegend:!1,color:"#accafc",legend:{enabled:!1}};t.forEach(t=>{const n=e.filter(e=>e.yearID===t.yearID&&e.monthID===t.monthID).length;a.data.push(n)}),n.series.push(a),this.totalTransactions=e.filter(e=>t.some(t=>t.yearID===e.yearID&&t.monthID===e.monthID)).length,this.transactionsAmount=e.filter(e=>t.some(t=>t.yearID===e.yearID&&t.monthID===e.monthID)).reduce((e,t)=>e+(t.transactionamount||0),0),this.transactionChart=S.chart("transactionChart",n),this.transactionLoading=!1}getSubsidies(){this.subsidyLoading=!0,this.taskService.getTask(0,39,0,0,this.companyID,0,0,0).subscribe(e=>{this.totalSubsidies=e.reduce((e,t)=>e+(t.taskBudget||t.taskValue||0),0);let t=[];for(let r=1;r<=13;r++){const e=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-r,1);t.push({monthID:e.getMonth()+1,yearID:e.getFullYear(),title:Object(x.a)(e,"MMM yyyy")})}t=t.reverse();const n={chart:{type:"column",height:250},title:{text:""},xAxis:{categories:t.map(e=>e.title),gridLineWidth:0},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[]},a={type:"column",name:"Subsidies",data:[],showInLegend:!1,color:"#accafc",legend:{enabled:!1}};t.forEach(t=>{const n=e.filter(e=>{if(e.endDate){const n=new Date(e.endDate);return n.getFullYear()===t.yearID&&n.getMonth()+1===t.monthID}return!1}).reduce((e,t)=>e+(t.taskBudget||t.taskValue||0),0);a.data.push(n)}),n.series.push(a),this.subsidyChart=S.chart("subsidyChart",n),this.subsidyLoading=!1})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](s.a),i["\u0275\u0275directiveInject"](D.a),i["\u0275\u0275directiveInject"](r.d),i["\u0275\u0275directiveInject"](E.a),i["\u0275\u0275directiveInject"](I.a),i["\u0275\u0275directiveInject"](b.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dashboard-stats-overview"]],decls:2,vars:4,consts:[[4,"ngIf"],[1,"d-flex","flex-column","w-100","pb-5",3,"avnonLoader"],[1,"col-12","d-flex","flex-column","filter-container","border-bottom","mt-3","border-top"],[1,"col-12","chart-wrapper",3,"routerLink"],["id","salesChart",1,"chart"],[1,"col-12","d-flex","flex-column","filter-container","border-bottom","mt-3","border-top","border-top"],["id","transactionChart",1,"chart"],["id","portfoliosChart",1,"chart"],["id","applicantsChart",1,"chart"],["id","eventChart",1,"chart"],["id","subsidyChart",1,"chart"],[1,"col-auto","filter-section"],[1,"sticky-container","d-flex","flex-column"],[1,"card"],[1,"card-header"],[1,"card-body","pb-0"],[1,"form-group"],["for","dateFrom"],[1,"input-group"],["id","dateFrom","name","fromMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","change","ngModelChange"],[3,"disabled","ngValue",4,"ngFor","ngForOf"],["name","fromYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],["for","dateTo"],["id","dateTo","name","toMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["name","toYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],["name","programID",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],[3,"ngValue"],["name","programInstanceID",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],[3,"disabled","ngValue"],[1,"d-flex","flex-column","w-100","pb-5"],[1,"p-3","twitter-fill","mt-4"],[1,"fas","fa-info-circle","text-primary","mr-2"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,R,81,48,"ng-container",0),i["\u0275\u0275template"](1,N,5,0,"ng-container",0)),2&e&&(i["\u0275\u0275property"]("ngIf",!i["\u0275\u0275pureFunction0"](2,$).includes(t.user.userGroupID)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pureFunction0"](3,$).includes(t.user.userGroupID)))},directives:[a.n,C.a,r.e,P.B,P.q,P.t,a.m,P.v,P.D],pipes:[a.f,M.a],styles:[".chart-wrapper[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();var H=n("9122");function q(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",3),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"]().navigateToProfile(t.id)}),i["\u0275\u0275elementStart"](1,"h2"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.title)}}function X(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,q,3,1,"div",2),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2!==e.id||2===e.id&&n.superAdmin||2!==n.user.userGroupID)}}let K=(()=>{class e{constructor(e,t){this.userService=e,this.router=t,this.reportList=[],this.user=this.userService.user.getValue(),this.superAdmin=this.user.permissions.some(e=>e.permissionAreaID===H.b.Admin)}ngOnInit(){this.isQstp=window.location.hostname.toLocaleLowerCase().includes("qstp"),[2,3].includes(this.user.userGroupID)?this.reportList=[{id:1,title:"Executive Summary",desc:"Description"},{id:2,title:"Financial Summary",desc:"Description"},{id:3,title:"Training Summary",desc:"Description"},{id:4,title:"Individual Training Summary",desc:"Description"},{id:5,title:"ATR - Beneficiaries Trained",desc:"Description"},{id:6,title:"ATR - Interventions Completed",desc:"Description"},{id:7,title:"Seta Employee Summary",desc:"Description"},{id:8,title:"BEE",desc:"Description"}]:this.isQstp?(this.reportList.push({id:5,title:"Annual Summary",desc:"Description"}),this.reportList.push({id:6,title:"Monthly Executive Summary",desc:"Description"})):this.reportList=[{id:1,title:"Applicants Summary",desc:"Description"},{id:2,title:"Training Summary",desc:"Description"},{id:3,title:"Mentoring Summary",desc:"Description"},{id:4,title:"Company Summary",desc:"Description"}]}navigateToProfile(e){this.router.navigate(["/dashboard/reports/"+e])}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](s.a),i["\u0275\u0275directiveInject"](r.d))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dashboard-reports-overview"]],decls:2,vars:1,consts:[[1,"d-flex","flex-column","w-100","pb-5"],[4,"ngFor","ngForOf"],["class","entry pb-3",3,"click",4,"ngIf"],[1,"entry","pb-3",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,X,2,1,"ng-container",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.reportList))},directives:[a.m,a.n],styles:[""]}),e})();var Q=n("AytR");const Z=function(e,t,n){return{"level-4":e,"level-3":t,"level-2":n}};function ee(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",24),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"]().navigateToFinancials(n.companyID)}),i["\u0275\u0275elementStart"](1,"span",25),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span",26),i["\u0275\u0275element"](4,"img",27),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",28),i["\u0275\u0275elementStart"](6,"h2"),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"span",29),i["\u0275\u0275text"](9),i["\u0275\u0275pipe"](10,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,a=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction3"](8,Z,n>=999,n>=99,n>=9)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n+1,". "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",e.companyLogo?a.blobUrl+"256px/"+e.companyLogo:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.companyName),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("R ",i["\u0275\u0275pipeBind2"](10,5,e.actualAmount,"1.1-2"),"")}}function te(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",22),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.name," ")}}function ne(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",22),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function ae(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",22),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function re(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",22),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function oe(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",22),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.programID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.programTitle," ")}}function le(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",22),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.programInstanceID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.programInstanceTitle," ")}}let ie=(()=>{class e{constructor(e,t,n,a){this.financialService=e,this.router=t,this.programsService=n,this.userService=a,this.programs=[],this.instances=[],this.totalSales=0,this.totalSalesCompanies=0,this.financial=[],this.filterParams={fromMonthID:(new Date).getMonth(),fromYearID:(new Date).getFullYear(),toMonthID:(new Date).getMonth()+1,toYearID:(new Date).getFullYear(),programID:0,programInstanceID:0},this.years=[],this.months=v.a.create(),this.blobUrl=Q.a.apiBlobUrl+"/",this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID}ngOnInit(){this.userService.ecosystemNavigation.next(!0),this.initPrograms(),this.generateDateFilters(),this.fetchFinancials()}generateDateFilters(){for(let e=this.filterParams.fromYearID-5;e<=this.filterParams.toYearID+5;++e)this.years.push({name:e,value:e})}initPrograms(){this.programLoading=!0,this.programsService.getPrograms(this.companyID).subscribe(e=>{this.programs=e,this.programLoading=!1})}onProgramSelect(){this.filterParams.programInstanceID=0,this.filterParams.programID&&(this.instances=this.programs.find(e=>e.programID===this.filterParams.programID).instances),this.fetchFinancials()}onInstanceSelect(){this.fetchFinancials()}onYearFromSelect(){this.fetchFinancials()}fetchFinancials(){this.financialsLoading=!0,this.financial=[];const e=this.filterParams;this.financialService.portfolioFinancial(0,e.fromMonthID,e.toYearID,e.programID,e.programInstanceID,0,this.companyID).subscribe(e=>{this.totalSales=e.filter(e=>e.yearID===this.filterParams.fromYearID).reduce((e,t)=>e+(t.actualAmount||0),0);const t=Object(x.j)(e,"companyID");this.totalSalesCompanies=t.length,t.forEach(t=>{const n=e.filter(e=>e.companyID===t.companyID&&e.yearID===this.filterParams.fromYearID);n.length&&(t.actualAmount=n.reduce((e,t)=>e+(t.actualAmount||0),0)),this.financial.push(t)}),this.financial=this.financial.sort((e,t)=>t.actualAmount-e.actualAmount),this.financialsLoading=!1})}navigateToFinancials(e){this.router.navigate(["/dashboard/financials",e])}back(){this.router.navigate(["/dashboard"])}ngOnDestroy(){this.userService.ecosystemNavigation.next(!1)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](D.a),i["\u0275\u0275directiveInject"](r.d),i["\u0275\u0275directiveInject"](b.a),i["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dashboard-financials"]],decls:46,vars:22,consts:[[1,"d-flex","flex-column","w-100",3,"avnonLoader"],[1,"page-title"],[1,"cursor-pointer","text-primary","display-inline","mr-2",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline"],[1,"col-12","d-flex","flex-column","filter-container","border-bottom"],["class","entry",3,"click",4,"ngFor","ngForOf"],[1,"col-auto","filter-section"],[1,"sticky-container","d-flex","flex-column"],[1,"card"],[1,"card-header"],[1,"card-body","pb-0"],[1,"form-group"],["for","dateFrom"],[1,"input-group"],["id","dateFrom","name","fromMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["name","fromYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],["for","dateTo"],["id","dateTo","name","toMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","ngModelChange"],["name","toYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","ngModelChange"],["name","programID",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],[3,"ngValue"],["name","programInstanceID",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],[1,"entry",3,"click"],[1,"rank",3,"ngClass"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","network",1,"avatar","avatar-48","contain-avatar",3,"src"],[1,"d-flex"],[1,"ml-auto"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"span",2),i["\u0275\u0275listener"]("click",function(){return t.back()}),i["\u0275\u0275element"](3,"i",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"h1",4),i["\u0275\u0275text"](5,"Portfolio Sales Dashboard"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",5),i["\u0275\u0275elementStart"](7,"h3"),i["\u0275\u0275text"](8,"Total Sales"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"span"),i["\u0275\u0275text"](10),i["\u0275\u0275pipe"](11,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](12,ee,11,12,"div",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",7),i["\u0275\u0275elementStart"](14,"div",8),i["\u0275\u0275elementStart"](15,"div",9),i["\u0275\u0275elementStart"](16,"div",10),i["\u0275\u0275elementStart"](17,"h3"),i["\u0275\u0275text"](18,"Filters"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"div",11),i["\u0275\u0275elementStart"](20,"div",12),i["\u0275\u0275elementStart"](21,"label",13),i["\u0275\u0275text"](22,"Date From"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](23,"div",14),i["\u0275\u0275elementStart"](24,"select",15),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.filterParams.fromMonthID=e}),i["\u0275\u0275template"](25,te,2,2,"option",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"select",17),i["\u0275\u0275listener"]("change",function(){return t.onYearFromSelect()})("ngModelChange",function(e){return t.filterParams.fromYearID=e}),i["\u0275\u0275template"](27,ne,2,2,"option",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"div",12),i["\u0275\u0275elementStart"](29,"label",18),i["\u0275\u0275text"](30,"Date To"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](31,"div",14),i["\u0275\u0275elementStart"](32,"select",19),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.filterParams.toMonthID=e}),i["\u0275\u0275template"](33,ae,2,2,"option",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"select",20),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.filterParams.toYearID=e}),i["\u0275\u0275template"](35,re,2,2,"option",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](36,"div",12),i["\u0275\u0275elementStart"](37,"select",21),i["\u0275\u0275listener"]("change",function(){return t.onProgramSelect()})("ngModelChange",function(e){return t.filterParams.programID=e}),i["\u0275\u0275elementStart"](38,"option",22),i["\u0275\u0275text"](39,"All Programs"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](40,oe,2,2,"option",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](41,"div",12),i["\u0275\u0275elementStart"](42,"select",23),i["\u0275\u0275listener"]("change",function(){return t.onInstanceSelect()})("ngModelChange",function(e){return t.filterParams.programInstanceID=e}),i["\u0275\u0275elementStart"](43,"option",22),i["\u0275\u0275text"](44,"All Instances"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](45,le,2,2,"option",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("avnonLoader",t.loading||t.programLoading||t.financialsLoading),i["\u0275\u0275advance"](10),i["\u0275\u0275textInterpolate3"](" ",i["\u0275\u0275pipeBind2"](11,19,t.totalSales,"1.1-2")," combined sales from ",t.totalSalesCompanies," portfolio ",t.totalSalesCompanies>1?"companies":"company"," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.financial),i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngModel",t.filterParams.fromMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.filterParams.fromYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.years),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.filterParams.toMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.filterParams.toYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.years),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.filterParams.programID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.programs),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.filterParams.programInstanceID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.instances))},directives:[C.a,a.m,P.B,P.q,P.t,P.v,P.D,a.l],pipes:[a.f],styles:[".rank[_ngcontent-%COMP%]{font-weight:500;font-size:18px;float:left;margin-right:4px;min-width:20px}.rank.level-2[_ngcontent-%COMP%]{min-width:30px!important}.rank.level-3[_ngcontent-%COMP%]{min-width:40px}.rank.level-4[_ngcontent-%COMP%]{min-width:50px}"]}),e})();var se=n("cp0P"),me=n("GXd7"),ce=n("VQo2"),de=n("Hu2X");function pe(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td"),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"td"),i["\u0275\u0275text"](7),i["\u0275\u0275pipe"](8,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"td"),i["\u0275\u0275text"](10),i["\u0275\u0275pipe"](11,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.month),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("text-danger",!e.incomeAbove&&0!==e.incomeAmount),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](5,6,e.incomeAmount,"1.1-2")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](8,9,e.expenseAmount,"1.1-2")),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](11,12,e.profitAmount,"1.1-2"))}}function ue(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",20),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}const he=n("2BfV"),ge=n("Tos5"),fe=n("M8aS"),ve=n("zF3M");he(S),ge(S),fe(S),ve(S);let Se=(()=>{class e{constructor(e,t,n,a,r){this.activatedRoute=e,this.companyService=t,this.router=n,this.financialService=a,this.userService=r,this.years=[],this.yearID=(new Date).getFullYear(),this.months=me.a.create(),this.monthID=0,this.totalSales=0,this.financial=[],this.financialData=[],this.budget=[],this.destroy$=new o.a}ngOnInit(){this.userService.ecosystemNavigation.next(!0),this.companyID=this.activatedRoute.snapshot.params.companyID,this.generateDateFilters(),this.getProfile(),this.getFinancials()}getProfile(){this.companyService.getCompanyProfile(this.companyID).subscribe(e=>{this.company=e})}generateDateFilters(){for(let e=this.yearID-5;e<=this.yearID+5;++e)this.years.push({name:e,value:e})}onYearChange(){this.getFinancials()}getFinancials(){this.financialsLoading=!0,this.financial=[],this.financialData=[],this.budget=[];const e={companyID:this.companyID,financialCategoryID:0,monthID:0,yearID:this.yearID},t={companyBudgetID:0,companyID:this.companyID,companyFinancialCategoryID:0,monthID:0,yearID:this.yearID,companyAccountID:0};Object(se.a)(this.financialService.getFinancial(e),this.financialService.getBudgets(t)).pipe(Object(l.a)(this.destroy$)).subscribe(e=>{this.financial=e[0],this.budget=e[1],this.generateFinancialChart()})}generateFinancialChart(){const e={chart:{type:"column",height:300},title:{text:""},xAxis:{categories:this.months.map(e=>e.name),gridLineWidth:0,title:!1,labels:{enabled:!1}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},series:[],responsive:{rules:[{condition:{maxWidth:600},chartOptions:{legend:{align:"center",verticalAlign:"bottom",layout:"horizontal"},yAxis:{labels:{align:"left",x:0,y:-5},title:{text:null}},subtitle:{text:null},credits:{enabled:!1}}}]}},t={type:"column",name:"Income",data:[],showInLegend:!1,color:"#accafc",legend:{enabled:!1}},n={type:"column",name:"Profit",data:[],color:"rgb(144, 237, 125)",showInLegend:!1,legend:{enabled:!1}},a={type:"spline",name:"Budget",data:[],showInLegend:!1,legend:{enabled:!1},marker:{enabled:!1},lineWidth:1};this.months.forEach(e=>{const r=this.financial.filter(t=>t.yearID===this.yearID&&t.monthID===e.value&&1===t.financialCategoryTypeID),o=this.financial.filter(t=>t.yearID===this.yearID&&t.monthID===e.value&&2===t.financialCategoryTypeID),l=this.budget.filter(t=>t.yearID===this.yearID&&t.monthID===e.value&&1===t.financialCategoryTypeID),i=r.reduce((e,t)=>e+t.actualAmount||0,0),s=o.reduce((e,t)=>e+t.actualAmount||0,0),m=l.reduce((e,t)=>e+(t.budgetAmount||0),0),c=i-s,d=new ce.a;d.incomeAmount=i,d.expenseAmount=s,d.budgetAmount=m,d.profitAmount=c,d.month=e.name,d.incomeAbove=i>=m,this.financialData.push(d),n.data.push(i>=s?c:{y:c,color:"#f44336"}),a.data.push(m),t.data.push(i)});const r=this.financial.filter(e=>e.yearID===this.yearID&&1===e.financialCategoryTypeID);this.totalSales=r.reduce((e,t)=>e+(t.actualAmount||0),0),e.series.push(a),e.series.push(t),e.series.push(n),this.salesChart=S.chart("cashChart",e),this.financialsLoading=!1}back(){this.router.navigate(["/dashboard/financials"])}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.userService.ecosystemNavigation.next(!1)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.a),i["\u0275\u0275directiveInject"](de.a),i["\u0275\u0275directiveInject"](r.d),i["\u0275\u0275directiveInject"](D.a),i["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dashboard-financials-breakdown"]],decls:40,vars:9,consts:[[1,"d-flex","flex-column","w-100",3,"avnonLoader"],[1,"page-title"],[1,"cursor-pointer","text-primary","display-inline","mr-2",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline"],[1,"col-12","d-flex","flex-column","filter-container","border-bottom"],[1,"col-12"],["id","cashChart",1,"w-100","chart-container"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"col-auto","filter-section"],[1,"sticky-container","d-flex","flex-column"],[1,"card"],[1,"card-header"],[1,"card-body","pb-0"],[1,"form-group"],["for","yearID"],["name","fromYearID","id","yearID",1,"w-100","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"span",2),i["\u0275\u0275listener"]("click",function(){return t.back()}),i["\u0275\u0275element"](3,"i",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"h1",4),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",5),i["\u0275\u0275elementStart"](7,"h3"),i["\u0275\u0275text"](8,"Total Sales"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"span"),i["\u0275\u0275text"](10),i["\u0275\u0275pipe"](11,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",6),i["\u0275\u0275element"](13,"div",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"div",8),i["\u0275\u0275elementStart"](15,"table",9),i["\u0275\u0275elementStart"](16,"thead"),i["\u0275\u0275elementStart"](17,"tr"),i["\u0275\u0275elementStart"](18,"th"),i["\u0275\u0275text"](19,"Month"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"th"),i["\u0275\u0275text"](21,"Income"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"th"),i["\u0275\u0275text"](23,"Expense"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"th"),i["\u0275\u0275text"](25,"Profit"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"tbody"),i["\u0275\u0275template"](27,pe,12,15,"tr",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"div",11),i["\u0275\u0275elementStart"](29,"div",12),i["\u0275\u0275elementStart"](30,"div",13),i["\u0275\u0275elementStart"](31,"div",14),i["\u0275\u0275elementStart"](32,"h3"),i["\u0275\u0275text"](33,"Filters"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"div",15),i["\u0275\u0275elementStart"](35,"div",16),i["\u0275\u0275elementStart"](36,"label",17),i["\u0275\u0275text"](37,"Year"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](38,"select",18),i["\u0275\u0275listener"]("change",function(){return t.onYearChange()})("ngModelChange",function(e){return t.yearID=e}),i["\u0275\u0275template"](39,ue,2,2,"option",19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("avnonLoader",t.loading||t.financialsLoading),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"]("",null==t.company?null:t.company.companyName," Financials"),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](11,6,t.totalSales,"1.1-2")," sales "),i["\u0275\u0275advance"](17),i["\u0275\u0275property"]("ngForOf",t.financialData),i["\u0275\u0275advance"](11),i["\u0275\u0275property"]("ngModel",t.yearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.years))},directives:[C.a,a.m,P.B,P.q,P.t,P.v,P.D],pipes:[a.f],styles:[""]}),e})();var ye=n("1kSV");const xe=function(e,t,n){return{"level-4":e,"level-3":t,"level-2":n}};function De(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",35),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"]().openCompanyEmployees(n.companyID)}),i["\u0275\u0275elementStart"](1,"span",36),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span",37),i["\u0275\u0275element"](4,"img",38),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",39),i["\u0275\u0275elementStart"](6,"h2"),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"span",40),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,a=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction3"](5,xe,n>=999,n>=99,n>=9)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n+1,". "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",e.companyLogo?a.blobUrl+"256px/"+e.companyLogo:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.companyName),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalCount)}}function Ee(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",41),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("disabled",e.value<n.filterParams.toMonthID&&n.filterParams.fromYearID!==n.filterParams.toYearID||n.filterParams.fromYearID===n.filterParams.toYearID&&e.value>n.filterParams.fromMonthID)("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.name," ")}}function Ie(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",41),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("disabled",e.value<n.filterParams.toYearID-1)("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function be(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",33),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Ce(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",33),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Pe(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",33),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.programID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.programTitle," ")}}function Me(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",33),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.programInstanceID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.programInstanceTitle," ")}}const we=n("2BfV"),Oe=n("Tos5"),Fe=n("M8aS"),je=n("zF3M");we(S),Oe(S),Fe(S),je(S);let ke=(()=>{class e{constructor(e,t,n,a,r){this.dashboardService=e,this.userService=t,this.programsService=n,this.router=a,this.modal=r,this.programs=[],this.instances=[],this.today=new Date,this.filterParams={fromMonthID:(new Date).getMonth()+1,fromYearID:(new Date).getFullYear(),toMonthID:(new Date).getMonth()+1,toYearID:(new Date).getFullYear(),programID:0,programInstanceID:0},this.years=[],this.months=v.a.create(),this.blobUrl=Q.a.apiBlobUrl+"/",this.totalJobs=0,this.jobCreations=[],this.companyJobRankings=[],this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID}ngOnInit(){this.userService.ecosystemNavigation.next(!0),this.generateDateFilters(),this.initPrograms(),this.getJobCreations()}generateDateFilters(){for(let e=this.filterParams.fromYearID-5;e<=this.filterParams.toYearID+5;++e)this.years.push({name:e,value:e})}initPrograms(){this.programLoading=!0,this.programsService.getPrograms(this.companyID).subscribe(e=>{this.programs=e,this.programLoading=!1})}onProgramSelect(){this.filterParams.programInstanceID=0,this.filterParams.programID&&(this.instances=this.programs.find(e=>e.programID===this.filterParams.programID).instances),this.getJobCreations()}onInstanceSelect(){this.getJobCreations()}onMonthFromSelect(){this.getJobCreations()}fromYearSelect(){this.filterParams.fromYearID>this.filterParams.toYearID&&(this.filterParams.toYearID=this.filterParams.fromYearID),this.getJobCreations()}onMonthToSelect(){this.filterParams.fromMonthID=this.filterParams.toMonthID,this.getJobCreations()}onYearToSelect(){this.filterParams.fromYearID=this.filterParams.toYearID-1,this.getJobCreations()}getJobCreations(){this.jobsLoading=!0;const e=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),t=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0),n=Object(x.a)(e),a=Object(x.a)(t);this.dashboardService.getJobCreation(this.companyID,n,a,this.filterParams.programID,this.filterParams.programInstanceID,0).subscribe(e=>{this.generateJobChart(e)})}generateJobChart(e){let t=[];for(let s=1;s<=13;s++){const e=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-s,1),n=this.months[e.getMonth()];t.push({monthID:e.getMonth()+1,yearID:e.getFullYear(),title:`${n.name}(${e.getFullYear()})`})}t=t.reverse();const n={chart:{type:"column",height:300},title:{text:""},xAxis:{categories:t.map(e=>e.title),gridLineWidth:0,title:!1,labels:{enabled:!1},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:S.defaultOptions.title.style&&S.defaultOptions.title.style.color||"gray"}}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0}}},series:[]},a={type:"column",name:"Full Time - Permanent",data:[],dataLabels:{enabled:!1}},r={type:"column",name:"Full Time - Contract",data:[],dataLabels:{enabled:!1}},o={type:"column",name:"Part Time",data:[],dataLabels:{enabled:!1}};t.forEach(t=>{const n=e.filter(e=>{const n=new Date(e.dateEmployed).getMonth()+1,a=new Date(e.dateEmployed).getFullYear();return n===t.monthID&&t.yearID===a&&1===e.employmentTypeID}).length,l=e.filter(e=>{const n=new Date(e.dateEmployed).getMonth()+1,a=new Date(e.dateEmployed).getFullYear();return n===t.monthID&&t.yearID===a&&2===e.employmentTypeID}).length,i=e.filter(e=>{const n=new Date(e.dateEmployed).getMonth()+1,a=new Date(e.dateEmployed).getFullYear();return n===t.monthID&&t.yearID===a&&3===e.employmentTypeID}).length;a.data.push(n),r.data.push(l),o.data.push(i)}),n.series.push(a),n.series.push(r),n.series.push(o);const l=e.filter(e=>{const n=new Date(e.dateEmployed).getMonth()+1,a=new Date(e.dateEmployed).getFullYear();return t.some(e=>e.monthID===n&&e.yearID===a)}),i=[];Object(x.j)(l,"companyID").forEach(e=>{e.totalCount=l.filter(t=>t.companyID===e.companyID).length,i.push(e)}),this.companyJobRankings=i.sort((e,t)=>t.totalCount-e.totalCount),this.jobsChart=S.chart("jobsChart",n),this.totalJobs=e.filter(e=>{const n=new Date(e.dateEmployed).getFullYear(),a=new Date(e.dateEmployed).getMonth()+1;return t.some(e=>e.yearID===n&&e.monthID===a)}).length,this.generateAgeChart(l),this.generateRaceChart(l),this.generateGenderChart(l),this.generateIndustryChart(l),this.jobsLoading=!1}generateRaceChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}},n={name:"Race",colorByPoint:!0,data:[]};Object(x.j)(e,"raceEn",!1).forEach(t=>{const a={name:t.raceEN||"Not Specified",y:e.filter(e=>e.raceEN===t.raceEN).length};n.data.push(a)}),t.series.push(n),this.raceChart=S.chart("race",t)}generateAgeChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}},n={name:"Age",colorByPoint:!0,data:[]};Object(x.j)(e,"ageGroup",!1).forEach(t=>{const a={name:t.ageGroup||"Not Specified",y:e.filter(e=>e.ageGroup===t.ageGroup).length};n.data.push(a)}),t.series.push(n),this.ageChart=S.chart("age",t)}generateIndustryChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}},n={name:"Industry",colorByPoint:!0,data:[]};Object(x.j)(e,"industry",!1).forEach(t=>{const a={name:t.industry||"Not Specified",y:e.filter(e=>e.industry===t.industry).length};n.data.push(a)}),t.series.push(n),this.industryChart=S.chart("industry",t)}generateGenderChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}},n={name:"Gender",colorByPoint:!0,data:[]};Object(x.j)(e,"gender",!1).forEach(t=>{const a={name:t.gender||"Not Specified",y:e.filter(e=>e.gender===t.gender).length};n.data.push(a)}),t.series.push(n),this.genderChart=S.chart("gender",t)}openCompanyEmployees(e){const t=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),n=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0),a=Object(x.a)(t),r=Object(x.a)(n);this.router.navigate(["/dashboard/job-creation",e],{queryParams:{startDate:a,endDate:r}})}back(){this.router.navigate(["/dashboard"])}ngOnDestroy(){this.userService.ecosystemNavigation.next(!1)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](I.a),i["\u0275\u0275directiveInject"](s.a),i["\u0275\u0275directiveInject"](b.a),i["\u0275\u0275directiveInject"](r.d),i["\u0275\u0275directiveInject"](ye.p))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dashboard-job-creation"]],decls:69,vars:20,consts:[[1,"d-flex","flex-column","w-100",3,"avnonLoader"],[1,"page-title"],[1,"cursor-pointer","text-primary","display-inline","mr-2",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline"],[1,"col-12","d-flex","flex-column","filter-container","border-bottom","mt-3","border-top","border-top"],[1,"col-12","mb-3"],["id","jobsChart",1,"chart"],[1,"row"],[1,"col-lg-3","col-md-6","col-sm-12","d-flex","flex-column"],[1,"text-center"],["id","gender",1,"pie","w-100"],["id","age",1,"pie","w-100"],["id","industry",1,"pie","w-100"],["id","race",1,"pie","w-100"],[1,"col-12","d-flex","flex-column","filter-container","border-top","mt-3","border-bottom"],["class","entry",3,"click",4,"ngFor","ngForOf"],[1,"col-auto","filter-section"],[1,"sticky-container","d-flex","flex-column"],[1,"card"],[1,"card-header"],[1,"card-body","pb-0"],[1,"form-group"],["for","dateFrom"],[1,"input-group"],["id","dateFrom","name","fromMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","change","ngModelChange"],[3,"disabled","ngValue",4,"ngFor","ngForOf"],["name","fromYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],["for","dateTo"],["id","dateTo","name","toMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["name","toYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],["name","programID",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],[3,"ngValue"],["name","programInstanceID",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],[1,"entry",3,"click"],[1,"rank",3,"ngClass"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","network",1,"avatar","avatar-48","contain-avatar",3,"src"],[1,"d-flex"],[1,"ml-auto"],[3,"disabled","ngValue"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"span",2),i["\u0275\u0275listener"]("click",function(){return t.back()}),i["\u0275\u0275element"](3,"i",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"h1",4),i["\u0275\u0275text"](5,"Job Creation Dashboard"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",5),i["\u0275\u0275elementStart"](7,"h3"),i["\u0275\u0275text"](8,"Total Jobs Creation"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"span"),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",6),i["\u0275\u0275element"](12,"div",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",8),i["\u0275\u0275elementStart"](14,"div",9),i["\u0275\u0275elementStart"](15,"label",10),i["\u0275\u0275text"](16,"Jobs By Gender"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](17,"div",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"div",9),i["\u0275\u0275elementStart"](19,"label",10),i["\u0275\u0275text"](20,"Jobs By Age"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](21,"div",12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"div",9),i["\u0275\u0275elementStart"](23,"label",10),i["\u0275\u0275text"](24,"Jobs By industry"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](25,"div",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"div",9),i["\u0275\u0275elementStart"](27,"label",10),i["\u0275\u0275text"](28,"Jobs By Race"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](29,"div",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"div",15),i["\u0275\u0275elementStart"](31,"h3"),i["\u0275\u0275text"](32,"Jobs Created by Company"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](33,"span"),i["\u0275\u0275text"](34),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](35,De,10,9,"div",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](36,"div",17),i["\u0275\u0275elementStart"](37,"div",18),i["\u0275\u0275elementStart"](38,"div",19),i["\u0275\u0275elementStart"](39,"div",20),i["\u0275\u0275elementStart"](40,"h3"),i["\u0275\u0275text"](41,"Filters"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](42,"div",21),i["\u0275\u0275elementStart"](43,"div",22),i["\u0275\u0275elementStart"](44,"label",23),i["\u0275\u0275text"](45,"Date From"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](46,"div",24),i["\u0275\u0275elementStart"](47,"select",25),i["\u0275\u0275listener"]("change",function(){return t.onMonthFromSelect()})("ngModelChange",function(e){return t.filterParams.fromMonthID=e}),i["\u0275\u0275template"](48,Ee,2,3,"option",26),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](49,"select",27),i["\u0275\u0275listener"]("change",function(){return t.fromYearSelect()})("ngModelChange",function(e){return t.filterParams.fromYearID=e}),i["\u0275\u0275template"](50,Ie,2,3,"option",26),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](51,"div",22),i["\u0275\u0275elementStart"](52,"label",28),i["\u0275\u0275text"](53,"Date To"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](54,"div",24),i["\u0275\u0275elementStart"](55,"select",29),i["\u0275\u0275listener"]("change",function(){return t.onMonthToSelect()})("ngModelChange",function(e){return t.filterParams.toMonthID=e}),i["\u0275\u0275template"](56,be,2,2,"option",30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](57,"select",31),i["\u0275\u0275listener"]("change",function(){return t.onYearToSelect()})("ngModelChange",function(e){return t.filterParams.toYearID=e}),i["\u0275\u0275template"](58,Ce,2,2,"option",30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](59,"div",22),i["\u0275\u0275elementStart"](60,"select",32),i["\u0275\u0275listener"]("change",function(){return t.onProgramSelect()})("ngModelChange",function(e){return t.filterParams.programID=e}),i["\u0275\u0275elementStart"](61,"option",33),i["\u0275\u0275text"](62,"All Programs"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](63,Pe,2,2,"option",30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](64,"div",22),i["\u0275\u0275elementStart"](65,"select",34),i["\u0275\u0275listener"]("change",function(){return t.onInstanceSelect()})("ngModelChange",function(e){return t.filterParams.programInstanceID=e}),i["\u0275\u0275elementStart"](66,"option",33),i["\u0275\u0275text"](67,"All Instances"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](68,Me,2,2,"option",30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("avnonLoader",t.loading||t.programLoading||t.jobsLoading),i["\u0275\u0275advance"](10),i["\u0275\u0275textInterpolate1"](" ",t.totalJobs," jobs created "),i["\u0275\u0275advance"](24),i["\u0275\u0275textInterpolate3"](" ",t.totalJobs," jobs created by ",t.companyJobRankings.length," ",t.companyJobRankings.length>1?"Companies":"Company"," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.companyJobRankings),i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngModel",t.filterParams.fromMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.filterParams.fromYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.years),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.filterParams.toMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.filterParams.toYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.years),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.filterParams.programID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.programs),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.filterParams.programInstanceID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.instances))},directives:[C.a,a.m,P.B,P.q,P.t,P.v,P.D,a.l],styles:[".rank[_ngcontent-%COMP%]{font-weight:500;font-size:18px;float:left;margin-right:4px;min-width:20px}.rank.level-2[_ngcontent-%COMP%]{min-width:30px!important}.rank.level-3[_ngcontent-%COMP%]{min-width:40px}.rank.level-4[_ngcontent-%COMP%]{min-width:50px}"]}),e})();var Te=n("WhH8"),Be=n("SdWN"),Ye=n("0mlJ");function Ve(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"p"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.headline)}}function Le(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",9),i["\u0275\u0275elementStart"](1,"span",10),i["\u0275\u0275element"](2,"img",11),i["\u0275\u0275pipe"](3,"avatar"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",12),i["\u0275\u0275elementStart"](5,"h2"),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",13),i["\u0275\u0275elementStart"](8,"span"),i["\u0275\u0275text"](9),i["\u0275\u0275pipe"](10,"date"),i["\u0275\u0275pipe"](11,"dateObject"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",14),i["\u0275\u0275template"](13,Ve,2,1,"p",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",i["\u0275\u0275pipeBind1"](3,6,e.profilePhoto),i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate2"]("",e.firstName," ",e.surname,""),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate2"]("",e.designation,", since ",i["\u0275\u0275pipeBind2"](10,8,i["\u0275\u0275pipeBind1"](11,11,e.dateEmployed),"dd MMM yyyy"),""),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",e.headline)}}function Ae(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,Le,14,13,"div",8),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.contacts)}}let _e=(()=>{class e{constructor(e,t,n,a,r){this.activatedRoute=e,this.companyService=t,this.router=n,this.contactService=a,this.userService=r,this.teamCount=0,this.contacts=[],this.startDate="",this.endDate="",this.months=v.a.create()}ngOnInit(){this.userService.ecosystemNavigation.next(!0),this.companyID=+this.activatedRoute.snapshot.params.companyID,this.startDate=this.activatedRoute.snapshot.queryParams.startDate,this.endDate=this.activatedRoute.snapshot.queryParams.endDate,this.getProfile(),this.getTeams()}getProfile(){this.companyService.getCompanyProfile(this.companyID).subscribe(e=>{this.company=e})}getTeams(){this.loading=!0;const e=[],t=new Date(this.endDate);for(let n=1;n<=13;n++){const a=new Date(t.getFullYear(),t.getMonth()+1-n,1),r=this.months[a.getMonth()];e.push({monthID:a.getMonth()+1,yearID:a.getFullYear(),title:`${r.name}(${a.getFullYear()})`})}this.contactService.getContacts(this.companyID).subscribe(t=>{this.contacts=t.filter(t=>t.companyID===this.companyID&&e.some(e=>{const n=new Date(t.dateEmployed).getFullYear(),a=new Date(t.dateEmployed).getMonth()+1;return e.yearID===n&&e.monthID===a})),console.log(this.contacts),this.teamCount=this.contacts.length,this.loading=!1},()=>{this.loading=!1})}back(){this.router.navigate(["/dashboard/job-creation"])}ngOnDestroy(){this.userService.ecosystemNavigation.next(!1)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.a),i["\u0275\u0275directiveInject"](de.a),i["\u0275\u0275directiveInject"](r.d),i["\u0275\u0275directiveInject"](Te.a),i["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dashboard-job-creation-breakdown"]],decls:10,vars:4,consts:[[1,"d-flex","flex-column","w-100",3,"avnonLoader"],[1,"page-title"],[1,"cursor-pointer","text-primary","display-inline","mr-2",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline"],[1,"col-12","d-flex","justify-content-between","align-items-center","filter-container","border-bottom"],[1,"post-count"],[4,"ngIf"],["class","entry",4,"ngFor","ngForOf"],[1,"entry"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","Avatar",1,"img-fluid","img-48","cover",3,"src"],[1,"d-flex"],[1,"meta"],[1,"entry-content"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"span",2),i["\u0275\u0275listener"]("click",function(){return t.back()}),i["\u0275\u0275element"](3,"i",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"h1",4),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",5),i["\u0275\u0275elementStart"](7,"span",6),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](9,Ae,2,1,"ng-container",7),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("avnonLoader",t.loading),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"]("",null==t.company?null:t.company.companyName," Team Members"),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",t.teamCount," team member(s) have been hired "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.contacts&&t.contacts.length>0))},directives:[C.a,a.n,a.m],pipes:[Be.a,a.e,Ye.a],styles:[""]}),e})();function Re(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td",6),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"date"),i["\u0275\u0275pipe"](4,"dateObject"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td"),i["\u0275\u0275elementStart"](6,"span"),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"p",9),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"td"),i["\u0275\u0275elementStart"](11,"div",10),i["\u0275\u0275elementStart"](12,"span"),i["\u0275\u0275text"](13),i["\u0275\u0275pipe"](14,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](3,4,i["\u0275\u0275pipeBind1"](4,7,e.transactionDate),"dd MMM, yyyy")," "),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](e.financialCategory),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.transactionDescription),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"]("R",i["\u0275\u0275pipeBind2"](14,9,e.transactionamount,"1.1-2"),"")}}let Ne=(()=>{class e{constructor(e){this.activeModal=e,this.transactions=[]}ngOnInit(){}dismiss(){this.activeModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](ye.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dashboard-person-transactions"]],decls:18,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","d-flex","flex-column","pl-0","pr-0","pt-0","pb-2"],[1,"table","table-dotted-border","w-100","transaction-table"],[1,"pl-3"],[1,"pr-3"],[4,"ngFor","ngForOf"],[1,"meta"],[1,"d-flex","justify-content-between","align-items-center"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h5",1),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",2),i["\u0275\u0275listener"]("click",function(){return t.dismiss()}),i["\u0275\u0275elementStart"](4,"span",3),i["\u0275\u0275text"](5,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"table",5),i["\u0275\u0275elementStart"](8,"thead"),i["\u0275\u0275elementStart"](9,"tr"),i["\u0275\u0275elementStart"](10,"th",6),i["\u0275\u0275text"](11,"Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"th"),i["\u0275\u0275text"](13,"Category"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"th",7),i["\u0275\u0275text"](15,"Amount"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"tbody"),i["\u0275\u0275template"](17,Re,15,12,"tr",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"](" ",t.transaction.firstname," ",t.transaction.surname,"'s Transactions "),i["\u0275\u0275advance"](15),i["\u0275\u0275property"]("ngForOf",t.transactions))},directives:[a.m],pipes:[a.e,Ye.a,a.f],styles:[".modal-body[_ngcontent-%COMP%]{overflow-x:hidden;max-height:74vh;overflow-y:auto}.transaction-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#fff;position:sticky;top:0}"]}),e})();var $e=n("rdQE");const Ge=function(e,t,n){return{"level-4":e,"level-3":t,"level-2":n}};function We(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",28),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"]().openTransactionsModal(n)}),i["\u0275\u0275elementStart"](1,"span",29),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span",30),i["\u0275\u0275element"](4,"img",31),i["\u0275\u0275pipe"](5,"avatar"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",32),i["\u0275\u0275elementStart"](7,"h2"),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"span",33),i["\u0275\u0275text"](10),i["\u0275\u0275pipe"](11,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction3"](11,Ge,n>=999,n>=99,n>=9)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n+1,". "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",i["\u0275\u0275pipeBind1"](5,6,e.profilePhoto),i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate2"]("",e.firstname," ",e.surname,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("R ",i["\u0275\u0275pipeBind2"](11,8,e.totalAmount,"1.1-2"),"")}}function Ue(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",34),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("disabled",e.value<n.filterParams.toMonthID&&n.filterParams.fromYearID!==n.filterParams.toYearID||n.filterParams.fromYearID===n.filterParams.toYearID&&e.value>n.filterParams.fromMonthID)("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.name," ")}}function ze(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",34),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("disabled",e.value<n.filterParams.toYearID-1)("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Je(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",27),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function He(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",27),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function qe(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",27),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.companyAccountID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.accountName," ")}}const Xe=n("2BfV"),Ke=n("Tos5"),Qe=n("M8aS"),Ze=n("zF3M");Xe(S),Ke(S),Qe(S),Ze(S);let et=(()=>{class e{constructor(e,t,n,a,r){this.userService=e,this.router=t,this.companyAccountService=n,this.modal=a,this.financialService=r,this.transactions=[],this.filteredTransactions=[],this.totalByMentors=0,this.mentorsAmount=0,this.totalTransactions=0,this.totalAmount=0,this.accounts=[],this.filterParams={fromMonthID:(new Date).getMonth(),fromYearID:(new Date).getFullYear(),toMonthID:(new Date).getMonth()+1,toYearID:(new Date).getFullYear(),accountID:0},this.years=[],this.months=v.a.create(),this.user=this.userService.user.getValue(),this.companyID=this.user.companyID,this.contactID=this.user.contactID}ngOnInit(){this.userService.ecosystemNavigation.next(!0),this.generateDateFilters(),this.getTransaction(),this.getAccounts()}generateDateFilters(){for(let e=this.filterParams.fromYearID-5;e<=this.filterParams.toYearID+5;++e)this.years.push({name:e,value:e})}getAccounts(){this.companyAccountService.getCompanyAccount(this.companyID,0,0,0,0).subscribe(e=>{this.accounts=e})}onMonthFromSelect(){this.getTransaction()}fromYearSelect(){this.filterParams.fromYearID>this.filterParams.toYearID&&(this.filterParams.toYearID=this.filterParams.fromYearID),this.getTransaction()}onMonthToSelect(){this.filterParams.fromMonthID=this.filterParams.toMonthID,this.getTransaction()}onYearToSelect(){this.filterParams.fromYearID=this.filterParams.toYearID-1,this.getTransaction()}onAccountChange(){this.getTransaction()}getTransaction(){this.loading=!0;const e=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),t=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0),n=Object(x.a)(e),a=Object(x.a)(t);this.financialService.getTransactionByAccountID(this.filterParams.accountID,0,0,n,a,0,0,!1,this.companyID).subscribe(e=>{this.generateTransactionChart(e)})}generateTransactionChart(e){let t=[];for(let l=1;l<=13;l++){const e=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-l,1),n=this.months[e.getMonth()];t.push({monthID:e.getMonth()+1,yearID:e.getFullYear(),title:`${n.name}(${e.getFullYear()})`})}t=t.reverse();const n={chart:{type:"column",height:250},title:{text:""},xAxis:{categories:t.map(e=>e.title),gridLineWidth:0,title:!1,labels:{enabled:!1}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[]},a={type:"column",name:"Transactions",data:[],showInLegend:!1,color:"#accafc",legend:{enabled:!1}};t.forEach(t=>{const n=e.filter(e=>e.yearID===t.yearID&&e.monthID===t.monthID).length;a.data.push(n)});const r=e.filter(e=>t.some(t=>t.monthID===e.monthID&&t.yearID===e.yearID));this.filteredTransactions=r;const o=[];Object(x.j)(r.filter(e=>2===e.transactionCategoryID),"contactID").forEach(e=>{e.totalAmount=r.filter(t=>e.contactID===t.contactID).reduce((e,t)=>e+(t.transactionamount||0),0),o.push(e)}),n.series.push(a),this.transactions=o.sort((e,t)=>t.totalAmount-e.totalAmount),this.totalByMentors=this.transactions.length,this.mentorsAmount=o.reduce((e,t)=>e+t.totalAmount,0),this.totalTransactions=e.filter(e=>t.some(t=>t.yearID===e.yearID&&t.monthID===e.monthID)).length,this.totalAmount=e.filter(e=>t.some(t=>t.yearID===e.yearID&&t.monthID===e.monthID)).reduce((e,t)=>e+(t.transactionamount||0),0),this.transactionChart=S.chart("transactionChart",n),this.generateCategoryChart(r),this.loading=!1}generateCategoryChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}},n={name:"Category",colorByPoint:!0,data:[]};Object(x.j)(e,"financialCategory",!1).forEach(t=>{const a={name:t.financialCategory||"Not Specified",y:e.filter(e=>e.financialCategory===t.financialCategory).length};n.data.push(a)}),t.series.push(n),this.categoryChart=S.chart("category",t)}back(){this.router.navigate(["/dashboard"])}openTransactionsModal(e){const t=this.modal.open(Ne,{backdrop:"static",size:"lg"});t.componentInstance.transaction=e,t.componentInstance.transactions=this.filteredTransactions.filter(t=>t.contactID===e.contactID&&2===t.transactionCategoryID)}ngOnDestroy(){this.userService.ecosystemNavigation.next(!1)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](s.a),i["\u0275\u0275directiveInject"](r.d),i["\u0275\u0275directiveInject"]($e.a),i["\u0275\u0275directiveInject"](ye.p),i["\u0275\u0275directiveInject"](D.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dashboard-transactions"]],decls:54,vars:23,consts:[[1,"d-flex","flex-column","w-100",3,"avnonLoader"],[1,"page-title"],[1,"cursor-pointer","text-primary","display-inline","mr-2",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline"],[1,"col-12","d-flex","flex-column","filter-container","border-bottom","mt-3","border-top"],[1,"col-12"],["id","transactionChart",1,"chart"],[1,"col-12","d-flex","flex-column","filter-container","border-bottom","mt-3","border-top","border-top"],["id","category",1,"chart"],["class","entry",3,"click",4,"ngFor","ngForOf"],[1,"col-auto","filter-section"],[1,"sticky-container","d-flex","flex-column"],[1,"card"],[1,"card-header"],[1,"card-body","pb-0"],[1,"form-group"],["for","dateFrom"],[1,"input-group"],["id","dateFrom","name","fromMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","change","ngModelChange"],[3,"disabled","ngValue",4,"ngFor","ngForOf"],["name","fromYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],["for","dateTo"],["id","dateTo","name","toMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["name","toYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],["name","programID",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],[3,"ngValue"],[1,"entry",3,"click"],[1,"rank",3,"ngClass"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","network",1,"avatar","avatar-48","contain-avatar",3,"src"],[1,"d-flex"],[1,"ml-auto"],[3,"disabled","ngValue"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"span",2),i["\u0275\u0275listener"]("click",function(){return t.back()}),i["\u0275\u0275element"](3,"i",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"h1",4),i["\u0275\u0275text"](5,"Transactions Dashboard"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",5),i["\u0275\u0275elementStart"](7,"h3"),i["\u0275\u0275text"](8,"Total Transaction"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"span"),i["\u0275\u0275text"](10),i["\u0275\u0275pipe"](11,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",6),i["\u0275\u0275element"](13,"div",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"div",8),i["\u0275\u0275elementStart"](15,"span"),i["\u0275\u0275text"](16," Transaction By Category "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"div",6),i["\u0275\u0275element"](18,"div",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"div",5),i["\u0275\u0275elementStart"](20,"h3"),i["\u0275\u0275text"](21,"Total Transactions By Mentors"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"span"),i["\u0275\u0275text"](23),i["\u0275\u0275pipe"](24,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](25,We,12,15,"div",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"div",11),i["\u0275\u0275elementStart"](27,"div",12),i["\u0275\u0275elementStart"](28,"div",13),i["\u0275\u0275elementStart"](29,"div",14),i["\u0275\u0275elementStart"](30,"h3"),i["\u0275\u0275text"](31,"Filters"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](32,"div",15),i["\u0275\u0275elementStart"](33,"div",16),i["\u0275\u0275elementStart"](34,"label",17),i["\u0275\u0275text"](35,"Date From"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](36,"div",18),i["\u0275\u0275elementStart"](37,"select",19),i["\u0275\u0275listener"]("change",function(){return t.onMonthFromSelect()})("ngModelChange",function(e){return t.filterParams.fromMonthID=e}),i["\u0275\u0275template"](38,Ue,2,3,"option",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](39,"select",21),i["\u0275\u0275listener"]("change",function(){return t.fromYearSelect()})("ngModelChange",function(e){return t.filterParams.fromYearID=e}),i["\u0275\u0275template"](40,ze,2,3,"option",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](41,"div",16),i["\u0275\u0275elementStart"](42,"label",22),i["\u0275\u0275text"](43,"Date To"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](44,"div",18),i["\u0275\u0275elementStart"](45,"select",23),i["\u0275\u0275listener"]("change",function(){return t.onMonthToSelect()})("ngModelChange",function(e){return t.filterParams.toMonthID=e}),i["\u0275\u0275template"](46,Je,2,2,"option",24),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](47,"select",25),i["\u0275\u0275listener"]("change",function(){return t.onYearToSelect()})("ngModelChange",function(e){return t.filterParams.toYearID=e}),i["\u0275\u0275template"](48,He,2,2,"option",24),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](49,"div",16),i["\u0275\u0275elementStart"](50,"select",26),i["\u0275\u0275listener"]("change",function(){return t.onAccountChange()})("ngModelChange",function(e){return t.filterParams.accountID=e}),i["\u0275\u0275elementStart"](51,"option",27),i["\u0275\u0275text"](52,"All Accounts"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](53,qe,2,2,"option",24),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("avnonLoader",t.loading),i["\u0275\u0275advance"](10),i["\u0275\u0275textInterpolate2"](" ",t.totalTransactions," transactions, R ",i["\u0275\u0275pipeBind2"](11,17,t.totalAmount,"1.1-2")," "),i["\u0275\u0275advance"](13),i["\u0275\u0275textInterpolate2"](" ",t.totalByMentors," transactions, R ",i["\u0275\u0275pipeBind2"](24,20,t.mentorsAmount,"1.1-2")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.transactions),i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngModel",t.filterParams.fromMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.filterParams.fromYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.years),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.filterParams.toMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.filterParams.toYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.years),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.filterParams.accountID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.accounts))},directives:[C.a,a.m,P.B,P.q,P.t,P.v,P.D,a.l],pipes:[a.f,Be.a],styles:[".rank[_ngcontent-%COMP%]{font-weight:500;font-size:18px;float:left;margin-right:4px;min-width:20px}.rank.level-2[_ngcontent-%COMP%]{min-width:30px!important}.rank.level-3[_ngcontent-%COMP%]{min-width:40px}.rank.level-4[_ngcontent-%COMP%]{min-width:50px}"]}),e})();function tt(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Not Started"),i["\u0275\u0275elementContainerEnd"]())}function nt(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Underway"),i["\u0275\u0275elementContainerEnd"]())}function at(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Passed"),i["\u0275\u0275elementContainerEnd"]())}function rt(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Failed"),i["\u0275\u0275elementContainerEnd"]())}function ot(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Ready For Review"),i["\u0275\u0275elementContainerEnd"]())}function lt(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Under Review"),i["\u0275\u0275elementContainerEnd"]())}function it(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Reviewed"),i["\u0275\u0275elementContainerEnd"]())}const st=function(e,t,n){return{"level-4":e,"level-3":t,"level-2":n}},mt=function(){return[1,2]},ct=function(){return[5,6,7]},dt=function(){return[3]},pt=function(){return[4]},ut=function(e,t,n,a){return{"tag-blue":e,"tag-orange":t,"tag-green":n,"tag-red":a}};function ht(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",10),i["\u0275\u0275elementStart"](1,"span",11),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span",12),i["\u0275\u0275element"](4,"img",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",14),i["\u0275\u0275elementStart"](6,"div",15),i["\u0275\u0275elementStart"](7,"h2",16),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"span",17),i["\u0275\u0275template"](10,tt,2,0,"ng-container",18),i["\u0275\u0275template"](11,nt,2,0,"ng-container",18),i["\u0275\u0275template"](12,at,2,0,"ng-container",18),i["\u0275\u0275template"](13,rt,2,0,"ng-container",18),i["\u0275\u0275template"](14,ot,2,0,"ng-container",18),i["\u0275\u0275template"](15,lt,2,0,"ng-container",18),i["\u0275\u0275template"](16,it,2,0,"ng-container",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"span",19),i["\u0275\u0275text"](18),i["\u0275\u0275pipe"](19,"date"),i["\u0275\u0275pipe"](20,"dateObject"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"p"),i["\u0275\u0275text"](22),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,a=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction3"](20,st,n>=999,n>=99,n>=9)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n+1,". "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",e.companyLogo?a.blobUrl+"256px/"+e.companyLogo:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](e.companyName),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction4"](28,ut,i["\u0275\u0275pureFunction0"](24,mt).includes(e.companyProgramStageStatusID),i["\u0275\u0275pureFunction0"](25,ct).includes(e.companyProgramStageStatusID),i["\u0275\u0275pureFunction0"](26,dt).includes(e.companyProgramStageStatusID),i["\u0275\u0275pureFunction0"](27,pt).includes(e.companyProgramStageStatusID))),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===e.companyProgramStageStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===e.companyProgramStageStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",3===e.companyProgramStageStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",4===e.companyProgramStageStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",5===e.companyProgramStageStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",6===e.companyProgramStageStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",7===e.companyProgramStageStatusID),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](19,15,i["\u0275\u0275pipeBind1"](20,18,e.companyProgramStageStartDate),"dd MMMM yyyy")),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate2"]("",e.programTitle," - ",e.programInstanceTitle,"")}}let gt=(()=>{class e{constructor(e){this.activeModal=e,this.companies=[],this.blobUrl=Q.a.apiBlobUrl+"/"}ngOnInit(){const e=[];this.data.forEach(t=>{t.totalCount=this.data.filter(e=>e.companyName===t.companyName).length,e.push(t)}),this.companies=e.sort((e,t)=>t.totalCount-e.totalCount)}dismiss(){this.activeModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](ye.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-portfolio-company-breakdown"]],decls:14,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","d-flex","flex-column","modal-fixed-height"],[1,"mb-3"],["class","entry",4,"ngFor","ngForOf"],[1,"modal-footer","border-0"],[1,"filter-container","text-right"],[1,"btn","btn-primary","ml-auto",3,"click"],[1,"entry"],[1,"rank",3,"ngClass"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","network",1,"avatar","img-48","avatar-48-square",3,"src"],[1,"d-flex","flex-column"],[1,"d-flex"],[1,"mr-2"],[1,"tag","ml-auto",3,"ngClass"],[4,"ngIf"],[1,"meta"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h1",1),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",2),i["\u0275\u0275listener"]("click",function(){return t.dismiss()}),i["\u0275\u0275elementStart"](4,"span",3),i["\u0275\u0275text"](5,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"p",5),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](9,ht,23,33,"div",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"div",7),i["\u0275\u0275elementStart"](11,"div",8),i["\u0275\u0275elementStart"](12,"button",9),i["\u0275\u0275listener"]("click",function(){return t.dismiss()}),i["\u0275\u0275text"](13," Close "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.title," "),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate2"]("",t.companies.length," ",t.entity,""),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.companies))},directives:[a.m,a.l,a.n],pipes:[a.e,Ye.a],styles:[""]}),e})();const ft=function(e,t,n){return{"level-4":e,"level-3":t,"level-2":n}};function vt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",31),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"]().openCompanyEmployees(n.companyID)}),i["\u0275\u0275elementStart"](1,"span",32),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span",33),i["\u0275\u0275element"](4,"img",34),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"h2"),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"p"),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"span",35),i["\u0275\u0275text"](10),i["\u0275\u0275pipe"](11,"date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,a=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction3"](10,ft,n>=999,n>=99,n>=9)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n+1,". "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",e.companyLogo?a.blobUrl+"256px/"+e.companyLogo:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.companyName),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.programTitle," - ",e.programInstanceTitle,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](11,7,e.companyProgramStageStartDate,"dd MMMM yyyy"))}}function St(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.name," ")}}function yt(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function xt(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Dt(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Et(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.programID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.programTitle," ")}}function It(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.programInstanceID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.programInstanceTitle," ")}}const bt=n("2BfV"),Ct=n("Tos5"),Pt=n("M8aS"),Mt=n("zF3M");bt(S),Ct(S),Pt(S),Mt(S);let wt=(()=>{class e{constructor(e,t,n,a,r){this.dashboardService=e,this.userService=t,this.programsService=n,this.router=a,this.modalService=r,this.programs=[],this.instances=[],this.today=new Date,this.filterParams={fromMonthID:(new Date).getMonth()+1,fromYearID:(new Date).getFullYear(),toMonthID:(new Date).getMonth()+1,toYearID:(new Date).getFullYear(),programID:0,programInstanceID:0},this.years=[],this.months=v.a.create(),this.blobUrl=Q.a.apiBlobUrl+"/",this.totalPortfolios=0,this.companyPortfolioRankings=[],this.persistentLiveSnapshot=[],this.stages=[],this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID}ngOnInit(){this.userService.ecosystemNavigation.next(!0),this.generateDateFilters(),this.initPrograms()}generateDateFilters(){for(let e=this.filterParams.fromYearID-5;e<=this.filterParams.toYearID+5;++e)this.years.push({name:e,value:e})}initPrograms(){this.programLoading=!0,this.programsService.getPrograms(this.companyID).subscribe(e=>{this.programs=e,this.programLoading=!1,this.getPortfolios()})}onProgramSelect(){this.filterParams.programInstanceID=0,this.filterParams.programID&&(this.instances=this.programs.find(e=>e.programID===this.filterParams.programID).instances),this.getPortfolios()}onInstanceSelect(){this.getPortfolios()}onMonthFromSelect(){this.getPortfolios()}fromYearSelect(){this.filterParams.fromYearID>this.filterParams.toYearID&&(this.filterParams.toYearID=this.filterParams.fromYearID),this.getPortfolios()}onMonthToSelect(){this.filterParams.fromMonthID=this.filterParams.toMonthID,this.getPortfolios()}onYearToSelect(){this.filterParams.fromYearID=this.filterParams.toYearID-1,this.getPortfolios()}getPortfolios(){this.portfolioLoading=!0;const e=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),t=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0),n=Object(x.a)(e),a=Object(x.a)(t);this.dashboardService.getPortfolios(0,this.companyID,0,0,0,n,a).subscribe(e=>{if(0===this.persistentLiveSnapshot.length&&(this.persistentLiveSnapshot=e),0!==this.filterParams.programID&&(e=e.filter(e=>e.programID=this.filterParams.programID)),0!==this.filterParams.programInstanceID){let t=this.instances.filter(e=>e.programInstanceID===this.filterParams.programInstanceID);e=e.filter(e=>e.programInstanceTitle=t[0].programInstanceTitle)}console.log("Portfolio information: ",e),(e=Object(x.j)(e,"companyID")).forEach(e=>{this.stages.push({programStageTitle:e.programStageTitle})}),this.stages=Object(x.j)(this.stages,"programStageTitle"),this.programs&&this.programs.length>0&&(0===this.filterParams.programID?this.generatePortfolioChart(e):this.generatePortfolioChartStackByStages(e))})}generatePortfolioChart(e){let t=this.filterParams.toMonthID+3-this.filterParams.fromMonthID,n=[];for(let i=1;i<=t;i++){const e=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-i,1),t=this.months[e.getMonth()];n.push({monthID:e.getMonth()+1,yearID:e.getFullYear(),title:`${t.name}(${e.getFullYear()})`})}n=n.reverse();const a={chart:{type:"column",height:300},title:{text:""},xAxis:{categories:n.map(e=>e.title),gridLineWidth:0,title:!1,labels:{enabled:!1},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:S.defaultOptions.title.style&&S.defaultOptions.title.style.color||"gray"}}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0}}},series:[]};let r=[],o=JSON.parse(JSON.stringify(this.programs));o.push({programTitle:"Unspecified",programID:null}),o.forEach(e=>{const t={type:"column",name:e.programTitle,data:[],dataLabels:{enabled:!1},point:{events:{click:(function(e){const t=e.point;this.showCompanyBreakDown(t.category,t.programs)}).bind(this)}}};r.push(t)}),n.forEach(t=>{this.programs.forEach(n=>{const a=e.filter(e=>e.monthID===t.monthID&&e.yearID===t.yearID&&e.programID===n.programID);r.filter(e=>e.name===n.programTitle)[0].data.push({programs:a,y:a.length})})}),r.forEach(e=>{a.series.push(e)}),this.portfoliosChart=S.chart("portfoliosChart",a);const l=[];Object(x.j)(e,"companyName").forEach(t=>{t.totalCount=e.filter(e=>e.companyName===t.companyName).length,l.push(t)}),this.companyPortfolioRankings=l.sort((e,t)=>t.totalCount-e.totalCount),this.totalPortfolios=e.filter(e=>{const t=e.yearID,a=e.monthID;return n.some(e=>e.yearID===t&&a===e.monthID)}).length,this.generateIndustryChart(e),this.portfolioLoading=!1}generatePortfolioChartStackByStages(e){let t=this.filterParams.toMonthID+3-this.filterParams.fromMonthID,n=[];for(let s=1;s<=t;s++){const e=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-s,1),t=this.months[e.getMonth()];n.push({monthID:e.getMonth()+1,yearID:e.getFullYear(),title:`${t.name}(${e.getFullYear()})`})}n=n.reverse();const a={chart:{type:"column",height:300},title:{text:""},xAxis:{categories:n.map(e=>e.title),gridLineWidth:0,title:!1,labels:{enabled:!1},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:S.defaultOptions.title.style&&S.defaultOptions.title.style.color||"gray"}}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0}}},series:[]};let r=[],o=JSON.parse(JSON.stringify(this.stages)),l=Object(x.j)(o,"programStageTitle");l.forEach(e=>{const t={type:"column",name:e.programStageTitle,data:[],dataLabels:{enabled:!1},point:{events:{click:(function(e){const t=e.point;this.showCompanyBreakDown(t.category,t.programs)}).bind(this)}}};r.push(t)}),n.forEach(t=>{l.forEach(n=>{const a=e.filter(e=>e.monthID===t.monthID&&e.yearID===t.yearID&&e.programStageTitle===n.programStageTitle);r.filter(e=>e.name===n.programStageTitle)[0].data.push({programs:a,y:a.length})})}),r.forEach(e=>{a.series.push(e)}),this.portfoliosChart=S.chart("portfoliosChart",a);const i=[];Object(x.j)(e,"companyName").forEach(t=>{t.totalCount=e.filter(e=>e.companyName===t.companyName).length,i.push(t)}),this.companyPortfolioRankings=i.sort((e,t)=>t.totalCount-e.totalCount),this.totalPortfolios=e.filter(e=>{const t=e.yearID,a=e.monthID;return n.some(e=>e.yearID===t&&a===e.monthID)}).length,this.generateIndustryChart(e),this.portfolioLoading=!1}generateIndustryChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}},n={name:"Industry",colorByPoint:!0,data:[]};Object(x.j)(e,"industry",!1).forEach(t=>{const a={name:t.industry||"Not Specified",y:e.filter(e=>e.industry===t.industry).length};n.data.push(a)}),t.series.push(n),this.industryChart=S.chart("industry",t)}showCompanyBreakDown(e,t){const n=this.modalService.open(gt,{size:"md"});n.componentInstance.title="Companies supported during "+e.replace("("," ").replace(")"," "),n.componentInstance.data=t,n.componentInstance.entity="portfolios"}openCompanyEmployees(e){const t=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),n=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0),a=Object(x.a)(t),r=Object(x.a)(n);this.router.navigate(["/dashboard/job-creation",e],{queryParams:{startDate:a,endDate:r}})}back(){this.router.navigate(["/dashboard"])}ngOnDestroy(){this.userService.ecosystemNavigation.next(!1)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](I.a),i["\u0275\u0275directiveInject"](s.a),i["\u0275\u0275directiveInject"](b.a),i["\u0275\u0275directiveInject"](r.d),i["\u0275\u0275directiveInject"](ye.p))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dashboard-portfolio-component"]],decls:57,vars:19,consts:[[1,"d-flex","flex-column","w-100",3,"avnonLoader"],[1,"page-title"],[1,"cursor-pointer","text-primary","display-inline","mr-2",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline"],[1,"col-12","d-flex","flex-column","filter-container","border-bottom","mt-3","border-top","border-top"],[1,"col-12","mb-3"],["id","portfoliosChart",1,"chart"],[1,"row"],[1,"col-lg-3","col-md-6","col-sm-12","d-flex","flex-column"],[1,"text-center"],["id","industry",1,"pie","w-100"],[1,"col-12","d-flex","flex-column","filter-container","border-top","mt-3","border-bottom"],["class","entry",3,"click",4,"ngFor","ngForOf"],[1,"col-auto","filter-section"],[1,"sticky-container","d-flex","flex-column"],[1,"card"],[1,"card-header"],[1,"card-body","pb-0"],[1,"form-group"],["for","dateFrom"],[1,"input-group"],["id","dateFrom","name","fromMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["name","fromYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],["for","dateTo"],["id","dateTo","name","toMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","change","ngModelChange"],["name","toYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],["name","programID",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],[3,"ngValue"],["name","programInstanceID",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],[1,"entry",3,"click"],[1,"rank",3,"ngClass"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","network",1,"avatar","avatar-48","contain-avatar",3,"src"],[1,"meta"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"span",2),i["\u0275\u0275listener"]("click",function(){return t.back()}),i["\u0275\u0275element"](3,"i",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"h1",4),i["\u0275\u0275text"](5,"Companies Supported Dashboard"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",5),i["\u0275\u0275elementStart"](7,"h3"),i["\u0275\u0275text"](8,"Total Portfolios"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"span"),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",6),i["\u0275\u0275element"](12,"div",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",8),i["\u0275\u0275elementStart"](14,"div",9),i["\u0275\u0275elementStart"](15,"label",10),i["\u0275\u0275text"](16,"Portfolios By Industry"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](17,"div",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"div",12),i["\u0275\u0275elementStart"](19,"h3"),i["\u0275\u0275text"](20,"Companies Supported"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"span"),i["\u0275\u0275text"](22),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](23,vt,12,14,"div",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"div",14),i["\u0275\u0275elementStart"](25,"div",15),i["\u0275\u0275elementStart"](26,"div",16),i["\u0275\u0275elementStart"](27,"div",17),i["\u0275\u0275elementStart"](28,"h3"),i["\u0275\u0275text"](29,"Filters"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"div",18),i["\u0275\u0275elementStart"](31,"div",19),i["\u0275\u0275elementStart"](32,"label",20),i["\u0275\u0275text"](33,"Date From"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"div",21),i["\u0275\u0275elementStart"](35,"select",22),i["\u0275\u0275listener"]("change",function(){return t.onMonthFromSelect()})("ngModelChange",function(e){return t.filterParams.fromMonthID=e}),i["\u0275\u0275template"](36,St,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"select",24),i["\u0275\u0275listener"]("change",function(){return t.fromYearSelect()})("ngModelChange",function(e){return t.filterParams.fromYearID=e}),i["\u0275\u0275template"](38,yt,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](39,"div",19),i["\u0275\u0275elementStart"](40,"label",25),i["\u0275\u0275text"](41,"Date To"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](42,"div",21),i["\u0275\u0275elementStart"](43,"select",26),i["\u0275\u0275listener"]("change",function(){return t.onMonthToSelect()})("ngModelChange",function(e){return t.filterParams.toMonthID=e}),i["\u0275\u0275template"](44,xt,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](45,"select",27),i["\u0275\u0275listener"]("change",function(){return t.onYearToSelect()})("ngModelChange",function(e){return t.filterParams.toYearID=e}),i["\u0275\u0275template"](46,Dt,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](47,"div",19),i["\u0275\u0275elementStart"](48,"select",28),i["\u0275\u0275listener"]("change",function(){return t.onProgramSelect()})("ngModelChange",function(e){return t.filterParams.programID=e}),i["\u0275\u0275elementStart"](49,"option",29),i["\u0275\u0275text"](50,"All Programs"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](51,Et,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](52,"div",19),i["\u0275\u0275elementStart"](53,"select",30),i["\u0275\u0275listener"]("change",function(){return t.onInstanceSelect()})("ngModelChange",function(e){return t.filterParams.programInstanceID=e}),i["\u0275\u0275elementStart"](54,"option",29),i["\u0275\u0275text"](55,"All Instances"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](56,It,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("avnonLoader",t.loading||t.portfolioLoading),i["\u0275\u0275advance"](10),i["\u0275\u0275textInterpolate1"](" ",t.totalPortfolios," portfolios "),i["\u0275\u0275advance"](12),i["\u0275\u0275textInterpolate2"](" ",t.companyPortfolioRankings.length," portfolio ",t.companyPortfolioRankings.length>1?"Companies":"Company"," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.companyPortfolioRankings),i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngModel",t.filterParams.fromMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.filterParams.fromYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.years),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.filterParams.toMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.filterParams.toYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.years),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.filterParams.programID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.programs),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.filterParams.programInstanceID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.instances))},directives:[C.a,a.m,P.B,P.q,P.t,P.v,P.D,a.l],pipes:[a.e],styles:[".rank[_ngcontent-%COMP%]{font-weight:500;font-size:18px;float:left;margin-right:4px;min-width:20px}.rank.level-2[_ngcontent-%COMP%]{min-width:30px!important}.rank.level-3[_ngcontent-%COMP%]{min-width:40px}.rank.level-4[_ngcontent-%COMP%]{min-width:50px}"]}),e})();var Ot=n("zs7b"),Ft=n("euQB");function jt(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Not Started"),i["\u0275\u0275elementContainerEnd"]())}function kt(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Underway"),i["\u0275\u0275elementContainerEnd"]())}function Tt(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Passed"),i["\u0275\u0275elementContainerEnd"]())}function Bt(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Failed"),i["\u0275\u0275elementContainerEnd"]())}function Yt(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Ready For Review"),i["\u0275\u0275elementContainerEnd"]())}function Vt(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Under Review"),i["\u0275\u0275elementContainerEnd"]())}function Lt(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Reviewed"),i["\u0275\u0275elementContainerEnd"]())}const At=function(e,t,n){return{"level-4":e,"level-3":t,"level-2":n}},_t=function(){return[1,2]},Rt=function(){return[5,6,7]},Nt=function(){return[3]},$t=function(){return[4]},Gt=function(e,t,n,a){return{"tag-blue":e,"tag-orange":t,"tag-green":n,"tag-red":a}};function Wt(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",33),i["\u0275\u0275elementStart"](1,"span",34),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span",35),i["\u0275\u0275element"](4,"img",36),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",37),i["\u0275\u0275elementStart"](6,"div",38),i["\u0275\u0275elementStart"](7,"h2",39),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"span",40),i["\u0275\u0275template"](10,jt,2,0,"ng-container",13),i["\u0275\u0275template"](11,kt,2,0,"ng-container",13),i["\u0275\u0275template"](12,Tt,2,0,"ng-container",13),i["\u0275\u0275template"](13,Bt,2,0,"ng-container",13),i["\u0275\u0275template"](14,Yt,2,0,"ng-container",13),i["\u0275\u0275template"](15,Vt,2,0,"ng-container",13),i["\u0275\u0275template"](16,Lt,2,0,"ng-container",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"span",41),i["\u0275\u0275text"](18),i["\u0275\u0275pipe"](19,"date"),i["\u0275\u0275pipe"](20,"dateObject"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"p"),i["\u0275\u0275text"](22),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,a=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction3"](20,At,n>=999,n>=99,n>=9)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n+1,". "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",e.companyLogo?a.blobUrl+"256px/"+e.companyLogo:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](e.companyName),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction4"](28,Gt,i["\u0275\u0275pureFunction0"](24,_t).includes(e.companyProgramStageStatusID),i["\u0275\u0275pureFunction0"](25,Rt).includes(e.companyProgramStageStatusID),i["\u0275\u0275pureFunction0"](26,Nt).includes(e.companyProgramStageStatusID),i["\u0275\u0275pureFunction0"](27,$t).includes(e.companyProgramStageStatusID))),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===e.companyProgramStageStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===e.companyProgramStageStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",3===e.companyProgramStageStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",4===e.companyProgramStageStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",5===e.companyProgramStageStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",6===e.companyProgramStageStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",7===e.companyProgramStageStatusID),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](19,15,i["\u0275\u0275pipeBind1"](20,18,e.companyProgramStageStartDate),"dd MMMM yyyy")),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate2"]("",e.programTitle," - ",e.programInstanceTitle,"")}}function Ut(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"div",31),i["\u0275\u0275elementStart"](2,"span"),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,Wt,23,33,"div",32),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate2"](" ",e.applicationStages.length," ",e.applicationStages.length>1?"Companies":"Company"," on this stage "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.applicationStages)}}function zt(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Not Started"),i["\u0275\u0275elementContainerEnd"]())}function Jt(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Underway"),i["\u0275\u0275elementContainerEnd"]())}function Ht(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Passed"),i["\u0275\u0275elementContainerEnd"]())}function qt(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Failed"),i["\u0275\u0275elementContainerEnd"]())}function Xt(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Ready For Review"),i["\u0275\u0275elementContainerEnd"]())}function Kt(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Under Review"),i["\u0275\u0275elementContainerEnd"]())}function Qt(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"Reviewed"),i["\u0275\u0275elementContainerEnd"]())}function Zt(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",33),i["\u0275\u0275elementStart"](1,"span",34),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span",35),i["\u0275\u0275element"](4,"img",42),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",37),i["\u0275\u0275elementStart"](6,"div",38),i["\u0275\u0275elementStart"](7,"h2",39),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"span",40),i["\u0275\u0275template"](10,zt,2,0,"ng-container",13),i["\u0275\u0275template"](11,Jt,2,0,"ng-container",13),i["\u0275\u0275template"](12,Ht,2,0,"ng-container",13),i["\u0275\u0275template"](13,qt,2,0,"ng-container",13),i["\u0275\u0275template"](14,Xt,2,0,"ng-container",13),i["\u0275\u0275template"](15,Kt,2,0,"ng-container",13),i["\u0275\u0275template"](16,Qt,2,0,"ng-container",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"span",41),i["\u0275\u0275text"](18),i["\u0275\u0275pipe"](19,"date"),i["\u0275\u0275pipe"](20,"dateObject"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"p"),i["\u0275\u0275text"](22),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,a=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction3"](20,At,n>=999,n>=99,n>=9)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n+1,". "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",e.companyLogo?a.blobUrl+"256px/"+e.companyLogo:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](e.companyName),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction4"](28,Gt,i["\u0275\u0275pureFunction0"](24,_t).includes(e.companyProgramStageStatusID),i["\u0275\u0275pureFunction0"](25,Rt).includes(e.companyProgramStageStatusID),i["\u0275\u0275pureFunction0"](26,Nt).includes(e.companyProgramStageStatusID),i["\u0275\u0275pureFunction0"](27,$t).includes(e.companyProgramStageStatusID))),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===e.companyProgramStageStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===e.companyProgramStageStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",3===e.companyProgramStageStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",4===e.companyProgramStageStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",5===e.companyProgramStageStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",6===e.companyProgramStageStatusID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",7===e.companyProgramStageStatusID),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](19,15,i["\u0275\u0275pipeBind1"](20,18,e.companyProgramStageStartDate),"dd MMMM yyyy")),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate2"]("",e.programTitle," - ",e.programInstanceTitle,"")}}function en(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"div",31),i["\u0275\u0275elementStart"](2,"span"),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,Zt,23,33,"div",32),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate2"](" ",e.screeningApplicants.length," ",e.screeningApplicants.length>1?"Companies":"Company"," on this stage "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.screeningApplicants)}}function tn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.name," ")}}function nn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function an(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function rn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function on(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.programID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.programTitle," ")}}function ln(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.programInstanceID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.programInstanceTitle," ")}}const sn=function(e){return{active:e}},mn=n("2BfV"),cn=n("Tos5"),dn=n("M8aS"),pn=n("zF3M");mn(y.a),cn(y.a),dn(y.a),pn(y.a);let un=(()=>{class e{constructor(e,t,n,a,r,o){this.dashboardService=e,this.userService=t,this.programsService=n,this.router=a,this.modalService=r,this.portfolioService=o,this.tabActive=1,this.programs=[],this.instances=[],this.persistentLiveSnapshot=[],this.today=new Date,this.filterParams={fromMonthID:(new Date).getMonth()+1,fromYearID:(new Date).getFullYear(),toMonthID:(new Date).getMonth()+1,toYearID:(new Date).getFullYear(),programID:0,programInstanceID:0},this.years=[],this.months=Ot.a.create(),this.blobUrl=Q.a.apiBlobUrl+"/",this.totalApplicants=0,this.applicantsDurationGroups=[],this.screeningApplicants=[],this.activeApplicants=[],this.applicationStages=[],this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID}ngOnInit(){this.userService.ecosystemNavigation.next(!0),this.generateDateFilters(),this.initPrograms()}onSwitchTab(e){this.tabActive=e}generateDateFilters(){for(let e=this.filterParams.fromYearID-5;e<=this.filterParams.toYearID+5;++e)this.years.push({name:e,value:e})}initPrograms(){this.programLoading=!0,this.programsService.getPrograms(this.companyID).subscribe(e=>{this.programs=e,this.programLoading=!1,this.getApplicants()})}onProgramSelect(){this.filterParams.programInstanceID=0,this.filterParams.programID&&(this.instances=this.programs.find(e=>e.programID===this.filterParams.programID).instances),this.getApplicants()}onInstanceSelect(){this.getApplicants()}onMonthFromSelect(){this.getApplicants()}fromYearSelect(){this.filterParams.fromYearID>this.filterParams.toYearID&&(this.filterParams.toYearID=this.filterParams.fromYearID),this.getApplicants()}onMonthToSelect(){this.filterParams.fromMonthID=this.filterParams.toMonthID,this.getApplicants()}onYearToSelect(){this.filterParams.fromYearID=this.filterParams.toYearID-1,this.getApplicants()}getApplicants(){this.applicantsLoading=!0,this.portfolioService.getCompanyRoadmapStages(0,0,0,this.filterParams.programInstanceID,0,this.companyID).subscribe(e=>{this.generateApplicantsChart(e)})}generateApplicantsChart(e){let t=[];for(let r=1;r<=13;r++){const n=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-r,1),a=(n.getMonth(),n.getMonth()+1),o=n.getFullYear();if(e.filter(e=>{const t=new Date(e.companyProgramStageStartDate),n=t.getMonth()+1;return t.getFullYear()===o&&n===a&&this.programs.some(t=>t.programID===e.programID)}).length){const e=new Date(o,a-1,1);t.push({monthID:a,yearID:o,title:Object(x.a)(e,"MMM yyyy")})}}t=t.reverse();const n={chart:{type:"column",height:300},title:{text:""},xAxis:{categories:t.map(e=>e.title),gridLineWidth:0,stackLabels:{enabled:!0,style:{fontWeight:"bold",color:y.a.defaultOptions.title.style&&y.a.defaultOptions.title.style.color||"gray"}}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0}}},series:[]},a=[];this.programs.forEach(e=>{const t={type:"column",name:e.programTitle,data:[],dataLabels:{enabled:!1},point:{events:{click:(function(e){const t=e.point;this.showCompanyBreakDown(t.category,t.programs)}).bind(this)}}};a.push(t)}),t.forEach(t=>{this.programs.forEach(n=>{const r=e.filter(e=>{const a=new Date(e.companyProgramStageStartDate),r=a.getMonth()+1,o=a.getFullYear();return r===t.monthID&&o===t.yearID&&e.programID===n.programID&&1===e.programStageTypeID});a.filter(e=>e.name===n.programTitle)[0].data.push({programs:r,y:r.length})})}),a.forEach(e=>{n.series.push(e)}),this.applicantsChart=y.a.chart("applicantsChart",n),this.totalApplicants=e.filter(e=>{const n=new Date(e.companyProgramStageStartDate),a=n.getFullYear(),r=n.getMonth()+1;return t.some(e=>e.yearID===a&&r===e.monthID)&&1===e.programStageTypeID}).length,this.applicationStages=e.filter(e=>{const n=new Date(e.companyProgramStageStartDate),a=n.getFullYear(),r=n.getMonth()+1;return t.some(e=>e.yearID===a&&r===e.monthID)&&1===e.programStageTypeID}),this.screeningApplicants=e.filter(e=>{const n=new Date(e.companyProgramStageStartDate),a=n.getFullYear(),r=n.getMonth()+1;return t.some(e=>e.yearID===a&&r===e.monthID)&&2===e.programStageTypeID}),this.activeApplicants=e.filter(e=>{const n=new Date(e.companyProgramStageStartDate),a=n.getFullYear(),r=n.getMonth()+1;return t.some(e=>e.yearID===a&&r===e.monthID)&&3===e.programStageTypeID}),this.applicantsLoading=!1}showCompanyBreakDown(e,t){const n=this.modalService.open(gt,{size:"md"});n.componentInstance.title="Applications submited during "+e.replace("("," ").replace(")"," "),n.componentInstance.data=t,n.componentInstance.entity="applicants"}generateStagesChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}},n={name:"Stages",colorByPoint:!0,cursor:"pointer",data:[]};e.forEach(t=>{const a={name:t.companyProgramStageStatusID="Applying",y:e.filter(e=>e.companyProgramStageStatusID===t.companyProgramStageStatusID).length};n.data.push(a)}),t.series.push(n),this.screeningChart=y.a.chart("screeningChart",t)}back(){this.router.navigate(["/dashboard"])}ngOnDestroy(){this.userService.ecosystemNavigation.next(!1)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](I.a),i["\u0275\u0275directiveInject"](s.a),i["\u0275\u0275directiveInject"](b.a),i["\u0275\u0275directiveInject"](r.d),i["\u0275\u0275directiveInject"](ye.p),i["\u0275\u0275directiveInject"](Ft.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dashboard-applicants"]],decls:57,vars:24,consts:[[1,"d-flex","flex-column","w-100",3,"avnonLoader"],[1,"page-title"],[1,"cursor-pointer","text-primary","display-inline","mr-2",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline"],[1,"col-12","d-flex","flex-column","filter-container","border-bottom","mt-3","border-top","border-top"],[1,"col-12","mb-3"],["id","applicantsChart",1,"chart"],[1,"tabs"],[1,"nav","nav-fill","justify-content-center"],[1,"nav-item"],[1,"nav-link",3,"ngClass","click"],[1,"w-100","d-flex","flex-column"],[4,"ngIf"],[1,"col-auto","filter-section"],[1,"sticky-container","d-flex","flex-column"],[1,"card"],[1,"card-header"],[1,"card-body","pb-0"],[1,"form-group"],["for","dateFrom"],[1,"input-group"],["id","dateFrom","name","fromMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["name","fromYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],["for","dateTo"],["id","dateTo","name","toMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","change","ngModelChange"],["name","toYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],["name","programID",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],[3,"ngValue"],["name","programInstanceID",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],[1,"col-12","d-flex","flex-column","filter-container","border-top","border-bottom"],["class","entry",4,"ngFor","ngForOf"],[1,"entry"],[1,"rank",3,"ngClass"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","network",1,"avatar","avatar-48-square","img-48",3,"src"],[1,"d-flex","flex-column"],[1,"d-flex"],[1,"mr-2"],[1,"tag","ml-auto",3,"ngClass"],[1,"meta"],["alt","network",1,"avatar","img-48","avatar-48-square",3,"src"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"span",2),i["\u0275\u0275listener"]("click",function(){return t.back()}),i["\u0275\u0275element"](3,"i",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"h1",4),i["\u0275\u0275text"](5,"Applicants Dashboard"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",5),i["\u0275\u0275elementStart"](7,"h3"),i["\u0275\u0275text"](8,"Total Applicants"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"span"),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",6),i["\u0275\u0275element"](12,"div",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",8),i["\u0275\u0275elementStart"](14,"ul",9),i["\u0275\u0275elementStart"](15,"li",10),i["\u0275\u0275elementStart"](16,"a",11),i["\u0275\u0275listener"]("click",function(){return t.onSwitchTab(1)}),i["\u0275\u0275text"](17,"Applications Stage"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"li",10),i["\u0275\u0275elementStart"](19,"a",11),i["\u0275\u0275listener"]("click",function(){return t.onSwitchTab(2)}),i["\u0275\u0275text"](20,"Screening and Selection Stages"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"div",12),i["\u0275\u0275template"](22,Ut,5,3,"div",13),i["\u0275\u0275template"](23,en,5,3,"div",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"div",14),i["\u0275\u0275elementStart"](25,"div",15),i["\u0275\u0275elementStart"](26,"div",16),i["\u0275\u0275elementStart"](27,"div",17),i["\u0275\u0275elementStart"](28,"h3"),i["\u0275\u0275text"](29,"Filters"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"div",18),i["\u0275\u0275elementStart"](31,"div",19),i["\u0275\u0275elementStart"](32,"label",20),i["\u0275\u0275text"](33,"Date From"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"div",21),i["\u0275\u0275elementStart"](35,"select",22),i["\u0275\u0275listener"]("change",function(){return t.onMonthFromSelect()})("ngModelChange",function(e){return t.filterParams.fromMonthID=e}),i["\u0275\u0275template"](36,tn,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"select",24),i["\u0275\u0275listener"]("change",function(){return t.fromYearSelect()})("ngModelChange",function(e){return t.filterParams.fromYearID=e}),i["\u0275\u0275template"](38,nn,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](39,"div",19),i["\u0275\u0275elementStart"](40,"label",25),i["\u0275\u0275text"](41,"Date To"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](42,"div",21),i["\u0275\u0275elementStart"](43,"select",26),i["\u0275\u0275listener"]("change",function(){return t.onMonthToSelect()})("ngModelChange",function(e){return t.filterParams.toMonthID=e}),i["\u0275\u0275template"](44,an,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](45,"select",27),i["\u0275\u0275listener"]("change",function(){return t.onYearToSelect()})("ngModelChange",function(e){return t.filterParams.toYearID=e}),i["\u0275\u0275template"](46,rn,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](47,"div",19),i["\u0275\u0275elementStart"](48,"select",28),i["\u0275\u0275listener"]("change",function(){return t.onProgramSelect()})("ngModelChange",function(e){return t.filterParams.programID=e}),i["\u0275\u0275elementStart"](49,"option",29),i["\u0275\u0275text"](50,"All Programs"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](51,on,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](52,"div",19),i["\u0275\u0275elementStart"](53,"select",30),i["\u0275\u0275listener"]("change",function(){return t.onInstanceSelect()})("ngModelChange",function(e){return t.filterParams.programInstanceID=e}),i["\u0275\u0275elementStart"](54,"option",29),i["\u0275\u0275text"](55,"All Instances"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](56,ln,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("avnonLoader",t.loading||t.applicantsLoading),i["\u0275\u0275advance"](10),i["\u0275\u0275textInterpolate1"](" ",t.totalApplicants," applicants "),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](20,sn,1===t.tabActive)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](22,sn,2===t.tabActive)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",1===t.tabActive),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===t.tabActive),i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngModel",t.filterParams.fromMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.filterParams.fromYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.years),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.filterParams.toMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.filterParams.toYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.years),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.filterParams.programID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.programs),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.filterParams.programInstanceID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.instances))},directives:[C.a,a.l,a.n,P.B,P.q,P.t,a.m,P.v,P.D],pipes:[a.e,Ye.a],styles:[""]}),e})();function hn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",10),i["\u0275\u0275elementStart"](1,"td",11),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",12),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",12),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td",12),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"td",12),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"td",12),i["\u0275\u0275text"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"td",12),i["\u0275\u0275text"](14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"td",12),i["\u0275\u0275text"](16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"td",12),i["\u0275\u0275text"](18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"td",12),i["\u0275\u0275text"](20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"td",12),i["\u0275\u0275text"](22),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.courseTitle?e.courseTitle:"Unspecified"," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.startDate," - ",e.endDate,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalMinutes/60),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentFacilities||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentTrainer||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentCourseWare||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentCourseFees||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentTravel||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalDelegateSalary||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpent||0)}}function gn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",8),i["\u0275\u0275elementStart"](1,"table",9),i["\u0275\u0275elementStart"](2,"tbody"),i["\u0275\u0275elementStart"](3,"tr",10),i["\u0275\u0275elementStart"](4,"th",11),i["\u0275\u0275text"](5,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",12),i["\u0275\u0275text"](7,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",12),i["\u0275\u0275text"](9,"Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",12),i["\u0275\u0275text"](11,"Number of Hours"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"th",12),i["\u0275\u0275text"](13,"Facilities (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"th",12),i["\u0275\u0275text"](15,"Trainer (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"th",12),i["\u0275\u0275text"](17,"Courseware (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"th",12),i["\u0275\u0275text"](19,"Course Fees (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"th",12),i["\u0275\u0275text"](21,"Travel (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"th",12),i["\u0275\u0275text"](23,"Delegate Salary (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"th",12),i["\u0275\u0275text"](25,"Total Spent (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](26,hn,23,12,"tr",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](26),i["\u0275\u0275property"]("ngForOf",e.dataItems)}}function fn(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"p",6),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,gn,27,1,"div",7),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.dataItems.length," ",e.entity,""),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.dataItems&&e.dataItems.length>0)}}function vn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",10),i["\u0275\u0275elementStart"](1,"td",11),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",12),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",14),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td",12),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"](" ",e.firstName?e.firstName:"Unspecified"," ",e.surname," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.startDate," - ",e.endDate,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalMinutes/60)}}function Sn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",8),i["\u0275\u0275elementStart"](1,"table",9),i["\u0275\u0275elementStart"](2,"tbody"),i["\u0275\u0275elementStart"](3,"tr",10),i["\u0275\u0275elementStart"](4,"th",11),i["\u0275\u0275text"](5,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",12),i["\u0275\u0275text"](7,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",14),i["\u0275\u0275text"](9,"Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",12),i["\u0275\u0275text"](11,"Number of Hours"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](12,vn,9,6,"tr",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngForOf",e.dataItems)}}function yn(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"p",6),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,Sn,13,1,"div",7),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.dataItems.length," ",e.entity,""),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.dataItems&&e.dataItems.length>0)}}function xn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",10),i["\u0275\u0275elementStart"](1,"td",11),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",17),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",17),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td",17),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.division?e.division:"Unspecified Division"," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("",null==e?null:e.totalCount," events"),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalAddedCost)}}function Dn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",16),i["\u0275\u0275elementStart"](1,"table",9),i["\u0275\u0275elementStart"](2,"tbody"),i["\u0275\u0275elementStart"](3,"tr",10),i["\u0275\u0275elementStart"](4,"th",11),i["\u0275\u0275text"](5,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",17),i["\u0275\u0275text"](7,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",17),i["\u0275\u0275text"](9,"Total Count"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",17),i["\u0275\u0275text"](11,"Total Cost (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](12,xn,9,4,"tr",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngForOf",e.eventGroupDivisions)}}function En(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"p",6),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,Dn,13,1,"div",15),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("",e.dataItems.length," events"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.eventGroupDivisions&&e.eventGroupDivisions.length>0)}}let In=(()=>{class e{constructor(e){this.activeModal=e,this.entity="events",this.dataItems=[],this.blobUrl=Q.a.apiBlobUrl+"/",this.chartSeriesOptions=[]}ngOnInit(){const e=[];if(this.data.forEach(t=>{t.totalCount=this.data.filter(e=>e.eventTitle===t.eventTitle).length,e.push(t)}),this.dataItems=e.sort((e,t)=>t.totalCount-e.totalCount),"divisions"===this.entity){const e=[];Object(x.j)(Object(x.l)(this.data),"divisionID").forEach(t=>{t.totalAddedCost=0;let n=this.data.filter(e=>e.divisionID===t.divisionID);t.totalCount=this.data.filter(e=>e.divisionID===t.divisionID).length,n.forEach(e=>{t.totalAddedCost+=e.totalSpent}),t.totalAddedCost=Math.round(t.totalAddedCost),e.push(t)}),this.eventGroupDivisions=JSON.parse(JSON.stringify(e))}}dismiss(){this.activeModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](ye.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-event-breakdown"]],decls:10,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","d-flex","flex-column","modal-fixed-height--80vh"],[4,"ngIf"],[1,"mb-3"],["class","modal-fixed-height--auto p-2",4,"ngIf"],[1,"modal-fixed-height--auto","p-2"],[1,"table"],[1,"d-flex"],[1,"col-1"],[1,"col-2"],["class","d-flex",4,"ngFor","ngForOf"],[1,"col-4"],["class","modal-fixed-height p-2",4,"ngIf"],[1,"modal-fixed-height","p-2"],[1,"col-3"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h1",1),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",2),i["\u0275\u0275listener"]("click",function(){return t.dismiss()}),i["\u0275\u0275elementStart"](4,"span",3),i["\u0275\u0275text"](5,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275template"](7,fn,4,3,"ng-container",5),i["\u0275\u0275template"](8,yn,4,3,"ng-container",5),i["\u0275\u0275template"](9,En,4,2,"ng-container",5),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.title," "),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf","events"===t.entity),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","delegates"===t.entity),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","divisions"===t.entity))},directives:[a.n,a.m],styles:[".modal-fixed-height--80vh[_ngcontent-%COMP%]{max-height:80vh}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:0!important;padding:.25rem 1rem}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#f0f3ff;cursor:pointer}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:0;padding:.15rem 1rem}.table--legend[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{color:#333;font-size:12px;font-weight:700;fill:#333}.table--legend[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#333;font-size:12px}"]}),e})();var bn=n("++ZE"),Cn=n.n(bn),Pn=n("2Vo4");let Mn=(()=>{class e{constructor(){this.dataSource=new Pn.a({}),this.data=this.dataSource.asObservable(),this.dataSourcePreserveCache=new Pn.a(!1),this.isPreserveCache=this.dataSourcePreserveCache.asObservable()}setData(e){this.dataSource.next(e)}setIsPreserveCacheState(e){this.dataSourcePreserveCache.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function wn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"table",30),i["\u0275\u0275elementStart"](1,"tbody"),i["\u0275\u0275elementStart"](2,"tr",31),i["\u0275\u0275element"](3,"th",34),i["\u0275\u0275elementStart"](4,"th",34),i["\u0275\u0275text"](5,"Internal"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",34),i["\u0275\u0275text"](7,"External"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",34),i["\u0275\u0275text"](9,"Total"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"tr",31),i["\u0275\u0275elementStart"](11,"td",34),i["\u0275\u0275elementStart"](12,"strong"),i["\u0275\u0275text"](13,"Delegates"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"td",34),i["\u0275\u0275text"](15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"td",34),i["\u0275\u0275text"](17),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"td",34),i["\u0275\u0275text"](19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"tr",31),i["\u0275\u0275elementStart"](21,"td",34),i["\u0275\u0275elementStart"](22,"strong"),i["\u0275\u0275text"](23,"Events"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"td",34),i["\u0275\u0275text"](25),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"td",34),i["\u0275\u0275text"](27),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"td",34),i["\u0275\u0275text"](29),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"tr",31),i["\u0275\u0275elementStart"](31,"td",34),i["\u0275\u0275elementStart"](32,"strong"),i["\u0275\u0275text"](33,"Spent (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"td",34),i["\u0275\u0275text"](35),i["\u0275\u0275pipe"](36,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"td",34),i["\u0275\u0275text"](38),i["\u0275\u0275pipe"](39,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](40,"td",34),i["\u0275\u0275text"](41),i["\u0275\u0275pipe"](42,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](15),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.trained[0]?null:e.excutiveSummary.trained[0].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.trained[1]?null:e.excutiveSummary.trained[1].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.trained[0]?null:e.excutiveSummary.trained[0].y)+(null==e.excutiveSummary.trained[1]?null:e.excutiveSummary.trained[1].y)),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.event[0]?null:e.excutiveSummary.event[0].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.event[1]?null:e.excutiveSummary.event[1].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.event[0]?null:e.excutiveSummary.event[0].y)+(null==e.excutiveSummary.event[1]?null:e.excutiveSummary.event[1].y)),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](36,9,(null==e.excutiveSummary.spending[0]?null:e.excutiveSummary.spending[0].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](39,11,(null==e.excutiveSummary.spending[1]?null:e.excutiveSummary.spending[1].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](42,13,(null==e.excutiveSummary.spending[0]?null:e.excutiveSummary.spending[0].y)+(null==e.excutiveSummary.spending[1]?null:e.excutiveSummary.spending[1].y)))}}function On(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"table",30),i["\u0275\u0275elementStart"](1,"tbody"),i["\u0275\u0275elementStart"](2,"tr",31),i["\u0275\u0275elementStart"](3,"th",34),i["\u0275\u0275text"](4,"Spendings"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"th",34),i["\u0275\u0275text"](6,"Internal (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"th",34),i["\u0275\u0275text"](8,"External (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"th",34),i["\u0275\u0275text"](10,"Total (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"tr",31),i["\u0275\u0275elementStart"](12,"td",34),i["\u0275\u0275elementStart"](13,"strong"),i["\u0275\u0275text"](14,"Facilities"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"td",34),i["\u0275\u0275text"](16),i["\u0275\u0275pipe"](17,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"td",34),i["\u0275\u0275text"](19),i["\u0275\u0275pipe"](20,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"td",34),i["\u0275\u0275text"](22),i["\u0275\u0275pipe"](23,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"tr",31),i["\u0275\u0275elementStart"](25,"td",34),i["\u0275\u0275elementStart"](26,"strong"),i["\u0275\u0275text"](27," Trainers "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"td",34),i["\u0275\u0275text"](29),i["\u0275\u0275pipe"](30,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](31,"td",34),i["\u0275\u0275text"](32),i["\u0275\u0275pipe"](33,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"td",34),i["\u0275\u0275text"](35),i["\u0275\u0275pipe"](36,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"tr",31),i["\u0275\u0275elementStart"](38,"td",34),i["\u0275\u0275elementStart"](39,"strong"),i["\u0275\u0275text"](40,"Courseware"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](41,"td",34),i["\u0275\u0275text"](42),i["\u0275\u0275pipe"](43,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](44,"td",34),i["\u0275\u0275text"](45),i["\u0275\u0275pipe"](46,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](47,"td",34),i["\u0275\u0275text"](48),i["\u0275\u0275pipe"](49,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](50,"tr",31),i["\u0275\u0275elementStart"](51,"td",34),i["\u0275\u0275elementStart"](52,"strong"),i["\u0275\u0275text"](53,"Course Fees"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](54,"td",34),i["\u0275\u0275text"](55),i["\u0275\u0275pipe"](56,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](57,"td",34),i["\u0275\u0275text"](58),i["\u0275\u0275pipe"](59,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](60,"td",34),i["\u0275\u0275text"](61),i["\u0275\u0275pipe"](62,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](63,"tr",31),i["\u0275\u0275elementStart"](64,"td",34),i["\u0275\u0275elementStart"](65,"strong"),i["\u0275\u0275text"](66,"Travel"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](67,"td",34),i["\u0275\u0275text"](68),i["\u0275\u0275pipe"](69,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](70,"td",34),i["\u0275\u0275text"](71),i["\u0275\u0275pipe"](72,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](73,"td",34),i["\u0275\u0275text"](74),i["\u0275\u0275pipe"](75,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](76,"tr",31),i["\u0275\u0275elementStart"](77,"td",34),i["\u0275\u0275elementStart"](78,"strong"),i["\u0275\u0275text"](79,"Certificates"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](80,"td",34),i["\u0275\u0275text"](81),i["\u0275\u0275pipe"](82,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](83,"td",34),i["\u0275\u0275text"](84),i["\u0275\u0275pipe"](85,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](86,"td",34),i["\u0275\u0275text"](87),i["\u0275\u0275pipe"](88,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](89,"tr",31),i["\u0275\u0275elementStart"](90,"td",34),i["\u0275\u0275elementStart"](91,"strong"),i["\u0275\u0275text"](92,"Delegate Salary"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](93,"td",34),i["\u0275\u0275text"](94),i["\u0275\u0275pipe"](95,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](96,"td",34),i["\u0275\u0275text"](97),i["\u0275\u0275pipe"](98,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](99,"td",34),i["\u0275\u0275text"](100),i["\u0275\u0275pipe"](101,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](102,"tr",31),i["\u0275\u0275elementStart"](103,"td",34),i["\u0275\u0275elementStart"](104,"strong"),i["\u0275\u0275text"](105,"Sub-total"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](106,"td",34),i["\u0275\u0275text"](107),i["\u0275\u0275pipe"](108,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](109,"td",34),i["\u0275\u0275text"](110),i["\u0275\u0275pipe"](111,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](112,"td",34),i["\u0275\u0275text"](113),i["\u0275\u0275pipe"](114,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](16),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](17,24,(null==e.costSummary.facility[0]?null:e.costSummary.facility[0].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](20,26,(null==e.costSummary.facility[1]?null:e.costSummary.facility[1].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](23,28,(null==e.costSummary.facility[0]?null:e.costSummary.facility[0].y)+(null==e.costSummary.facility[1]?null:e.costSummary.facility[1].y))),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](30,30,(null==e.costSummary.trainer[0]?null:e.costSummary.trainer[0].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](33,32,(null==e.costSummary.trainer[1]?null:e.costSummary.trainer[1].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](36,34,(null==e.costSummary.trainer[0]?null:e.costSummary.trainer[0].y)+(null==e.costSummary.trainer[1]?null:e.costSummary.trainer[1].y))),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](43,36,(null==e.costSummary.courseWare[0]?null:e.costSummary.courseWare[0].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](46,38,(null==e.costSummary.courseWare[1]?null:e.costSummary.courseWare[1].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](49,40,(null==e.costSummary.courseWare[0]?null:e.costSummary.courseWare[0].y)+(null==e.costSummary.courseWare[1]?null:e.costSummary.courseWare[1].y))),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](56,42,(null==e.costSummary.courseFee[0]?null:e.costSummary.courseFee[0].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](59,44,(null==e.costSummary.courseFee[1]?null:e.costSummary.courseFee[1].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](62,46,(null==e.costSummary.courseFee[0]?null:e.costSummary.courseFee[0].y)+(null==e.costSummary.courseFee[1]?null:e.costSummary.courseFee[1].y))),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](69,48,(null==e.costSummary.travel[0]?null:e.costSummary.travel[0].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](72,50,(null==e.costSummary.travel[1]?null:e.costSummary.travel[1].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](75,52,(null==e.costSummary.travel[0]?null:e.costSummary.travel[0].y)+(null==e.costSummary.travel[1]?null:e.costSummary.travel[1].y))),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](82,54,(null==e.costSummary.certificates[0]?null:e.costSummary.certificates[0].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](85,56,(null==e.costSummary.certificates[1]?null:e.costSummary.certificates[1].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](88,58,(null==e.costSummary.certificates[0]?null:e.costSummary.certificates[0].y)+(null==e.costSummary.certificates[1]?null:e.costSummary.certificates[1].y))),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](95,60,(null==e.costSummary.salary[0]?null:e.costSummary.salary[0].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](98,62,(null==e.costSummary.salary[1]?null:e.costSummary.salary[1].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](101,64,(null==e.costSummary.salary[0]?null:e.costSummary.salary[0].y)+(null==e.costSummary.salary[1]?null:e.costSummary.salary[1].y))),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](108,66,(null==e.costSummary.facility[0]?null:e.costSummary.facility[0].y)+(null==e.costSummary.trainer[0]?null:e.costSummary.trainer[0].y)+(null==e.costSummary.courseWare[0]?null:e.costSummary.courseWare[0].y)+(null==e.costSummary.courseFee[0]?null:e.costSummary.courseFee[0].y)+(null==e.costSummary.travel[0]?null:e.costSummary.travel[0].y)+(null==e.costSummary.certificates[0]?null:e.costSummary.certificates[0].y)+(null==e.costSummary.salary[0]?null:e.costSummary.salary[0].y))),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](111,68,(null==e.costSummary.facility[1]?null:e.costSummary.facility[1].y)+(null==e.costSummary.trainer[1]?null:e.costSummary.trainer[1].y)+(null==e.costSummary.courseWare[1]?null:e.costSummary.courseWare[1].y)+(null==e.costSummary.courseFee[1]?null:e.costSummary.courseFee[1].y)+(null==e.costSummary.travel[1]?null:e.costSummary.travel[1].y)+(null==e.costSummary.certificates[1]?null:e.costSummary.certificates[1].y)+(null==e.costSummary.salary[1]?null:e.costSummary.salary[1].y))),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](114,70,(null==e.costSummary.facility[0]?null:e.costSummary.facility[0].y)+(null==e.costSummary.facility[1]?null:e.costSummary.facility[1].y)+((null==e.costSummary.trainer[0]?null:e.costSummary.trainer[0].y)+(null==e.costSummary.trainer[1]?null:e.costSummary.trainer[1].y))+((null==e.costSummary.courseWare[0]?null:e.costSummary.courseWare[0].y)+(null==e.costSummary.courseWare[1]?null:e.costSummary.courseWare[1].y))+((null==e.costSummary.courseFee[0]?null:e.costSummary.courseFee[0].y)+(null==e.costSummary.courseFee[1]?null:e.costSummary.courseFee[1].y))+((null==e.costSummary.travel[0]?null:e.costSummary.travel[0].y)+(null==e.costSummary.travel[1]?null:e.costSummary.travel[1].y))+((null==e.costSummary.certificates[0]?null:e.costSummary.certificates[0].y)+(null==e.costSummary.certificates[1]?null:e.costSummary.certificates[1].y))+((null==e.costSummary.salary[0]?null:e.costSummary.salary[0].y)+(null==e.costSummary.salary[1]?null:e.costSummary.salary[1].y))))}}function Fn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",31),i["\u0275\u0275elementStart"](1,"td",55),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",55),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.y," ")}}function jn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",15),i["\u0275\u0275elementStart"](1,"div",54),i["\u0275\u0275elementStart"](2,"table",30),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,Fn,5,2,"tr",35),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.courseCategoryPieSeries?null:e.courseCategoryPieSeries.data)}}function kn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",31),i["\u0275\u0275elementStart"](1,"td",55),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",55),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.y," ")}}function Tn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",15),i["\u0275\u0275elementStart"](1,"div",54),i["\u0275\u0275elementStart"](2,"table",30),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,kn,5,2,"tr",35),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.internalExternalPieseries?null:e.internalExternalPieseries.data)}}function Bn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",31),i["\u0275\u0275elementStart"](1,"td",55),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",55),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.y," ")}}function Yn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",15),i["\u0275\u0275elementStart"](1,"div",54),i["\u0275\u0275elementStart"](2,"table",30),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,Bn,5,2,"tr",35),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.genderPieSeries?null:e.genderPieSeries.data)}}function Vn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",31),i["\u0275\u0275elementStart"](1,"td",55),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",55),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" R ",e.y," ")}}function Ln(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",15),i["\u0275\u0275elementStart"](1,"div",54),i["\u0275\u0275elementStart"](2,"table",30),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,Vn,5,2,"tr",35),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.costByGenderPieSeries?null:e.costByGenderPieSeries.data)}}function An(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",31),i["\u0275\u0275elementStart"](1,"td",55),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",55),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.y," ")}}function _n(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",15),i["\u0275\u0275elementStart"](1,"div",54),i["\u0275\u0275elementStart"](2,"table",30),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,An,5,2,"tr",35),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.racePieSeries?null:e.racePieSeries.data)}}function Rn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",31),i["\u0275\u0275elementStart"](1,"td",55),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",55),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" R ",e.y," ")}}function Nn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",15),i["\u0275\u0275elementStart"](1,"div",54),i["\u0275\u0275elementStart"](2,"table",30),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,Rn,5,2,"tr",35),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.costByRacePieSeries?null:e.costByRacePieSeries.data)}}function $n(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",31),i["\u0275\u0275elementStart"](1,"td",55),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",55),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.y," ")}}function Gn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",15),i["\u0275\u0275elementStart"](1,"div",54),i["\u0275\u0275elementStart"](2,"table",30),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,$n,5,2,"tr",35),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.ofoPieSeries?null:e.ofoPieSeries.data)}}function Wn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",31),i["\u0275\u0275elementStart"](1,"td",55),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",55),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.y," ")}}function Un(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",15),i["\u0275\u0275elementStart"](1,"div",54),i["\u0275\u0275elementStart"](2,"table",30),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,Wn,5,2,"tr",35),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.agePieSeries?null:e.agePieSeries.data)}}function zn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",31),i["\u0275\u0275elementStart"](1,"td",56),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",34),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",57),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.count," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" R ",e.totalCost," ")}}function Jn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",15),i["\u0275\u0275elementStart"](1,"div",54),i["\u0275\u0275elementStart"](2,"table",30),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,zn,7,3,"tr",35),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.costPerCategoryPieSeries?null:e.costPerCategoryPieSeries.data)}}function Hn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",3),i["\u0275\u0275elementStart"](1,"h1"),i["\u0275\u0275text"](2,"Providers"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate2"](" ",null==e.eventGroupProviders?null:e.eventGroupProviders.length," ",(null==e.eventGroupProviders?null:e.eventGroupProviders.length)>1?"Providers":"Provider"," ")}}function qn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr",31),i["\u0275\u0275elementStart"](1,"td",32),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",33),i["\u0275\u0275element"](4,"img",58),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",34),i["\u0275\u0275elementStart"](6,"a",59),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"](2).showEventBreakdown(n,"provider","Providers")}),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"td",34),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"td",34),i["\u0275\u0275text"](11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,a=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",e.profilePhoto?a.blobUrl+"256px/"+e.profilePhoto:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",e.provider?e.provider:"Unspecified Provider"," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("",null==e?null:e.totalCount," events"),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalAddedCost)}}function Xn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",4),i["\u0275\u0275elementStart"](1,"table",30),i["\u0275\u0275elementStart"](2,"tbody"),i["\u0275\u0275elementStart"](3,"tr",31),i["\u0275\u0275elementStart"](4,"th",32),i["\u0275\u0275text"](5,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",33),i["\u0275\u0275text"](7,"Profile"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",34),i["\u0275\u0275text"](9,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",34),i["\u0275\u0275text"](11,"Total Count"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"th",34),i["\u0275\u0275text"](13,"Total Cost (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](14,qn,12,5,"tr",35),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](14),i["\u0275\u0275property"]("ngForOf",e.eventGroupProviders)}}function Kn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr",31),i["\u0275\u0275elementStart"](1,"td",32),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",33),i["\u0275\u0275element"](4,"img",58),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",34),i["\u0275\u0275elementStart"](6,"a",59),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"](2).showEventBreakdown(n,"trainerName","Trainers")}),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"td",33),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"td",33),i["\u0275\u0275text"](11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"td",33),i["\u0275\u0275text"](13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,a=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",e.profilePhoto?a.blobUrl+"256px/"+e.profilePhoto:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",e.trainerName?e.trainerName:"Unspecified Trainer",""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.hourlyRateTrainer||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalAddedHours),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.hourlyRateTrainer*e.totalAddedHours)}}function Qn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",4),i["\u0275\u0275elementStart"](1,"table",30),i["\u0275\u0275elementStart"](2,"tbody"),i["\u0275\u0275elementStart"](3,"tr",31),i["\u0275\u0275elementStart"](4,"th",32),i["\u0275\u0275text"](5,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",33),i["\u0275\u0275text"](7,"Profile"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",34),i["\u0275\u0275text"](9,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",33),i["\u0275\u0275text"](11,"Hourly Rate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"th",33),i["\u0275\u0275text"](13,"Total Hours"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"th",33),i["\u0275\u0275text"](15,"Total Cost (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](16,Kn,14,6,"tr",35),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](16),i["\u0275\u0275property"]("ngForOf",e.eventGroupTrainers)}}function Zn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr",31),i["\u0275\u0275elementStart"](1,"td",32),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",33),i["\u0275\u0275element"](4,"img",58),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",34),i["\u0275\u0275elementStart"](6,"a",59),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"]().showEventBreakdown(n,"contactID","Delegates")}),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"td",33),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"td",33),i["\u0275\u0275text"](11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"td",33),i["\u0275\u0275text"](13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,a=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",e.profilePhoto?a.blobUrl+"256px/"+e.profilePhoto:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate2"](" ",e.firstName?e.firstName:"Unspecified Delegate"," ",e.surname," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.hourlyRateDelegate),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalAddedHours),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.hourlyRateDelegate*e.totalAddedHours)}}const ea=function(e,t,n){return{"level-4":e,"level-3":t,"level-2":n}};function ta(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",60),i["\u0275\u0275elementStart"](1,"span",61),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span",62),i["\u0275\u0275element"](4,"img",58),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",31),i["\u0275\u0275elementStart"](6,"h2"),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"span",63),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"div",64),i["\u0275\u0275elementStart"](11,"p",65),i["\u0275\u0275text"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"p",65),i["\u0275\u0275text"](14),i["\u0275\u0275pipe"](15,"date"),i["\u0275\u0275pipe"](16,"date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,a=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction3"](15,ea,n>=999,n>=99,n>=9)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n+1,". "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",e.companyLogo?a.blobUrl+"256px/"+e.companyLogo:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate2"]("",e.eventTitle?e.eventTitle:"Event Title"," - ",e.eventID,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("",e.totalCount," delegates"),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.courseCategory),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",i["\u0275\u0275pipeBind2"](15,9,e.startDate,"dd MMMM yyyy")," - ",i["\u0275\u0275pipeBind2"](16,12,e.endDate,"dd MMMM yyyy"),"")}}function na(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",52),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.name," ")}}function aa(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",52),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function ra(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",52),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function oa(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",52),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function la(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",52),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.divisioniD),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.division," ")}}function ia(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",52),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.departmentID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.department," ")}}const sa=n("2BfV"),ma=n("Tos5"),ca=n("M8aS"),da=n("zF3M");sa(y.a),ma(y.a),ca(y.a),da(y.a);let pa=(()=>{class e{constructor(e,t,n,a,r,o){this.dashboardService=e,this.userService=t,this.router=n,this.modalService=a,this.contactService=r,this.dashboardDataService=o,this.programs=[],this.instances=[],this.unfilteredData=[],this.today=new Date,this.filterParams={fromMonthID:(new Date).getMonth(),fromYearID:(new Date).getFullYear(),toMonthID:(new Date).getMonth()+1,toYearID:(new Date).getFullYear(),programID:0,programInstanceID:0,divisionID:0,departmentID:0},this.years=[],this.months=Ot.a.create(),this.blobUrl=Q.a.apiBlobUrl+"/",this.loading=!1,this.eventsGroupByPeopleCount=[],this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID}ngOnInit(){4092!==this.companyID&&this.router.navigate(["dashboard"]),this.userService.ecosystemNavigation.next(!0),this.generateDateFilters(),this.isPreserveCache=!1,this.dashboardDataService.isPreserveCache.subscribe(e=>{if(this.isPreserveCache=e,this.isPreserveCache){let e=localStorage.getItem("dashboardFilter");null!==e&&(this.filterParams=JSON.parse(e)),this.initDivisions(),this.initDepartments()}else this.initDivisions(),this.initDepartments()})}generateDateFilters(){for(let e=this.filterParams.fromYearID-5;e<=this.filterParams.toYearID+5;++e)this.years.push({name:e,value:e})}initDivisions(){this.contactService.getAllDivision(this.companyID).subscribe(e=>{console.log("Divisions: ",e),this.divisions=e,this.getEvents()})}initDepartments(){this.contactService.getAllDepartment(this.filterParams.divisionID).subscribe(e=>{console.log("Departments: ",e),this.departments=e})}onDivisionSelect(){this.getEvents(),this.initDepartments()}onDepartmentSelect(){this.getEvents()}onInstanceSelect(){this.getEvents()}onMonthFromSelect(){this.getEvents()}fromYearSelect(){this.filterParams.fromYearID>this.filterParams.toYearID&&(this.filterParams.toYearID=this.filterParams.fromYearID),this.getEvents()}onMonthToSelect(){this.getEvents()}onYearToSelect(){this.getEvents()}getEvents(){this.eventLoading=!0;let e=localStorage.getItem("dashboardFilter"),t=[];this.dashboardService.getCachedEnterpriseEventDetails().subscribe(e=>{t=e});let n=Cn()(this.filterParams,JSON.parse(e));null===t||!1===n?this.retrieveDataThroughAPI():this.loadDashboard(t),localStorage.setItem("dashboardFilter",JSON.stringify(this.filterParams))}retrieveDataThroughAPI(){const e=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),t=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0),n=Object(x.a)(e),a=Object(x.a)(t);this.dashboardService.getEnterpriseEventDetails(this.companyID,0,0,0,0,0,n,a,0,0,0,0).subscribe(e=>{this.dashboardService.setCachedEnterpriseEventDetails(e),this.dashboardDataService.setIsPreserveCacheState(!0),this.loadDashboard(e)})}loadDashboard(e){const t=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),n=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0),a=Object(x.a)(t),r=Object(x.a)(n);e=e.filter(e=>e.startDate>=a&&e.endDate<=r),0!==this.filterParams.divisionID&&(e=e.filter(e=>e.divisionID===this.filterParams.divisionID)),0!==this.filterParams.departmentID&&(e=e.filter(e=>e.departmentID===this.filterParams.departmentID)),this.persistentLiveSnapshot||(this.persistentLiveSnapshot=JSON.parse(JSON.stringify(e))),this.unfilteredData=e,this.eventData=Object(x.j)(Object(x.l)(e),"eventID"),this.generateEventsChart(this.eventData),this.delegateData=Object(x.l)(e),this.generateEventDelegatesChart(this.delegateData),this.generateExecutiveSummary(),this.generateCostSummary()}generateExecutiveSummary(){this.excutiveSummary={trained:[],event:[],spending:[]},Object(x.j)(this.delegateData,"internal",!1).forEach(e=>{const t={name:!0===e.internal?"Internal":"External",y:this.delegateData.filter(t=>t.internal===e.internal).length};this.excutiveSummary.trained.push(t)}),Object(x.j)(this.eventData,"internal",!1).forEach(e=>{const t={name:!0===e.internal?"Internal":"External",y:this.eventData.filter(t=>t.internal===e.internal).length};this.excutiveSummary.event.push(t)}),Object(x.j)(this.eventData,"internal",!1).forEach(e=>{let t=this.eventData.filter(t=>t.internal===e.internal),n=0;t.forEach(e=>{n+=e.totalSpent});const a={name:!0===e.internal?"Internal":"External",y:Math.round(100*n)/100};this.excutiveSummary.spending.push(a)}),console.log("EXECUTIVE Summary: ",this.excutiveSummary)}generateCostSummary(){this.costSummary={facility:[],trainer:[],courseWare:[],courseFee:[],travel:[],salary:[],certificates:[]},Object(x.j)(this.eventData,"internal",!1).forEach(e=>{let t=this.eventData.filter(t=>t.internal===e.internal),n=0;t.forEach(e=>{n+=e.totalSpentFacilities});const a={name:!0===e.internal?"Internal":"External",y:Math.round(100*n)/100};this.costSummary.facility.push(a)}),Object(x.j)(this.eventData,"internal",!1).forEach(e=>{let t=this.eventData.filter(t=>t.internal===e.internal),n=0;t.forEach(e=>{n+=e.totalSpentTrainer});const a={name:!0===e.internal?"Internal":"External",y:Math.round(100*n)/100};this.costSummary.trainer.push(a)}),Object(x.j)(this.eventData,"internal",!1).forEach(e=>{let t=this.eventData.filter(t=>t.internal===e.internal),n=0;t.forEach(e=>{n+=e.totalSpentCourseWare});const a={name:!0===e.internal?"Internal":"External",y:Math.round(100*n)/100};this.costSummary.courseWare.push(a)}),Object(x.j)(this.eventData,"internal",!1).forEach(e=>{let t=this.eventData.filter(t=>t.internal===e.internal),n=0;t.forEach(e=>{n+=e.totalSpentCourseFees});const a={name:!0===e.internal?"Internal":"External",y:Math.round(100*n)/100};this.costSummary.courseFee.push(a)}),Object(x.j)(this.eventData,"internal",!1).forEach(e=>{let t=this.eventData.filter(t=>t.internal===e.internal),n=0;t.forEach(e=>{n+=e.totalSpentTravel});const a={name:!0===e.internal?"Internal":"External",y:Math.round(100*n)/100};this.costSummary.travel.push(a)}),Object(x.j)(this.eventData,"internal",!1).forEach(e=>{let t=this.eventData.filter(t=>t.internal===e.internal),n=0;t.forEach(e=>{n+=e.totalSpentCertificates});const a={name:!0===e.internal?"Internal":"External",y:Math.round(100*n)/100};this.costSummary.certificates.push(a)}),Object(x.j)(this.eventData,"internal",!1).forEach(e=>{let t=this.eventData.filter(t=>t.internal===e.internal),n=0;t.forEach(e=>{n+=e.totalDelegateSalary});const a={name:!0===e.internal?"Internal":"External",y:Math.round(100*n)/100};this.costSummary.salary.push(a)}),console.log("Cost breakdown: ",this.costSummary)}generateEventsChart(e){console.log("Enterprise event data: ",e);let t=!1,n=[],a={};if(this.filterParams.toMonthID-this.filterParams.fromMonthID==0&&this.filterParams.toYearID-this.filterParams.fromYearID==0){t=!0;for(let e=1;e<=3;e++){const t=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-e,1),a=this.months[t.getMonth()];n.push({monthID:t.getMonth()+1,yearID:t.getFullYear(),title:`${a.name}(${t.getFullYear()})`})}n=n.reverse(),a={chart:{type:"column",height:300},title:{text:""},xAxis:{categories:n.map(e=>e.title),gridLineWidth:0,title:!1,labels:{enabled:!1},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:y.a.defaultOptions.title.style&&y.a.defaultOptions.title.style.color||"gray"}}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[]}}else{for(let e=1;e<=13;e++){const t=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-e,1),a=this.months[t.getMonth()];n.push({monthID:t.getMonth()+1,yearID:t.getFullYear(),title:`${a.name}(${t.getFullYear()})`})}n=n.reverse(),a={chart:{type:"column",height:300},title:{text:""},xAxis:{categories:n.map(e=>e.title),gridLineWidth:0,title:!1,labels:{enabled:!1},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:y.a.defaultOptions.title.style&&y.a.defaultOptions.title.style.color||"gray"}}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0}}},series:[]}}let r=[],o=JSON.parse(JSON.stringify(this.divisions));o.push({division:"Unspecified",divisioniD:null}),o.forEach(e=>{const t={type:"column",name:e.division,data:[],dataLabels:{enabled:!1},point:{events:{click:(function(e){const t=e.point;this.showEventBreakdownModal(t.category,t.divisions)}).bind(this)}},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0}}},series:[]};r.push(t)});const l={type:"column",name:"Internal",data:[],dataLabels:{enabled:!1},point:{events:{click:(function(e){const t=e.point;this.showEventBreakdownModal(t.category,t.divisions)}).bind(this)}},series:[]},i={type:"column",name:"External",data:[],dataLabels:{enabled:!1},point:{events:{click:(function(e){const t=e.point;this.showEventBreakdownModal(t.category,t.divisions)}).bind(this)}},series:[]};n.forEach(t=>{o.forEach(n=>{const a=e.filter(e=>{const a=new Date(e.startDate).getMonth()+1,r=new Date(e.startDate).getFullYear();return a===t.monthID&&r===t.yearID&&e.divisionID===n.divisioniD});r.filter(e=>e.name===n.division)[0].data.push({divisions:a,y:a.length})});const n=e.filter(e=>{const n=new Date(e.startDate).getMonth()+1,a=new Date(e.startDate).getFullYear();return n===t.monthID&&a===t.yearID&&!0===e.internal});l.data.push({divisions:n,y:n.length});const a=e.filter(e=>{const n=new Date(e.startDate).getMonth()+1,a=new Date(e.startDate).getFullYear();return n===t.monthID&&a===t.yearID&&!1===e.internal});i.data.push({divisions:a,y:a.length})}),r.forEach(e=>{e.series.push(l),e.series.push(i);let t=0;for(let a=0;a<n.length;a++)0===e.data[a].divisions.length&&t++;t<n.length&&a.series.push(e)}),this.eventChart=y.a.chart("eventChart",a),this.totalEvents=e.filter(e=>{const t=new Date(e.startDate).getMonth()+1,a=new Date(e.startDate).getFullYear();return n.some(e=>e.yearID===a&&t===e.monthID)}).length;const s=[];Object(x.j)(this.persistentLiveSnapshot,"eventID").forEach(e=>{e.totalCount=this.persistentLiveSnapshot.filter(t=>t.eventID===e.eventID).length,s.push(e)}),this.eventsGroupByPeopleCount=JSON.parse(JSON.stringify(s)),this.eventsGroupByPeopleCount=this.eventsGroupByPeopleCount.sort((e,t)=>t.totalCount-e.totalCount),this.generateCategoryChart(e),this.generateCostPerCategoryBar(e),this.eventLoading=!1}generateEventDelegatesChart(e){console.log("Enterprise event delegates data: ",e);let t=[];for(let s=1;s<=13;s++){const e=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-s,1),n=this.months[e.getMonth()];t.push({monthID:e.getMonth()+1,yearID:e.getFullYear(),title:`${n.name}(${e.getFullYear()})`})}t=t.reverse();const n={chart:{type:"column",height:300},title:{text:""},xAxis:{categories:t.map(e=>e.title),gridLineWidth:0,title:!1,labels:{enabled:!1},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:y.a.defaultOptions.title.style&&y.a.defaultOptions.title.style.color||"gray"}}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0}}},series:[]};let a=[],r=JSON.parse(JSON.stringify(this.divisions));r.push({division:"Unspecified",divisioniD:null}),r.forEach(e=>{const t={type:"column",name:e.division,data:[],dataLabels:{enabled:!1},point:{events:{click:(function(e){const t=e.point;this.showEventBreakdownModal(t.category,t.divisions)}).bind(this)}}};a.push(t)}),t.forEach(t=>{r.forEach(n=>{const r=e.filter(e=>{const a=new Date(e.startDate).getMonth()+1,r=new Date(e.startDate).getFullYear();return a===t.monthID&&r===t.yearID&&e.divisionID===n.divisioniD});a.filter(e=>e.name===n.division)[0].data.push({divisions:r,y:r.length})})}),a.forEach(e=>{let t=0;for(let n=0;n<13;n++)0===e.data[n].divisions.length&&t++;t<13&&n.series.push(e)}),this.delegateChart=y.a.chart("delegateChart",n),this.totalDelegates=e.filter(e=>{const n=new Date(e.startDate).getMonth()+1,a=new Date(e.startDate).getFullYear();return t.some(e=>e.yearID===a&&n===e.monthID)}).length;const o=[];Object(x.j)(Object(x.l)(e),"trainerName").forEach(t=>{t.totalAddedHours=0;let n=e.filter(e=>e.trainerName===t.trainerName);t.totalCount=e.filter(e=>e.trainerName===t.trainerName).length,n.forEach(e=>{t.totalAddedHours+=e.totalMinutes/60}),t.totalAddedHours=Math.round(t.totalAddedHours),o.push(t)}),this.eventGroupTrainers=JSON.parse(JSON.stringify(o));const l=[];Object(x.j)(Object(x.l)(this.eventData),"provider").forEach(e=>{e.totalAddedCost=0;let t=this.eventData.filter(t=>t.provider===e.provider);e.totalCount=this.eventData.filter(t=>t.providerID===e.providerID).length,t.forEach(t=>{e.totalAddedCost+=t.totalSpent}),e.totalAddedCost=Math.round(e.totalAddedCost),l.push(e)}),this.eventGroupProviders=JSON.parse(JSON.stringify(l));const i=[];Object(x.j)(Object(x.l)(e),"contactID").forEach(t=>{t.totalAddedHours=0;let n=e.filter(e=>e.contactID===t.contactID);t.totalCount=e.filter(e=>e.contactID===t.contactID).length,n.forEach(e=>{t.totalAddedHours+=e.totalMinutes/60}),t.totalAddedHours=Math.round(t.totalAddedHours),i.push(t)}),this.eventGroupDelegates=JSON.parse(JSON.stringify(i)),this.generateInternalExternalChart(e),this.generateRaceChart(e),this.generateGenderChart(e),this.generateOfoChart(e),this.generateAgeChart(e),this.delegateLoading=!1}generateInternalExternalChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.internalExternalPieseries={name:"Count",colorByPoint:!0,data:[]},Object(x.j)(e,"internal",!1).forEach(t=>{const n={name:!0===t.internal?"Internal":"External",y:e.filter(e=>e.internal===t.internal).length};this.internalExternalPieseries.data.push(n)}),t.series.push(this.internalExternalPieseries),this.internalExternalChart=y.a.chart("internalExternal",t)}generateRaceChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}},n={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.racePieSeries={name:"Count",colorByPoint:!0,data:[]},this.costByRacePieSeries={name:"Cost",colorByPoint:!0,data:[]},Object(x.j)(e,"race",!1).forEach(t=>{const n={name:t.race||"Not Specified",y:e.filter(e=>e.race===t.race).length};this.racePieSeries.data.push(n);let a=this.eventData.filter(e=>e.race===t.race),r=0;a.forEach(e=>{r+=e.totalSpent});const o={name:t.race||"Not Specified",y:Math.round(100*r)/100,totalCost:Math.round(100*r)/100};this.costByRacePieSeries.data.push(o)}),t.series.push(this.racePieSeries),this.raceChart=y.a.chart("race",t),n.series.push(this.costByRacePieSeries),this.costPerRaceChart=y.a.chart("costRace",n)}generateGenderChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}},n={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.genderPieSeries={name:"Count",colorByPoint:!0,data:[]},this.costByGenderPieSeries={name:"Cost",colorByPoint:!0,data:[]},Object(x.j)(e,"gender",!1).forEach(t=>{const n={name:t.gender||"Not Specified",y:e.filter(e=>e.gender===t.gender).length};this.genderPieSeries.data.push(n);let a=this.eventData.filter(e=>e.gender===t.gender),r=0;a.forEach(e=>{r+=e.totalSpent});const o={name:t.gender||"Not Specified",y:Math.round(100*r)/100,totalCost:Math.round(100*r)/100};this.costByGenderPieSeries.data.push(o)}),t.series.push(this.genderPieSeries),this.genderChart=y.a.chart("gender",t),n.series.push(this.costByGenderPieSeries),this.costPerGenderChart=y.a.chart("costGender",n)}generateOfoChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.ofoPieSeries={name:"Count",colorByPoint:!0,data:[]},Object(x.j)(e,"ofoDescription",!1).forEach(t=>{const n={name:t.ofoDescription||"Not Specified",y:e.filter(e=>e.ofoDescription===t.ofoDescription).length};this.ofoPieSeries.data.push(n)}),t.series.push(this.ofoPieSeries),this.ofoChart=y.a.chart("ofo",t)}generateAgeChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.agePieSeries={name:"Count",colorByPoint:!0,data:[]},Object(x.j)(e,"age",!1).forEach(t=>{const n={name:t.age||"Not Specified",y:e.filter(e=>e.age===t.age).length};this.agePieSeries.data.push(n)}),t.series.push(this.agePieSeries),this.ageChart=y.a.chart("age",t)}generateCategoryChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.courseCategoryPieSeries={name:"Count",colorByPoint:!0,data:[]},Object(x.j)(e,"courseCategory",!1).forEach(t=>{const n={name:t.courseCategory||"Not Specified",y:e.filter(e=>e.courseCategory===t.courseCategory).length};this.courseCategoryPieSeries.data.push(n)}),t.series.push(this.courseCategoryPieSeries),this.categoryChart=y.a.chart("categoryChart",t)}generateCostPerProvider(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.costPerProviderPieseries={name:"Cost",colorByPoint:!0,data:[]},Object(x.j)(e,"provider",!1).forEach(t=>{const n={name:t.provider||"Not Specified",y:e.filter(e=>e.provider===t.provider).length};this.costPerProviderPieseries.data.push(n)}),t.series.push(this.costPerProviderPieseries),this.categoryChart=y.a.chart("costByProviderChart",t)}generateCostPerCategory(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},tooltip:{formatter:function(){return"Count: "+this.key+" <br/>Count:<strong>"+this.point.options.count+"</strong><br/>Cost: <strong>R "+this.point.options.totalCost+"</strong>"}},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.costPerCategoryPieSeries={name:"Count",colorByPoint:!0,data:[]},Object(x.j)(e,"courseCategory",!1).forEach(t=>{let n=e.filter(e=>e.courseCategory===t.courseCategory),a=0;n.forEach(e=>{a+=e.totalSpent});const r={name:t.courseCategory||"Not Specified",y:Math.round(100*a)/100,count:n.length,totalCost:Math.round(100*a)/100};this.costPerCategoryPieSeries.data.push(r)}),t.series.push(this.costPerCategoryPieSeries),this.categoryChart=y.a.chart("costByCategoryChart",t)}generateCostPerCategoryBar(e){const t={chart:{type:"bar"},title:{text:""},yAxis:{min:0,title:{text:"Cost"}},xAxis:{categories:[]},legend:{reversed:!0},tooltip:{formatter:function(){return"Count: "+this.key+" <br/>Count:<strong>"+this.point.options.count+"</strong><br/>Cost: <strong>R "+this.point.options.totalCost+"</strong>"}},plotOptions:{series:{stacking:"normal",showInLegend:!1}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.costPerCategoryPieSeries={name:"Count",colorByPoint:!0,data:[]},Object(x.j)(e,"courseCategory",!1).forEach(n=>{let a=e.filter(e=>e.courseCategory===n.courseCategory),r=0;a.forEach(e=>{r+=e.totalSpent}),t.xAxis.categories.push(n.courseCategory);const o={name:n.courseCategory||"Not Specified",y:Math.round(100*r)/100,count:a.length,totalCost:Math.round(100*r)/100};this.costPerCategoryPieSeries.data.push(o)}),t.series.push(this.costPerCategoryPieSeries),this.categoryChart=y.a.chart("costByCategoryChart",t)}showEventBreakdown(e,t,n=""){let a={title:"",data:[],entity:"events",keyProperty:t},r=[];"contactID"===t?(a.title=`Events joined by ${e.firstName} ${e.surname}`,r=this.delegateData.filter(n=>n[t]===e[t])):(a.title="Events conducted by "+e[t],r=this.eventData.filter(n=>n[t]===e[t])),a.data=r,a.entity=n,this.dashboardDataService.setData(a),this.router.navigate(["/dashboard/event-monthly"])}showEventBreakdownDirect(e,t,n=""){let a={title:"",data:[],entity:"events",keyProperty:t};a.data=e,a.entity=n,this.dashboardDataService.setData(a),this.router.navigate(["/dashboard/trainer-monthly"])}showEventBreakdownModal(e,t){const n=this.modalService.open(In,{size:"xl"});n.componentInstance.title=e,n.componentInstance.data=t,n.componentInstance.entity="events"}back(){this.router.navigate(["/dashboard"])}ngOnDestroy(){this.userService.ecosystemNavigation.next(!1)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](I.a),i["\u0275\u0275directiveInject"](s.a),i["\u0275\u0275directiveInject"](r.d),i["\u0275\u0275directiveInject"](ye.p),i["\u0275\u0275directiveInject"](Te.a),i["\u0275\u0275directiveInject"](Mn))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dashboard-events"]],decls:163,vars:39,consts:[[1,"d-flex","flex-column","w-100",3,"avnonLoader"],[1,"page-title"],[1,"display-inline"],[1,"col-12","d-flex","flex-column","filter-container","border-top","border-bottom"],[1,"modal-fixed-height","p-2"],["class","table table-bordered",4,"ngIf"],[1,"col-12","d-flex","flex-column","filter-container","border-bottom","mt-3","border-top","border-top"],[1,"col-12","mb-3"],["id","eventChart",1,"chart"],["id","delegateChart",1,"chart"],[1,"row","px-4"],[1,"col-lg-6","col-md-6","col-sm-6","d-flex","flex-column","p-1","pt-4"],[1,"text-center"],["id","categoryChart",1,"pie","w-100"],["class","w-100",4,"ngIf"],[1,"w-100"],["id","internalExternal",1,"pie","w-100"],[1,"col-lg-12","col-md-12","col-sm-12","pt-4"],[1,"w-100","d-flex"],[1,"w-50","p-1"],["id","gender",1,"pie","w-100"],["id","costGender",1,"pie","w-100"],["id","race",1,"pie","w-100"],["id","costRace",1,"pie","w-100"],["id","ofo",1,"pie","w-100"],["id","age",1,"pie","w-100"],[1,"col-lg-12","col-md-12","col-sm-12","d-flex","flex-column","p-1","pt-4"],["id","costByCategoryChart",1,"pie","w-100"],["class","col-12 d-flex flex-column filter-container border-top border-bottom",4,"ngIf"],["class","modal-fixed-height p-2",4,"ngIf"],[1,"table","table-bordered"],[1,"d-flex"],[1,"col-1"],[1,"col-2"],[1,"col-3"],["class","d-flex",4,"ngFor","ngForOf"],["class","entry",4,"ngFor","ngForOf"],[1,"col-auto","filter-section"],[1,"sticky-container","d-flex","flex-column"],[1,"card"],[1,"card-header"],[1,"card-body","pb-0"],[1,"form-group"],["for","dateFrom"],[1,"input-group"],["id","dateFrom","name","fromMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["name","fromYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],["for","dateTo"],["id","dateTo","name","toMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","change","ngModelChange"],["name","toYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],["name","divisionID",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],[3,"ngValue"],["name","departmentID",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],[1,"modal-fixed-height--20vh"],[1,"col-6"],[1,"col-5"],[1,"col-4"],["alt","network",1,"avatar","avatar-48","contain-avatar",3,"src"],[3,"click"],[1,"entry"],[1,"rank",3,"ngClass"],[1,"media","avatar","avatar-48","avatar-48-square"],[1,"ml-auto"],[1,"entry-content"],[1,"meta"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"h1",2),i["\u0275\u0275text"](3,"Events Dashboard"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",3),i["\u0275\u0275elementStart"](5,"h1"),i["\u0275\u0275text"](6,"Events Summary"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",4),i["\u0275\u0275template"](8,wn,43,15,"table",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",3),i["\u0275\u0275elementStart"](10,"h1"),i["\u0275\u0275text"](11,"Cost Summary"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",4),i["\u0275\u0275template"](13,On,115,72,"table",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"div",6),i["\u0275\u0275elementStart"](15,"h3"),i["\u0275\u0275text"](16,"Total Events"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"span"),i["\u0275\u0275text"](18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"div",7),i["\u0275\u0275element"](20,"div",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"div",6),i["\u0275\u0275elementStart"](22,"h3"),i["\u0275\u0275text"](23,"Total Delegates"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"span"),i["\u0275\u0275text"](25),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"div",7),i["\u0275\u0275element"](27,"div",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"div",10),i["\u0275\u0275elementStart"](29,"div",11),i["\u0275\u0275elementStart"](30,"label",12),i["\u0275\u0275text"](31,"Events by Category"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](32,"div",13),i["\u0275\u0275template"](33,jn,5,1,"div",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"div",11),i["\u0275\u0275elementStart"](35,"div",15),i["\u0275\u0275elementStart"](36,"label",12),i["\u0275\u0275text"](37,"Internal / External Delegates"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](38,"div",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](39,Tn,5,1,"div",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](40,"div",17),i["\u0275\u0275elementStart"](41,"div",15),i["\u0275\u0275elementStart"](42,"h1"),i["\u0275\u0275text"](43,"Gender"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](44,"div",18),i["\u0275\u0275elementStart"](45,"div",19),i["\u0275\u0275elementStart"](46,"div",15),i["\u0275\u0275elementStart"](47,"label",12),i["\u0275\u0275text"](48,"Delegates By Gender"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](49,"div",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](50,Yn,5,1,"div",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](51,"div",19),i["\u0275\u0275elementStart"](52,"div",15),i["\u0275\u0275elementStart"](53,"label",12),i["\u0275\u0275text"](54,"Cost By Gender"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](55,"div",21),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](56,Ln,5,1,"div",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](57,"div",17),i["\u0275\u0275elementStart"](58,"div",15),i["\u0275\u0275elementStart"](59,"h1"),i["\u0275\u0275text"](60,"Race"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](61,"div",18),i["\u0275\u0275elementStart"](62,"div",19),i["\u0275\u0275elementStart"](63,"div",15),i["\u0275\u0275elementStart"](64,"label",12),i["\u0275\u0275text"](65,"Delegates By Race"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](66,"div",22),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](67,_n,5,1,"div",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](68,"div",19),i["\u0275\u0275elementStart"](69,"div",15),i["\u0275\u0275elementStart"](70,"label",12),i["\u0275\u0275text"](71,"Cost By Race"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](72,"div",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](73,Nn,5,1,"div",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](74,"div",11),i["\u0275\u0275elementStart"](75,"label",12),i["\u0275\u0275text"](76,"Delegates By OFO"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](77,"div",24),i["\u0275\u0275template"](78,Gn,5,1,"div",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](79,"div",11),i["\u0275\u0275elementStart"](80,"label",12),i["\u0275\u0275text"](81,"Delegates By Age"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](82,"div",25),i["\u0275\u0275template"](83,Un,5,1,"div",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](84,"div",26),i["\u0275\u0275elementStart"](85,"label",12),i["\u0275\u0275text"](86,"Cost by Category"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](87,"div",27),i["\u0275\u0275template"](88,Jn,5,1,"div",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](89,"hr"),i["\u0275\u0275template"](90,Hn,5,2,"div",28),i["\u0275\u0275template"](91,Xn,15,1,"div",29),i["\u0275\u0275element"](92,"hr"),i["\u0275\u0275elementStart"](93,"div",3),i["\u0275\u0275elementStart"](94,"h1"),i["\u0275\u0275text"](95,"Trainers"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](96,"span"),i["\u0275\u0275text"](97),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](98,Qn,17,1,"div",29),i["\u0275\u0275element"](99,"hr"),i["\u0275\u0275elementStart"](100,"div",3),i["\u0275\u0275elementStart"](101,"h1"),i["\u0275\u0275text"](102,"Delegates"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](103,"span"),i["\u0275\u0275text"](104),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](105,"div",4),i["\u0275\u0275elementStart"](106,"table",30),i["\u0275\u0275elementStart"](107,"tbody"),i["\u0275\u0275elementStart"](108,"tr",31),i["\u0275\u0275elementStart"](109,"th",32),i["\u0275\u0275text"](110,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](111,"th",33),i["\u0275\u0275text"](112,"Profile"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](113,"th",34),i["\u0275\u0275text"](114,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](115,"th",33),i["\u0275\u0275text"](116,"Hourly Rate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](117,"th",33),i["\u0275\u0275text"](118,"Total Hours"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](119,"th",33),i["\u0275\u0275text"](120,"Total Cost (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](121,Zn,14,7,"tr",35),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](122,"hr"),i["\u0275\u0275elementStart"](123,"div",3),i["\u0275\u0275elementStart"](124,"h1"),i["\u0275\u0275text"](125,"Live Snapshot"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](126,"span"),i["\u0275\u0275text"](127),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](128,"div",4),i["\u0275\u0275template"](129,ta,17,19,"div",36),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](130,"div",37),i["\u0275\u0275elementStart"](131,"div",38),i["\u0275\u0275elementStart"](132,"div",39),i["\u0275\u0275elementStart"](133,"div",40),i["\u0275\u0275elementStart"](134,"h3"),i["\u0275\u0275text"](135,"Filters"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](136,"div",41),i["\u0275\u0275elementStart"](137,"div",42),i["\u0275\u0275elementStart"](138,"label",43),i["\u0275\u0275text"](139,"Date From"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](140,"div",44),i["\u0275\u0275elementStart"](141,"select",45),i["\u0275\u0275listener"]("change",function(){return t.onMonthFromSelect()})("ngModelChange",function(e){return t.filterParams.fromMonthID=e}),i["\u0275\u0275template"](142,na,2,2,"option",46),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](143,"select",47),i["\u0275\u0275listener"]("change",function(){return t.fromYearSelect()})("ngModelChange",function(e){return t.filterParams.fromYearID=e}),i["\u0275\u0275template"](144,aa,2,2,"option",46),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](145,"div",42),i["\u0275\u0275elementStart"](146,"label",48),i["\u0275\u0275text"](147,"Date To"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](148,"div",44),i["\u0275\u0275elementStart"](149,"select",49),i["\u0275\u0275listener"]("change",function(){return t.onMonthToSelect()})("ngModelChange",function(e){return t.filterParams.toMonthID=e}),i["\u0275\u0275template"](150,ra,2,2,"option",46),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](151,"select",50),i["\u0275\u0275listener"]("change",function(){return t.onYearToSelect()})("ngModelChange",function(e){return t.filterParams.toYearID=e}),i["\u0275\u0275template"](152,oa,2,2,"option",46),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](153,"div",42),i["\u0275\u0275elementStart"](154,"select",51),i["\u0275\u0275listener"]("change",function(){return t.onDivisionSelect()})("ngModelChange",function(e){return t.filterParams.divisionID=e}),i["\u0275\u0275elementStart"](155,"option",52),i["\u0275\u0275text"](156,"All Divisions"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](157,la,2,2,"option",46),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](158,"div",42),i["\u0275\u0275elementStart"](159,"select",53),i["\u0275\u0275listener"]("change",function(){return t.onDepartmentSelect()})("ngModelChange",function(e){return t.filterParams.departmentID=e}),i["\u0275\u0275elementStart"](160,"option",52),i["\u0275\u0275text"](161,"All Departments"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](162,ia,2,2,"option",46),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("avnonLoader",t.eventLoading),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("ngIf",t.excutiveSummary),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",t.costSummary),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",t.totalEvents," events "),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate1"](" ",t.totalDelegates," delegates "),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("ngIf",t.courseCategoryPieSeries),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",t.internalExternalPieseries),i["\u0275\u0275advance"](11),i["\u0275\u0275property"]("ngIf",t.genderPieSeries),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",t.costByGenderPieSeries),i["\u0275\u0275advance"](11),i["\u0275\u0275property"]("ngIf",t.racePieSeries),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",t.costByRacePieSeries),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",t.ofoPieSeries),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",t.agePieSeries),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",t.costPerCategoryPieSeries),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.eventGroupProviders&&t.eventGroupProviders.length>0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.eventGroupProviders&&t.eventGroupProviders.length>0),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate2"](" ",null==t.eventGroupTrainers?null:t.eventGroupTrainers.length," ",(null==t.eventGroupTrainers?null:t.eventGroupTrainers.length)>1?"Trainers":"Trainer"," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.eventGroupTrainers&&t.eventGroupTrainers.length>0),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate2"](" ",null==t.eventGroupDelegates?null:t.eventGroupDelegates.length," ","Delegates"," "),i["\u0275\u0275advance"](17),i["\u0275\u0275property"]("ngForOf",t.eventGroupDelegates),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate2"](" ",null==t.eventsGroupByPeopleCount?null:t.eventsGroupByPeopleCount.length," ",(null==t.eventsGroupByPeopleCount?null:t.eventsGroupByPeopleCount.length)>1?"Events":"Event"," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.eventsGroupByPeopleCount),i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngModel",t.filterParams.fromMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.filterParams.fromYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.years),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.filterParams.toMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.filterParams.toYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.years),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.filterParams.divisionID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.divisions),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.filterParams.departmentID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.departments))},directives:[C.a,a.n,a.m,P.B,P.q,P.t,P.v,P.D,a.l],pipes:[a.f,a.e],styles:["a[_ngcontent-%COMP%]:hover{text-decoration:underline!important}"]}),e})();var ua=n("HNxE"),ha=n("LRne"),ga=n("Kj3r"),fa=n("/uUt"),va=n("pLZG"),Sa=n("eIep"),ya=n("JIr8"),xa=n("Ujtm"),Da=n("5eHb"),Ea=n("SVtl");function Ia(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.title," Report Generate ")}}function ba(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,Ia,2,1,"ng-container",7),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.id===n.id)}}function Ca(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",14),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.divisionID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.division," ")}}function Pa(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"label",16),i["\u0275\u0275text"](2,"Division"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"select",17),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).onDivisionSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).divisionID=t}),i["\u0275\u0275elementStart"](4,"option",14),i["\u0275\u0275text"](5,"All Divisions"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,Ca,2,2,"option",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",e.divisionID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.divisions)}}function Ma(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",14),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.departmentID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.department," ")}}function wa(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"label",19),i["\u0275\u0275text"](2,"Department"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"select",20),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).departmentID=t}),i["\u0275\u0275elementStart"](4,"option",14),i["\u0275\u0275text"](5,"All Departments"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,Ma,2,2,"option",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",e.departmentID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.departments)}}function Oa(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"label",21),i["\u0275\u0275text"](2,"Start Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",22),i["\u0275\u0275elementStart"](4,"input",23,24),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275reference"](5).toggle()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).startDate=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",25),i["\u0275\u0275elementStart"](7,"span",26),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275reference"](5).toggle()}),i["\u0275\u0275element"](8,"span",27),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",e.startDate)}}function Fa(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"label",28),i["\u0275\u0275text"](2,"End Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",22),i["\u0275\u0275elementStart"](4,"input",29,30),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275reference"](5).toggle()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).endDate=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",25),i["\u0275\u0275elementStart"](7,"span",26),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275reference"](5).toggle()}),i["\u0275\u0275element"](8,"span",27),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",e.endDate)}}function ja(e,t){if(1&e&&i["\u0275\u0275element"](0,"ngb-highlight",34),2&e){const e=t.result,n=t.term;i["\u0275\u0275property"]("result",e.firstName+" "+e.surname)("term",n)}}function ka(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"label",31),i["\u0275\u0275text"](2,"Employee"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,ja,1,2,"ng-template",null,32,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementStart"](5,"input",33),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).contact=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](4),t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("placeholder","Employee")("ngModel",t.contact)("ngbTypeahead",t.contactSearch)("resultTemplate",e)("inputFormatter",t.contactFormatter)}}const Ta=function(){return[5,6,7]},Ba=function(){return[7]};function Ya(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"form",8,9),i["\u0275\u0275listener"]("submit",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().generateReport()}),i["\u0275\u0275template"](2,Pa,7,3,"div",10),i["\u0275\u0275template"](3,wa,7,3,"div",10),i["\u0275\u0275template"](4,Oa,9,1,"div",10),i["\u0275\u0275template"](5,Fa,9,1,"div",10),i["\u0275\u0275template"](6,ka,6,5,"div",10),i["\u0275\u0275elementStart"](7,"div",11),i["\u0275\u0275elementStart"](8,"label",12),i["\u0275\u0275text"](9,"File Format"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"select",13),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().fileFormat=t}),i["\u0275\u0275elementStart"](11,"option",14),i["\u0275\u0275text"](12,"Please Select"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"option",14),i["\u0275\u0275text"](14," PDF "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"option",14),i["\u0275\u0275text"](16," WORD "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"option",14),i["\u0275\u0275text"](18," EXCEL "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"button",15),i["\u0275\u0275text"](20,"Generate "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](1),t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!i["\u0275\u0275pureFunction0"](11,Ta).includes(t.id)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!i["\u0275\u0275pureFunction0"](12,Ta).includes(t.id)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!i["\u0275\u0275pureFunction0"](13,Ba).includes(t.id)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!i["\u0275\u0275pureFunction0"](14,Ba).includes(t.id)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===t.user.userGroupID&&4===t.id),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",t.fileFormat),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",2),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",3),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",e.invalid||t.loading||2===t.user.userGroupID&&4===t.id&&!t.contact.contactID)}}function Va(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",14),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.programID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.programTitle," ")}}function La(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"label",35),i["\u0275\u0275text"](2,"Program"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"select",36),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).onProgramSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).programID=t}),i["\u0275\u0275elementStart"](4,"option",14),i["\u0275\u0275text"](5,"All Programs"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,Va,2,2,"option",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",e.programID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.programs)}}function Aa(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",14),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.programInstanceID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.programInstanceTitle," ")}}function _a(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"label",37),i["\u0275\u0275text"](2,"Group"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"select",38),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).programInstanceID=t}),i["\u0275\u0275elementStart"](4,"option",14),i["\u0275\u0275text"](5,"All Groups"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,Aa,2,2,"option",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",e.programInstanceID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.instances)}}function Ra(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",14),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.referenceID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function Na(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"label",39),i["\u0275\u0275text"](2,"Company"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"select",40),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).masterCompanyID=t}),i["\u0275\u0275elementStart"](4,"option",14),i["\u0275\u0275text"](5,"All Companies"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,Ra,2,2,"option",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",e.masterCompanyID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.networkMembers)}}function $a(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",14),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e," ")}}function Ga(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"label",41),i["\u0275\u0275text"](2,"Year"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"select",42),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).yearID=t}),i["\u0275\u0275elementStart"](4,"option",14),i["\u0275\u0275text"](5,"Please Select"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,$a,2,2,"option",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",e.yearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.years)}}function Wa(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"label",21),i["\u0275\u0275text"](2,"Start Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",22),i["\u0275\u0275elementStart"](4,"input",23,24),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275reference"](5).toggle()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).startDate=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",25),i["\u0275\u0275elementStart"](7,"span",26),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275reference"](5).toggle()}),i["\u0275\u0275element"](8,"span",27),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",e.startDate)}}function Ua(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"label",28),i["\u0275\u0275text"](2,"End Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",22),i["\u0275\u0275elementStart"](4,"input",29,30),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275reference"](5).toggle()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).endDate=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",25),i["\u0275\u0275elementStart"](7,"span",26),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275reference"](5).toggle()}),i["\u0275\u0275element"](8,"span",27),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",e.endDate)}}function za(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"form",8,9),i["\u0275\u0275listener"]("submit",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().generateReport()}),i["\u0275\u0275template"](2,La,7,3,"div",10),i["\u0275\u0275template"](3,_a,7,3,"div",10),i["\u0275\u0275template"](4,Na,7,3,"div",10),i["\u0275\u0275template"](5,Ga,7,3,"div",10),i["\u0275\u0275template"](6,Wa,9,1,"div",10),i["\u0275\u0275template"](7,Ua,9,1,"div",10),i["\u0275\u0275elementStart"](8,"div",11),i["\u0275\u0275elementStart"](9,"label",12),i["\u0275\u0275text"](10,"File Format"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"select",13),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().fileFormat=t}),i["\u0275\u0275elementStart"](12,"option",14),i["\u0275\u0275text"](13,"Please Select"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"option",14),i["\u0275\u0275text"](15," PDF "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"option",14),i["\u0275\u0275text"](17," WORD "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"option",14),i["\u0275\u0275text"](19," EXCEL "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"button",15),i["\u0275\u0275text"](21,"Generate "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](1),t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",6===t.id),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",6===t.id),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",5===t.id),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",5===t.id),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",6===t.id),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",6===t.id),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",t.fileFormat),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",2),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",3),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",e.invalid||t.loading||2===t.user.userGroupID&&4===t.id&&!t.contact.contactID)}}let Ja=(()=>{class e{constructor(e,t,n,a,r,o,l,i){this.userService=e,this.reportService=t,this.activatedRoute=n,this.contactService=a,this.toastrService=r,this.programsService=o,this.networkService=l,this.router=i,this.reportList=[],this.divisions=[],this.departments=[],this.divisionID=0,this.departmentID=0,this.fileFormat=3,this.contact=new ua.a,this.programID=0,this.programInstanceID=0,this.masterCompanyID=0,this.yearID=(new Date).getFullYear(),this.years=[(new Date).getFullYear()-3,(new Date).getFullYear()-2,(new Date).getFullYear()-1,(new Date).getFullYear(),(new Date).getFullYear()+1,(new Date).getFullYear()+2,(new Date).getFullYear()+3],this.programs=[],this.instances=[],this.networkMembers=[],this.contactFormatter=e=>e.firstName?e.firstName+" "+e.surname:"",this.contactSearch=e=>e.pipe(Object(ga.a)(300),Object(fa.a)(),Object(va.a)(e=>e.length>=1),Object(Sa.a)(e=>this.contactService.getCompanyContactEnterprise(0,this.companyID,0,0,e,1,10).pipe(Object(ya.a)(()=>Object(ha.a)([]))))),this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID}ngOnInit(){this.isQstp=window.location.hostname.toLocaleLowerCase().includes("qstp"),this.userService.ecosystemHideFilter.next(!0),this.userService.ecosystemNavigation.next(!0),this.id=+this.activatedRoute.snapshot.params.id,[2,3].includes(this.user.userGroupID)?(this.reportList=[{id:1,title:"Executive Summary",desc:"Description"},{id:2,title:"Financial Summary",desc:"Description"},{id:3,title:"Training Summary",desc:"Description"},{id:4,title:"Individual Training Summary",desc:"Description"},{id:5,title:"ATR - Beneficiaries Trained",desc:"Description"},{id:6,title:"ATR - Interventions Completed",desc:"Description"},{id:7,title:"Seta Employee Summary",desc:"Description"},{id:8,title:"BEE",desc:"Description"}],this.getDivisions()):this.isQstp?(this.getPrograms(),this.getNetworkMembers(),this.reportList.push({id:5,title:"Annual Summary",desc:"Description"}),this.reportList.push({id:6,title:"Monthly Executive Summary",desc:"Description"}),this.fileFormat=1):this.reportList=[{id:1,title:"Applicants Summary",desc:"Description"},{id:2,title:"Training Summary",desc:"Description"},{id:3,title:"Mentoring Summary",desc:"Description"},{id:4,title:"Company Summary",desc:"Description"}]}getDivisions(){this.loading=!0,this.contactService.getAllDivision(this.companyID).subscribe(e=>{this.divisions=e.map(e=>(e.hasOwnProperty("divisioniD")&&(e.divisionID=e.divisioniD),e)),this.loading=!1})}onDivisionSelect(){this.departmentID=0,this.divisionID&&(this.loading=!0,this.contactService.getAllDepartment(this.divisionID).subscribe(e=>{this.departments=e,this.loading=!1}))}generateReport(){let e;if(2===this.user.userGroupID)switch(this.id){case 1:e=this.trainingExecution();break;case 2:e=this.budgetImplementationReport();break;case 3:e=this.trainingDetail();break;case 4:e=this.trainingIndividual();break;case 5:e=this.atrBenificiariesTrained();break;case 6:e=this.atrBenificiariesCompleted();break;case 7:e=this.setaEmployee();break;case 8:e=this.getBeeReport()}else if(this.isQstp)switch(this.id){case 5:e=this.annualReport();break;case 6:e=this.monthlyExecutive()}e.subscribe(e=>{const t=e.headers.get("Content-Disposition"),n=e.headers.get("Content-Type"),a=Object(x.a)(new Date);let r=(null==t?void 0:t.split("filename=").pop())||`Pipeline_${a}.pdf`;r=r.split(";")[0];const o=new Blob([e.body],{type:n||"application/pdf"}),l=window.URL.createObjectURL(o),i=document.createElement("a");i.href=l,i.download=r||"",i.click(),this.loading=!1},()=>{this.toastrService.warning("Cannot generate Report"),this.loading=!1})}budgetImplementationReport(){this.loading=!0;const e=this.dateModel().startDate,t=this.dateModel().endDate;return this.reportService.budgetImplementationReport(this.companyID,this.divisionID,this.departmentID,e,t,this.fileFormat)}trainingDetail(){this.loading=!0;const e=this.dateModel().startDate,t=this.dateModel().endDate;return this.reportService.trainingDetailSummary(this.companyID,this.divisionID,this.departmentID,e,t,this.fileFormat)}trainingExecution(){this.loading=!0;const e=this.dateModel().startDate,t=this.dateModel().endDate;return this.reportService.trainingExecutiveSummary(this.companyID,this.divisionID,this.departmentID,e,t,this.fileFormat)}trainingIndividual(){this.loading=!0;const e=this.dateModel().startDate,t=this.dateModel().endDate;return this.reportService.trainingIndividualSummary(this.companyID,this.divisionID,this.departmentID,e,t,this.fileFormat,0,0,0,0,0,0,this.contact.contactID)}atrBenificiariesTrained(){this.loading=!0;const e=this.dateModel().startDate,t=this.dateModel().endDate;return this.reportService.benificiariesTrained(this.companyID,e,t,this.fileFormat,this.departmentID)}atrBenificiariesCompleted(){this.loading=!0;const e=this.dateModel().startDate,t=this.dateModel().endDate;return this.reportService.benificiariesCompleted(this.companyID,e,t,this.fileFormat,this.departmentID)}setaEmployee(){this.loading=!0;const e=this.dateModel().startDate,t=this.dateModel().endDate;return this.reportService.setaEmployee(this.companyID,e,t,this.fileFormat,this.departmentID)}getBeeReport(){this.loading=!0;const e=this.dateModel().startDate,t=this.dateModel().endDate;return this.reportService.beeReport(this.companyID,e,t,this.fileFormat,this.departmentID,this.divisionID)}annualReport(){const e=Object(x.a)(new Date(this.yearID,0,1)),t=Object(x.a)(new Date(this.yearID-1,0,1));return this.reportService.annualReport(this.companyID,e,t,this.masterCompanyID,0,0,this.fileFormat)}monthlyExecutive(){this.loading=!0;const e=this.dateModel().startDate,t=this.dateModel().endDate;return this.reportService.monthlyExecutive(this.companyID,e,t,0,this.programID,this.programInstanceID,0,0,this.fileFormat)}dateModel(){let e="2000-01-01 00:00:00",t="2000-01-01 00:00:00";if(this.startDate&&this.startDate.year){const t=new Date(this.startDate.year,this.startDate.month-1,this.startDate.day);e=Object(x.a)(t)}if(this.endDate&&this.endDate.year){const e=new Date(this.endDate.year,this.endDate.month-1,this.endDate.day);t=Object(x.a)(e)}return{startDate:e,endDate:t}}back(){this.router.navigate(["/dashboard/reports"])}getPrograms(){this.programsService.getPrograms(this.companyID).subscribe(e=>{this.programs=e})}getNetworkMembers(){this.networkService.getNetwork(0,0,0,0,this.companyID,0,1).pipe(Object(Sa.a)(e=>e.length?this.networkService.getNetworkMember(e[0].networkID,2,0,0,0,0):Object(ha.a)([]))).subscribe(e=>{this.networkMembers=e})}onProgramSelect(){0===this.programID?(this.programInstanceID=0,this.instances=[]):this.instances=this.programs.find(e=>e.programID===this.programID).instances}ngOnDestroy(){this.userService.ecosystemHideFilter.next(!1),this.userService.ecosystemNavigation.next(!1)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](s.a),i["\u0275\u0275directiveInject"](xa.a),i["\u0275\u0275directiveInject"](r.a),i["\u0275\u0275directiveInject"](Te.a),i["\u0275\u0275directiveInject"](Da.b),i["\u0275\u0275directiveInject"](b.a),i["\u0275\u0275directiveInject"](Ea.a),i["\u0275\u0275directiveInject"](r.d))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dashboard-reports-breakdown"]],decls:8,vars:4,consts:[[1,"d-flex","w-100","flex-column",3,"avnonLoader"],[1,"page-title"],[1,"cursor-pointer","text-primary","display-inline","mr-2",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline"],[4,"ngFor","ngForOf"],["class","d-flex w-100 flex-column align-items-start pl-3 pr-3 pt-3",3,"submit",4,"ngIf"],[4,"ngIf"],[1,"d-flex","w-100","flex-column","align-items-start","pl-3","pr-3","pt-3",3,"submit"],["f","ngForm"],["class","form-group w-100",4,"ngIf"],[1,"form-group","w-100"],["for","fileFormat"],["name","fileFormat","disabled","","id","fileFormat","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"btn","btn-primary","ml-auto",3,"disabled"],["for","division"],["name","division","id","division","required","",1,"form-control",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["for","department"],["name","department","id","department","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","startDate"],[1,"input-group"],["required","","placeholder","yyyy-mm-dd","name","startDate","ngbDatepicker","","id","startDate","container","body","autocomplete","off",1,"form-control",3,"ngModel","click","ngModelChange"],["startDatePicker","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text","bg-transparent",3,"click"],[1,"calendar-icon","icon-sm"],["for","endDate"],["required","","placeholder","yyyy-mm-dd","name","endDate","ngbDatepicker","","id","endDate","container","body","autocomplete","off",1,"form-control",3,"ngModel","click","ngModelChange"],["endDatePicker","ngbDatepicker"],["for","contact"],["contactResult",""],["type","text","id","contact","required","","name","contact",1,"form-control",3,"placeholder","ngModel","ngbTypeahead","resultTemplate","inputFormatter","ngModelChange"],[3,"result","term"],["for","programID"],["name","programID","id","programID","required","",1,"form-control",3,"ngModel","change","ngModelChange"],["for","programInstanceID"],["name","programInstanceID","id","programInstanceID","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","masterCompanyID"],["name","masterCompanyID","id","masterCompanyID","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","yearID"],["name","yearID","id","yearID","required","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"span",2),i["\u0275\u0275listener"]("click",function(){return t.back()}),i["\u0275\u0275element"](3,"i",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"h1",4),i["\u0275\u0275template"](5,ba,2,1,"ng-container",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,Ya,21,15,"form",6),i["\u0275\u0275template"](7,za,22,12,"form",6),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("avnonLoader",t.loading),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngForOf",t.reportList),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===t.user.userGroupID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isQstp))},directives:[C.a,a.m,a.n,P.E,P.r,P.s,P.B,P.A,P.q,P.t,P.v,P.D,ye.o,P.b,ye.E,ye.n],styles:[""]}),e})();function Ha(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",11),i["\u0275\u0275elementStart"](1,"td",12),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",13),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",13),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td",12),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"td",14),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"td",14),i["\u0275\u0275text"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"td",14),i["\u0275\u0275text"](14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"td",14),i["\u0275\u0275text"](16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"td",14),i["\u0275\u0275text"](18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"td",14),i["\u0275\u0275text"](20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"td",14),i["\u0275\u0275text"](22),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.courseTitle?e.courseTitle:"Unspecified"," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.startDate," - ",e.endDate,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalMinutes/60),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentFacilities||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentTrainer||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.hourlyRateTrainer||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentCourseWare||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentCourseFees||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentTravel||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpent||0)}}function qa(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",9),i["\u0275\u0275elementStart"](1,"table",10),i["\u0275\u0275elementStart"](2,"tbody"),i["\u0275\u0275elementStart"](3,"tr",11),i["\u0275\u0275elementStart"](4,"th",12),i["\u0275\u0275text"](5,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",13),i["\u0275\u0275text"](7,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",13),i["\u0275\u0275text"](9,"Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",12),i["\u0275\u0275text"](11,"Hours"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"th",14),i["\u0275\u0275text"](13,"Facilities (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"th",14),i["\u0275\u0275text"](15,"Trainer (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"th",14),i["\u0275\u0275text"](17,"Rate per Hour"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"th",14),i["\u0275\u0275text"](19,"Courseware (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"th",14),i["\u0275\u0275text"](21,"Course Fees (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"th",14),i["\u0275\u0275text"](23,"Travel (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"th",14),i["\u0275\u0275text"](25,"Total Spent(R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](26,Ha,23,12,"tr",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](26),i["\u0275\u0275property"]("ngForOf",e.eventGroup)}}function Xa(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"span",3),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().back()}),i["\u0275\u0275element"](4,"i",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"h1",5),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",6),i["\u0275\u0275elementStart"](8,"p",7),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,qa,27,1,"div",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](e.dashboardData.title),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",null==e.eventGroup?null:e.eventGroup.length," events "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.eventGroup&&e.eventGroup.length>0)}}function Ka(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",11),i["\u0275\u0275elementStart"](1,"td",12),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",23),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",14),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td",14),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"td",12),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"td",14),i["\u0275\u0275text"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.courseTitle?e.courseTitle:"Unspecified"," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.startDate," - ",e.endDate,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.hourlyRateTrainer||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalMinutes/60),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.hourlyRateTrainer*(e.totalMinutes/60))}}function Qa(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",22),i["\u0275\u0275elementStart"](1,"table",10),i["\u0275\u0275elementStart"](2,"tbody"),i["\u0275\u0275elementStart"](3,"tr",11),i["\u0275\u0275elementStart"](4,"th",12),i["\u0275\u0275text"](5,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",23),i["\u0275\u0275text"](7,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",14),i["\u0275\u0275text"](9,"Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",14),i["\u0275\u0275text"](11,"Trainer Hourly Rate (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"th",12),i["\u0275\u0275text"](13,"Hours"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"th",14),i["\u0275\u0275text"](15,"Total Spent (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](16,Ka,13,7,"tr",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](16),i["\u0275\u0275property"]("ngForOf",e.eventGroup)}}function Za(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"span",3),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().back()}),i["\u0275\u0275element"](4,"i",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"h1",5),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",16),i["\u0275\u0275elementStart"](8,"span",17),i["\u0275\u0275element"](9,"img",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"h2",19),i["\u0275\u0275elementStart"](11,"a"),i["\u0275\u0275text"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"span",20),i["\u0275\u0275text"](14," Industry "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"div",6),i["\u0275\u0275elementStart"](16,"p",7),i["\u0275\u0275text"](17),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](18,Qa,17,1,"div",21),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](e.dashboardData.title),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate1"](" ",e.eventGroup[0].trainerName," "),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",null==e.eventGroup?null:e.eventGroup.length," events "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.eventGroup&&e.eventGroup.length>0)}}function er(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",11),i["\u0275\u0275elementStart"](1,"td",12),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",14),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",14),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td",12),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"td",14),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"td",14),i["\u0275\u0275text"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"td",14),i["\u0275\u0275text"](14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"td",14),i["\u0275\u0275text"](16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"td",14),i["\u0275\u0275text"](18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"td",14),i["\u0275\u0275text"](20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.courseTitle?e.courseTitle:"Unspecified"," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.startDate," - ",e.endDate,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalMinutes/60),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentFacilities||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentTrainer||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentCourseWare||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentCourseFees||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentTravel||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpent||0)}}function tr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",22),i["\u0275\u0275elementStart"](1,"table",10),i["\u0275\u0275elementStart"](2,"tbody"),i["\u0275\u0275elementStart"](3,"tr",11),i["\u0275\u0275elementStart"](4,"th",12),i["\u0275\u0275text"](5,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",14),i["\u0275\u0275text"](7,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",14),i["\u0275\u0275text"](9,"Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",12),i["\u0275\u0275text"](11,"Hours"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"th",14),i["\u0275\u0275text"](13,"Facilities"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"th",14),i["\u0275\u0275text"](15,"Trainer"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"th",14),i["\u0275\u0275text"](17,"Course Ware"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"th",14),i["\u0275\u0275text"](19,"Course Fees"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"th",14),i["\u0275\u0275text"](21,"Travel"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"th",14),i["\u0275\u0275text"](23,"Total Spent (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](24,er,21,11,"tr",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](24),i["\u0275\u0275property"]("ngForOf",e.eventGroup)}}function nr(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"span",3),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().back()}),i["\u0275\u0275element"](4,"i",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"h1",5),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",16),i["\u0275\u0275elementStart"](8,"span",17),i["\u0275\u0275element"](9,"img",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"h2",19),i["\u0275\u0275elementStart"](11,"a"),i["\u0275\u0275text"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"span",20),i["\u0275\u0275text"](14," Industry "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"div",6),i["\u0275\u0275elementStart"](16,"p",7),i["\u0275\u0275text"](17),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](18,tr,25,1,"div",21),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](e.dashboardData.title),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate1"](" ",e.eventGroup[0].provider," "),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",null==e.eventGroup?null:e.eventGroup.length," events "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.eventGroup&&e.eventGroup.length>0)}}function ar(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",11),i["\u0275\u0275elementStart"](1,"td",12),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",14),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",14),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td",14),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"td",14),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"td",14),i["\u0275\u0275text"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"td",14),i["\u0275\u0275text"](14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"td",14),i["\u0275\u0275text"](16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"td",14),i["\u0275\u0275text"](18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"td",14),i["\u0275\u0275text"](20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"td",14),i["\u0275\u0275text"](22),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.courseTitle?e.courseTitle:"Unspecified"," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.startDate," - ",e.endDate,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalMinutes/60),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.hourlyRateDelegate),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentFacilities||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentTrainer||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentCourseWare||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentCourseFees||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentTravel||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpent||0)}}function rr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",22),i["\u0275\u0275elementStart"](1,"table",10),i["\u0275\u0275elementStart"](2,"tbody"),i["\u0275\u0275elementStart"](3,"tr",11),i["\u0275\u0275elementStart"](4,"th",12),i["\u0275\u0275text"](5,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",14),i["\u0275\u0275text"](7,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",14),i["\u0275\u0275text"](9,"Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",14),i["\u0275\u0275text"](11,"Number of Hours"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"th",14),i["\u0275\u0275text"](13,"Hourly Rate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"th",14),i["\u0275\u0275text"](15,"Facilities (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"th",14),i["\u0275\u0275text"](17,"Trainer (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"th",14),i["\u0275\u0275text"](19,"Course Ware (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"th",14),i["\u0275\u0275text"](21,"Course Fees (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"th",14),i["\u0275\u0275text"](23,"Travel (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"th",14),i["\u0275\u0275text"](25,"Total Spent (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](26,ar,23,12,"tr",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](26),i["\u0275\u0275property"]("ngForOf",e.eventGroup)}}function or(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"span",3),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().back()}),i["\u0275\u0275element"](4,"i",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"h1",5),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",16),i["\u0275\u0275elementStart"](8,"span",17),i["\u0275\u0275element"](9,"img",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"h2",19),i["\u0275\u0275elementStart"](11,"a"),i["\u0275\u0275text"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"span",20),i["\u0275\u0275text"](14," Industry "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"div",6),i["\u0275\u0275elementStart"](16,"p",7),i["\u0275\u0275text"](17),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](18,rr,27,1,"div",21),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](e.dashboardData.title),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate2"](" ",e.eventGroup[0].firstName," ",e.eventGroup[0].surname," "),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",null==e.eventGroup?null:e.eventGroup.length," events "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.eventGroup&&e.eventGroup.length>0)}}let lr=(()=>{class e{constructor(e,t){this.dashboardDataService=e,this.location=t,this.today=new Date,this.filterParams={fromMonthID:(new Date).getMonth()+1,fromYearID:(new Date).getFullYear(),toMonthID:(new Date).getMonth()+1,toYearID:(new Date).getFullYear(),programID:0,programInstanceID:0},this.years=[],this.months=Ot.a.create(),this.blobUrl=Q.a.apiBlobUrl+"/",this.totalSpentTrainer=0}ngOnInit(){this.dashboardDataService.data.subscribe(e=>{console.log("\ud83d\ude80 > DashboardEventsMonthlyDetailsComponent > this.dashboardDataService.data.subscribe > data",e),this.dashboardData=e}),this.keyProperty=this.dashboardData.keyProperty,this.eventGroup=this.dashboardData.data,this.eventGroup.forEach(e=>{this.totalSpentTrainer+=e.totalSpentTrainer}),console.log("\ud83d\ude80 > DashboardEventsMonthlyDetailsComponent > ngOnInit > this.totalSpentTrainer",this.totalSpentTrainer)}back(){this.location.back()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Mn),i["\u0275\u0275directiveInject"](a.j))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dashboard-events-monthly-details"]],decls:4,vars:4,consts:[[4,"ngIf"],[1,"d-flex","flex-column","w-100"],[1,"page-title"],[1,"cursor-pointer","text-primary","display-inline","mr-2",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline"],[1,"profile-overview","pb-0","pt-0","mt-0"],[1,"p-23","mb-2"],["class","table-wrapper--110",4,"ngIf"],[1,"table-wrapper--110"],[1,"table"],[1,"d-flex"],[1,"col-1"],[1,"col-4"],[1,"col-2"],["class","d-flex",4,"ngFor","ngForOf"],[1,"entry","border-none"],[1,"media","avatar","avatar-48","avatar-48-square"],["src","assets/img/placeholder.jpg","alt","Avatar",1,"img-fluid","img-48"],[1,"mt-1"],[1,"meta"],["class","table-wrapper--175",4,"ngIf"],[1,"table-wrapper--175"],[1,"col-3"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,Xa,11,3,"ng-container",0),i["\u0275\u0275template"](1,Za,19,4,"ng-container",0),i["\u0275\u0275template"](2,nr,19,4,"ng-container",0),i["\u0275\u0275template"](3,or,19,5,"ng-container",0)),2&e&&(i["\u0275\u0275property"]("ngIf",t.eventGroup&&t.dashboardData&&"Events"===(null==t.dashboardData?null:t.dashboardData.entity)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.eventGroup&&t.dashboardData&&"Trainers"===(null==t.dashboardData?null:t.dashboardData.entity)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.eventGroup&&t.dashboardData&&"Providers"===(null==t.dashboardData?null:t.dashboardData.entity)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.eventGroup&&t.dashboardData&&"Delegates"===(null==t.dashboardData?null:t.dashboardData.entity)))},directives:[a.n,a.m],styles:["thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:0!important;padding:.25rem 1rem}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#f0f3ff;cursor:pointer}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:0;padding:.15rem 1rem}.table-wrapper--110[_ngcontent-%COMP%]{height:calc(100vh - 110px);overflow-y:auto}.table-wrapper--175[_ngcontent-%COMP%]{height:calc(100vh - 175px);overflow-y:auto}"]}),e})();function ir(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",11),i["\u0275\u0275elementStart"](1,"td",12),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",13),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"th",14),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"th",14),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"th",14),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"th",14),i["\u0275\u0275text"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.courseTitle?e.courseTitle:"Unspecified"," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.startDate," - ",e.endDate,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.hourlyRateTrainer||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalMinutes/60),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.hourlyRateTrainer*(e.totalMinutes/60))}}function sr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",9),i["\u0275\u0275elementStart"](1,"table",10),i["\u0275\u0275elementStart"](2,"tbody"),i["\u0275\u0275elementStart"](3,"tr",11),i["\u0275\u0275elementStart"](4,"th",12),i["\u0275\u0275text"](5,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",13),i["\u0275\u0275text"](7,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",14),i["\u0275\u0275text"](9,"Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",14),i["\u0275\u0275text"](11,"Trainer Hourly Rate (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"th",14),i["\u0275\u0275text"](13,"Number of Hours"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"th",14),i["\u0275\u0275text"](15,"Total Spent (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](16,ir,13,7,"tr",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](16),i["\u0275\u0275property"]("ngForOf",e.dataGroup)}}function mr(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"span",3),i["\u0275\u0275element"](4,"i",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"h1",5),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",6),i["\u0275\u0275elementStart"](8,"p",7),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,sr,17,1,"div",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](e.dashboardData.title),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",null==e.dataGroup?null:e.dataGroup.length," Trainers "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.dataGroup&&e.dataGroup.length>0)}}let cr=(()=>{class e{constructor(e,t){this.dashboardDataService=e,this.router=t,this.blobUrl=Q.a.apiBlobUrl+"/"}ngOnInit(){this.dashboardDataService.data.subscribe(e=>{this.dashboardData=e}),this.keyProperty=this.dashboardData.keyProperty,this.dataGroup=this.dashboardData.data}back(){this.router.navigate(["/dashboard/event"])}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Mn),i["\u0275\u0275directiveInject"](r.d))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-trainer-monthly"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex","flex-column","w-100"],[1,"page-title"],[1,"cursor-pointer","text-primary","display-inline","mr-2"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline"],[1,"profile-overview","pb-0","pt-0","mt-0"],[1,"p-23","mb-2"],["class","modal-fixed-height--auto p-2",4,"ngIf"],[1,"modal-fixed-height--auto","p-2"],[1,"table","table-bordered"],[1,"d-flex"],[1,"col-1"],[1,"col-3"],[1,"col-2"],["class","d-flex",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,mr,11,3,"ng-container",0),2&e&&i["\u0275\u0275property"]("ngIf",t.dataGroup)},directives:[a.n,a.m],styles:[""]}),e})();function dr(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",32),i["\u0275\u0275elementStart"](1,"div",33),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.isMobileFilteringOn=!t.isMobileFilteringOn}),i["\u0275\u0275elementStart"](2,"span",34),i["\u0275\u0275element"](3,"i",35),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"h3",36),i["\u0275\u0275text"](5,"Filters"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function pr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"table",37),i["\u0275\u0275elementStart"](1,"tbody"),i["\u0275\u0275elementStart"](2,"tr",38),i["\u0275\u0275element"](3,"th",39),i["\u0275\u0275elementStart"](4,"th",39),i["\u0275\u0275text"](5,"Internal"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",39),i["\u0275\u0275text"](7,"External"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",39),i["\u0275\u0275text"](9,"Total"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"tr",38),i["\u0275\u0275elementStart"](11,"td",39),i["\u0275\u0275elementStart"](12,"strong"),i["\u0275\u0275text"](13,"Delegates"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"td",39),i["\u0275\u0275text"](15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"td",39),i["\u0275\u0275text"](17),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"td",39),i["\u0275\u0275text"](19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"tr",38),i["\u0275\u0275elementStart"](21,"td",39),i["\u0275\u0275elementStart"](22,"strong"),i["\u0275\u0275text"](23,"Events"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"td",39),i["\u0275\u0275text"](25),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"td",39),i["\u0275\u0275text"](27),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"td",39),i["\u0275\u0275text"](29),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"tr",38),i["\u0275\u0275elementStart"](31,"td",39),i["\u0275\u0275elementStart"](32,"strong"),i["\u0275\u0275text"](33,"Spent (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"td",39),i["\u0275\u0275text"](35),i["\u0275\u0275pipe"](36,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"td",39),i["\u0275\u0275text"](38),i["\u0275\u0275pipe"](39,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](40,"td",39),i["\u0275\u0275text"](41),i["\u0275\u0275pipe"](42,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](15),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.trained[0]?null:e.excutiveSummary.trained[0].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.trained[1]?null:e.excutiveSummary.trained[1].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.trained[0]?null:e.excutiveSummary.trained[0].y)+(null==e.excutiveSummary.trained[1]?null:e.excutiveSummary.trained[1].y)),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.event[0]?null:e.excutiveSummary.event[0].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.event[1]?null:e.excutiveSummary.event[1].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.event[0]?null:e.excutiveSummary.event[0].y)+(null==e.excutiveSummary.event[1]?null:e.excutiveSummary.event[1].y)),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](36,9,(null==e.excutiveSummary.spending[0]?null:e.excutiveSummary.spending[0].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](39,11,(null==e.excutiveSummary.spending[1]?null:e.excutiveSummary.spending[1].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](42,13,(null==e.excutiveSummary.spending[0]?null:e.excutiveSummary.spending[0].y)+(null==e.excutiveSummary.spending[1]?null:e.excutiveSummary.spending[1].y)))}}function ur(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.name," ")}}function hr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function gr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function fr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function vr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.divisioniD),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.division," ")}}function Sr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.departmentID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.department," ")}}function yr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.name," ")}}function xr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Dr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Er(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Ir(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.divisioniD),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.division," ")}}function br(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.departmentID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.department," ")}}function Cr(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",40),i["\u0275\u0275elementStart"](1,"div",41),i["\u0275\u0275elementStart"](2,"div"),i["\u0275\u0275elementStart"](3,"span",42),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.isMobileFilteringOn=!t.isMobileFilteringOn}),i["\u0275\u0275element"](4,"i",43),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"h1",44),i["\u0275\u0275text"](6,"Filtering"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",45),i["\u0275\u0275elementStart"](8,"div",19),i["\u0275\u0275elementStart"](9,"label",20),i["\u0275\u0275text"](10,"Date From"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",21),i["\u0275\u0275elementStart"](12,"select",22),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onMonthFromSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.fromMonthID=t}),i["\u0275\u0275template"](13,yr,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"select",24),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().fromYearSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.fromYearID=t}),i["\u0275\u0275template"](15,xr,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",19),i["\u0275\u0275elementStart"](17,"label",25),i["\u0275\u0275text"](18,"Date To"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"div",21),i["\u0275\u0275elementStart"](20,"select",26),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onMonthToSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.toMonthID=t}),i["\u0275\u0275template"](21,Dr,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"select",27),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onYearToSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.toYearID=t}),i["\u0275\u0275template"](23,Er,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"div",19),i["\u0275\u0275elementStart"](25,"select",28),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onDivisionSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.divisionID=t}),i["\u0275\u0275elementStart"](26,"option",29),i["\u0275\u0275text"](27,"All Divisions"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](28,Ir,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](29,"div",19),i["\u0275\u0275elementStart"](30,"select",30),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onDepartmentSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.departmentID=t}),i["\u0275\u0275elementStart"](31,"option",29),i["\u0275\u0275text"](32,"All Departments"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](33,br,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"div",46),i["\u0275\u0275elementStart"](35,"button",47),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.isMobileFilteringOn=!t.isMobileFilteringOn}),i["\u0275\u0275text"](36," Done "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngModel",e.filterParams.fromMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.filterParams.fromYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.years),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",e.filterParams.toMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.filterParams.toYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.years),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.filterParams.divisionID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.divisions),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.filterParams.departmentID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.departments)}}const Pr=function(e){return{"d-none-imp":e}},Mr=function(){return["/dashboard/enterprise-event"]},wr=function(){return["/dashboard/enterprise-delegates"]},Or=function(){return["/dashboard/enterprise-cost"]},Fr=n("2BfV"),jr=n("Tos5"),kr=n("M8aS"),Tr=n("zF3M");Fr(y.a),jr(y.a),kr(y.a),Tr(y.a);let Br=(()=>{class e{constructor(e,t,n,a,r){this.dashboardService=e,this.userService=t,this.router=n,this.contactService=a,this.dashboardDataService=r,this.programs=[],this.instances=[],this.unfilteredData=[],this.today=new Date,this.filterParams={fromMonthID:(new Date).getMonth(),fromYearID:(new Date).getFullYear(),toMonthID:(new Date).getMonth()+1,toYearID:(new Date).getFullYear(),programID:0,programInstanceID:0,divisionID:0,departmentID:0},this.years=[],this.months=Ot.a.create(),this.blobUrl=Q.a.apiBlobUrl+"/",this.divisions=[],this.departments=[],this.isMobileScreen=!1,this.isMobileFilteringOn=!1,this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID,this.onLoadResposiveCheck()}onLoadResposiveCheck(){this.isMobileScreen=window.innerWidth<1060}onResize(e){this.isMobileScreen=e.target.innerWidth<1060}ngOnInit(){4092!==this.companyID&&this.router.navigate(["dashboard"]),this.generateDateFilters(),this.isPreserveCache=!1,this.dashboardDataService.isPreserveCache.subscribe(e=>{if(this.isPreserveCache=e,this.isPreserveCache){let e=localStorage.getItem("dashboardFilter");null!==e&&(this.filterParams=JSON.parse(e)),this.getEvents(),this.initDivisions(),this.initDepartments()}else this.getEvents(),this.initDivisions(),this.initDepartments()})}generateDateFilters(){for(let e=this.filterParams.fromYearID-5;e<=this.filterParams.toYearID+5;++e)this.years.push({name:e,value:e})}initDivisions(){this.contactService.getAllDivision(this.companyID).subscribe(e=>{this.divisions=e})}initDepartments(){this.contactService.getAllDepartment(this.filterParams.divisionID).subscribe(e=>{console.log("Departments: ",e),this.departments=e})}onDivisionSelect(){this.getEvents(),this.initDepartments()}onDepartmentSelect(){this.getEvents()}onInstanceSelect(){this.getEvents()}onMonthFromSelect(){this.getEvents()}fromYearSelect(){this.filterParams.fromYearID>this.filterParams.toYearID&&(this.filterParams.toYearID=this.filterParams.fromYearID),this.getEvents()}onMonthToSelect(){this.getEvents()}onYearToSelect(){this.getEvents()}getEvents(){this.eventLoading=!0,localStorage.getItem("dashboardFilter");let e=[];this.dashboardService.getCachedEnterpriseEventDetails().subscribe(t=>{e=t}),this.retrieveDataThroughAPI(),localStorage.setItem("dashboardFilter",JSON.stringify(this.filterParams)),this.getMonthRange()}getMonthRange(){const e=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),t=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0);this.monthsRangeIndex=Object(x.h)(e,t)+1}retrieveDataThroughAPI(){const e=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),t=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0),n=Object(x.a)(e),a=Object(x.a)(t);this.dashboardService.getEnterpriseEventDetails(this.companyID,0,0,0,0,0,n,a,0,0,0,0).subscribe(e=>{this.loadDashboard(e)})}loadDashboard(e){const t=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),n=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0),a=Object(x.a)(t),r=Object(x.a)(n);e=e.filter(e=>e.startDate>=a&&e.endDate<=r),0!==this.filterParams.divisionID&&(e=e.filter(e=>e.divisionID===this.filterParams.divisionID)),0!==this.filterParams.departmentID&&(e=e.filter(e=>e.departmentID===this.filterParams.departmentID)),this.persistentLiveSnapshot||(this.persistentLiveSnapshot=JSON.parse(JSON.stringify(e))),this.unfilteredData=e,this.eventData=Object(x.j)(Object(x.l)(e),"eventID"),this.generateEventsChart(this.eventData),this.generateCostChart(this.eventData),this.delegateData=Object(x.j)(Object(x.l)(e),"eventDelegateID"),this.delegateData=this.delegateData.filter(e=>5===e.eventDelegateTypeID),this.generateEventDelegatesChart(this.delegateData),this.generateExecutiveSummary(),this.financialData=e}generateExecutiveSummary(){this.excutiveSummary={trained:[],event:[],spending:[]},Object(x.j)(this.delegateData,"internal",!1).forEach(e=>{const t={name:!0===e.internal?"Internal":"External",y:this.delegateData.filter(t=>t.internal===e.internal).length};this.excutiveSummary.trained.push(t)}),Object(x.j)(this.eventData,"internal",!1).forEach(e=>{const t={name:!0===e.internal?"Internal":"External",y:this.eventData.filter(t=>t.internal===e.internal).length};this.excutiveSummary.event.push(t)}),Object(x.j)(this.financialData,"internal",!1).forEach(e=>{let t=this.financialData.filter(t=>t.internal===e.internal),n=0;t.forEach(e=>{n+=e.totalSpent});const a={name:!0===e.internal?"Internal":"External",y:Math.round(100*n)/100};this.excutiveSummary.spending.push(a)}),console.log("EXECUTIVE Summary: ",this.excutiveSummary)}generateEventsChart(e){console.log("Enterprise event data: ",e);let t=[];const n=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),a=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0);let r=Object(x.h)(n,a);for(let i=1;i<=r+1;i++){const e=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-i,1),n=this.months[e.getMonth()];t.push({monthID:e.getMonth()+1,yearID:e.getFullYear(),title:`${n.yy}-${e.getFullYear().toString().substr(-2)}`})}t=t.reverse();const o={chart:{type:"column",height:300},title:{text:""},xAxis:{categories:t.map(e=>e.title),gridLineWidth:0,title:"Month",labels:{enabled:!0}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[]},l={type:"column",name:"Events",data:[],showInLegend:!1,color:"#accafc",legend:{enabled:!1}};t.forEach(t=>{const n=e.filter(e=>{const n=new Date(e.startDate).getMonth()+1,a=new Date(e.startDate).getFullYear();return n===t.monthID&&a===t.yearID}).length;l.data.push(n)}),o.series.push(l),this.eventChart=y.a.chart("eventChart",o),this.totalEvents=e.filter(e=>{const n=new Date(e.startDate).getMonth()+1,a=new Date(e.startDate).getFullYear();return t.some(e=>e.yearID===a&&n===e.monthID)}).length,this.eventLoading=!1}generateEventDelegatesChart(e){console.log("Enterprise event delegates data: ",e);let t=[];const n=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),a=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0);let r=Object(x.h)(n,a);for(let i=1;i<=r+1;i++){const e=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-i,1),n=this.months[e.getMonth()];t.push({monthID:e.getMonth()+1,yearID:e.getFullYear(),title:`${n.yy}-${e.getFullYear().toString().substr(-2)}`})}t=t.reverse();const o={chart:{type:"column",height:300},title:{text:""},xAxis:{categories:t.map(e=>e.title),gridLineWidth:0,title:"Month",labels:{enabled:!0}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[]},l={type:"column",name:"Delegates",data:[],showInLegend:!1,color:"#accafc",legend:{enabled:!1}};t.forEach(t=>{const n=e.filter(e=>{const n=new Date(e.startDate).getMonth()+1,a=new Date(e.startDate).getFullYear();return n===t.monthID&&a===t.yearID}).length;l.data.push(n)}),o.series.push(l),this.delegateChart=y.a.chart("delegateChart",o),this.totalDelegates=e.filter(e=>{const n=new Date(e.startDate).getMonth()+1,a=new Date(e.startDate).getFullYear();return t.some(e=>e.yearID===a&&n===e.monthID)}).length,this.delegateLoading=!1}generateCostChart(e){console.log("Enterprise event cost data: ",e);let t=[];const n=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),a=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0);let r=Object(x.h)(n,a);for(let i=1;i<=r+1;i++){const e=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-i,1),n=this.months[e.getMonth()];t.push({monthID:e.getMonth()+1,yearID:e.getFullYear(),title:`${n.yy}-${e.getFullYear().toString().substr(-2)}`})}t=t.reverse();const o={chart:{type:"column",height:300},title:{text:""},xAxis:{categories:t.map(e=>e.title),gridLineWidth:0,title:"Month",labels:{enabled:!0}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[]},l={type:"column",name:"Events",data:[],showInLegend:!1,color:"#accafc",legend:{enabled:!1}};t.forEach(t=>{const n=e.filter(e=>{const n=new Date(e.startDate).getMonth()+1,a=new Date(e.startDate).getFullYear();return n===t.monthID&&a===t.yearID});let a=0;n.forEach(e=>{a+=e.totalSpent});const r={name:t.title||"Not Specified",y:Math.round(100*a)/100,count:n.length,totalCost:Math.round(100*a)/100};l.data.push(r)}),o.series.push(l),this.costChart=y.a.chart("costChart",o),this.totalEventGroupedForCost=e.filter(e=>{const n=new Date(e.startDate).getMonth()+1,a=new Date(e.startDate).getFullYear();return t.some(e=>e.yearID===a&&n===e.monthID)}),this.totalEventGroupedForCostAmount=0,this.totalEventGroupedForCost.forEach(e=>{this.totalEventGroupedForCostAmount+=e.totalSpent})}back(){this.router.navigate(["/dashboard"])}ngOnDestroy(){this.userService.ecosystemNavigation.next(!1)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](I.a),i["\u0275\u0275directiveInject"](s.a),i["\u0275\u0275directiveInject"](r.d),i["\u0275\u0275directiveInject"](Te.a),i["\u0275\u0275directiveInject"](Mn))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-enterprise-dashboard"]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("resize",function(e){return t.onResize(e)},!1,i["\u0275\u0275resolveWindow"])},decls:65,vars:38,consts:[[1,"d-flex","flex-column","w-100",3,"avnonLoader","ngClass"],["class","page-title d-flex py-2 justify-content-end",4,"ngIf"],[1,"modal-fixed-height","p-2"],["class","table",4,"ngIf"],[1,"row","pt-3","px-3"],[1,"col-6"],[1,"chart-header"],[1,"mb-2"],[1,"p-23"],[3,"routerLink"],["id","eventChart",1,"chart","cursor-pointer"],["id","delegateChart",1,"chart","cursor-pointer"],[1,"col-6","mt-3"],["id","costChart",1,"chart","cursor-pointer"],[1,"col-auto","filter-section"],[1,"sticky-container","d-flex","flex-column"],[1,"card"],[1,"card-header"],[1,"card-body","pb-0"],[1,"form-group"],["for","dateFrom"],[1,"input-group"],["id","dateFrom","name","fromMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["name","fromYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],["for","dateTo"],["id","dateTo","name","toMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","change","ngModelChange"],["name","toYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],["name","divisionID",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],[3,"ngValue"],["name","departmentID",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],["class","d-flex flex-column w-100",4,"ngIf"],[1,"page-title","d-flex","py-2","justify-content-end"],[1,"d-flex","align-items-center","cursor-pointer",3,"click"],[1,"cursor-pointer","text-primary","display-inline","mr-2"],[1,"fas","fa-cog","is-gray"],[1,"display-inline","mb-0","meta"],[1,"table"],[1,"d-flex"],[1,"col-3"],[1,"d-flex","flex-column","w-100"],[1,"page-title","d-flex","justify-content-between"],[1,"cursor-pointer","text-primary","display-inline","mr-2",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline"],[1,"filter-container"],[1,"text-right"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,dr,6,0,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275template"](3,pr,43,15,"table",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",4),i["\u0275\u0275elementStart"](5,"div",5),i["\u0275\u0275elementStart"](6,"div",6),i["\u0275\u0275elementStart"](7,"h3",7),i["\u0275\u0275text"](8,"Events"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"span",8),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",9),i["\u0275\u0275element"](12,"div",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",5),i["\u0275\u0275elementStart"](14,"div",6),i["\u0275\u0275elementStart"](15,"h3",7),i["\u0275\u0275text"](16,"Delegates"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"span",8),i["\u0275\u0275text"](18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"div",9),i["\u0275\u0275element"](20,"div",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"div",4),i["\u0275\u0275elementStart"](22,"div",12),i["\u0275\u0275elementStart"](23,"div",6),i["\u0275\u0275elementStart"](24,"h3",7),i["\u0275\u0275text"](25,"Cost"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"span",8),i["\u0275\u0275text"](27),i["\u0275\u0275pipe"](28,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](29,"div",9),i["\u0275\u0275element"](30,"div",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](31,"div",14),i["\u0275\u0275elementStart"](32,"div",15),i["\u0275\u0275elementStart"](33,"div",16),i["\u0275\u0275elementStart"](34,"div",17),i["\u0275\u0275elementStart"](35,"h3"),i["\u0275\u0275text"](36,"Filters"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"div",18),i["\u0275\u0275elementStart"](38,"div",19),i["\u0275\u0275elementStart"](39,"label",20),i["\u0275\u0275text"](40,"Date From"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](41,"div",21),i["\u0275\u0275elementStart"](42,"select",22),i["\u0275\u0275listener"]("change",function(){return t.onMonthFromSelect()})("ngModelChange",function(e){return t.filterParams.fromMonthID=e}),i["\u0275\u0275template"](43,ur,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](44,"select",24),i["\u0275\u0275listener"]("change",function(){return t.fromYearSelect()})("ngModelChange",function(e){return t.filterParams.fromYearID=e}),i["\u0275\u0275template"](45,hr,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](46,"div",19),i["\u0275\u0275elementStart"](47,"label",25),i["\u0275\u0275text"](48,"Date To"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](49,"div",21),i["\u0275\u0275elementStart"](50,"select",26),i["\u0275\u0275listener"]("change",function(){return t.onMonthToSelect()})("ngModelChange",function(e){return t.filterParams.toMonthID=e}),i["\u0275\u0275template"](51,gr,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](52,"select",27),i["\u0275\u0275listener"]("change",function(){return t.onYearToSelect()})("ngModelChange",function(e){return t.filterParams.toYearID=e}),i["\u0275\u0275template"](53,fr,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](54,"div",19),i["\u0275\u0275elementStart"](55,"select",28),i["\u0275\u0275listener"]("change",function(){return t.onDivisionSelect()})("ngModelChange",function(e){return t.filterParams.divisionID=e}),i["\u0275\u0275elementStart"](56,"option",29),i["\u0275\u0275text"](57,"All Divisions"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](58,vr,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](59,"div",19),i["\u0275\u0275elementStart"](60,"select",30),i["\u0275\u0275listener"]("change",function(){return t.onDepartmentSelect()})("ngModelChange",function(e){return t.filterParams.departmentID=e}),i["\u0275\u0275elementStart"](61,"option",29),i["\u0275\u0275text"](62,"All Departments"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](63,Sr,2,2,"option",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](64,Cr,37,14,"div",31)),2&e&&(i["\u0275\u0275property"]("avnonLoader",t.loading||t.eventLoading)("ngClass",i["\u0275\u0275pureFunction1"](33,Pr,t.isMobileFilteringOn)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isMobileScreen),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.excutiveSummary),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate3"](" ",t.totalEvents," events over ",t.monthsRangeIndex," ",t.monthsRangeIndex>1?"months":"month"," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("routerLink",i["\u0275\u0275pureFunction0"](35,Mr)),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate3"](" ",t.totalDelegates," delegates over ",t.monthsRangeIndex," ",t.monthsRangeIndex>1?"months":"month"," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("routerLink",i["\u0275\u0275pureFunction0"](36,wr)),i["\u0275\u0275advance"](8),i["\u0275\u0275textInterpolate3"](" R ",i["\u0275\u0275pipeBind1"](28,31,t.totalEventGroupedForCostAmount)," over ",t.monthsRangeIndex," ",t.monthsRangeIndex>1?"months":"month"," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("routerLink",i["\u0275\u0275pureFunction0"](37,Or)),i["\u0275\u0275advance"](13),i["\u0275\u0275property"]("ngModel",t.filterParams.fromMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.filterParams.fromYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.years),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.filterParams.toMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.filterParams.toYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.years),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.filterParams.divisionID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.divisions),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.filterParams.departmentID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.departments),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isMobileFilteringOn))},directives:[C.a,a.l,a.n,r.e,P.B,P.q,P.t,a.m,P.v,P.D],pipes:[a.f],styles:["h3[_ngcontent-%COMP%]{margin-bottom:0}.modal-fixed-height--80vh[_ngcontent-%COMP%]{max-height:80vh}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:0!important;padding:.25rem 1rem}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#f0f3ff;cursor:pointer}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:0;padding:.15rem 1rem}.chart-header[_ngcontent-%COMP%]{min-height:6em!important}"]}),e})();var Yr=n("oSzE"),Vr=n("DlmY");function Lr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Vr.a;++t<n;)this.add(e[t])}Lr.prototype.add=Lr.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Lr.prototype.has=function(e){return this.__data__.has(e)};var Ar=Lr,_r=function(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1},Rr=function(e,t,n,a,r,o){var l=1&n,i=e.length,s=t.length;if(i!=s&&!(l&&s>i))return!1;var m=o.get(e),c=o.get(t);if(m&&c)return m==t&&c==e;var d=-1,p=!0,u=2&n?new Ar:void 0;for(o.set(e,t),o.set(t,e);++d<i;){var h=e[d],g=t[d];if(a)var f=l?a(g,h,d,t,e,o):a(h,g,d,e,t,o);if(void 0!==f){if(f)continue;p=!1;break}if(u){if(!_r(t,function(e,t){if(!u.has(t)&&(h===e||r(h,e,n,a,o)))return u.push(t)})){p=!1;break}}else if(h!==g&&!r(h,g,n,a,o)){p=!1;break}}return o.delete(e),o.delete(t),p},Nr=n("ylTp"),$r=n("Ce4a"),Gr=n("YHEm"),Wr=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,a){n[++t]=[a,e]}),n},Ur=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},zr=Nr.a?Nr.a.prototype:void 0,Jr=zr?zr.valueOf:void 0,Hr=n("TFwu"),qr=Object.prototype.hasOwnProperty,Xr=n("YM6B"),Kr=n("/1FC"),Qr=n("WOAq"),Zr=n("oYcn"),eo="[object Arguments]",to="[object Array]",no="[object Object]",ao=Object.prototype.hasOwnProperty,ro=n("EUcb"),oo=function e(t,n,a,r,o){return t===n||(null==t||null==n||!Object(ro.a)(t)&&!Object(ro.a)(n)?t!=t&&n!=n:function(e,t,n,a,r,o){var l=Object(Kr.a)(e),i=Object(Kr.a)(t),s=l?to:Object(Xr.a)(e),m=i?to:Object(Xr.a)(t),c=(s=s==eo?no:s)==no,d=(m=m==eo?no:m)==no,p=s==m;if(p&&Object(Qr.a)(e)){if(!Object(Qr.a)(t))return!1;l=!0,c=!1}if(p&&!c)return o||(o=new Yr.a),l||Object(Zr.a)(e)?Rr(e,t,n,a,r,o):function(e,t,n,a,r,o,l){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new $r.a(e),new $r.a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Object(Gr.a)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var i=Wr;case"[object Set]":if(i||(i=Ur),e.size!=t.size&&!(1&a))return!1;var s=l.get(e);if(s)return s==t;a|=2,l.set(e,t);var m=Rr(i(e),i(t),a,r,o,l);return l.delete(e),m;case"[object Symbol]":if(Jr)return Jr.call(e)==Jr.call(t)}return!1}(e,t,s,n,a,r,o);if(!(1&n)){var u=c&&ao.call(e,"__wrapped__"),h=d&&ao.call(t,"__wrapped__");if(u||h){var g=u?e.value():e,f=h?t.value():t;return o||(o=new Yr.a),r(g,f,n,a,o)}}return!!p&&(o||(o=new Yr.a),function(e,t,n,a,r,o){var l=1&n,i=Object(Hr.a)(e),s=i.length;if(s!=Object(Hr.a)(t).length&&!l)return!1;for(var m=s;m--;){var c=i[m];if(!(l?c in t:qr.call(t,c)))return!1}var d=o.get(e),p=o.get(t);if(d&&p)return d==t&&p==e;var u=!0;o.set(e,t),o.set(t,e);for(var h=l;++m<s;){var g=e[c=i[m]],f=t[c];if(a)var v=l?a(f,g,c,t,e,o):a(g,f,c,e,t,o);if(!(void 0===v?g===f||r(g,f,n,a,o):v)){u=!1;break}h||(h="constructor"==c)}if(u&&!h){var S=e.constructor,y=t.constructor;S==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof S&&S instanceof S&&"function"==typeof y&&y instanceof y||(u=!1)}return o.delete(e),o.delete(t),u}(e,t,n,a,r,o))}(t,n,a,r,e,o))};function lo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",39),i["\u0275\u0275elementStart"](1,"div",40),i["\u0275\u0275elementStart"](2,"button",41),i["\u0275\u0275element"](3,"span",42),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"ul",43),i["\u0275\u0275elementStart"](5,"li"),i["\u0275\u0275elementStart"](6,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.isMobileFilteringOn=!t.isMobileFilteringOn}),i["\u0275\u0275text"](7," Filters "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function io(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"table",45),i["\u0275\u0275elementStart"](1,"tbody"),i["\u0275\u0275elementStart"](2,"tr",46),i["\u0275\u0275element"](3,"th",46),i["\u0275\u0275elementStart"](4,"th",46),i["\u0275\u0275text"](5,"Internal"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",46),i["\u0275\u0275text"](7,"External"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",46),i["\u0275\u0275text"](9,"eLearning"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",46),i["\u0275\u0275text"](11,"Total"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"tr",46),i["\u0275\u0275elementStart"](13,"td",46),i["\u0275\u0275elementStart"](14,"strong"),i["\u0275\u0275text"](15,"Delegates"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"td",46),i["\u0275\u0275text"](17),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"td",46),i["\u0275\u0275text"](19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"td",46),i["\u0275\u0275text"](21),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"td",46),i["\u0275\u0275text"](23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"tr",46),i["\u0275\u0275elementStart"](25,"td",46),i["\u0275\u0275elementStart"](26,"strong"),i["\u0275\u0275text"](27,"Events"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"td",46),i["\u0275\u0275text"](29),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"td",46),i["\u0275\u0275text"](31),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](32,"td",46),i["\u0275\u0275text"](33),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"td",46),i["\u0275\u0275text"](35),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](36,"tr",46),i["\u0275\u0275elementStart"](37,"td",46),i["\u0275\u0275elementStart"](38,"strong"),i["\u0275\u0275text"](39,"Spent (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](40,"td",46),i["\u0275\u0275text"](41),i["\u0275\u0275pipe"](42,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](43,"td",46),i["\u0275\u0275text"](44),i["\u0275\u0275pipe"](45,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](46,"td",46),i["\u0275\u0275text"](47),i["\u0275\u0275pipe"](48,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](49,"td",46),i["\u0275\u0275text"](50),i["\u0275\u0275pipe"](51,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](17),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.trained[0]?null:e.excutiveSummary.trained[0].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.trained[1]?null:e.excutiveSummary.trained[1].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.trained[2]?null:e.excutiveSummary.trained[2].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.trained[0]?null:e.excutiveSummary.trained[0].y)+(null==e.excutiveSummary.trained[1]?null:e.excutiveSummary.trained[1].y)+(null==e.excutiveSummary.trained[2]?null:e.excutiveSummary.trained[2].y)),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.event[0]?null:e.excutiveSummary.event[0].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.event[1]?null:e.excutiveSummary.event[1].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.event[2]?null:e.excutiveSummary.event[2].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.event[0]?null:e.excutiveSummary.event[0].y)+(null==e.excutiveSummary.event[1]?null:e.excutiveSummary.event[1].y)+(null==e.excutiveSummary.event[2]?null:e.excutiveSummary.event[2].y)),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](42,12,(null==e.excutiveSummary.spending[0]?null:e.excutiveSummary.spending[0].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](45,14,(null==e.excutiveSummary.spending[1]?null:e.excutiveSummary.spending[1].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](48,16,(null==e.excutiveSummary.spending[2]?null:e.excutiveSummary.spending[2].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](51,18,(null==e.excutiveSummary.spending[0]?null:e.excutiveSummary.spending[0].y)+(null==e.excutiveSummary.spending[1]?null:e.excutiveSummary.spending[1].y)+(null==e.excutiveSummary.spending[2]?null:e.excutiveSummary.spending[2].y)))}}function so(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",51),i["\u0275\u0275elementStart"](1,"td",52),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",53),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.y," ")}}function mo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",47),i["\u0275\u0275elementStart"](1,"div",48),i["\u0275\u0275elementStart"](2,"table",49),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,so,5,2,"tr",50),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.courseCategoryPieSeries?null:e.courseCategoryPieSeries.data)}}function co(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",51),i["\u0275\u0275elementStart"](1,"td",55),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",56),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.y," ")}}function po(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",47),i["\u0275\u0275elementStart"](1,"div",54),i["\u0275\u0275elementStart"](2,"table",49),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,co,5,2,"tr",50),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.internalExternalPieSeries?null:e.internalExternalPieSeries.data)}}function uo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",51),i["\u0275\u0275elementStart"](1,"td",55),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",56),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.y," ")}}function ho(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",47),i["\u0275\u0275elementStart"](1,"div",54),i["\u0275\u0275elementStart"](2,"table",49),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,uo,5,2,"tr",50),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.eventFormatPieSeries?null:e.eventFormatPieSeries.data)}}function go(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",51),i["\u0275\u0275elementStart"](1,"td",55),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",56),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.y," ")}}function fo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",47),i["\u0275\u0275elementStart"](1,"div",54),i["\u0275\u0275elementStart"](2,"table",49),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,go,5,2,"tr",50),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.courseTypePieSeries?null:e.courseTypePieSeries.data)}}function vo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",57),i["\u0275\u0275elementStart"](1,"h3"),i["\u0275\u0275text"](2,"Courses"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate2"](" ",null==e.eventGroupCourseTitles?null:e.eventGroupCourseTitles.length," ",(null==e.eventGroupCourseTitles?null:e.eventGroupCourseTitles.length)>1?"Courses":"Course"," ")}}function So(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",51),i["\u0275\u0275elementStart"](1,"td",59),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",60),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",61),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td",59),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.courseTitle?e.courseTitle:"Unspecified Course"," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](null==e?null:e.courseCategory),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](null==e?null:e.totalCount)}}function yo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",6),i["\u0275\u0275elementStart"](1,"table",58),i["\u0275\u0275elementStart"](2,"tbody"),i["\u0275\u0275elementStart"](3,"tr",51),i["\u0275\u0275elementStart"](4,"th",59),i["\u0275\u0275text"](5,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",60),i["\u0275\u0275text"](7,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",61),i["\u0275\u0275text"](9,"Category"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",59),i["\u0275\u0275text"](11,"*"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](12,So,9,4,"tr",50),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngForOf",e.eventGroupCourseTitles)}}function xo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",36),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.name," ")}}function Do(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",36),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Eo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",36),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Io(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",36),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function bo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",36),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.divisioniD),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.division," ")}}function Co(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",36),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.departmentID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.department," ")}}function Po(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",36),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.name," ")}}function Mo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",36),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function wo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",36),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Oo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",36),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Fo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",36),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.divisioniD),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.division," ")}}function jo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",36),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.departmentID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.department," ")}}function ko(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",62),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div"),i["\u0275\u0275elementStart"](3,"span",2),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.isMobileFilteringOn=!t.isMobileFilteringOn}),i["\u0275\u0275element"](4,"i",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"h1",4),i["\u0275\u0275text"](6,"Filtering"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",63),i["\u0275\u0275elementStart"](8,"div",26),i["\u0275\u0275elementStart"](9,"label",27),i["\u0275\u0275text"](10,"Date From"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",28),i["\u0275\u0275elementStart"](12,"select",29),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onMonthFromSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.fromMonthID=t}),i["\u0275\u0275template"](13,Po,2,2,"option",30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"select",31),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().fromYearSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.fromYearID=t}),i["\u0275\u0275template"](15,Mo,2,2,"option",30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",26),i["\u0275\u0275elementStart"](17,"label",32),i["\u0275\u0275text"](18,"Date To"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"div",28),i["\u0275\u0275elementStart"](20,"select",33),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onMonthToSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.toMonthID=t}),i["\u0275\u0275template"](21,wo,2,2,"option",30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"select",34),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onYearToSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.toYearID=t}),i["\u0275\u0275template"](23,Oo,2,2,"option",30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"div",26),i["\u0275\u0275elementStart"](25,"select",35),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onDivisionSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.divisionID=t}),i["\u0275\u0275elementStart"](26,"option",36),i["\u0275\u0275text"](27,"All Divisions"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](28,Fo,2,2,"option",30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](29,"div",26),i["\u0275\u0275elementStart"](30,"select",37),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onDepartmentSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.departmentID=t}),i["\u0275\u0275elementStart"](31,"option",36),i["\u0275\u0275text"](32,"All Departments"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](33,jo,2,2,"option",30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"div",64),i["\u0275\u0275elementStart"](35,"button",65),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.isMobileFilteringOn=!t.isMobileFilteringOn}),i["\u0275\u0275text"](36," Done"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngModel",e.filterParams.fromMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.filterParams.fromYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.years),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",e.filterParams.toMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.filterParams.toYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.years),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.filterParams.divisionID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.divisions),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.filterParams.departmentID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.departments)}}const To=function(e){return{"d-none-imp":e}},Bo=n("2BfV"),Yo=n("Tos5"),Vo=n("M8aS"),Lo=n("zF3M");Bo(y.a),Yo(y.a),Vo(y.a),Lo(y.a);let Ao=(()=>{class e{constructor(e,t,n,a,r,o){this.dashboardService=e,this.userService=t,this.router=n,this.modalService=a,this.contactService=r,this.dashboardDataService=o,this.programs=[],this.instances=[],this.unfilteredData=[],this.today=new Date,this.filterParams={fromMonthID:(new Date).getMonth(),fromYearID:(new Date).getFullYear(),toMonthID:(new Date).getMonth()+1,toYearID:(new Date).getFullYear(),programID:0,programInstanceID:0,divisionID:0,departmentID:0},this.years=[],this.months=Ot.a.create(),this.blobUrl=Q.a.apiBlobUrl+"/",this.divisions=[],this.departments=[],this.delegateData=[],this.eventData=[],this.isMobileScreen=!1,this.isMobileFilteringOn=!1,this.financialData=[],this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID,this.onLoadResposiveCheck()}onLoadResposiveCheck(){this.isMobileScreen=window.innerWidth<1060}onResize(e){this.isMobileScreen=e.target.innerWidth<1060}ngOnInit(){4092!==this.companyID&&this.router.navigate(["dashboard"]),this.userService.ecosystemNavigation.next(!0),this.generateDateFilters(),this.isPreserveCache=!1,this.dashboardDataService.isPreserveCache.subscribe(e=>{if(this.isPreserveCache=e,this.isPreserveCache){const e=localStorage.getItem("dashboardFilter");null!==e&&(this.filterParams=JSON.parse(e)),this.initDivisions(),this.initDepartments()}else this.initDivisions(),this.initDepartments()})}generateDateFilters(){for(let e=this.filterParams.fromYearID-5;e<=this.filterParams.toYearID+5;++e)this.years.push({name:e,value:e})}initDivisions(){this.contactService.getAllDivision(this.companyID).subscribe(e=>{this.divisions=e,this.getEvents()})}initDepartments(){this.contactService.getAllDepartment(this.filterParams.divisionID).subscribe(e=>{this.departments=e})}onDivisionSelect(){this.getEvents(),this.initDepartments()}onDepartmentSelect(){this.getEvents()}onInstanceSelect(){this.getEvents()}onMonthFromSelect(){this.getEvents()}fromYearSelect(){this.filterParams.fromYearID>this.filterParams.toYearID&&(this.filterParams.toYearID=this.filterParams.fromYearID),this.getEvents()}onMonthToSelect(){this.getEvents()}onYearToSelect(){this.getEvents()}getEvents(){this.eventLoading=!0;const e=localStorage.getItem("dashboardFilter");let t=[];this.dashboardService.getCachedEnterpriseEventDetails().subscribe(e=>{t=e});const n=(a=this.filterParams,r=JSON.parse(e),oo(a,r));var a,r;null===t||!1===n?this.retrieveDataThroughAPI():(this.eventData||this.loadDashboard(t),this.eventLoading=!1),localStorage.setItem("dashboardFilter",JSON.stringify(this.filterParams))}retrieveDataThroughAPI(){const e=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),t=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0),n=Object(x.a)(e),a=Object(x.a)(t);this.dashboardService.getEnterpriseEventDetails(this.companyID,0,0,0,0,0,n,a,0,0,0,0).subscribe(e=>{this.dashboardService.setCachedEnterpriseEventDetails(e),!0!==this.isPreserveCache&&this.dashboardDataService.setIsPreserveCacheState(!0),this.loadDashboard(e)})}loadDashboard(e){const t=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),n=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0),a=Object(x.a)(t),r=Object(x.a)(n);e=e.filter(e=>e.startDate>=a&&e.endDate<=r),0!==this.filterParams.divisionID&&(e=e.filter(e=>e.divisionID===this.filterParams.divisionID)),0!==this.filterParams.departmentID&&(e=e.filter(e=>e.departmentID===this.filterParams.departmentID)),this.unfilteredData=e,this.eventData=Object(x.j)(Object(x.l)(e),"eventID"),this.financialData=e,this.delegateData=Object(x.j)(Object(x.l)(e),"eventDelegateID"),this.generateExecutiveSummary(),this.generateEventsChart(this.delegateData)}generateExecutiveSummary(){this.excutiveSummary={trained:[],event:[],spending:[]},Object(x.j)(this.delegateData,"internal",!1).forEach(e=>{const t={name:!0===e.internal?"Internal":"External",y:this.delegateData.filter(t=>t.internal===e.internal&&2!==t.eventFormatID).length};this.excutiveSummary.trained.push(t)});const e={name:"eLearning",y:this.delegateData.filter(e=>2===e.eventFormatID).length};this.excutiveSummary.trained.push(e),Object(x.j)(this.eventData,"internal",!1).forEach(e=>{const t={name:!0===e.internal?"Internal":"External",y:this.eventData.filter(t=>t.internal===e.internal&&2!==t.eventFormatID).length};this.excutiveSummary.event.push(t)});const t={name:"eLearning",y:this.eventData.filter(e=>2===e.eventFormatID).length};this.excutiveSummary.event.push(t),Object(x.j)(this.financialData,"internal",!1).forEach(e=>{const t=this.financialData.filter(t=>t.internal===e.internal&&2!==t.eventFormatID).reduce((e,t)=>e+(t.totalCost||0),0),n={name:!0===e.internal?"Internal":"External",y:Math.round(100*t)/100};this.excutiveSummary.spending.push(n)});const n=this.financialData.filter(e=>2===e.eventFormatID).reduce((e,t)=>e+(t.totalCost||0),0),a={name:"eLearning",y:Number(Math.round(100*n)/100)};this.excutiveSummary.spending.push(a),console.log("EXECUTIVE Summary: ",this.excutiveSummary)}generateEventsChart(e){console.log("Enterprise event data: ",e);let t=[],n={};const a=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),r=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0),o=Object(x.h)(a,r);for(let m=1;m<=o+1;m++){const e=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-m,1),n=this.months[e.getMonth()];t.push({monthID:e.getMonth()+1,yearID:e.getFullYear(),title:`${n.yy}-${e.getFullYear().toString().substr(-2)}`})}t=t.reverse(),n={chart:{type:"column",height:300},title:{text:""},xAxis:{categories:t.map(e=>e.title),gridLineWidth:0,title:!1,labels:{enabled:!0},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:y.a.defaultOptions.title.style&&y.a.defaultOptions.title.style.color||"gray"}}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0}}},series:[]},0===o&&(n.plotOptions.column.stacking="");const l=[],i=JSON.parse(JSON.stringify(this.divisions));i.push({division:"Unspecified",divisioniD:null}),i.forEach(e=>{const t={type:"column",name:e.division,data:[],dataLabels:{enabled:!1},point:{events:{click:(function(e){const t=e.point;this.showEventBreakdownModal(t.category,t.divisions)}).bind(this)}},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0}}},series:[]};l.push(t)}),t.forEach(t=>{i.forEach(n=>{const a=e.filter(e=>{const a=new Date(e.startDate).getMonth()+1,r=new Date(e.startDate).getFullYear();return a===t.monthID&&r===t.yearID&&e.divisionID===n.divisioniD});l.filter(e=>e.name===n.division)[0].data.push({divisions:a,y:a.length})})}),l.forEach(e=>{let a=0;for(let n=0;n<t.length;n++)0===e.data[n].divisions.length&&a++;a<t.length&&n.series.push(e)}),this.eventChart=y.a.chart("eventChart1",n),this.totalEvents=e.filter(e=>{const n=new Date(e.startDate).getMonth()+1,a=new Date(e.startDate).getFullYear();return t.some(e=>e.yearID===a&&n===e.monthID)}).length;const s=[];Object(x.j)(Object(x.l)(this.eventData),"courseTitle").forEach(e=>{e.totalAddedCost=0;const t=this.eventData.filter(t=>t.courseTitle===e.courseTitle);e.totalCount=this.eventData.filter(t=>t.courseTitle===e.courseTitle).length,t.forEach(t=>{e.totalAddedCost+=t.totalCost}),e.totalAddedCost=Math.round(e.totalAddedCost),s.push(e)}),this.eventGroupCourseTitles=JSON.parse(JSON.stringify(s)),this.generateCategoryChart(e),this.generateEventInternalExternalPie(e),this.generateEventFormatPie(e),this.generateEventCourseTypePie(e),this.eventLoading=!1}generateCategoryChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.courseCategoryPieSeries={name:"Events",colorByPoint:!0,data:[]},Object(x.j)(e,"courseCategory",!1).forEach(t=>{const n={name:t.courseCategory||"Not Specified",y:e.filter(e=>e.courseCategory===t.courseCategory).length};this.courseCategoryPieSeries.data.push(n)}),t.series.push(this.courseCategoryPieSeries),this.categoryChart=y.a.chart("categoryChart",t)}generateEventInternalExternalPie(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.internalExternalPieSeries={name:"Events",colorByPoint:!0,data:[]},console.log(e),Object(x.j)(e,"internal",!1).forEach(t=>{const n={name:!0===t.internal?"Internal":"External",y:e.filter(e=>e.internal===t.internal&&2!==e.eventFormatID).length};console.log(e.filter(e=>e.internal===t.internal&&2!==e.eventFormatID).length),this.internalExternalPieSeries.data.push(n)}),t.series.push(this.internalExternalPieSeries),this.categoryChart=y.a.chart("internalExternalChart",t)}generateEventFormatPie(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.eventFormatPieSeries={name:"Events",colorByPoint:!0,data:[]},Object(x.j)(e,"eventFormatID",!1).forEach(t=>{const n={name:t.eventFormatID?2===t.eventFormatID?"In Person":"Online/ Virtual":"Not Specified",y:e.filter(e=>e.eventFormatID===t.eventFormatID).length};this.eventFormatPieSeries.data.push(n)}),t.series.push(this.eventFormatPieSeries),this.categoryChart=y.a.chart("eventFormatChart",t)}generateEventCourseTypePie(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.courseTypePieSeries={name:"Events",colorByPoint:!0,data:[]},Object(x.j)(e,"courseType",!1).forEach(t=>{const n={name:t.courseType||"Not Specified",y:e.filter(e=>e.courseType===t.courseType).length};this.courseTypePieSeries.data.push(n)}),t.series.push(this.courseTypePieSeries),this.categoryChart=y.a.chart("courseTypeChart",t)}showEventBreakdown(e,t,n=""){const a={title:"",data:[],entity:"events",keyProperty:t};let r=[];"contactID"===t?(a.title=`Events joined by ${e.firstName} ${e.surname}`,r=this.delegateData.filter(n=>n[t]===e[t])):(a.title="Events conducted by "+e[t],r=this.eventData.filter(n=>n[t]===e[t])),a.data=r,a.entity=n,this.dashboardDataService.setData(a),this.router.navigate(["/dashboard/event-monthly"])}showEventBreakdownModal(e,t){const n=this.modalService.open(In,{size:"xl"});n.componentInstance.title=e,n.componentInstance.data=t,n.componentInstance.entity="events"}back(){this.router.navigate(["/dashboard/enterprise-dashboard"])}ngOnDestroy(){this.userService.ecosystemNavigation.next(!1)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](I.a),i["\u0275\u0275directiveInject"](s.a),i["\u0275\u0275directiveInject"](r.d),i["\u0275\u0275directiveInject"](ye.p),i["\u0275\u0275directiveInject"](Te.a),i["\u0275\u0275directiveInject"](Mn))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-enterprise-event"]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("resize",function(e){return t.onResize(e)},!1,i["\u0275\u0275resolveWindow"])},decls:75,vars:28,consts:[[1,"w-100",3,"avnonLoader","ngClass"],[1,"page-title","d-flex","justify-content-between"],[1,"cursor-pointer","text-primary","display-inline","mr-2",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline"],["class","actions",4,"ngIf"],[1,"modal-fixed-height"],["class","table",4,"ngIf"],[1,"col-12","d-flex","flex-column","filter-container","border-bottom","mt-3","border-top","border-top"],[1,"col-12","mb-3"],["id","eventChart1",1,"chart"],[1,"row","px-4"],[1,"col-lg-4","col-md-4","col-sm-6","d-flex","flex-column","p-1","pt-4"],[1,"text-center"],["id","categoryChart",1,"pie","w-100"],["class","w-100",4,"ngIf"],["id","internalExternalChart",1,"pie","w-100"],["id","eventFormatChart",1,"pie","w-100"],["id","courseTypeChart",1,"pie","w-100"],["class","col-12 d-flex flex-column filter-container border-top mt-3",4,"ngIf"],["class","modal-fixed-height",4,"ngIf"],[1,"col-auto","filter-section"],[1,"sticky-container","d-flex","flex-column"],[1,"card"],[1,"card-header"],[1,"card-body","pb-0"],[1,"form-group"],["for","dateFrom"],[1,"input-group"],["id","dateFrom","name","fromMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["name","fromYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],["for","dateTo"],["id","dateTo","name","toMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","change","ngModelChange"],["name","toYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],["name","divisionID",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],[3,"ngValue"],["name","departmentID",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],["class","d-flex flex-column w-100",4,"ngIf"],[1,"actions"],[1,"dropdown"],["type","button","id","dd1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["aria-labelledby","dd1",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"table"],[1,""],[1,"w-100"],[1,"modal-fixed-height--20vh","row"],[1,"table","table--legend"],["class","d-flex",4,"ngFor","ngForOf"],[1,"d-flex"],[1,"col-10"],[1,"col-2"],[1,"modal-fixed-height--20vh"],[1,"col-9"],[1,"col-3"],[1,"col-12","d-flex","flex-column","filter-container","border-top","mt-3"],[1,"table","w-100"],[1,"col-1"],[1,"col-6"],[1,"col-4"],[1,"d-flex","flex-column","w-100"],[1,"filter-container"],[1,"text-right"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div"),i["\u0275\u0275elementStart"](3,"span",2),i["\u0275\u0275listener"]("click",function(){return t.back()}),i["\u0275\u0275element"](4,"i",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"h1",4),i["\u0275\u0275text"](6,"Events Dashboard"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div"),i["\u0275\u0275template"](8,lo,8,0,"div",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",6),i["\u0275\u0275template"](10,io,52,20,"table",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",8),i["\u0275\u0275elementStart"](12,"h3"),i["\u0275\u0275text"](13,"Total Events"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"span"),i["\u0275\u0275text"](15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",9),i["\u0275\u0275element"](17,"div",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"div",11),i["\u0275\u0275elementStart"](19,"div",12),i["\u0275\u0275elementStart"](20,"label",13),i["\u0275\u0275text"](21,"Course Category"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](22,"div",14),i["\u0275\u0275template"](23,mo,5,1,"div",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"div",12),i["\u0275\u0275elementStart"](25,"label",13),i["\u0275\u0275text"](26,"Internal/ External"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](27,"div",16),i["\u0275\u0275template"](28,po,5,1,"div",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](29,"div",12),i["\u0275\u0275elementStart"](30,"label",13),i["\u0275\u0275text"](31,"Event Format"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](32,"div",17),i["\u0275\u0275template"](33,ho,5,1,"div",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"div",12),i["\u0275\u0275elementStart"](35,"label",13),i["\u0275\u0275text"](36,"Course Type"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](37,"div",18),i["\u0275\u0275template"](38,fo,5,1,"div",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](39,vo,5,2,"div",19),i["\u0275\u0275template"](40,yo,13,1,"div",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](41,"div",21),i["\u0275\u0275elementStart"](42,"div",22),i["\u0275\u0275elementStart"](43,"div",23),i["\u0275\u0275elementStart"](44,"div",24),i["\u0275\u0275elementStart"](45,"h3"),i["\u0275\u0275text"](46,"Filters"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](47,"div",25),i["\u0275\u0275elementStart"](48,"div",26),i["\u0275\u0275elementStart"](49,"label",27),i["\u0275\u0275text"](50,"Date From"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](51,"div",28),i["\u0275\u0275elementStart"](52,"select",29),i["\u0275\u0275listener"]("change",function(){return t.onMonthFromSelect()})("ngModelChange",function(e){return t.filterParams.fromMonthID=e}),i["\u0275\u0275template"](53,xo,2,2,"option",30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](54,"select",31),i["\u0275\u0275listener"]("change",function(){return t.fromYearSelect()})("ngModelChange",function(e){return t.filterParams.fromYearID=e}),i["\u0275\u0275template"](55,Do,2,2,"option",30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](56,"div",26),i["\u0275\u0275elementStart"](57,"label",32),i["\u0275\u0275text"](58,"Date To"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](59,"div",28),i["\u0275\u0275elementStart"](60,"select",33),i["\u0275\u0275listener"]("change",function(){return t.onMonthToSelect()})("ngModelChange",function(e){return t.filterParams.toMonthID=e}),i["\u0275\u0275template"](61,Eo,2,2,"option",30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](62,"select",34),i["\u0275\u0275listener"]("change",function(){return t.onYearToSelect()})("ngModelChange",function(e){return t.filterParams.toYearID=e}),i["\u0275\u0275template"](63,Io,2,2,"option",30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](64,"div",26),i["\u0275\u0275elementStart"](65,"select",35),i["\u0275\u0275listener"]("change",function(){return t.onDivisionSelect()})("ngModelChange",function(e){return t.filterParams.divisionID=e}),i["\u0275\u0275elementStart"](66,"option",36),i["\u0275\u0275text"](67,"All Divisions"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](68,bo,2,2,"option",30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](69,"div",26),i["\u0275\u0275elementStart"](70,"select",37),i["\u0275\u0275listener"]("change",function(){return t.onDepartmentSelect()})("ngModelChange",function(e){return t.filterParams.departmentID=e}),i["\u0275\u0275elementStart"](71,"option",36),i["\u0275\u0275text"](72,"All Departments"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](73,Co,2,2,"option",30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](74,ko,37,14,"div",38)),2&e&&(i["\u0275\u0275property"]("avnonLoader",t.eventLoading)("ngClass",i["\u0275\u0275pureFunction1"](26,To,t.isMobileFilteringOn)),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("ngIf",t.isMobileScreen),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.excutiveSummary),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",t.totalEvents," events "),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("ngIf",t.courseCategoryPieSeries),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",t.internalExternalPieSeries),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",t.eventFormatPieSeries),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",t.courseTypePieSeries),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.eventGroupCourseTitles&&t.eventGroupCourseTitles.length>0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.eventGroupCourseTitles&&t.eventGroupCourseTitles.length>0),i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngModel",t.filterParams.fromMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.filterParams.fromYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.years),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.filterParams.toMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.filterParams.toYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.years),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.filterParams.divisionID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.divisions),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.filterParams.departmentID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.departments),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isMobileFilteringOn))},directives:[C.a,a.l,a.n,P.B,P.q,P.t,a.m,P.v,P.D],pipes:[a.f],styles:["h3[_ngcontent-%COMP%]{margin-bottom:0}a[_ngcontent-%COMP%]:hover{text-decoration:underline!important}.v-collapsed[_ngcontent-%COMP%]{visibility:hidden}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:0!important;padding:.25rem 1rem}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#f0f3ff;cursor:pointer}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:0;padding:.15rem 1rem}.table--legend[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{color:#333;font-size:12px;font-weight:700;fill:#333}.table--legend[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#333;font-size:12px}"]}),e})();function _o(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",48),i["\u0275\u0275elementStart"](1,"div",49),i["\u0275\u0275elementStart"](2,"button",50),i["\u0275\u0275element"](3,"span",51),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"ul",52),i["\u0275\u0275elementStart"](5,"li"),i["\u0275\u0275elementStart"](6,"a",53),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.isMobileFilteringOn=!t.isMobileFilteringOn}),i["\u0275\u0275text"](7," Filters "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function Ro(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"table",54),i["\u0275\u0275elementStart"](1,"tbody"),i["\u0275\u0275elementStart"](2,"tr",55),i["\u0275\u0275element"](3,"th",55),i["\u0275\u0275elementStart"](4,"th",55),i["\u0275\u0275text"](5,"Internal"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",55),i["\u0275\u0275text"](7,"External"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",55),i["\u0275\u0275text"](9,"eLearning"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",55),i["\u0275\u0275text"](11,"Total"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"tr",55),i["\u0275\u0275elementStart"](13,"td",55),i["\u0275\u0275elementStart"](14,"strong"),i["\u0275\u0275text"](15,"Delegates"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"td",55),i["\u0275\u0275text"](17),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"td",55),i["\u0275\u0275text"](19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"td",55),i["\u0275\u0275text"](21),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"td",55),i["\u0275\u0275text"](23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"tr",55),i["\u0275\u0275elementStart"](25,"td",55),i["\u0275\u0275elementStart"](26,"strong"),i["\u0275\u0275text"](27,"Events"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"td",55),i["\u0275\u0275text"](29),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"td",55),i["\u0275\u0275text"](31),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](32,"td",55),i["\u0275\u0275text"](33),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"td",55),i["\u0275\u0275text"](35),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](36,"tr",55),i["\u0275\u0275elementStart"](37,"td",55),i["\u0275\u0275elementStart"](38,"strong"),i["\u0275\u0275text"](39,"Spent (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](40,"td",55),i["\u0275\u0275text"](41),i["\u0275\u0275pipe"](42,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](43,"td",55),i["\u0275\u0275text"](44),i["\u0275\u0275pipe"](45,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](46,"td",55),i["\u0275\u0275text"](47),i["\u0275\u0275pipe"](48,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](49,"td",55),i["\u0275\u0275text"](50),i["\u0275\u0275pipe"](51,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](17),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.trained[0]?null:e.excutiveSummary.trained[0].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.trained[1]?null:e.excutiveSummary.trained[1].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.trained[2]?null:e.excutiveSummary.trained[2].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.trained[0]?null:e.excutiveSummary.trained[0].y)+(null==e.excutiveSummary.trained[1]?null:e.excutiveSummary.trained[1].y)+(null==e.excutiveSummary.trained[2]?null:e.excutiveSummary.trained[2].y)),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.event[0]?null:e.excutiveSummary.event[0].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.event[1]?null:e.excutiveSummary.event[1].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.event[2]?null:e.excutiveSummary.event[2].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.event[0]?null:e.excutiveSummary.event[0].y)+(null==e.excutiveSummary.event[1]?null:e.excutiveSummary.event[1].y)+(null==e.excutiveSummary.event[2]?null:e.excutiveSummary.event[2].y)),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](42,12,(null==e.excutiveSummary.spending[0]?null:e.excutiveSummary.spending[0].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](45,14,(null==e.excutiveSummary.spending[1]?null:e.excutiveSummary.spending[1].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](48,16,(null==e.excutiveSummary.spending[2]?null:e.excutiveSummary.spending[2].y)||0)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](51,18,(null==e.excutiveSummary.spending[0]?null:e.excutiveSummary.spending[0].y)+(null==e.excutiveSummary.spending[1]?null:e.excutiveSummary.spending[1].y)+(null==e.excutiveSummary.spending[2]?null:e.excutiveSummary.spending[2].y)))}}function No(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",59),i["\u0275\u0275elementStart"](1,"td",60),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",60),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.y," ")}}function $o(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",13),i["\u0275\u0275elementStart"](1,"div",56),i["\u0275\u0275elementStart"](2,"table",57),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,No,5,2,"tr",58),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.internalExternalPieseries?null:e.internalExternalPieseries.data)}}function Go(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",59),i["\u0275\u0275elementStart"](1,"td",62),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",63),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.y," ")}}function Wo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",13),i["\u0275\u0275elementStart"](1,"div",61),i["\u0275\u0275elementStart"](2,"table",57),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,Go,5,2,"tr",58),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.empowerDexPieSeries?null:e.empowerDexPieSeries.data)}}function Uo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",59),i["\u0275\u0275elementStart"](1,"td",64),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",65),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.y," ")}}function zo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",13),i["\u0275\u0275elementStart"](1,"div",56),i["\u0275\u0275elementStart"](2,"table",57),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,Uo,5,2,"tr",58),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.racePieSeries?null:e.racePieSeries.data)}}function Jo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",59),i["\u0275\u0275elementStart"](1,"td",64),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",65),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.y," ")}}function Ho(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",13),i["\u0275\u0275elementStart"](1,"div",56),i["\u0275\u0275elementStart"](2,"table",57),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,Jo,5,2,"tr",58),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.genderPieSeries?null:e.genderPieSeries.data)}}function qo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",59),i["\u0275\u0275elementStart"](1,"td",62),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",63),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.y," ")}}function Xo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",13),i["\u0275\u0275elementStart"](1,"div",61),i["\u0275\u0275elementStart"](2,"table",57),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,qo,5,2,"tr",58),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.ofoPieSeries?null:e.ofoPieSeries.data)}}function Ko(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",59),i["\u0275\u0275elementStart"](1,"td",64),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",65),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" Age ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.y," ")}}function Qo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",13),i["\u0275\u0275elementStart"](1,"div",56),i["\u0275\u0275elementStart"](2,"table",57),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,Ko,5,2,"tr",58),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.agePieSeries?null:e.agePieSeries.data)}}function Zo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr",59),i["\u0275\u0275elementStart"](1,"td",67),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",63),i["\u0275\u0275element"](4,"img",69),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",68),i["\u0275\u0275elementStart"](6,"a",70),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"](2).showEventBreakdown(n,"contactID","Delegates")}),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"td",63),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,a=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",e.profilePhoto?a.blobUrl+"256px/"+e.profilePhoto:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate2"](" ",e.firstName?e.firstName:"Unspecified Delegate"," ",e.surname," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalAddedHours)}}function el(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",66),i["\u0275\u0275elementStart"](2,"table",54),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275elementStart"](4,"tr",59),i["\u0275\u0275elementStart"](5,"th",67),i["\u0275\u0275text"](6,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"th",63),i["\u0275\u0275text"](8,"Profile"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"th",68),i["\u0275\u0275text"](10,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"th",63),i["\u0275\u0275text"](12,"Hours"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](13,Zo,10,5,"tr",58),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](13),i["\u0275\u0275property"]("ngForOf",e.eventGroupDelegates)}}function tl(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr",59),i["\u0275\u0275elementStart"](1,"td",67),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",72),i["\u0275\u0275elementStart"](4,"a",70),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"](3).showEventBreakdown(n,"division","Divisions")}),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"td",65),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",e.division?e.division:"Unspecified Division"," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](null==e?null:e.totalCount)}}function nl(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",66),i["\u0275\u0275elementStart"](1,"table",54),i["\u0275\u0275elementStart"](2,"tbody"),i["\u0275\u0275elementStart"](3,"tr",59),i["\u0275\u0275elementStart"](4,"th",67),i["\u0275\u0275text"](5,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",72),i["\u0275\u0275text"](7,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",65),i["\u0275\u0275text"](9,"*"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,tl,8,3,"tr",58),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](10),i["\u0275\u0275property"]("ngForOf",e.eventGroupProviders)}}function al(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,nl,11,1,"div",71),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.eventGroupDivision&&e.eventGroupDivision.length>0)}}function rl(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",59),i["\u0275\u0275elementStart"](1,"td",67),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",64),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",63),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.provider?e.courseTitle:"Unspecified Course"," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](null==e?null:e.totalCount)}}function ol(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",66),i["\u0275\u0275elementStart"](1,"table",54),i["\u0275\u0275elementStart"](2,"tbody"),i["\u0275\u0275elementStart"](3,"tr",59),i["\u0275\u0275elementStart"](4,"th",67),i["\u0275\u0275text"](5,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",64),i["\u0275\u0275text"](7,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",63),i["\u0275\u0275text"](9,"*"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,rl,7,3,"tr",58),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](10),i["\u0275\u0275property"]("ngForOf",e.eventGroupCourses)}}function ll(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,ol,11,1,"div",71),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.eventGroupCourses&&e.eventGroupCourses.length>0)}}function il(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.name," ")}}function sl(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function ml(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function cl(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function dl(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.divisioniD),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.division," ")}}function pl(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.departmentID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.department," ")}}function ul(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.name," ")}}function hl(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function gl(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function fl(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function vl(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.divisioniD),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.division," ")}}function Sl(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.departmentID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.department," ")}}function yl(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",73),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div"),i["\u0275\u0275elementStart"](3,"span",2),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.isMobileFilteringOn=!t.isMobileFilteringOn}),i["\u0275\u0275element"](4,"i",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"h1",4),i["\u0275\u0275text"](6,"Filtering"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",74),i["\u0275\u0275elementStart"](8,"div",36),i["\u0275\u0275elementStart"](9,"label",37),i["\u0275\u0275text"](10,"Date From"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",38),i["\u0275\u0275elementStart"](12,"select",39),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onMonthFromSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.fromMonthID=t}),i["\u0275\u0275template"](13,ul,2,2,"option",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"select",41),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().fromYearSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.fromYearID=t}),i["\u0275\u0275template"](15,hl,2,2,"option",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",36),i["\u0275\u0275elementStart"](17,"label",42),i["\u0275\u0275text"](18,"Date To"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"div",38),i["\u0275\u0275elementStart"](20,"select",43),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onMonthToSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.toMonthID=t}),i["\u0275\u0275template"](21,gl,2,2,"option",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"select",44),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onYearToSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.toYearID=t}),i["\u0275\u0275template"](23,fl,2,2,"option",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"div",36),i["\u0275\u0275elementStart"](25,"select",45),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onDivisionSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.divisionID=t}),i["\u0275\u0275elementStart"](26,"option",29),i["\u0275\u0275text"](27,"All Divisions"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](28,vl,2,2,"option",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](29,"div",36),i["\u0275\u0275elementStart"](30,"select",46),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onDepartmentSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.departmentID=t}),i["\u0275\u0275elementStart"](31,"option",29),i["\u0275\u0275text"](32,"All Departments"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](33,Sl,2,2,"option",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"div",75),i["\u0275\u0275elementStart"](35,"button",76),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.isMobileFilteringOn=!t.isMobileFilteringOn}),i["\u0275\u0275text"](36," Done"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngModel",e.filterParams.fromMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.filterParams.fromYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.years),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",e.filterParams.toMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.filterParams.toYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.years),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.filterParams.divisionID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.divisions),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.filterParams.departmentID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.departments)}}const xl=function(e){return{"d-none":e}},Dl=n("2BfV"),El=n("Tos5"),Il=n("M8aS"),bl=n("zF3M");Dl(y.a),El(y.a),Il(y.a),bl(y.a);let Cl=(()=>{class e{constructor(e,t,n,a,r,o){this.dashboardService=e,this.userService=t,this.router=n,this.modalService=a,this.contactService=r,this.dashboardDataService=o,this.programs=[],this.instances=[],this.unfilteredData=[],this.today=new Date,this.filterParams={fromMonthID:(new Date).getMonth(),fromYearID:(new Date).getFullYear(),toMonthID:(new Date).getMonth()+1,toYearID:(new Date).getFullYear(),programID:0,programInstanceID:0,divisionID:0,departmentID:0},this.years=[],this.months=Ot.a.create(),this.blobUrl=Q.a.apiBlobUrl+"/",this.divisions=[],this.eventsGroupByPeopleCount=[],this.departments=[],this.delegateData=[],this.eventData=[],this.isMobileScreen=!1,this.isMobileFilteringOn=!1,this.financialData=[],this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID,this.onLoadResposiveCheck()}onLoadResposiveCheck(){this.isMobileScreen=window.innerWidth<1060}onResize(e){this.isMobileScreen=e.target.innerWidth<1060}ngOnInit(){4092!==this.companyID&&this.router.navigate(["dashboard"]),this.userService.ecosystemNavigation.next(!0),this.generateDateFilters(),this.isPreserveCache=!1,this.dashboardDataService.isPreserveCache.subscribe(e=>{if(this.isPreserveCache=e,this.isPreserveCache){const e=localStorage.getItem("dashboardFilter");null!==e&&(this.filterParams=JSON.parse(e)),this.initDivisions(),this.initDepartments()}else this.initDivisions(),this.initDepartments()})}generateDateFilters(){for(let e=this.filterParams.fromYearID-5;e<=this.filterParams.toYearID+5;++e)this.years.push({name:e,value:e})}initDivisions(){this.contactService.getAllDivision(this.companyID).subscribe(e=>{this.divisions=e,this.getEvents()})}initDepartments(){this.contactService.getAllDepartment(this.filterParams.divisionID).subscribe(e=>{this.departments=e})}onDivisionSelect(){this.getEvents(),this.initDepartments()}onDepartmentSelect(){this.getEvents()}onInstanceSelect(){this.getEvents()}onMonthFromSelect(){this.getEvents()}fromYearSelect(){this.filterParams.fromYearID>this.filterParams.toYearID&&(this.filterParams.toYearID=this.filterParams.fromYearID),this.getEvents()}onMonthToSelect(){this.getEvents()}onYearToSelect(){this.getEvents()}getEvents(){this.eventLoading=!0;const e=localStorage.getItem("dashboardFilter");let t=[];this.dashboardService.getCachedEnterpriseEventDetails().subscribe(e=>{t=e});const n=Cn()(this.filterParams,JSON.parse(e));null===t||!1===n?this.retrieveDataThroughAPI():(this.eventData||this.loadDashboard(t),this.eventLoading=!1),localStorage.setItem("dashboardFilter",JSON.stringify(this.filterParams))}retrieveDataThroughAPI(){const e=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),t=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0),n=Object(x.a)(e),a=Object(x.a)(t);this.dashboardService.getEnterpriseEventDetails(this.companyID,0,0,0,0,0,n,a,0,0,0,0).subscribe(e=>{this.dashboardService.setCachedEnterpriseEventDetails(e),!0!==this.isPreserveCache&&this.dashboardDataService.setIsPreserveCacheState(!0),this.loadDashboard(e)})}loadDashboard(e){const t=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),n=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0),a=Object(x.a)(t),r=Object(x.a)(n);e=e.filter(e=>e.startDate>=a&&e.endDate<=r),0!==this.filterParams.divisionID&&(e=e.filter(e=>e.divisionID===this.filterParams.divisionID)),0!==this.filterParams.departmentID&&(e=e.filter(e=>e.departmentID===this.filterParams.departmentID)),this.persistentLiveSnapshot||(this.persistentLiveSnapshot=JSON.parse(JSON.stringify(e))),this.unfilteredData=e,this.eventData=Object(x.j)(Object(x.l)(e),"eventID"),this.financialData=e,this.delegateData=Object(x.j)(Object(x.l)(e),"eventDelegateID"),this.generateEventDelegatesChart(this.delegateData),this.generateExecutiveSummary()}generateExecutiveSummary(){this.excutiveSummary={trained:[],event:[],spending:[]},Object(x.j)(this.delegateData,"internal",!1).forEach(e=>{const t={name:!0===e.internal?"Internal":"External",y:this.delegateData.filter(t=>t.internal===e.internal&&2!==t.eventFormatID).length};this.excutiveSummary.trained.push(t)});const e={name:"eLearning",y:this.delegateData.filter(e=>2===e.eventFormatID).length};this.excutiveSummary.trained.push(e),Object(x.j)(this.eventData,"internal",!1).forEach(e=>{const t={name:!0===e.internal?"Internal":"External",y:this.eventData.filter(t=>t.internal===e.internal&&2!==t.eventFormatID).length};this.excutiveSummary.event.push(t)});const t={name:"eLearning",y:this.eventData.filter(e=>2===e.eventFormatID).length};this.excutiveSummary.event.push(t),Object(x.j)(this.financialData,"internal",!1).forEach(e=>{const t=this.financialData.filter(t=>t.internal===e.internal&&2!==t.eventFormatID).reduce((e,t)=>e+(t.totalCost||0),0),n={name:!0===e.internal?"Internal":"External",y:Number(Math.round(100*t)/100)};this.excutiveSummary.spending.push(n)});const n=this.financialData.filter(e=>2===e.eventFormatID).reduce((e,t)=>e+(t.totalCost||0),0),a={name:"eLearning",y:Number(Math.round(100*n)/100)};this.excutiveSummary.spending.push(a),console.log("EXECUTIVE Summary: ",this.excutiveSummary)}generateEventDelegatesChart(e){let t=[];const n=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),a=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0),r=Object(x.h)(n,a);for(let u=1;u<=r+1;u++){const e=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-u,1),n=this.months[e.getMonth()];t.push({monthID:e.getMonth()+1,yearID:e.getFullYear(),title:`${n.yy}-${e.getFullYear().toString().substr(-2)}`})}t=t.reverse();const o={chart:{type:"column",height:300},title:{text:""},xAxis:{categories:t.map(e=>e.title),gridLineWidth:0,title:!1,labels:{enabled:!0},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:y.a.defaultOptions.title.style&&y.a.defaultOptions.title.style.color||"gray"}}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0}}},series:[]};0===r&&(o.plotOptions.column.stacking="");const l=[],i=JSON.parse(JSON.stringify(this.divisions));i.push({division:"Unspecified",divisioniD:null}),i.forEach(e=>{const t={type:"column",name:e.division,data:[],dataLabels:{enabled:!1},point:{events:{click:(function(e){const t=e.point;this.showEventBreakdownModal(t.category,t.divisions)}).bind(this)}}};l.push(t)}),t.forEach(t=>{i.forEach(n=>{const a=e.filter(e=>{const a=new Date(e.startDate).getMonth()+1,r=new Date(e.startDate).getFullYear();return a===t.monthID&&r===t.yearID&&e.divisionID===n.divisioniD});l.filter(e=>e.name===n.division)[0].data.push({divisions:a,y:a.length})})}),l.forEach(e=>{let n=0;for(let a=0;a<t.length;a++)0===e.data[a].divisions.length&&n++;n<t.length&&o.series.push(e)}),this.delegateChart=y.a.chart("delegateChart",o),this.totalDelegates=e.filter(e=>{const n=new Date(e.startDate).getMonth()+1,a=new Date(e.startDate).getFullYear();return t.some(e=>e.yearID===a&&n===e.monthID)}).length;const s=[];Object(x.j)(Object(x.l)(e),"trainerName").forEach(t=>{t.totalAddedHours=0;const n=e.filter(e=>e.trainerName===t.trainerName);t.totalCount=e.filter(e=>e.trainerName===t.trainerName).length,n.forEach(e=>{t.totalAddedHours+=e.totalMinutes/60}),t.totalAddedHours=Math.round(t.totalAddedHours),s.push(t)}),this.eventGroupTrainers=JSON.parse(JSON.stringify(s));const m=[];Object(x.j)(Object(x.l)(e),"provider").forEach(t=>{t.totalAddedCost=0;const n=e.filter(e=>e.provider===t.provider);t.totalCount=e.filter(e=>e.providerID===t.providerID).length,n.forEach(e=>{t.totalAddedCost+=e.totalCost}),t.totalAddedCost=Math.round(t.totalAddedCost),m.push(t)}),this.eventGroupProviders=JSON.parse(JSON.stringify(m));const c=[];Object(x.j)(Object(x.l)(e),"eventDelegateID").forEach(t=>{t.totalAddedHours=0;const n=e.filter(e=>e.eventDelegateID===t.eventDelegateID);t.totalCount=e.filter(e=>e.eventDelegateID===t.eventDelegateID).length,n.forEach(e=>{t.totalAddedHours+=e.totalMinutes/60}),t.totalAddedHours=Math.round(t.totalAddedHours),c.push(t)}),this.eventGroupDelegates=JSON.parse(JSON.stringify(c));const d=[];Object(x.j)(Object(x.l)(e),"courseTitle").forEach(t=>{t.totalAddedHours=0;const n=e.filter(e=>e.courseTitle===t.courseTitle);t.totalCount=e.filter(e=>e.courseTitle===t.courseTitle).length,n.forEach(e=>{t.totalAddedHours+=e.totalMinutes/60}),t.totalAddedHours=Math.round(t.totalAddedHours),d.push(t)}),this.eventGroupCourses=JSON.parse(JSON.stringify(d));const p=[];Object(x.j)(Object(x.l)(e),"divisionID").forEach(t=>{t.totalAddedHours=0;const n=e.filter(e=>e.divisionID===t.divisionID);t.totalCount=e.filter(e=>e.divisionID===t.divisionID).length,n.forEach(e=>{t.totalAddedHours+=e.totalMinutes/60}),t.totalAddedHours=Math.round(t.totalAddedHours),p.push(t)}),this.eventGroupDivision=JSON.parse(JSON.stringify(p)),this.generateInternalExternalChart(e),this.generateRaceChart(e),this.generateEmpowerDexChart(e),this.generateGenderChart(e),this.generateOfoChart(e),this.generateAgeChart(e),this.eventLoading=!1}generateInternalExternalChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.internalExternalPieseries={name:"Count",colorByPoint:!0,data:[]},Object(x.j)(e,"internal",!1).forEach(t=>{const n={name:!0===t.internal?"Internal":"External",y:e.filter(e=>e.internal===t.internal&&2!==e.eventFormatID).length};this.internalExternalPieseries.data.push(n)}),t.series.push(this.internalExternalPieseries),this.internalExternalChart=y.a.chart("internalExternal",t)}generateRaceChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.racePieSeries={name:"Count",colorByPoint:!0,data:[]},this.costByRacePieSeries={name:"Cost",colorByPoint:!0,data:[]},Object(x.j)(e,"race",!1).forEach(t=>{const n={name:t.race||"Not Specified",y:e.filter(e=>e.race===t.race).length};this.racePieSeries.data.push(n);const a=this.eventData.filter(e=>e.race===t.race);let r=0;a.forEach(e=>{r+=e.totalCost});const o={name:t.race||"Not Specified",y:Math.round(100*r)/100,totalCost:Math.round(100*r)/100};this.costByRacePieSeries.data.push(o)}),t.series.push(this.racePieSeries),this.raceChart=y.a.chart("race",t)}generateEmpowerDexChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.empowerDexPieSeries={name:"Delegates",colorByPoint:!0,data:[]},Object(x.j)(e,"empowerDexLearningCategoryDetails",!1).forEach(t=>{const n={name:t.empowerDexLearningCategoryDetails||"Not Specified",y:e.filter(e=>e.empowerDexLearningCategoryDetails===t.empowerDexLearningCategoryDetails).length};this.empowerDexPieSeries.data.push(n);const a=this.eventData.filter(e=>e.empowerDexLearningCategoryDetails===t.empowerDexLearningCategoryDetails);let r=0;a.forEach(e=>{r+=e.totalCost})}),t.series.push(this.empowerDexPieSeries),this.empowerDexChart=y.a.chart("empowerDex",t)}generateGenderChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.genderPieSeries={name:"Count",colorByPoint:!0,data:[]},this.costByGenderPieSeries={name:"Cost",colorByPoint:!0,data:[]},Object(x.j)(e,"gender",!1).forEach(t=>{const n={name:t.gender||"Not Specified",y:e.filter(e=>e.gender===t.gender).length};this.genderPieSeries.data.push(n);const a=this.eventData.filter(e=>e.gender===t.gender);let r=0;a.forEach(e=>{r+=e.totalCost});const o={name:t.gender||"Not Specified",y:Math.round(100*r)/100,totalCost:Math.round(100*r)/100};this.costByGenderPieSeries.data.push(o)}),t.series.push(this.genderPieSeries),this.genderChart=y.a.chart("gender",t)}generateOfoChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.ofoPieSeries={name:"Count",colorByPoint:!0,data:[]},Object(x.j)(e,"ofoDescription",!1).forEach(t=>{const n={name:t.ofoDescription||"Not Specified",y:e.filter(e=>e.ofoDescription===t.ofoDescription).length};this.ofoPieSeries.data.push(n)}),t.series.push(this.ofoPieSeries),this.ofoChart=y.a.chart("ofo",t)}generateAgeChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.agePieSeries={name:"Count",colorByPoint:!0,data:[]},Object(x.j)(e,"age",!1).forEach(t=>{const n={name:t.age||"Not Specified",y:e.filter(e=>e.age===t.age).length};this.agePieSeries.data.push(n)}),t.series.push(this.agePieSeries),this.ageChart=y.a.chart("age",t)}generateCategoryChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.courseCategoryPieSeries={name:"Count",colorByPoint:!0,data:[]},Object(x.j)(e,"courseCategory",!1).forEach(t=>{const n={name:t.courseCategory||"Not Specified",y:e.filter(e=>e.courseCategory===t.courseCategory).length};this.courseCategoryPieSeries.data.push(n)}),t.series.push(this.courseCategoryPieSeries),this.categoryChart=y.a.chart("categoryChart",t)}showEventBreakdown(e,t,n=""){const a={title:"",data:[],entity:"events",keyProperty:t};let r=[];"contactID"===t?(a.title=`Events joined by ${e.firstName} ${e.surname}`,r=this.delegateData.filter(n=>n[t]===e[t])):(a.title="Events conducted by "+e[t],r=this.eventData.filter(n=>n[t]===e[t])),a.data=r,a.entity=n,this.dashboardDataService.setData(a),this.router.navigate(["/dashboard/event-monthly"])}showEventBreakdownModal(e,t){const n=this.modalService.open(In,{size:"xl"});n.componentInstance.title=e,n.componentInstance.data=t,n.componentInstance.entity="delegates"}back(){this.router.navigate(["/dashboard/enterprise-dashboard"])}ngOnDestroy(){this.userService.ecosystemNavigation.next(!1)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](I.a),i["\u0275\u0275directiveInject"](s.a),i["\u0275\u0275directiveInject"](r.d),i["\u0275\u0275directiveInject"](ye.p),i["\u0275\u0275directiveInject"](Te.a),i["\u0275\u0275directiveInject"](Mn))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-enterprise-delegates"]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("resize",function(e){return t.onResize(e)},!1,i["\u0275\u0275resolveWindow"])},decls:108,vars:37,consts:[[1,"w-100",3,"avnonLoader","ngClass"],[1,"page-title","d-flex","justify-content-between"],[1,"cursor-pointer","text-primary","display-inline","mr-2",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline"],["class","actions",4,"ngIf"],[1,"modal-fixed-height"],["class","table",4,"ngIf"],[1,"col-12","d-flex","flex-column","filter-container","border-bottom","mt-3","border-top","border-top"],[1,"col-12"],["id","delegateChart",1,"chart"],[1,"row","px-4"],[1,"col-lg-4","col-md-4","col-sm-6","d-flex","flex-column","p-1"],[1,"w-100"],[1,"text-center","w-100"],["id","internalExternal",1,"pie","w-100"],["class","w-100",4,"ngIf"],["id","empowerDex",1,"pie","w-100"],["id","race",1,"pie","w-100"],["id","gender",1,"pie","w-100"],[1,"text-center"],["id","ofo",1,"pie","w-100"],["id","age",1,"pie","w-100"],[1,"col-12","d-flex","flex-column","filter-container","border-top","border-bottom","mt-3"],[1,"d-flex","justify-content-between"],[1,"w-auto","d-flex","align-items-center"],["for","groupBy",1,"d-inline","m-0","pr-2"],[1,"input-group","d-inline","w-auto"],["id","groupBy","name","groupBy",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","ngModelChange"],[3,"ngValue"],[4,"ngIf"],[1,"col-auto","filter-section"],[1,"sticky-container","d-flex","flex-column"],[1,"card"],[1,"card-header"],[1,"card-body","pb-0"],[1,"form-group"],["for","dateFrom"],[1,"input-group"],["id","dateFrom","name","fromMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["name","fromYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],["for","dateTo"],["id","dateTo","name","toMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","change","ngModelChange"],["name","toYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],["name","divisionID",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],["name","departmentID",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],["class","d-flex flex-column w-100",4,"ngIf"],[1,"actions"],[1,"dropdown"],["type","button","id","dd1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["aria-labelledby","dd1",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"table"],[1,""],[1,"modal-fixed-height--20vh"],[1,"table","table--legend"],["class","d-flex",4,"ngFor","ngForOf"],[1,"d-flex"],[1,"col-6"],[1,"modal-fixed-height--20vh","row"],[1,"col-10"],[1,"col-2"],[1,"col-9"],[1,"col-3"],[1,"modal-fixed-height","w-100"],[1,"col-1"],[1,"col-7"],["alt","network",1,"avatar","avatar-48","contain-avatar",3,"src"],[3,"click"],["class","modal-fixed-height w-100",4,"ngIf"],[1,"col-8"],[1,"d-flex","flex-column","w-100"],[1,"filter-container"],[1,"text-right"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div"),i["\u0275\u0275elementStart"](3,"span",2),i["\u0275\u0275listener"]("click",function(){return t.back()}),i["\u0275\u0275element"](4,"i",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"h1",4),i["\u0275\u0275text"](6,"Delegates Dashboard"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div"),i["\u0275\u0275template"](8,_o,8,0,"div",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",6),i["\u0275\u0275template"](10,Ro,52,20,"table",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",8),i["\u0275\u0275elementStart"](12,"h3"),i["\u0275\u0275text"](13,"Total Delegates"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"span"),i["\u0275\u0275text"](15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",9),i["\u0275\u0275element"](17,"div",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"div",11),i["\u0275\u0275elementStart"](19,"div",12),i["\u0275\u0275elementStart"](20,"div",13),i["\u0275\u0275elementStart"](21,"label",14),i["\u0275\u0275text"](22,"Internal/ External"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](23,"div",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](24,$o,5,1,"div",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](25,"div",12),i["\u0275\u0275elementStart"](26,"div",13),i["\u0275\u0275elementStart"](27,"label",14),i["\u0275\u0275text"](28,"Empower-Dex Learning"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](29,"div",17),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](30,Wo,5,1,"div",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](31,"div",12),i["\u0275\u0275elementStart"](32,"div",13),i["\u0275\u0275elementStart"](33,"label",14),i["\u0275\u0275text"](34,"Race"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](35,"div",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](36,zo,5,1,"div",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"div",12),i["\u0275\u0275elementStart"](38,"div",13),i["\u0275\u0275elementStart"](39,"label",14),i["\u0275\u0275text"](40,"Gender"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](41,"div",19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](42,Ho,5,1,"div",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](43,"div",12),i["\u0275\u0275elementStart"](44,"label",20),i["\u0275\u0275text"](45,"OFO"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](46,"div",21),i["\u0275\u0275template"](47,Xo,5,1,"div",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](48,"div",12),i["\u0275\u0275elementStart"](49,"label",20),i["\u0275\u0275text"](50,"Age"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](51,"div",22),i["\u0275\u0275template"](52,Qo,5,1,"div",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](53,"div",23),i["\u0275\u0275elementStart"](54,"div",24),i["\u0275\u0275elementStart"](55,"div"),i["\u0275\u0275elementStart"](56,"h3"),i["\u0275\u0275text"](57,"Delegates"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](58,"span"),i["\u0275\u0275text"](59),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](60,"div",25),i["\u0275\u0275elementStart"](61,"label",26),i["\u0275\u0275text"](62,"Group By"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](63,"div",27),i["\u0275\u0275elementStart"](64,"select",28),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.delegatesGroupBy=e}),i["\u0275\u0275elementStart"](65,"option",29),i["\u0275\u0275text"](66," None "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](67,"option",29),i["\u0275\u0275text"](68," Division "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](69,"option",29),i["\u0275\u0275text"](70," Course "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](71,el,14,1,"ng-container",30),i["\u0275\u0275template"](72,al,2,1,"ng-container",30),i["\u0275\u0275template"](73,ll,2,1,"ng-container",30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](74,"div",31),i["\u0275\u0275elementStart"](75,"div",32),i["\u0275\u0275elementStart"](76,"div",33),i["\u0275\u0275elementStart"](77,"div",34),i["\u0275\u0275elementStart"](78,"h3"),i["\u0275\u0275text"](79,"Filters"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](80,"div",35),i["\u0275\u0275elementStart"](81,"div",36),i["\u0275\u0275elementStart"](82,"label",37),i["\u0275\u0275text"](83,"Date From"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](84,"div",38),i["\u0275\u0275elementStart"](85,"select",39),i["\u0275\u0275listener"]("change",function(){return t.onMonthFromSelect()})("ngModelChange",function(e){return t.filterParams.fromMonthID=e}),i["\u0275\u0275template"](86,il,2,2,"option",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](87,"select",41),i["\u0275\u0275listener"]("change",function(){return t.fromYearSelect()})("ngModelChange",function(e){return t.filterParams.fromYearID=e}),i["\u0275\u0275template"](88,sl,2,2,"option",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](89,"div",36),i["\u0275\u0275elementStart"](90,"label",42),i["\u0275\u0275text"](91,"Date To"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](92,"div",38),i["\u0275\u0275elementStart"](93,"select",43),i["\u0275\u0275listener"]("change",function(){return t.onMonthToSelect()})("ngModelChange",function(e){return t.filterParams.toMonthID=e}),i["\u0275\u0275template"](94,ml,2,2,"option",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](95,"select",44),i["\u0275\u0275listener"]("change",function(){return t.onYearToSelect()})("ngModelChange",function(e){return t.filterParams.toYearID=e}),i["\u0275\u0275template"](96,cl,2,2,"option",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](97,"div",36),i["\u0275\u0275elementStart"](98,"select",45),i["\u0275\u0275listener"]("change",function(){return t.onDivisionSelect()})("ngModelChange",function(e){return t.filterParams.divisionID=e}),i["\u0275\u0275elementStart"](99,"option",29),i["\u0275\u0275text"](100,"All Divisions"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](101,dl,2,2,"option",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](102,"div",36),i["\u0275\u0275elementStart"](103,"select",46),i["\u0275\u0275listener"]("change",function(){return t.onDepartmentSelect()})("ngModelChange",function(e){return t.filterParams.departmentID=e}),i["\u0275\u0275elementStart"](104,"option",29),i["\u0275\u0275text"](105,"All Departments"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](106,pl,2,2,"option",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](107,yl,37,14,"div",47)),2&e&&(i["\u0275\u0275property"]("avnonLoader",t.loading||t.eventLoading)("ngClass",i["\u0275\u0275pureFunction1"](35,xl,t.isMobileFilteringOn)),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("ngIf",t.isMobileScreen),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.excutiveSummary),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",t.totalDelegates," delegates "),i["\u0275\u0275advance"](9),i["\u0275\u0275property"]("ngIf",t.internalExternalPieseries),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",t.empowerDexPieSeries),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",t.racePieSeries),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",t.genderPieSeries),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",t.ofoPieSeries),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",t.agePieSeries),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate2"](" ",null==t.eventGroupDelegates?null:t.eventGroupDelegates.length," ","Delegates"," "),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.delegatesGroupBy),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",void 0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngValue",1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",void 0===t.delegatesGroupBy),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",0===t.delegatesGroupBy),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===t.delegatesGroupBy),i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngModel",t.filterParams.fromMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.filterParams.fromYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.years),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.filterParams.toMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.filterParams.toYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.years),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.filterParams.divisionID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.divisions),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.filterParams.departmentID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.departments),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isMobileFilteringOn))},directives:[C.a,a.l,a.n,P.B,P.q,P.t,P.v,P.D,a.m],pipes:[a.f],styles:["h3[_ngcontent-%COMP%]{margin-bottom:0}a[_ngcontent-%COMP%]:hover{text-decoration:underline!important}.v-collapsed[_ngcontent-%COMP%]{visibility:hidden}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:0!important;padding:.25rem 1rem}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#f0f3ff;cursor:pointer}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:0;padding:.15rem 1rem}.table--legend[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{color:#333;font-size:12px;font-weight:700;fill:#333}.table--legend[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#333;font-size:12px}"]}),e})();function Pl(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",37),i["\u0275\u0275elementStart"](1,"div",38),i["\u0275\u0275elementStart"](2,"button",39),i["\u0275\u0275element"](3,"span",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"ul",41),i["\u0275\u0275elementStart"](5,"li"),i["\u0275\u0275elementStart"](6,"a",42),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.isMobileFilteringOn=!t.isMobileFilteringOn}),i["\u0275\u0275text"](7," Filters "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function Ml(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"table",27),i["\u0275\u0275elementStart"](1,"tbody"),i["\u0275\u0275elementStart"](2,"tr",43),i["\u0275\u0275element"](3,"th",43),i["\u0275\u0275elementStart"](4,"th",43),i["\u0275\u0275text"](5,"Internal"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",43),i["\u0275\u0275text"](7,"External"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",43),i["\u0275\u0275text"](9,"eLearning"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",43),i["\u0275\u0275text"](11,"Total"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"tr",43),i["\u0275\u0275elementStart"](13,"td",43),i["\u0275\u0275elementStart"](14,"strong"),i["\u0275\u0275text"](15,"Delegates"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"td",43),i["\u0275\u0275text"](17),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"td",43),i["\u0275\u0275text"](19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"td",43),i["\u0275\u0275text"](21),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"td",43),i["\u0275\u0275text"](23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"tr",43),i["\u0275\u0275elementStart"](25,"td",43),i["\u0275\u0275elementStart"](26,"strong"),i["\u0275\u0275text"](27,"Events"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"td",43),i["\u0275\u0275elementStart"](29,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.excutiveSummary.event[0]?null:t.excutiveSummary.event[0].data,"eventID","Events")}),i["\u0275\u0275text"](30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](31,"td",43),i["\u0275\u0275elementStart"](32,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.excutiveSummary.event[1]?null:t.excutiveSummary.event[1].data,"eventID","Events")}),i["\u0275\u0275text"](33),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"td",43),i["\u0275\u0275elementStart"](35,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.excutiveSummary.event[2]?null:t.excutiveSummary.event[2].data,"eventID","Events")}),i["\u0275\u0275text"](36),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"td",43),i["\u0275\u0275elementStart"](38,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.excutiveSummary.event[0]?null:t.excutiveSummary.event[0].data.concat(null==t.excutiveSummary.event[1]?null:t.excutiveSummary.event[1].data.concat(null==t.excutiveSummary.event[2]?null:t.excutiveSummary.event[2].data)),"eventID","Events")}),i["\u0275\u0275text"](39),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](40,"tr",43),i["\u0275\u0275elementStart"](41,"td",43),i["\u0275\u0275elementStart"](42,"strong"),i["\u0275\u0275text"](43,"Spent (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](44,"td",43),i["\u0275\u0275elementStart"](45,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.excutiveSummary.spending[0]?null:t.excutiveSummary.spending[0].data,"eventID","Events")}),i["\u0275\u0275text"](46),i["\u0275\u0275pipe"](47,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](48,"td",43),i["\u0275\u0275elementStart"](49,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.excutiveSummary.spending[1]?null:t.excutiveSummary.spending[1].data,"eventID","Events")}),i["\u0275\u0275text"](50),i["\u0275\u0275pipe"](51,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](52,"td",43),i["\u0275\u0275elementStart"](53,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.excutiveSummary.spending[2]?null:t.excutiveSummary.spending[2].data,"eventID","Events")}),i["\u0275\u0275text"](54),i["\u0275\u0275pipe"](55,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](56,"td",43),i["\u0275\u0275elementStart"](57,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.excutiveSummary.spending[0]?null:t.excutiveSummary.spending[0].data.concat(null==t.excutiveSummary.spending[1]?null:t.excutiveSummary.spending[1].data.concat(null==t.excutiveSummary.spending[2]?null:t.excutiveSummary.spending[2].data)),"eventID","Events")}),i["\u0275\u0275text"](58),i["\u0275\u0275pipe"](59,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](17),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.trained[0]?null:e.excutiveSummary.trained[0].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.trained[1]?null:e.excutiveSummary.trained[1].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.trained[2]?null:e.excutiveSummary.trained[2].y)||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"]((null==e.excutiveSummary.trained[0]?null:e.excutiveSummary.trained[0].y)+(null==e.excutiveSummary.trained[1]?null:e.excutiveSummary.trained[1].y)+(null==e.excutiveSummary.trained[2]?null:e.excutiveSummary.trained[2].y)),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate1"](" ",(null==e.excutiveSummary.event[0]?null:e.excutiveSummary.event[0].y)||0," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",(null==e.excutiveSummary.event[1]?null:e.excutiveSummary.event[1].y)||0," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",(null==e.excutiveSummary.event[2]?null:e.excutiveSummary.event[2].y)||0," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",(null==e.excutiveSummary.event[0]?null:e.excutiveSummary.event[0].y)+(null==e.excutiveSummary.event[1]?null:e.excutiveSummary.event[1].y)+(null==e.excutiveSummary.event[2]?null:e.excutiveSummary.event[2].y)," "),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](47,12,(null==e.excutiveSummary.spending[0]?null:e.excutiveSummary.spending[0].y)||0)," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](51,14,(null==e.excutiveSummary.spending[1]?null:e.excutiveSummary.spending[1].y)||0)," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](55,16,(null==e.excutiveSummary.spending[2]?null:e.excutiveSummary.spending[2].y)||0)," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](59,18,(null==e.excutiveSummary.spending[0]?null:e.excutiveSummary.spending[0].y)+(null==e.excutiveSummary.spending[1]?null:e.excutiveSummary.spending[1].y)+(null==e.excutiveSummary.spending[2]?null:e.excutiveSummary.spending[2].y))," ")}}function wl(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"table",27),i["\u0275\u0275elementStart"](1,"tbody"),i["\u0275\u0275elementStart"](2,"tr",28),i["\u0275\u0275elementStart"](3,"th",31),i["\u0275\u0275text"](4,"Spending"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"th",31),i["\u0275\u0275text"](6,"Internal (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"th",31),i["\u0275\u0275text"](8,"External (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"th",31),i["\u0275\u0275text"](10,"Total (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"tr",28),i["\u0275\u0275elementStart"](12,"td",31),i["\u0275\u0275elementStart"](13,"strong"),i["\u0275\u0275text"](14,"Facilities"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"td",31),i["\u0275\u0275elementStart"](16,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.facility[0]?null:t.costSummary.facility[0].data,"eventID","Events")}),i["\u0275\u0275text"](17),i["\u0275\u0275pipe"](18,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"td",31),i["\u0275\u0275elementStart"](20,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.facility[1]?null:t.costSummary.facility[1].data,"eventID","Events")}),i["\u0275\u0275text"](21),i["\u0275\u0275pipe"](22,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](23,"td",31),i["\u0275\u0275elementStart"](24,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.facility[0]?null:t.costSummary.facility[0].data.concat(null==t.costSummary.facility[1]?null:t.costSummary.facility[1].data),"eventID","Events")}),i["\u0275\u0275text"](25),i["\u0275\u0275pipe"](26,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](27,"tr",28),i["\u0275\u0275elementStart"](28,"td",31),i["\u0275\u0275elementStart"](29,"strong"),i["\u0275\u0275text"](30,"Trainers"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](31,"td",31),i["\u0275\u0275elementStart"](32,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.trainer[0]?null:t.costSummary.trainer[0].data,"trainerName","Trainers")}),i["\u0275\u0275text"](33),i["\u0275\u0275pipe"](34,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](35,"td",31),i["\u0275\u0275elementStart"](36,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.trainer[1]?null:t.costSummary.trainer[1].data,"trainerName","Trainers")}),i["\u0275\u0275text"](37),i["\u0275\u0275pipe"](38,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](39,"td",31),i["\u0275\u0275elementStart"](40,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.trainer[0]?null:t.costSummary.trainer[0].data.concat(null==t.costSummary.trainer[1]?null:t.costSummary.trainer[1].data),"trainerName","Trainers")}),i["\u0275\u0275text"](41),i["\u0275\u0275pipe"](42,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](43,"tr",28),i["\u0275\u0275elementStart"](44,"td",31),i["\u0275\u0275elementStart"](45,"strong"),i["\u0275\u0275text"](46,"Courseware"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](47,"td",31),i["\u0275\u0275elementStart"](48,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.courseWare[0]?null:t.costSummary.courseWare[0].data,"eventID","Events")}),i["\u0275\u0275text"](49),i["\u0275\u0275pipe"](50,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](51,"td",31),i["\u0275\u0275elementStart"](52,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.courseWare[1]?null:t.costSummary.courseWare[1].data,"eventID","Events")}),i["\u0275\u0275text"](53),i["\u0275\u0275pipe"](54,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](55,"td",31),i["\u0275\u0275elementStart"](56,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.courseWare[0]?null:t.costSummary.courseWare[0].data.concat(null==t.costSummary.courseWare[1]?null:t.costSummary.courseWare[1].data),"eventID","Events")}),i["\u0275\u0275text"](57),i["\u0275\u0275pipe"](58,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](59,"tr",28),i["\u0275\u0275elementStart"](60,"td",31),i["\u0275\u0275elementStart"](61,"strong"),i["\u0275\u0275text"](62,"Course Fees"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](63,"td",31),i["\u0275\u0275elementStart"](64,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.courseFee[0]?null:t.costSummary.courseFee[0].data,"eventID","Events")}),i["\u0275\u0275text"](65),i["\u0275\u0275pipe"](66,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](67,"td",31),i["\u0275\u0275elementStart"](68,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.courseFee[1]?null:t.costSummary.courseFee[1].data,"eventID","Events")}),i["\u0275\u0275text"](69),i["\u0275\u0275pipe"](70,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](71,"td",31),i["\u0275\u0275elementStart"](72,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.courseFee[0]?null:t.costSummary.courseFee[0].data.concat(null==t.costSummary.courseFee[1]?null:t.costSummary.courseFee[1].data),"eventID","Events")}),i["\u0275\u0275text"](73),i["\u0275\u0275pipe"](74,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](75,"tr",28),i["\u0275\u0275elementStart"](76,"td",31),i["\u0275\u0275elementStart"](77,"strong"),i["\u0275\u0275text"](78,"Travel"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](79,"td",31),i["\u0275\u0275elementStart"](80,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.travel[0]?null:t.costSummary.travel[0].data,"eventID","Events")}),i["\u0275\u0275text"](81),i["\u0275\u0275pipe"](82,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](83,"td",31),i["\u0275\u0275elementStart"](84,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.travel[1]?null:t.costSummary.travel[1].data,"eventID","Events")}),i["\u0275\u0275text"](85),i["\u0275\u0275pipe"](86,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](87,"td",31),i["\u0275\u0275elementStart"](88,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.travel[0]?null:t.costSummary.travel[0].data.concat(null==t.costSummary.travel[1]?null:t.costSummary.travel[1].data),"eventID","Events")}),i["\u0275\u0275text"](89),i["\u0275\u0275pipe"](90,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](91,"tr",28),i["\u0275\u0275elementStart"](92,"td",31),i["\u0275\u0275elementStart"](93,"strong"),i["\u0275\u0275text"](94,"Certificates"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](95,"td",31),i["\u0275\u0275elementStart"](96,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.certificates[0]?null:t.costSummary.certificates[0].data,"eventID","Events")}),i["\u0275\u0275text"](97),i["\u0275\u0275pipe"](98,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](99,"td",31),i["\u0275\u0275elementStart"](100,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.certificates[1]?null:t.costSummary.certificates[1].data,"eventID","Events")}),i["\u0275\u0275text"](101),i["\u0275\u0275pipe"](102,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](103,"td",31),i["\u0275\u0275elementStart"](104,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.certificates[0]?null:t.costSummary.certificates[0].data.concat(null==t.costSummary.certificates[1]?null:t.costSummary.certificates[1].data),"eventID","Events")}),i["\u0275\u0275text"](105),i["\u0275\u0275pipe"](106,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](107,"tr",28),i["\u0275\u0275elementStart"](108,"td",31),i["\u0275\u0275elementStart"](109,"strong"),i["\u0275\u0275text"](110,"Delegate Salary"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](111,"td",31),i["\u0275\u0275elementStart"](112,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.salary[0]?null:t.costSummary.salary[0].data,"eventDelegateID","Delegates")}),i["\u0275\u0275text"](113),i["\u0275\u0275pipe"](114,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](115,"td",31),i["\u0275\u0275elementStart"](116,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.salary[1]?null:t.costSummary.salary[1].data,"eventDelegateID","Delegates")}),i["\u0275\u0275text"](117),i["\u0275\u0275pipe"](118,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](119,"td",31),i["\u0275\u0275elementStart"](120,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.salary[0]?null:t.costSummary.salary[0].data.concat(null==t.costSummary.salary[1]?null:t.costSummary.salary[1].data),"eventDelegateID","Delegates")}),i["\u0275\u0275text"](121),i["\u0275\u0275pipe"](122,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](123,"tr",28),i["\u0275\u0275elementStart"](124,"td",31),i["\u0275\u0275elementStart"](125,"strong"),i["\u0275\u0275text"](126,"Sub-total"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](127,"td",31),i["\u0275\u0275elementStart"](128,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.salary[0]?null:t.costSummary.salary[0].data,"eventID","Events")}),i["\u0275\u0275text"](129),i["\u0275\u0275pipe"](130,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](131,"td",31),i["\u0275\u0275elementStart"](132,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.salary[1]?null:t.costSummary.salary[1].data,"eventID","Events")}),i["\u0275\u0275text"](133),i["\u0275\u0275pipe"](134,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](135,"td",31),i["\u0275\u0275elementStart"](136,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showCostBreakdown(null==t.costSummary.salary[0]?null:t.costSummary.salary[0].data.concat(null==t.costSummary.salary[1]?null:t.costSummary.salary[1].data),"eventID","Events")}),i["\u0275\u0275text"](137),i["\u0275\u0275pipe"](138,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](17),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](18,24,(null==e.costSummary.facility[0]?null:e.costSummary.facility[0].y)||0)," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](22,26,(null==e.costSummary.facility[1]?null:e.costSummary.facility[1].y)||0)," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](26,28,(null==e.costSummary.facility[0]?null:e.costSummary.facility[0].y)+(null==e.costSummary.facility[1]?null:e.costSummary.facility[1].y))," "),i["\u0275\u0275advance"](8),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](34,30,(null==e.costSummary.trainer[0]?null:e.costSummary.trainer[0].y)||0)," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](38,32,(null==e.costSummary.trainer[1]?null:e.costSummary.trainer[1].y)||0)," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](42,34,(null==e.costSummary.trainer[0]?null:e.costSummary.trainer[0].y)+(null==e.costSummary.trainer[1]?null:e.costSummary.trainer[1].y))," "),i["\u0275\u0275advance"](8),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](50,36,(null==e.costSummary.courseWare[0]?null:e.costSummary.courseWare[0].y)||0)," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](54,38,(null==e.costSummary.courseWare[1]?null:e.costSummary.courseWare[1].y)||0)," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](58,40,(null==e.costSummary.courseWare[0]?null:e.costSummary.courseWare[0].y)+(null==e.costSummary.courseWare[1]?null:e.costSummary.courseWare[1].y))," "),i["\u0275\u0275advance"](8),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](66,42,(null==e.costSummary.courseFee[0]?null:e.costSummary.courseFee[0].y)||0)," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](70,44,(null==e.costSummary.courseFee[1]?null:e.costSummary.courseFee[1].y)||0)," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](74,46,(null==e.costSummary.courseFee[0]?null:e.costSummary.courseFee[0].y)+(null==e.costSummary.courseFee[1]?null:e.costSummary.courseFee[1].y))," "),i["\u0275\u0275advance"](8),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](82,48,(null==e.costSummary.travel[0]?null:e.costSummary.travel[0].y)||0)," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](86,50,(null==e.costSummary.travel[1]?null:e.costSummary.travel[1].y)||0)," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](90,52,(null==e.costSummary.travel[0]?null:e.costSummary.travel[0].y)+(null==e.costSummary.travel[1]?null:e.costSummary.travel[1].y))," "),i["\u0275\u0275advance"](8),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](98,54,(null==e.costSummary.certificates[0]?null:e.costSummary.certificates[0].y)||0)," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](102,56,(null==e.costSummary.certificates[1]?null:e.costSummary.certificates[1].y)||0)," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](106,58,(null==e.costSummary.certificates[0]?null:e.costSummary.certificates[0].y)+(null==e.costSummary.certificates[1]?null:e.costSummary.certificates[1].y))," "),i["\u0275\u0275advance"](8),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](114,60,(null==e.costSummary.salary[0]?null:e.costSummary.salary[0].y)||0)," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](118,62,(null==e.costSummary.salary[1]?null:e.costSummary.salary[1].y)||0)," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](122,64,(null==e.costSummary.salary[0]?null:e.costSummary.salary[0].y)+(null==e.costSummary.salary[1]?null:e.costSummary.salary[1].y))," "),i["\u0275\u0275advance"](8),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](130,66,(null==e.costSummary.facility[0]?null:e.costSummary.facility[0].y)+(null==e.costSummary.trainer[0]?null:e.costSummary.trainer[0].y)+(null==e.costSummary.courseWare[0]?null:e.costSummary.courseWare[0].y)+(null==e.costSummary.courseFee[0]?null:e.costSummary.courseFee[0].y)+(null==e.costSummary.travel[0]?null:e.costSummary.travel[0].y)+(null==e.costSummary.certificates[0]?null:e.costSummary.certificates[0].y)+(null==e.costSummary.salary[0]?null:e.costSummary.salary[0].y))," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](134,68,(null==e.costSummary.facility[1]?null:e.costSummary.facility[1].y)+(null==e.costSummary.trainer[1]?null:e.costSummary.trainer[1].y)+(null==e.costSummary.courseWare[1]?null:e.costSummary.courseWare[1].y)+(null==e.costSummary.courseFee[1]?null:e.costSummary.courseFee[1].y)+(null==e.costSummary.travel[1]?null:e.costSummary.travel[1].y)+(null==e.costSummary.certificates[1]?null:e.costSummary.certificates[1].y)+(null==e.costSummary.salary[1]?null:e.costSummary.salary[1].y))," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](138,70,(null==e.costSummary.facility[0]?null:e.costSummary.facility[0].y)+(null==e.costSummary.facility[1]?null:e.costSummary.facility[1].y)+((null==e.costSummary.trainer[0]?null:e.costSummary.trainer[0].y)+(null==e.costSummary.trainer[1]?null:e.costSummary.trainer[1].y))+((null==e.costSummary.courseWare[0]?null:e.costSummary.courseWare[0].y)+(null==e.costSummary.courseWare[1]?null:e.costSummary.courseWare[1].y))+((null==e.costSummary.courseFee[0]?null:e.costSummary.courseFee[0].y)+(null==e.costSummary.courseFee[1]?null:e.costSummary.courseFee[1].y))+((null==e.costSummary.travel[0]?null:e.costSummary.travel[0].y)+(null==e.costSummary.travel[1]?null:e.costSummary.travel[1].y))+((null==e.costSummary.certificates[0]?null:e.costSummary.certificates[0].y)+(null==e.costSummary.certificates[1]?null:e.costSummary.certificates[1].y))+((null==e.costSummary.salary[0]?null:e.costSummary.salary[0].y)+(null==e.costSummary.salary[1]?null:e.costSummary.salary[1].y)))," ")}}function Ol(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",28),i["\u0275\u0275elementStart"](1,"td",47),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",48),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" R ",e.y," ")}}function Fl(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",17),i["\u0275\u0275elementStart"](1,"div",45),i["\u0275\u0275elementStart"](2,"table",46),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,Ol,5,2,"tr",32),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.costByRacePieSeries?null:e.costByRacePieSeries.data)}}function jl(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",28),i["\u0275\u0275elementStart"](1,"td",47),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",48),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" R ",e.y," ")}}function kl(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",17),i["\u0275\u0275elementStart"](1,"div",45),i["\u0275\u0275elementStart"](2,"table",46),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,jl,5,2,"tr",32),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.costByGenderPieSeries?null:e.costByGenderPieSeries.data)}}function Tl(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",28),i["\u0275\u0275elementStart"](1,"td",49),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",31),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",47),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.count," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" R ",e.totalCost," ")}}function Bl(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",17),i["\u0275\u0275elementStart"](1,"div",45),i["\u0275\u0275elementStart"](2,"table",46),i["\u0275\u0275elementStart"](3,"tbody"),i["\u0275\u0275template"](4,Tl,7,3,"tr",32),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",null==e.costPerCategoryPieSeries?null:e.costPerCategoryPieSeries.data)}}function Yl(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",9),i["\u0275\u0275elementStart"](1,"h3"),i["\u0275\u0275text"](2,"Providers"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate2"](" ",null==e.eventGroupProviders?null:e.eventGroupProviders.length," ",(null==e.eventGroupProviders?null:e.eventGroupProviders.length)>1?"Providers":"Provider"," ")}}function Vl(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr",28),i["\u0275\u0275elementStart"](1,"td",29),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",30),i["\u0275\u0275element"](4,"img",50),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",31),i["\u0275\u0275elementStart"](6,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"](2).showEventBreakdown(n,"provider","Providers")}),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"td",31),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"td",31),i["\u0275\u0275text"](11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,a=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",e.profilePhoto?a.blobUrl+"256px/"+e.profilePhoto:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",e.provider?e.provider:"Unspecified Provider"," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("",null==e?null:e.totalCount," events"),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalAddedCost)}}function Ll(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275elementStart"](1,"table",27),i["\u0275\u0275elementStart"](2,"tbody"),i["\u0275\u0275elementStart"](3,"tr",28),i["\u0275\u0275elementStart"](4,"th",29),i["\u0275\u0275text"](5,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",30),i["\u0275\u0275text"](7,"Profile"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",31),i["\u0275\u0275text"](9,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",31),i["\u0275\u0275text"](11,"Total Count"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"th",31),i["\u0275\u0275text"](13,"Total Cost (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](14,Vl,12,5,"tr",32),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](14),i["\u0275\u0275property"]("ngForOf",e.eventGroupProviders)}}function Al(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr",28),i["\u0275\u0275elementStart"](1,"td",29),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",30),i["\u0275\u0275element"](4,"img",50),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",31),i["\u0275\u0275elementStart"](6,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"](2).showEventBreakdown(n,"trainerName","Trainers")}),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"td",30),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"td",30),i["\u0275\u0275text"](11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"td",30),i["\u0275\u0275text"](13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,a=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",e.profilePhoto?a.blobUrl+"256px/"+e.profilePhoto:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",e.trainerName?e.trainerName:"Unspecified Trainer",""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.hourlyRateTrainer||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalAddedHours),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.hourlyRateTrainer*e.totalAddedHours)}}function _l(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275elementStart"](1,"table",27),i["\u0275\u0275elementStart"](2,"tbody"),i["\u0275\u0275elementStart"](3,"tr",28),i["\u0275\u0275elementStart"](4,"th",29),i["\u0275\u0275text"](5,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",30),i["\u0275\u0275text"](7,"Profile"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",31),i["\u0275\u0275text"](9,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",30),i["\u0275\u0275text"](11,"Hourly Rate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"th",30),i["\u0275\u0275text"](13,"Total Hours"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"th",30),i["\u0275\u0275text"](15,"Total Cost (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](16,Al,14,6,"tr",32),i["\u0275\u0275elementStart"](17,"tr",28),i["\u0275\u0275element"](18,"td",33),i["\u0275\u0275elementStart"](19,"td",31),i["\u0275\u0275elementStart"](20,"strong"),i["\u0275\u0275text"](21,"Subtotal"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"td",30),i["\u0275\u0275elementStart"](23,"strong"),i["\u0275\u0275text"](24),i["\u0275\u0275pipe"](25,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](16),i["\u0275\u0275property"]("ngForOf",e.eventGroupTrainers),i["\u0275\u0275advance"](8),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](25,2,e.trainersSubTotalCost))}}function Rl(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr",28),i["\u0275\u0275elementStart"](1,"td",29),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",30),i["\u0275\u0275element"](4,"img",50),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",31),i["\u0275\u0275elementStart"](6,"a",44),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"]().showEventBreakdown(n,"contactID","Delegates")}),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"td",30),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"td",30),i["\u0275\u0275text"](11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"td",30),i["\u0275\u0275text"](13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,a=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",e.profilePhoto?a.blobUrl+"256px/"+e.profilePhoto:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate2"](" ",e.firstName?e.firstName:"Unspecified Delegate"," ",e.surname," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.hourlyRateDelegate),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalAddedHours),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.hourlyRateDelegate*e.totalAddedHours)}}function Nl(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",61),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.name," ")}}function $l(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",61),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Gl(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",61),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Wl(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",61),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Ul(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",61),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.divisioniD),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.division," ")}}function zl(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",61),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e.departmentID),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.department," ")}}function Jl(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",51),i["\u0275\u0275elementStart"](1,"label",52),i["\u0275\u0275text"](2,"Date From"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",53),i["\u0275\u0275elementStart"](4,"select",54),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onMonthFromSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.fromMonthID=t}),i["\u0275\u0275template"](5,Nl,2,2,"option",55),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"select",56),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().fromYearSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.fromYearID=t}),i["\u0275\u0275template"](7,$l,2,2,"option",55),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",51),i["\u0275\u0275elementStart"](9,"label",57),i["\u0275\u0275text"](10,"Date To"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",53),i["\u0275\u0275elementStart"](12,"select",58),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onMonthToSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.toMonthID=t}),i["\u0275\u0275template"](13,Gl,2,2,"option",55),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"select",59),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onYearToSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.toYearID=t}),i["\u0275\u0275template"](15,Wl,2,2,"option",55),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",51),i["\u0275\u0275elementStart"](17,"select",60),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onDivisionSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.divisionID=t}),i["\u0275\u0275elementStart"](18,"option",61),i["\u0275\u0275text"](19,"All Divisions"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](20,Ul,2,2,"option",55),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"div",51),i["\u0275\u0275elementStart"](22,"select",62),i["\u0275\u0275listener"]("change",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onDepartmentSelect()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().filterParams.departmentID=t}),i["\u0275\u0275elementStart"](23,"option",61),i["\u0275\u0275text"](24,"All Departments"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](25,zl,2,2,"option",55),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",e.filterParams.fromMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.filterParams.fromYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.years),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",e.filterParams.toMonthID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.months),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.filterParams.toYearID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.years),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.filterParams.divisionID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.divisions),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.filterParams.departmentID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngValue",0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.departments)}}function Hl(e,t){}function ql(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",63),i["\u0275\u0275elementStart"](1,"div",64),i["\u0275\u0275elementStart"](2,"div",65),i["\u0275\u0275elementStart"](3,"div",66),i["\u0275\u0275elementStart"](4,"h3"),i["\u0275\u0275text"](5,"Filters"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",67),i["\u0275\u0275template"](7,Hl,0,0,"ng-template",68),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){i["\u0275\u0275nextContext"]();const e=i["\u0275\u0275reference"](84);i["\u0275\u0275advance"](7),i["\u0275\u0275property"]("ngTemplateOutlet",e)}}function Xl(e,t){}function Kl(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",69),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div"),i["\u0275\u0275elementStart"](3,"span",3),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.isMobileFilteringOn=!t.isMobileFilteringOn}),i["\u0275\u0275element"](4,"i",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"h1",70),i["\u0275\u0275text"](6,"Filtering"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",71),i["\u0275\u0275template"](8,Xl,0,0,"ng-template",68),i["\u0275\u0275elementStart"](9,"div",72),i["\u0275\u0275elementStart"](10,"button",73),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.isMobileFilteringOn=!t.isMobileFilteringOn}),i["\u0275\u0275text"](11," Done"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){i["\u0275\u0275nextContext"]();const e=i["\u0275\u0275reference"](84);i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("ngTemplateOutlet",e)}}const Ql=function(e){return{"d-none":e}},Zl=n("2BfV"),ei=n("Tos5"),ti=n("M8aS"),ni=n("zF3M");Zl(y.a),ei(y.a),ti(y.a),ni(y.a);let ai=(()=>{class e{constructor(e,t,n,a,r,o){this.dashboardService=e,this.userService=t,this.router=n,this.modalService=a,this.contactService=r,this.dashboardDataService=o,this.programs=[],this.instances=[],this.unfilteredData=[],this.today=new Date,this.filterParams={fromMonthID:(new Date).getMonth(),fromYearID:(new Date).getFullYear(),toMonthID:(new Date).getMonth()+1,toYearID:(new Date).getFullYear(),programID:0,programInstanceID:0,divisionID:0,departmentID:0},this.years=[],this.months=Ot.a.create(),this.blobUrl=Q.a.apiBlobUrl+"/",this.divisions=[],this.eventsGroupByPeopleCount=[],this.departments=[],this.delegateData=[],this.eventData=[],this.isMobileScreen=!1,this.isMobileFilteringOn=!1,this.financialData=[],this.delegatesSubTotalCost=0,this.trainersSubTotalCost=0,this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID,this.onLoadResposiveCheck()}onLoadResposiveCheck(){this.isMobileScreen=window.innerWidth<1060}onResize(e){this.isMobileScreen=e.target.innerWidth<1060}ngOnInit(){4092!==this.companyID&&this.router.navigate(["dashboard"]),this.userService.ecosystemNavigation.next(!0),this.generateDateFilters(),this.isPreserveCache=!1,this.dashboardDataService.isPreserveCache.subscribe(e=>{if(this.isPreserveCache=e,this.isPreserveCache){const e=localStorage.getItem("dashboardFilter");null!==e&&(this.filterParams=JSON.parse(e)),this.initDivisions(),this.initDepartments()}else this.initDivisions(),this.initDepartments()})}generateDateFilters(){for(let e=this.filterParams.fromYearID-5;e<=this.filterParams.toYearID+5;++e)this.years.push({name:e,value:e})}initDivisions(){this.contactService.getAllDivision(this.companyID).subscribe(e=>{console.log("Divisions: ",e),this.divisions=e,this.getEvents()})}initDepartments(){this.contactService.getAllDepartment(this.filterParams.divisionID).subscribe(e=>{console.log("Departments: ",e),this.departments=e})}onDivisionSelect(){this.getEvents(),this.initDepartments()}onDepartmentSelect(){this.getEvents()}onInstanceSelect(){this.getEvents()}onMonthFromSelect(){this.getEvents()}fromYearSelect(){this.filterParams.fromYearID>this.filterParams.toYearID&&(this.filterParams.toYearID=this.filterParams.fromYearID),this.getEvents()}onMonthToSelect(){this.getEvents()}onYearToSelect(){this.getEvents()}getEvents(){this.eventLoading=!0;let e=localStorage.getItem("dashboardFilter"),t=[];this.dashboardService.getCachedEnterpriseEventDetails().subscribe(e=>{t=e});let n=Cn()(this.filterParams,JSON.parse(e));null===t||!1===n?this.retrieveDataThroughAPI():(this.eventData||this.loadDashboard(t),this.eventLoading=!1),localStorage.setItem("dashboardFilter",JSON.stringify(this.filterParams))}retrieveDataThroughAPI(){const e=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),t=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0),n=Object(x.a)(e),a=Object(x.a)(t);this.dashboardService.getEnterpriseEventDetails(this.companyID,0,0,0,0,0,n,a,0,0,0,0).subscribe(e=>{this.dashboardService.setCachedEnterpriseEventDetails(e),!0!==this.isPreserveCache&&this.dashboardDataService.setIsPreserveCacheState(!0),this.loadDashboard(e)})}loadDashboard(e){const t=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),n=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0),a=Object(x.a)(t),r=Object(x.a)(n);e=e.filter(e=>e.startDate>=a&&e.endDate<=r),0!==this.filterParams.divisionID&&(e=e.filter(e=>e.divisionID===this.filterParams.divisionID)),0!==this.filterParams.departmentID&&(e=e.filter(e=>e.departmentID===this.filterParams.departmentID)),this.persistentLiveSnapshot||(this.persistentLiveSnapshot=JSON.parse(JSON.stringify(e))),this.unfilteredData=e,this.eventData=Object(x.j)(Object(x.l)(e),"eventID"),this.financialData=e,this.delegateData=Object(x.j)(Object(x.l)(e),"eventDelegateID"),this.generateCostChart(this.financialData),this.generateEventDelegatesChart(this.delegateData),this.generateExecutiveSummary(),this.generateCostSummary()}generateExecutiveSummary(){this.excutiveSummary={trained:[],event:[],spending:[]},Object(x.j)(this.delegateData,"internal",!1).forEach(e=>{const t=this.delegateData.filter(t=>t.internal===e.internal&&2!==t.eventFormatID);this.excutiveSummary.trained.push({name:!0===e.internal?"Internal":"External",y:t.length,data:t})});const e={name:"eLearning",y:this.delegateData.filter(e=>2===e.eventFormatID).length};this.excutiveSummary.trained.push(e),Object(x.j)(this.eventData,"internal",!1).forEach(e=>{const t=this.eventData.filter(t=>t.internal===e.internal&&2!==t.eventFormatID);this.excutiveSummary.event.push({name:!0===e.internal?"Internal":"External",y:t.length,data:t})});const t={name:"eLearning",y:this.eventData.filter(e=>2===e.eventFormatID).length,data:this.eventData.filter(e=>2===e.eventFormatID)};this.excutiveSummary.event.push(t),Object(x.j)(this.financialData,"internal",!1).forEach(e=>{const t=this.financialData.filter(t=>t.internal===e.internal&&2!==t.eventFormatID),n=t.reduce((e,t)=>e+(t.totalCost||0),0),a={name:!0===e.internal?"Internal":"External",y:Math.round(100*n)/100,data:t};this.excutiveSummary.spending.push(a)});const n=this.financialData.filter(e=>2===e.eventFormatID).reduce((e,t)=>e+(t.totalCost||0),0),a={name:"eLearning",y:Number(Math.round(100*n)/100),data:this.financialData.filter(e=>2===e.eventFormatID)};this.excutiveSummary.spending.push(a),console.log("EXECUTIVE Summary: ",this.excutiveSummary)}generateCostSummary(){this.costSummary={facility:[],trainer:[],courseWare:[],courseFee:[],travel:[],salary:[],certificates:[]},Object(x.j)(this.financialData,"internal",!1).forEach(e=>{let t=this.financialData.filter(t=>t.internal===e.internal),n=0;t.forEach(e=>{n+=e.totalSpentFacilities});let a=this.eventData.filter(t=>t.internal===e.internal);const r={name:!0===e.internal?"Internal":"External",y:Math.round(100*n)/100,data:a};this.costSummary.facility.push(r)}),Object(x.j)(this.financialData,"internal",!1).forEach(e=>{let t=this.financialData.filter(t=>t.internal===e.internal),n=0;t.forEach(e=>{n+=e.totalSpentTrainer});let a=this.eventData.filter(t=>t.internal===e.internal);const r={name:!0===e.internal?"Internal":"External",y:Math.round(100*n)/100,data:a};this.costSummary.trainer.push(r)}),Object(x.j)(this.financialData,"internal",!1).forEach(e=>{let t=this.financialData.filter(t=>t.internal===e.internal),n=0;t.forEach(e=>{n+=e.totalSpentCourseWare});let a=this.eventData.filter(t=>t.internal===e.internal);const r={name:!0===e.internal?"Internal":"External",y:Math.round(100*n)/100,data:a};this.costSummary.courseWare.push(r)}),Object(x.j)(this.financialData,"internal",!1).forEach(e=>{let t=this.financialData.filter(t=>t.internal===e.internal),n=0;t.forEach(e=>{n+=e.totalSpentCourseFees});let a=this.eventData.filter(t=>t.internal===e.internal);const r={name:!0===e.internal?"Internal":"External",y:Math.round(100*n)/100,data:a};this.costSummary.courseFee.push(r)}),Object(x.j)(this.financialData,"internal",!1).forEach(e=>{let t=this.financialData.filter(t=>t.internal===e.internal),n=0;t.forEach(e=>{n+=e.totalSpentTravel});let a=this.eventData.filter(t=>t.internal===e.internal);const r={name:!0===e.internal?"Internal":"External",y:Math.round(100*n)/100,data:a};this.costSummary.travel.push(r)}),Object(x.j)(this.financialData,"internal",!1).forEach(e=>{let t=this.financialData.filter(t=>t.internal===e.internal),n=0;t.forEach(e=>{n+=e.totalSpentCertificates});let a=this.eventData.filter(t=>t.internal===e.internal);const r={name:!0===e.internal?"Internal":"External",y:Math.round(100*n)/100,data:a};this.costSummary.certificates.push(r)}),Object(x.j)(this.financialData,"internal",!1).forEach(e=>{let t=this.financialData.filter(t=>t.internal===e.internal),n=0;t.forEach(e=>{n+=e.totalDelegateSalary});let a=this.financialData.filter(t=>t.internal===e.internal);const r={name:!0===e.internal?"Internal":"External",y:Math.round(100*n)/100,data:a};this.costSummary.salary.push(r)}),console.log("Cost breakdown: ",this.costSummary)}generateCostChart(e){console.log("Enterprise event cost data: ",e);let t=[];const n=new Date(this.filterParams.fromYearID,this.filterParams.fromMonthID-1,1),a=new Date(this.filterParams.toYearID,this.filterParams.toMonthID,0);let r=Object(x.h)(n,a);for(let s=1;s<=r+1;s++){const e=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-s,1),n=this.months[e.getMonth()];t.push({monthID:e.getMonth()+1,yearID:e.getFullYear(),title:`${n.yy}-${e.getFullYear().toString().substr(-2)}`})}t=t.reverse();const o={chart:{type:"column",height:300},title:{text:""},xAxis:{categories:t.map(e=>e.title),gridLineWidth:0,title:"Month",labels:{enabled:!0},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:y.a.defaultOptions.title.style&&y.a.defaultOptions.title.style.color||"gray"}}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0}}},series:[]};0===r&&(o.plotOptions.column.stacking="");let l=[],i=JSON.parse(JSON.stringify(this.divisions));i.push({division:"Unspecified",divisioniD:null}),i.forEach(e=>{const t={type:"column",name:e.division,data:[],dataLabels:{enabled:!1},point:{events:{click:(function(e){const t=e.point;this.showEventBreakdownModal(t.category,t.divisions)}).bind(this)}},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0}}},series:[]};l.push(t)}),t.forEach(t=>{i.forEach(n=>{const a=e.filter(e=>{const a=new Date(e.startDate).getMonth()+1,r=new Date(e.startDate).getFullYear();return a===t.monthID&&r===t.yearID&&e.divisionID===n.divisioniD});let r=0;a.forEach(e=>{r+=e.totalSpent}),l.filter(e=>e.name===n.division)[0].data.push({divisions:a,y:Math.round(100*r)/100,count:a.length,totalCost:Math.round(100*r)/100})})}),l.forEach(e=>{let n=0;for(let a=0;a<t.length;a++)0===e.data[a].divisions.length&&n++;n<t.length&&o.series.push(e)}),this.costChart=y.a.chart("costChart",o),this.totalEventGroupedForCost=this.financialData.filter(e=>{const n=new Date(e.startDate).getMonth()+1,a=new Date(e.startDate).getFullYear();return t.some(e=>e.yearID===a&&n===e.monthID)}),this.totalEventGroupedForCostAmount=0,this.totalEventGroupedForCost.forEach(e=>{this.totalEventGroupedForCostAmount+=e.totalSpent}),this.generateCostPerCategoryBar(e),this.eventLoading=!1}generateEventDelegatesChart(e){console.log("Enterprise event delegates data: ",e);let t=[];for(let s=1;s<=13;s++){const e=new Date(this.filterParams.toYearID,this.filterParams.toMonthID-s,1),n=this.months[e.getMonth()];t.push({monthID:e.getMonth()+1,yearID:e.getFullYear(),title:`${n.name}(${e.getFullYear()})`})}t=t.reverse();const n={chart:{type:"column",height:300},title:{text:""},xAxis:{categories:t.map(e=>e.title),gridLineWidth:0,title:!1,labels:{enabled:!1},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:y.a.defaultOptions.title.style&&y.a.defaultOptions.title.style.color||"gray"}}},yAxis:{title:!1,labels:{enabled:!1},gridLineWidth:1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0}}},series:[]};let a=[],r=JSON.parse(JSON.stringify(this.divisions));r.push({division:"Unspecified",divisioniD:null}),r.forEach(e=>{const t={type:"column",name:e.division,data:[],dataLabels:{enabled:!1},point:{events:{click:(function(e){const t=e.point;this.showEventBreakdownModal(t.category,t.divisions)}).bind(this)}}};a.push(t)}),t.forEach(t=>{r.forEach(n=>{const r=e.filter(e=>{const a=new Date(e.startDate).getMonth()+1,r=new Date(e.startDate).getFullYear();return a===t.monthID&&r===t.yearID&&e.divisionID===n.divisioniD});a.filter(e=>e.name===n.division)[0].data.push({divisions:r,y:r.length})})}),a.forEach(e=>{let t=0;for(let n=0;n<13;n++)0===e.data[n].divisions.length&&t++;t<13&&n.series.push(e)}),this.totalDelegates=e.filter(e=>{const n=new Date(e.startDate).getMonth()+1,a=new Date(e.startDate).getFullYear();return t.some(e=>e.yearID===a&&n===e.monthID)}).length;const o=[];Object(x.j)(Object(x.l)(this.eventData),"trainerName").forEach(e=>{e.totalAddedHours=0;let t=this.eventData.filter(t=>t.trainerName===e.trainerName);e.totalCount=this.eventData.filter(t=>t.trainerName===e.trainerName).length,t.forEach(t=>{e.totalAddedHours+=t.totalMinutes/60}),o.push(e)}),this.eventGroupTrainers=JSON.parse(JSON.stringify(o)),o.forEach(e=>{this.trainersSubTotalCost+=e.hourlyRateTrainer*e.totalAddedHours});const l=[];Object(x.j)(Object(x.l)(this.eventData),"provider").forEach(e=>{e.totalAddedCost=0;let t=this.eventData.filter(t=>t.provider===e.provider);e.totalCount=this.eventData.filter(t=>t.providerID===e.providerID).length,t.forEach(t=>{e.totalAddedCost+=t.totalSpent}),e.totalAddedCost=Math.round(e.totalAddedCost),l.push(e)}),this.eventGroupProviders=JSON.parse(JSON.stringify(l));const i=[];this.financialData.forEach(e=>{e.totalAddedHours=0;let t=this.financialData.filter(t=>t.eventDelegateID===e.eventDelegateID);e.totalCount=this.financialData.filter(t=>t.eventDelegateID===e.eventDelegateID).length,t.forEach(t=>{e.totalAddedHours+=t.totalMinutes/60}),e.totalAddedHours=Math.round(e.totalAddedHours),i.push(e)}),this.eventGroupDelegates=JSON.parse(JSON.stringify(i)),i.forEach(e=>{this.delegatesSubTotalCost+=e.hourlyRateDelegate*e.totalAddedHours}),this.generateRaceChart(e),this.generateGenderChart(e),this.delegateLoading=!1}generateRaceChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.racePieSeries={name:"Count",colorByPoint:!0,data:[]},this.costByRacePieSeries={name:"Cost",colorByPoint:!0,data:[],point:{events:{click:(function(e){const t=e.point;this.showEventBreakdownModalByDivision(t.name,t.data)}).bind(this)}}},Object(x.j)(e,"race",!1).forEach(t=>{const n={name:t.race||"Not Specified",y:e.filter(e=>e.race===t.race).length};this.racePieSeries.data.push(n);let a=this.financialData.filter(e=>e.race===t.race),r=0;a.forEach(e=>{r+=e.totalSpent});const o={name:t.race||"Not Specified",y:Math.round(100*r)/100,totalCost:Math.round(100*r)/100,data:a};this.costByRacePieSeries.data.push(o)}),[].push(this.racePieSeries),t.series.push(this.costByRacePieSeries),this.costPerRaceChart=y.a.chart("costRace",t)}generateGenderChart(e){const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.genderPieSeries={name:"Count",colorByPoint:!0,data:[]},this.costByGenderPieSeries={name:"Cost",colorByPoint:!0,data:[],point:{events:{click:(function(e){const t=e.point;this.showEventBreakdownModalByDivision(t.name,t.data)}).bind(this)}}},Object(x.j)(e,"gender",!1).forEach(t=>{const n={name:t.gender||"Not Specified",y:e.filter(e=>e.gender===t.gender).length};this.genderPieSeries.data.push(n);let a=this.eventData.filter(e=>e.gender===t.gender),r=0;a.forEach(e=>{r+=e.totalSpent});const o={name:t.gender||"Not Specified",y:Math.round(100*r)/100,totalCost:Math.round(100*r)/100,data:a};this.costByGenderPieSeries.data.push(o)}),[].push(this.genderPieSeries),t.series.push(this.costByGenderPieSeries),this.costPerGenderChart=y.a.chart("costGender",t)}generateCostPerCategoryBar(e){const t={chart:{type:"bar"},title:{text:""},yAxis:{min:0,title:{text:"Cost"}},xAxis:{categories:[]},legend:{reversed:!0},tooltip:{formatter:function(){return"Count: "+this.key+" <br/>Count:<strong>"+this.point.options.count+"</strong><br/>Cost: <strong>R "+this.point.options.totalCost+"</strong>"}},plotOptions:{series:{stacking:"normal",showInLegend:!1}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}};this.costPerCategoryPieSeries={name:"Count",colorByPoint:!0,data:[],point:{events:{click:(function(e){const t=e.point;this.showEventBreakdownModal(t.category,t.data)}).bind(this)}}},Object(x.j)(e,"courseCategory",!1).forEach(n=>{let a=e.filter(e=>e.courseCategory===n.courseCategory),r=0;a.forEach(e=>{r+=e.totalSpent}),t.xAxis.categories.push(n.courseCategory);const o={name:n.courseCategory||"Not Specified",y:Math.round(100*r)/100,count:a.length,totalCost:Math.round(100*r)/100,data:a};this.costPerCategoryPieSeries.data.push(o)}),t.series.push(this.costPerCategoryPieSeries),this.categoryChart=y.a.chart("costByCategoryChart",t)}showEventBreakdown(e,t,n=""){let a={title:"",data:[],entity:"events",keyProperty:t},r=[];"contactID"===t?(a.title=`Events joined by ${e.firstName} ${e.surname}`,r=this.delegateData.filter(n=>n[t]===e[t])):(a.title=e[t]?"Events conducted by "+e[t]:"Events conducted",r=this.eventData.filter(n=>n[t]===e[t])),a.data=r,a.entity=n,this.dashboardDataService.setData(a),this.router.navigate(["/dashboard/event-monthly"])}showCostBreakdown(e,t,n=""){const a={title:"",data:[],entity:"events",keyProperty:t};a.title="Events",a.data=e,a.entity=n,this.dashboardDataService.setData(a),this.router.navigate(["/dashboard/breakdown-monthly"])}showEventBreakdownModal(e,t){const n=this.modalService.open(In,{size:"xl"});n.componentInstance.title=e,n.componentInstance.data=t,n.componentInstance.entity="events"}showEventBreakdownModalByDivision(e,t){const n=this.modalService.open(In,{size:"xl"});n.componentInstance.title=e,n.componentInstance.data=t,n.componentInstance.entity="divisions",n.componentInstance.divisions=this.divisions}back(){this.router.navigate(["/dashboard/enterprise-dashboard"])}ngOnDestroy(){this.userService.ecosystemNavigation.next(!1)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](I.a),i["\u0275\u0275directiveInject"](s.a),i["\u0275\u0275directiveInject"](r.d),i["\u0275\u0275directiveInject"](ye.p),i["\u0275\u0275directiveInject"](Te.a),i["\u0275\u0275directiveInject"](Mn))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-enterprise-cost"]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("resize",function(e){return t.onResize(e)},!1,i["\u0275\u0275resolveWindow"])},decls:87,vars:26,consts:[[1,"w-100",3,"avnonLoader","ngClass"],[1,"page-title","d-flex","justify-content-between"],[1,"d-flex","align-items-center"],[1,"cursor-pointer","text-primary","display-inline","mr-2",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline","mb-0"],["class","actions",4,"ngIf"],[1,"modal-fixed-height"],["class","table",4,"ngIf"],[1,"col-12","d-flex","flex-column","filter-container","border-top","mt-3"],[1,"col-12","d-flex","flex-column","filter-container","border-bottom","border-top","border-top"],[1,"col-12","mb-3"],["id","costChart",1,"chart"],[1,"row","px-4"],[1,"col-lg-9","col-md-9","col-sm-12"],[1,"w-100","d-flex"],[1,"w-50","p-1"],[1,"w-100"],[1,"text-center","w-100"],["id","costRace",1,"pie","w-100"],["class","w-100",4,"ngIf"],["id","costGender",1,"pie","w-100"],[1,"col-lg-12","col-md-12","col-sm-12","d-flex","flex-column","p-1"],[1,"text-center"],["id","costByCategoryChart",1,"pie","w-100"],["class","col-12 d-flex flex-column filter-container border-top mt-3",4,"ngIf"],["class","modal-fixed-height",4,"ngIf"],[1,"table"],[1,"d-flex"],[1,"col-1"],[1,"col-2"],[1,"col-3"],["class","d-flex",4,"ngFor","ngForOf"],[1,"col-7"],["Filter",""],["class","col-auto filter-section",4,"ngIf"],["class","d-flex flex-column w-100",4,"ngIf"],[1,"actions"],[1,"dropdown"],["type","button","id","dd1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-30"],[1,"ico","dots-ico"],["aria-labelledby","dd1",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,""],[3,"click"],[1,"modal-fixed-height--20vh"],[1,"table","table--legend"],[1,"col-4"],[1,"col-8"],[1,"col-5"],["alt","network",1,"avatar","avatar-48","contain-avatar",3,"src"],[1,"form-group"],["for","dateFrom"],[1,"input-group"],["id","dateFrom","name","fromMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["name","fromYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],["for","dateTo"],["id","dateTo","name","toMonthID",1,"w-auto","form-control","form-control-sm","mr-1",3,"ngModel","change","ngModelChange"],["name","toYearID",1,"w-auto","form-control","form-control-sm","ml-1",3,"ngModel","change","ngModelChange"],["name","divisionID",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],[3,"ngValue"],["name","departmentID",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],[1,"col-auto","filter-section"],[1,"sticky-container","d-flex","flex-column"],[1,"card"],[1,"card-header"],[1,"card-body","pb-0"],[3,"ngTemplateOutlet"],[1,"d-flex","flex-column","w-100"],[1,"display-inline"],[1,"filter-container"],[1,"text-right"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"span",3),i["\u0275\u0275listener"]("click",function(){return t.back()}),i["\u0275\u0275element"](4,"i",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"h1",5),i["\u0275\u0275text"](6,"Cost Dashboard"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div"),i["\u0275\u0275template"](8,Pl,8,0,"div",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",7),i["\u0275\u0275template"](10,Ml,60,20,"table",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",9),i["\u0275\u0275elementStart"](12,"h3"),i["\u0275\u0275text"](13,"Cost Summary"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"div",7),i["\u0275\u0275template"](15,wl,139,72,"table",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",10),i["\u0275\u0275elementStart"](17,"h3"),i["\u0275\u0275text"](18,"Total Cost"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"span"),i["\u0275\u0275text"](20),i["\u0275\u0275pipe"](21,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"div",11),i["\u0275\u0275element"](23,"div",12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"div",13),i["\u0275\u0275elementStart"](25,"div",14),i["\u0275\u0275elementStart"](26,"div",15),i["\u0275\u0275elementStart"](27,"div",16),i["\u0275\u0275elementStart"](28,"div",17),i["\u0275\u0275elementStart"](29,"label",18),i["\u0275\u0275text"](30,"Cost By Race"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](31,"div",19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](32,Fl,5,1,"div",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](33,"div",16),i["\u0275\u0275elementStart"](34,"div",17),i["\u0275\u0275elementStart"](35,"label",18),i["\u0275\u0275text"](36,"Cost By Gender"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](37,"div",21),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](38,kl,5,1,"div",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](39,"div",22),i["\u0275\u0275elementStart"](40,"label",23),i["\u0275\u0275text"](41,"Cost by Category"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](42,"div",24),i["\u0275\u0275template"](43,Bl,5,1,"div",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](44,Yl,5,2,"div",25),i["\u0275\u0275template"](45,Ll,15,1,"div",26),i["\u0275\u0275elementStart"](46,"div",9),i["\u0275\u0275elementStart"](47,"h3"),i["\u0275\u0275text"](48,"Trainers"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](49,"span"),i["\u0275\u0275text"](50),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](51,_l,26,4,"div",26),i["\u0275\u0275elementStart"](52,"div",9),i["\u0275\u0275elementStart"](53,"h3"),i["\u0275\u0275text"](54,"Delegates"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](55,"span"),i["\u0275\u0275text"](56),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](57,"div",7),i["\u0275\u0275elementStart"](58,"table",27),i["\u0275\u0275elementStart"](59,"tbody"),i["\u0275\u0275elementStart"](60,"tr",28),i["\u0275\u0275elementStart"](61,"th",29),i["\u0275\u0275text"](62,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](63,"th",30),i["\u0275\u0275text"](64,"Profile"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](65,"th",31),i["\u0275\u0275text"](66,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](67,"th",30),i["\u0275\u0275text"](68,"Hourly Rate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](69,"th",30),i["\u0275\u0275text"](70,"Total Hours"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](71,"th",30),i["\u0275\u0275text"](72,"Total Cost (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](73,Rl,14,7,"tr",32),i["\u0275\u0275elementStart"](74,"tr",28),i["\u0275\u0275element"](75,"td",33),i["\u0275\u0275elementStart"](76,"td",31),i["\u0275\u0275elementStart"](77,"strong"),i["\u0275\u0275text"](78,"Subtotal"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](79,"td",30),i["\u0275\u0275elementStart"](80,"strong"),i["\u0275\u0275text"](81),i["\u0275\u0275pipe"](82,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](83,Jl,26,14,"ng-template",null,34,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](85,ql,8,1,"div",35),i["\u0275\u0275template"](86,Kl,12,1,"div",36)),2&e&&(i["\u0275\u0275property"]("avnonLoader",t.loading||t.eventLoading)("ngClass",i["\u0275\u0275pureFunction1"](24,Ql,t.isMobileFilteringOn)),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("ngIf",t.isMobileScreen),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.excutiveSummary),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",t.costSummary),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" R ",i["\u0275\u0275pipeBind1"](21,20,t.totalEventGroupedForCostAmount)," "),i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngIf",t.costByRacePieSeries),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",t.costByGenderPieSeries),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",t.costPerCategoryPieSeries),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.eventGroupProviders&&t.eventGroupProviders.length>0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.eventGroupProviders&&t.eventGroupProviders.length>0),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate2"](" ",null==t.eventGroupTrainers?null:t.eventGroupTrainers.length," ",(null==t.eventGroupTrainers?null:t.eventGroupTrainers.length)>1?"Trainers":"Trainer"," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.eventGroupTrainers&&t.eventGroupTrainers.length>0),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate2"](" ",null==t.eventGroupDelegates?null:t.eventGroupDelegates.length," ","Delegates"," "),i["\u0275\u0275advance"](17),i["\u0275\u0275property"]("ngForOf",t.eventGroupDelegates),i["\u0275\u0275advance"](8),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](82,22,t.delegatesSubTotalCost)),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",!0!==t.isMobileScreen),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isMobileFilteringOn))},directives:[C.a,a.l,a.n,a.m,P.B,P.q,P.t,P.v,P.D,a.r],pipes:[a.f],styles:[".entry-content[_ngcontent-%COMP%]{padding-left:85px!important;padding-bottom:10px}h3[_ngcontent-%COMP%]{margin-bottom:0}a[_ngcontent-%COMP%]:hover{text-decoration:underline!important}.v-collapsed[_ngcontent-%COMP%]{visibility:hidden}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:0!important;padding:.25rem 1rem}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#f0f3ff;cursor:pointer}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:0;padding:.15rem 1rem}.table--legend[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{color:#333;font-size:12px;font-weight:700;fill:#333}.table--legend[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#333;font-size:12px}"]}),e})();function ri(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",11),i["\u0275\u0275elementStart"](1,"td",12),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",13),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",13),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td",12),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"td",14),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"td",14),i["\u0275\u0275text"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"td",14),i["\u0275\u0275text"](14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"td",14),i["\u0275\u0275text"](16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"td",14),i["\u0275\u0275text"](18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"td",14),i["\u0275\u0275text"](20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"td",14),i["\u0275\u0275text"](22),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.courseTitle?e.courseTitle:"Unspecified"," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.startDate," - ",e.endDate,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalMinutes/60),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentFacilities||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentTrainer||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.hourlyRateTrainer||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentCourseWare||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentCourseFees||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentTravel||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpent||0)}}function oi(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",9),i["\u0275\u0275elementStart"](1,"table",10),i["\u0275\u0275elementStart"](2,"tbody"),i["\u0275\u0275elementStart"](3,"tr",11),i["\u0275\u0275elementStart"](4,"th",12),i["\u0275\u0275text"](5,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",13),i["\u0275\u0275text"](7,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",13),i["\u0275\u0275text"](9,"Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",12),i["\u0275\u0275text"](11,"Hours"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"th",14),i["\u0275\u0275text"](13,"Facilities (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"th",14),i["\u0275\u0275text"](15,"Trainer (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"th",14),i["\u0275\u0275text"](17,"Rate per Hour"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"th",14),i["\u0275\u0275text"](19,"Courseware (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"th",14),i["\u0275\u0275text"](21,"Course Fees (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"th",14),i["\u0275\u0275text"](23,"Travel (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"th",14),i["\u0275\u0275text"](25,"Total Spent(R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](26,ri,23,12,"tr",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](26),i["\u0275\u0275property"]("ngForOf",e.eventGroup)}}function li(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"span",3),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().back()}),i["\u0275\u0275element"](4,"i",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"h1",5),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",6),i["\u0275\u0275elementStart"](8,"p",7),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,oi,27,1,"div",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](e.dashboardData.title),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",null==e.eventGroup?null:e.eventGroup.length," events "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.eventGroup&&e.eventGroup.length>0)}}function ii(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",11),i["\u0275\u0275elementStart"](1,"td",12),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",12),i["\u0275\u0275element"](4,"img",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",16),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td",14),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"td",14),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"td",14),i["\u0275\u0275text"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,a=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",e.profilePhoto?a.blobUrl+"256px/"+e.profilePhoto:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.trainerName?e.trainerName:"Unspecified Trainer"," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.hourlyRateTrainer||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalAddedHours),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.hourlyRateTrainer*e.totalAddedHours)}}function si(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",9),i["\u0275\u0275elementStart"](1,"table",10),i["\u0275\u0275elementStart"](2,"tbody"),i["\u0275\u0275elementStart"](3,"tr",11),i["\u0275\u0275elementStart"](4,"th",12),i["\u0275\u0275text"](5,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",12),i["\u0275\u0275text"](7,"Profile"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",16),i["\u0275\u0275text"](9,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",14),i["\u0275\u0275text"](11,"Hourly Rate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"th",14),i["\u0275\u0275text"](13,"Total Hours"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"th",14),i["\u0275\u0275text"](15,"Total Cost (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](16,ii,13,6,"tr",15),i["\u0275\u0275elementStart"](17,"tr",11),i["\u0275\u0275element"](18,"td",17),i["\u0275\u0275elementStart"](19,"td",14),i["\u0275\u0275elementStart"](20,"strong"),i["\u0275\u0275text"](21,"Sub-total"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"td",14),i["\u0275\u0275elementStart"](23,"strong"),i["\u0275\u0275text"](24),i["\u0275\u0275pipe"](25,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](16),i["\u0275\u0275property"]("ngForOf",e.eventGroup),i["\u0275\u0275advance"](8),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](25,2,e.trainersSubTotalCost))}}function mi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"span",3),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().back()}),i["\u0275\u0275element"](4,"i",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"h1",5),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",6),i["\u0275\u0275elementStart"](8,"p",7),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,si,26,4,"div",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](e.dashboardData.title),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate2"](" ",null==e.eventGroup?null:e.eventGroup.length," ",e.dashboardData.entity," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.eventGroup&&e.eventGroup.length>0)}}function ci(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",11),i["\u0275\u0275elementStart"](1,"td",12),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",14),i["\u0275\u0275element"](4,"img",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",16),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td",14),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"td",14),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"td",14),i["\u0275\u0275text"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,a=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("src",e.profilePhoto?a.blobUrl+"256px/"+e.profilePhoto:"assets/img/card-placeholder.jpg",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"](" ",e.firstName?e.firstName:"Unspecified Delegate"," ",e.surname," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.hourlyRateDelegate),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalAddedHours),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.hourlyRateDelegate*e.totalAddedHours)}}function di(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",20),i["\u0275\u0275elementStart"](1,"table",10),i["\u0275\u0275elementStart"](2,"tbody"),i["\u0275\u0275elementStart"](3,"tr",11),i["\u0275\u0275elementStart"](4,"th",12),i["\u0275\u0275text"](5,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",14),i["\u0275\u0275text"](7,"Profile"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",16),i["\u0275\u0275text"](9,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",14),i["\u0275\u0275text"](11,"Hourly Rate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"th",14),i["\u0275\u0275text"](13,"Total Hours"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"th",14),i["\u0275\u0275text"](15,"Total Cost (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](16,ci,13,7,"tr",15),i["\u0275\u0275elementStart"](17,"tr",11),i["\u0275\u0275element"](18,"td",21),i["\u0275\u0275elementStart"](19,"td",14),i["\u0275\u0275elementStart"](20,"strong"),i["\u0275\u0275text"](21,"Subtotal"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"td",14),i["\u0275\u0275elementStart"](23,"strong"),i["\u0275\u0275text"](24),i["\u0275\u0275pipe"](25,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](16),i["\u0275\u0275property"]("ngForOf",e.eventGroup),i["\u0275\u0275advance"](8),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](25,2,e.delegatesSubTotalCost))}}function pi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"span",3),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().back()}),i["\u0275\u0275element"](4,"i",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"h1",5),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",6),i["\u0275\u0275elementStart"](8,"p",7),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,di,26,4,"div",19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](e.dashboardData.title),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate2"](" ",null==e.eventGroup?null:e.eventGroup.length," ",e.dashboardData.entity," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.eventGroup&&e.eventGroup.length>0)}}function ui(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr",11),i["\u0275\u0275elementStart"](1,"td",12),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",14),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",14),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td",12),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"td",14),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"td",14),i["\u0275\u0275text"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"td",14),i["\u0275\u0275text"](14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"td",14),i["\u0275\u0275text"](16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"td",14),i["\u0275\u0275text"](18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"td",14),i["\u0275\u0275text"](20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n+1),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.courseTitle?e.courseTitle:"Unspecified"," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.startDate," - ",e.endDate,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalMinutes/60),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentFacilities||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentTrainer||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentCourseWare||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentCourseFees||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpentTravel||0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.totalSpent||0)}}function hi(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",20),i["\u0275\u0275elementStart"](1,"table",10),i["\u0275\u0275elementStart"](2,"tbody"),i["\u0275\u0275elementStart"](3,"tr",11),i["\u0275\u0275elementStart"](4,"th",12),i["\u0275\u0275text"](5,"#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"th",14),i["\u0275\u0275text"](7,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",14),i["\u0275\u0275text"](9,"Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"th",12),i["\u0275\u0275text"](11,"Hours"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"th",14),i["\u0275\u0275text"](13,"Facilities"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"th",14),i["\u0275\u0275text"](15,"Trainer"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"th",14),i["\u0275\u0275text"](17,"Course Ware"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"th",14),i["\u0275\u0275text"](19,"Course Fees"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"th",14),i["\u0275\u0275text"](21,"Travel"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"th",14),i["\u0275\u0275text"](23,"Total Spent (R)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](24,ui,21,11,"tr",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](24),i["\u0275\u0275property"]("ngForOf",e.eventGroup)}}function gi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"span",3),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().back()}),i["\u0275\u0275element"](4,"i",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"h1",5),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",22),i["\u0275\u0275elementStart"](8,"span",23),i["\u0275\u0275element"](9,"img",24),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"h2",25),i["\u0275\u0275elementStart"](11,"a"),i["\u0275\u0275text"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"span",26),i["\u0275\u0275text"](14," Industry "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"div",6),i["\u0275\u0275elementStart"](16,"p",7),i["\u0275\u0275text"](17),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](18,hi,25,1,"div",19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](e.dashboardData.title),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate1"](" ",e.eventGroup[0].provider," "),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",null==e.eventGroup?null:e.eventGroup.length," events "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.eventGroup&&e.eventGroup.length>0)}}let fi=(()=>{class e{constructor(e,t){this.dashboardDataService=e,this.location=t,this.blobUrl=Q.a.apiBlobUrl+"/",this.totalSpentTrainer=0,this.trainersSubTotalCost=0,this.delegatesSubTotalCost=0}ngOnInit(){this.dashboardDataService.data.subscribe(e=>{console.log("\ud83d\ude80 > DashboardEventsMonthlyDetailsComponent > this.dashboardDataService.data.subscribe > data",e),this.dashboardData=e,this.keyProperty=this.dashboardData.keyProperty,this.eventGroup=this.dashboardData.data;let t=this.dashboardData.data;if("Trainers"===this.dashboardData.entity){const e=[];Object(x.j)(Object(x.l)(t),"trainerName").forEach(n=>{n.totalAddedHours=0;let a=t.filter(e=>e.trainerName===n.trainerName);n.totalCount=t.filter(e=>e.trainerName===n.trainerName).length,a.forEach(e=>{n.totalAddedHours+=e.totalMinutes/60}),e.push(n)}),this.eventGroup=JSON.parse(JSON.stringify(e)),e.forEach(e=>{this.trainersSubTotalCost+=e.hourlyRateTrainer*e.totalAddedHours})}else if("Delegates"===this.dashboardData.entity){const e=[];Object(x.j)(Object(x.l)(t),"eventDelegateID").forEach(n=>{n.totalAddedHours=0;let a=t.filter(e=>e.eventDelegateID===n.eventDelegateID);n.totalCount=t.filter(e=>e.eventDelegateID===n.eventDelegateID).length,a.forEach(e=>{n.totalAddedHours+=e.totalMinutes/60}),n.totalAddedHours=Math.round(n.totalAddedHours),e.push(n)}),this.eventGroup=JSON.parse(JSON.stringify(e)),e.forEach(e=>{this.delegatesSubTotalCost+=e.hourlyRateDelegate*e.totalAddedHours})}})}back(){this.location.back()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Mn),i["\u0275\u0275directiveInject"](a.j))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-cost-breakdown-by-entity"]],decls:4,vars:4,consts:[[4,"ngIf"],[1,"d-flex","flex-column","w-100"],[1,"page-title"],[1,"cursor-pointer","text-primary","display-inline","mr-2",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline"],[1,"profile-overview","pb-0","pt-0","mt-0"],[1,"p-23","mb-2"],["class","table-wrapper--110",4,"ngIf"],[1,"table-wrapper--110"],[1,"table"],[1,"d-flex"],[1,"col-1"],[1,"col-4"],[1,"col-2"],["class","d-flex",4,"ngFor","ngForOf"],[1,"col-3"],[1,"col-7"],["alt","network",1,"avatar","avatar-48","contain-avatar",3,"src"],["class","table-wrapper--175",4,"ngIf"],[1,"table-wrapper--175"],[1,"col-8"],[1,"entry","border-none"],[1,"media","avatar","avatar-48","avatar-48-square"],["src","assets/img/placeholder.jpg","alt","Avatar",1,"img-fluid","img-48"],[1,"mt-1"],[1,"meta"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,li,11,3,"ng-container",0),i["\u0275\u0275template"](1,mi,11,4,"ng-container",0),i["\u0275\u0275template"](2,pi,11,4,"ng-container",0),i["\u0275\u0275template"](3,gi,19,4,"ng-container",0)),2&e&&(i["\u0275\u0275property"]("ngIf",t.eventGroup&&t.dashboardData&&"Events"===(null==t.dashboardData?null:t.dashboardData.entity)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.eventGroup&&t.dashboardData&&"Trainers"===(null==t.dashboardData?null:t.dashboardData.entity)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.eventGroup&&t.dashboardData&&"Delegates"===(null==t.dashboardData?null:t.dashboardData.entity)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.eventGroup&&t.dashboardData&&"Providers"===(null==t.dashboardData?null:t.dashboardData.entity)))},directives:[a.n,a.m],pipes:[a.f],styles:["thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:0!important;padding:.25rem 1rem}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#f0f3ff;cursor:pointer}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:0;padding:.15rem 1rem}.table-wrapper--110[_ngcontent-%COMP%]{height:calc(100vh - 110px);overflow-y:auto}.table-wrapper--175[_ngcontent-%COMP%]{height:calc(100vh - 175px);overflow-y:auto}"]}),e})();const vi=[{path:"",component:f,children:[{path:"",component:J},{path:"reports",component:K},{path:"financials",component:ie},{path:"financials/:companyID",component:Se},{path:"job-creation",component:ke},{path:"job-creation/:companyID",component:_e},{path:"transactions",component:et},{path:"portfolio",component:wt},{path:"applicants",component:un},{path:"event",component:pa},{path:"enterprise-dashboard",component:Br},{path:"enterprise-event",component:Ao},{path:"enterprise-delegates",component:Cl},{path:"enterprise-cost",component:ai},{path:"subsidies",component:(()=>{class e{constructor(e,t,n){this.userService=e,this.location=t,this.taskService=n,this.total=0,this.user=this.userService.user.getValue(),this.companyID=this.user.companyID,this.contactID=this.user.contactID}ngOnInit(){this.userService.ecosystemNavigation.next(!0),this.getSubsidies()}getSubsidies(){this.loading=!0,this.taskService.getTask(0,39,0,0,this.companyID,0,0,0).subscribe(e=>{this.total=e.reduce((e,t)=>e+(t.taskBudget||t.taskValue||0),0);const t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",height:200,margin:[0,0,0,0],spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"100%",cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!1,center:["50%","50%"]}},series:[],responsive:{rules:[{condition:{maxWidth:420}}]}},n={name:"Category",colorByPoint:!0,data:[]};Object(x.j)(e,"taskClassificationID",!1).forEach(t=>{const a={name:1===t.taskClassificationID?"Legal Services":2===t.taskClassificationID?"Basic Accounting Services":"Financial Audit",y:e.filter(e=>e.taskClassificationID===t.taskClassificationID).reduce((e,t)=>e+(t.taskBudget||t.taskValue||0),0)};n.data.push(a)}),t.series.push(n),this.chart=S.chart("chart",t),this.loading=!1})}back(){this.location.back()}ngOnDestroy(){this.userService.ecosystemNavigation.next(!1)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](s.a),i["\u0275\u0275directiveInject"](a.j),i["\u0275\u0275directiveInject"](E.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dashboard-subsidies"]],decls:15,vars:8,consts:[[1,"d-flex","flex-column","w-100",3,"avnonLoader"],[1,"page-title"],[1,"cursor-pointer","text-primary","display-inline","mr-2",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline"],[1,"col-12","d-flex","flex-column","filter-container","border-bottom"],[1,"col-12"],["id","chart",1,"chart"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"span",2),i["\u0275\u0275listener"]("click",function(){return t.back()}),i["\u0275\u0275element"](3,"i",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"h1",4),i["\u0275\u0275text"](5,"Subsidies Dashboard"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",5),i["\u0275\u0275elementStart"](7,"h3"),i["\u0275\u0275text"](8,"Subsidies by category"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"span"),i["\u0275\u0275text"](10),i["\u0275\u0275pipe"](11,"userCurrency"),i["\u0275\u0275pipe"](12,"number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",6),i["\u0275\u0275element"](14,"div",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("avnonLoader",t.loading),i["\u0275\u0275advance"](10),i["\u0275\u0275textInterpolate2"](" ",i["\u0275\u0275pipeBind1"](11,3,""),"",i["\u0275\u0275pipeBind2"](12,5,t.total,"1.2-2")," allocated "))},directives:[C.a],pipes:[M.a,a.f],styles:[""]}),e})()},{path:"reports/:id",component:Ja}]},{path:"event-monthly",component:lr},{path:"breakdown-monthly",component:fi},{path:"trainer-monthly",component:cr}];let Si=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.h.forChild(vi)],r.h]}),e})();var yi=n("j4PG"),xi=n("pr+S"),Di=n("GKkB"),Ei=n("Unjc"),Ii=n("4Ptv"),bi=n("4TQh");let Ci=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[I.a,Ei.a],imports:[[a.c,Si,yi.a,P.l,P.z,ye.q,xi.a,Di.a,ye.h,ye.F,Ii.a,bi.a]]}),e})()},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},Z0cm:function(e,t){e.exports=Array.isArray},Z8oC:function(e,t,n){var a=n("y1pI");e.exports=function(e,t){var n=this.__data__,r=a(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},adU4:function(e,t,n){var a=n("y1pI"),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=a(t,e);return!(n<0||(n==t.length-1?t.pop():r.call(t,n,1),--this.size,0))}},b80T:function(e,t,n){var a=n("UNi/"),r=n("03A+"),o=n("Z0cm"),l=n("DSRE"),i=n("wJg7"),s=n("c6wG"),m=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&r(e),d=!n&&!c&&l(e),p=!n&&!c&&!d&&s(e),u=n||c||d||p,h=u?a(e.length,String):[],g=h.length;for(var f in e)!t&&!m.call(e,f)||u&&("length"==f||d&&("offset"==f||"parent"==f)||p&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||i(f,g))||h.push(f);return h}},c6wG:function(e,t,n){var a=n("dD9F"),r=n("sEf8"),o=n("mdPL"),l=o&&o.isTypedArray,i=l?r(l):a;e.exports=i},dD9F:function(e,t,n){var a=n("NykK"),r=n("shjB"),o=n("ExA7"),l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&r(e.length)&&!!l[a(e)]}},e4Nc:function(e,t,n){var a=n("fGT3"),r=n("k+1r"),o=n("JHgL"),l=n("pSRY"),i=n("H8j4");function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}s.prototype.clear=a,s.prototype.delete=r,s.prototype.get=o,s.prototype.has=l,s.prototype.set=i,e.exports=s},e5cp:function(e,t,n){var a=n("fmRc"),r=n("or5M"),o=n("HDyB"),l=n("seXi"),i=n("QqLw"),s=n("Z0cm"),m=n("DSRE"),c=n("c6wG"),d="[object Arguments]",p="[object Array]",u="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,f,v){var S=s(e),y=s(t),x=S?p:i(e),D=y?p:i(t),E=(x=x==d?u:x)==u,I=(D=D==d?u:D)==u,b=x==D;if(b&&m(e)){if(!m(t))return!1;S=!0,E=!1}if(b&&!E)return v||(v=new a),S||c(e)?r(e,t,n,g,f,v):o(e,t,x,n,g,f,v);if(!(1&n)){var C=E&&h.call(e,"__wrapped__"),P=I&&h.call(t,"__wrapped__");if(C||P){var M=C?e.value():e,w=P?t.value():t;return v||(v=new a),f(M,w,n,g,v)}}return!!b&&(v||(v=new a),l(e,t,n,g,f,v))}},ebwN:function(e,t,n){var a=n("Cwc5")(n("Kz5y"),"Map");e.exports=a},ekgI:function(e,t,n){var a=n("YESw"),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return a?void 0!==t[e]:r.call(t,e)}},fGT3:function(e,t,n){var a=n("4kuk"),r=n("Xi7e"),o=n("ebwN");e.exports=function(){this.size=0,this.__data__={hash:new a,map:new(o||r),string:new a}}},"fR/l":function(e,t,n){var a=n("CH3K"),r=n("Z0cm");e.exports=function(e,t,n){var o=t(e);return r(e)?o:a(o,n(e))}},fmRc:function(e,t,n){var a=n("Xi7e"),r=n("77Zs"),o=n("L8xA"),l=n("gCq4"),i=n("VaNO"),s=n("0Cz8");function m(e){var t=this.__data__=new a(e);this.size=t.size}m.prototype.clear=r,m.prototype.delete=o,m.prototype.get=l,m.prototype.has=i,m.prototype.set=s,e.exports=m},ftKO:function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},gCq4:function(e,t){e.exports=function(e){return this.__data__.get(e)}},"k+1r":function(e,t,n){var a=n("QkVE");e.exports=function(e){var t=a(this,e).delete(e);return this.size-=t?1:0,t}},kekF:function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},lSCD:function(e,t,n){var a=n("NykK"),r=n("GoyQ");e.exports=function(e){if(!r(e))return!1;var t=a(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},ljhN:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},mdPL:function(e,t,n){(function(e){var a=n("WFqU"),r=t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,l=o&&o.exports===r&&a.process,i=function(){try{return o&&o.require&&o.require("util").types||l&&l.binding&&l.binding("util")}catch(e){}}();e.exports=i}).call(this,n("YuTi")(e))},nmnc:function(e,t,n){var a=n("Kz5y");e.exports=a.Symbol},or5M:function(e,t,n){var a=n("1hJj"),r=n("QoRX"),o=n("xYSL");e.exports=function(e,t,n,l,i,s){var m=1&n,c=e.length,d=t.length;if(c!=d&&!(m&&d>c))return!1;var p=s.get(e),u=s.get(t);if(p&&u)return p==t&&u==e;var h=-1,g=!0,f=2&n?new a:void 0;for(s.set(e,t),s.set(t,e);++h<c;){var v=e[h],S=t[h];if(l)var y=m?l(S,v,h,t,e,s):l(v,S,h,e,t,s);if(void 0!==y){if(y)continue;g=!1;break}if(f){if(!r(t,function(e,t){if(!o(f,t)&&(v===e||i(v,e,n,l,s)))return f.push(t)})){g=!1;break}}else if(v!==S&&!i(v,S,n,l,s)){g=!1;break}}return s.delete(e),s.delete(t),g}},pSRY:function(e,t,n){var a=n("QkVE");e.exports=function(e){return a(this,e).has(e)}},qZTm:function(e,t,n){var a=n("fR/l"),r=n("MvSz"),o=n("7GkX");e.exports=function(e){return a(e,o,r)}},rEGp:function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},rdQE:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n("AytR"),r=n("fXoL"),o=n("tk/3");let l=(()=>{class e{constructor(e){this.http=e,this.BaseURI=a.a.apiUrl}getCompanyAccount(e,t,n,a=0,r=0){return this.http.get(`${this.BaseURI}/company/account?companyID=${e}&companyAccountID=${t}&companyLocationID=${n}&companyAccountCategoryID=${a}&referenceID=${r}`)}addCompanyAccount(e){return this.http.post(this.BaseURI+"/company/account",e)}updateCompanyAccount(e){return this.http.put(this.BaseURI+"/company/account",e)}deleteCompanyAccount(e){return this.http.delete(`${this.BaseURI}/company/account/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](o.b))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},sEf8:function(e,t){e.exports=function(e){return function(t){return e(t)}}},seXi:function(e,t,n){var a=n("qZTm"),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,l,i){var s=1&n,m=a(e),c=m.length;if(c!=a(t).length&&!s)return!1;for(var d=c;d--;){var p=m[d];if(!(s?p in t:r.call(t,p)))return!1}var u=i.get(e),h=i.get(t);if(u&&h)return u==t&&h==e;var g=!0;i.set(e,t),i.set(t,e);for(var f=s;++d<c;){var v=e[p=m[d]],S=t[p];if(o)var y=s?o(S,v,p,t,e,i):o(v,S,p,e,t,i);if(!(void 0===y?v===S||l(v,S,n,o,i):y)){g=!1;break}f||(f="constructor"==p)}if(g&&!f){var x=e.constructor,D=t.constructor;x==D||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof D&&D instanceof D||(g=!1)}return i.delete(e),i.delete(t),g}},shjB:function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},tMB7:function(e,t,n){var a=n("y1pI");e.exports=function(e){var t=this.__data__,n=a(t,e);return n<0?void 0:t[n][1]}},tadb:function(e,t,n){var a=n("Cwc5")(n("Kz5y"),"DataView");e.exports=a},u8Dt:function(e,t,n){var a=n("YESw"),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(a){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},"wF/u":function(e,t,n){var a=n("e5cp"),r=n("ExA7");e.exports=function e(t,n,o,l,i){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:a(t,n,o,l,e,i))}},wJg7:function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var a=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==a||"symbol"!=a&&n.test(e))&&e>-1&&e%1==0&&e<t}},xYSL:function(e,t){e.exports=function(e,t){return e.has(t)}},y1pI:function(e,t,n){var a=n("ljhN");e.exports=function(e,t){for(var n=e.length;n--;)if(a(e[n][0],t))return n;return-1}},yGk4:function(e,t,n){var a=n("Cwc5")(n("Kz5y"),"Set");e.exports=a}}]);