(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{sSaZ:function(e,t,n){"use strict";n.d(t,"a",function(){return V});var i=n("ofXK"),s=n("z3iz"),r=n("LRne"),a=n("cp0P"),o=n("Kj3r"),c=n("/uUt"),m=n("lJxs"),l=n("eIep"),d=n("JIr8"),p=n("AytR"),h=n("4CJs"),u=n("dmN6"),g=n("VgRj"),f=n("3DXX"),D=n("Wgwc"),I=n("BN3N"),y=n("fXoL"),b=n("k9EJ"),v=n("euQB"),S=n("1kSV"),M=n("kmKP"),E=n("rdQE"),A=n("9nlD"),x=n("S2+F"),C=n("XAmU"),N=n("5eHb"),O=n("xDUJ"),w=n("WhH8"),F=n("1bi4"),T=n("Hu2X"),L=n("Jn3s"),P=n("3Pt+"),R=n("sYmb"),$=n("SdWN");function j(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span",38),y["\u0275\u0275element"](1,"img",39),y["\u0275\u0275pipe"](2,"avatar"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"div",40),y["\u0275\u0275element"](4,"ngb-highlight",41),y["\u0275\u0275elementEnd"]()),2&e){const e=t.result,n=t.term;y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("src",y["\u0275\u0275pipeBind1"](2,3,e.profilePhoto),y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("result",e.firstName+" "+e.surname)("term",n)}}function B(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",42),y["\u0275\u0275elementStart"](1,"span"),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("","COMMON.NO-RESULTS"," -"))}function k(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span",43),y["\u0275\u0275element"](1,"img",44),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"div",40),y["\u0275\u0275element"](3,"ngb-highlight",41),y["\u0275\u0275elementEnd"]()),2&e){const e=t.result,n=t.term,i=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("src",e.logoURL?i.blobUrl+e.logoURL:i.defaultLogo,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("result",e.companyName)("term",n)}}function H(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",42),y["\u0275\u0275elementStart"](1,"span"),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("","COMMON.NO-RESULTS"," -"))}function U(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",32),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;y["\u0275\u0275property"]("ngValue",e.companyAccountID),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("",e.accountName," ")}}let V=(()=>{class e{constructor(e,t,n,i,a,h,g,f,D,I,y,b,v){this.contractService=e,this.portfolioService=t,this.ngbActiveModal=n,this.userService=i,this.companyAccountService=a,this.notificationService=h,this.signalRService=g,this.discussionService=f,this.toastrService=D,this.formService=I,this.contactService=y,this.distributionService=b,this.companyService=v,this.contracts=[],this.contractAssignment=new s.b,this.mentors=[],this.blobUrl=p.a.apiBlobUrl+"/",this.defaultLogo="/assets/img/card-placeholder.jpg",this.accounts=[],this.forms=[],this.mentorForm=new u.a,this.menteeForm=new u.a,this.initialForms=[],this.mentorInputFilter=e=>e.firstName+" "+e.surname,this.menteeInputFilter=e=>e.companyName,this.mentorSearch=e=>e.pipe(Object(o.a)(300),Object(c.a)(),Object(m.a)(e=>{let t=[];return""===e?[]:(t=this.mentors.filter(t=>(t.firstName+" "+t.surname).toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1),this.noMentors=0===t.length,t)})),this.menteeSearch=e=>e.pipe(Object(o.a)(300),Object(c.a)(),Object(l.a)(e=>this.companyService.getCompanyList(e,0).pipe(Object(d.a)(()=>Object(r.a)([]))))),this.user=this.userService.user.getValue(),this.contactID=this.user.contactID}ngOnInit(){this.companyID=this.user.companyID||0,this.masterCompanyID||(this.masterCompanyID=this.companyID),this.fillAccounts(),this.contractAssignment.contractAssignmentID?(this.getContract(),this.getFormTask()):(this.fillContract(),this.fillMentees()),this.getForms(),console.log("Passed in mentor:",this.mentor)}fillAccounts(){this.companyAccountService.getCompanyAccount(this.companyID,0,0).subscribe(e=>{this.accounts=e})}getContract(){this.contractLoading=!0,this.contractService.getContract(0,0,this.contractAssignment.contractID,0,0,0,0,0,0).subscribe(e=>{if(e[0]){this.contract=e[0];const t=new Date(this.contractAssignment.assignmentStartDate);this.startDateModel={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()};const n=new Date(this.contractAssignment.assignmentEndDate);this.endDateModel={year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate()},this.fillContract(),this.fillMentees()}this.contractLoading=!1})}fillContract(){this.contractMembersLoading=!0,this.contractService.getContract(0,0,0,0,0,0,0,0,this.companyID).subscribe(e=>{if(e.forEach(e=>{e.members[0].firstName&&this.mentors.push(e.members[0])}),this.contracts=e,this.contract&&this.contract.members.length>0&&this.contractAssignment.contractAssignmentID){const e=this.contract.members[0];this.mentor=this.mentors.find(t=>t.contactID===e.contactID)}!this.contractAssignment.contractAssignmentID&&this.contract&&(this.contractAssignment.hourlyRate=this.contract.contractRate),this.contractMembersLoading=!1})}fillMentees(){let e;this.portfolioLoading=!0,this.contractAssignment.contractAssignmentID?e=this.companyID:this.masterCompanyID&&(e=this.masterCompanyID),this.companyService.getCompanyProfile(e).subscribe(e=>{this.mentee=e,this.mentee&&this.onMenteeSelect(),this.portfolioLoading=!1})}onSubmit(){const e=this.contracts.findIndex(e=>e.members.filter(e=>e.contractMemberID===this.mentor.contractMemberID).length>0);if(-1===e)return void this.toastrService.warning("Contract not found");this.contract=this.contracts[e];const t="yyyy-MM-dd HH:mm:ss",n=new Date(this.startDateModel.year,this.startDateModel.month-1,this.startDateModel.day,0,0),s=new Date(this.endDateModel.year,this.endDateModel.month-1,this.endDateModel.day,0,0);if(n>=s)return void this.toastrService.warning("End Date must be later than the Start Date");const r="en-UK",a=Object(i.y)(n,t,r),o=Object(i.y)(s,t,r);this.contractAssignment.contractAssignmentCategoryID=1,this.contractAssignment.companyID=this.mentee.companyID,this.contractAssignment.referenceID=this.mentee.companyID,this.contractAssignment.contractID=this.contract.contractID,this.contractAssignment.assignedByID=this.contactID,this.contractAssignment.contactID=this.mentor.contactID,this.contractAssignment.assignmentStartDate=a,this.contractAssignment.assignmentEndDate=o,this.contractAssignment.hourlyRate=this.contract.contractRate,this.contractAssignment.maxAssignmentValue=this.contract.contractValue,this.contractAssignment.contractAssignmentID?this.update():(this.loading=!0,this.contractService.addContractAssignment(this.contractAssignment).subscribe(e=>{this.contractAssignmentID=e.inOut_ContractAssignmentID,this.mentorForm.deadlineDays=0,this.mentorForm.formCategoryID=10,this.mentorForm.referenceID=e.inOut_ContractAssignmentID,this.menteeForm.deadlineDays=0,this.menteeForm.formCategoryID=11,this.menteeForm.referenceID=e.inOut_ContractAssignmentID,this.createDiscussion(e.inOut_ContractAssignmentID)}))}onCancel(){this.ngbActiveModal.dismiss()}update(){this.loading=!0,this.contractService.updateContractAssignment(this.contractAssignment).pipe(Object(l.a)(()=>{const e=[];if(this.mentorForm.formTaskID){const t=this.initialForms.find(e=>10===e.formCategoryID);t&&t.formID!==this.mentorForm.formID&&e.push(this.formService.updateFormTask(this.mentorForm))}else this.mentorForm.referenceID=this.contractAssignment.contractAssignmentID,this.mentorForm.formCategoryID=10,this.mentorForm.deadlineDays=0,e.push(this.formService.insertFormTask(this.mentorForm));if(this.menteeForm.formTaskID){const t=this.initialForms.find(e=>11===e.formCategoryID);t&&t.formID!==this.menteeForm.formID&&e.push(this.formService.updateFormTask(this.menteeForm))}else this.menteeForm.referenceID=this.contractAssignment.contractAssignmentID,this.menteeForm.formCategoryID=11,this.menteeForm.deadlineDays=0,e.push(this.formService.insertFormTask(this.menteeForm));return e.length>0?Object(a.a)(e):Object(r.a)(e)})).subscribe(()=>{this.loading=!1,this.toastrService.success("Assignment has been updated"),this.ngbActiveModal.close({status:"success"})},()=>{this.loading=!1,this.toastrService.warning("Cannot update assignment")})}createDiscussion(e){const t=[this.contactID];t.includes(this.mentor.contactID)||t.push(this.mentor.contactID);const n=this.mentee.contacts[0];n.contactID&&!t.includes(n.contactID)&&t.push(n.contactID),this.discussionService.insertDiscussion({discussionTopic:`${this.mentee.companyName}, ${this.mentor.firstName} ${this.mentor.surname}`,discussionCategoryID:2,referenceID:e,isDirectMessage:!0,discussionCreatedByContactID:this.contactID,discussionBody:"",parentDiscussionID:0}).pipe(Object(l.a)(e=>{const i=[],s=`Hi ${n.firstName} ${n.surname}, I've allocated you to ${this.mentor.firstName} ${this.mentor.surname} who'll be mentoring you - please start chatting and set up your first session`;return i.push(this.discussionService.insertDiscussion({discussionTopic:s,discussionCategoryID:2,isDirectMessage:!0,discussionCreatedByContactID:this.contactID,discussionBody:s,parentDiscussionID:e.discussionID})),t.forEach(t=>{i.push(this.discussionService.addMember({discussionID:e.discussionID,contactID:t,isAdmin:!0}))}),Object(a.a)(i)})).subscribe(()=>{this.loading=!1,this.toastrService.success("Contract Assigned"),this.noticeMentee(),this.mentorInbox(),this.ngbActiveModal.close({status:"success"})},()=>{this.loading=!1,this.toastrService.warning("Cannot create discussion")})}noticeMentor(e){const t=`You've been assigned to mentor ${this.mentee.companyName}.`,n=g.a.fullDomain()+"/home?discussionID="+e,i=`\n\t\t\t<p>Hi ${this.mentor.firstName}</p>\n\t\t\t<p>${t.replace("|","")}</p>\n\t\t\t<p>Please click Review Agreement below to read through and accept the mentoring terms.</p>\n\t\t\t<p><span class="btn btn-primary" style="margin: 0; padding: 0"><a href="${n}">Review Agreement</a></span></p>\n\t\t\t<br>\n\t\t`,s={distributionTitle:"Mentoring Assignment: "+this.mentee.companyName,distributionCategoryID:null,referenceID:null,distributionDate:null,userID:this.contactID,emailBody:f.a.template(i),subjectLine:"Mentoring Assignment: "+this.mentee.companyName,senderEmail:"info@incubatorportal.com",senderName:`${this.user.firstName} ${this.user.surname}`,replyTo:null,contacts:[this.mentor.contactID]};this.distributionService.create(s).subscribe()}mentorInbox(){const e=[this.mentor.contactID];let t=0;this.discussionService.insertDiscussion({discussionTopic:"Mentoring Assignment: "+this.mentee.companyName,discussionCategoryID:115,isDirectMessage:!0,discussionCreatedByContactID:this.contactID,discussionBody:`<p>Hi ${this.mentor.firstName}</p><p><br></p><p>You've been assigned to mentor ${this.mentee.companyName}`,referenceID:this.contractAssignmentID,discussionValue:24}).pipe(Object(l.a)(n=>{t=n.inOut_DiscussionID;const i=[];return e.forEach(e=>{i.push(this.discussionService.addMember({discussionID:n.discussionID,contactID:e,isAdmin:!0}))}),Object(a.a)(i)})).subscribe(()=>{const n={date:D().format(I.c),body:`You've been assigned to mentor ${this.mentee.companyName}.`,topic:`You've been assigned to mentor ${this.mentee.companyName}.`,senderFullName:this.user.firstName+" "+this.user.surname,channel:"dashboard",reference:t,notificationType:h.a.discussionNotification,senderId:this.companyID,receivers:e};this.signalRService.transferMessage("dashboard",n),this.noticeMentor(t)})}noticeMentee(){const e=this.mentee.contacts[0],t=`${this.mentor.firstName} ${this.mentor.surname} has been assigned as your mentor`,n=g.a.fullDomain()+"/explore/people/"+this.mentor.contactID,i=`\n\t\t\t<p>Hi ${e.firstName}</p>\n\t\t\t<p>${t.replace("|","")}</p>\n\t\t\t<br>\n\t\t\t<p><span class="btn btn-primary" style="margin: 0; padding: 0"><a href="${n}">See Details</a></span></p>\n\t\t\t<br>\n\t\t`,s={distributionTitle:`Mentor Assigned: ${this.mentor.firstName} ${this.mentor.surname}`,distributionCategoryID:null,referenceID:null,distributionDate:null,userID:this.contactID,emailBody:f.a.template(i),subjectLine:`Mentor Assigned: ${this.mentor.firstName} ${this.mentor.surname}`,senderEmail:"info@incubatorportal.com",senderName:`${this.user.firstName} ${this.user.surname}`,replyTo:null,contacts:[e.contactID]};this.distributionService.create(s).subscribe(),this.menteeInbox()}menteeInbox(){const e=this.mentee.contacts[0],t=[e.contactID];let n=0;this.discussionService.insertDiscussion({discussionTopic:`Mentor Assigned: ${this.mentor.firstName} ${this.mentor.surname}`,discussionCategoryID:115,isDirectMessage:!0,discussionCreatedByContactID:this.contactID,discussionBody:`<p>Hi ${e.firstName}</p><p><br></p><p>${this.mentor.firstName} ${this.mentor.surname} has been assigned as your mentor</p>`,referenceID:this.contractAssignmentID,discussionValue:25}).pipe(Object(l.a)(e=>{n=e.inOut_DiscussionID;const i=[];return t.forEach(t=>{i.push(this.discussionService.addMember({discussionID:e.discussionID,contactID:t,isAdmin:!0}))}),Object(a.a)(i)})).subscribe(()=>{const e={date:D().format(I.c),body:`${this.mentor.firstName} ${this.mentor.surname} has been assigned as your mentor`,topic:`${this.mentor.firstName} ${this.mentor.surname} has been assigned as your mentor`,senderFullName:this.user.firstName+" "+this.user.surname,channel:"dashboard",reference:n,notificationType:h.a.discussionNotification,senderId:this.companyID,receivers:t};this.signalRService.transferMessage("dashboard",e)})}getForms(){this.formService.getForms(this.companyID,0,0).subscribe(e=>{this.forms=e})}getFormTask(){this.formService.getFormTask(this.contractAssignment.contractAssignmentID,0).subscribe(e=>{this.initialForms=e;const t=e.find(e=>10===e.formCategoryID),n=e.find(e=>11===e.formCategoryID);t&&(this.mentorForm=t),n&&(this.menteeForm=n)})}onMenteeSelect(){this.mentee&&this.mentee.companyID&&this.contactService.getContacts(this.mentee.companyID).subscribe(e=>{this.mentee.contacts=e})}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](b.a),y["\u0275\u0275directiveInject"](v.a),y["\u0275\u0275directiveInject"](S.a),y["\u0275\u0275directiveInject"](M.a),y["\u0275\u0275directiveInject"](E.a),y["\u0275\u0275directiveInject"](A.a),y["\u0275\u0275directiveInject"](x.a),y["\u0275\u0275directiveInject"](C.a),y["\u0275\u0275directiveInject"](N.b),y["\u0275\u0275directiveInject"](O.a),y["\u0275\u0275directiveInject"](w.a),y["\u0275\u0275directiveInject"](F.a),y["\u0275\u0275directiveInject"](T.a))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-contract-assignment"]],decls:83,vars:65,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",3,"avnonLoader"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group","position-relative"],["for","mentor"],["trainingProviderResults",""],["type","text","name","mentor","id","mentor","required","",1,"form-control",3,"placeholder","ngModel","ngbTypeahead","resultTemplate","inputFormatter","ngModelChange"],["class","w-100",4,"ngIf"],["for","mentee"],["menteeResult",""],["type","text","name","mentee","id","mentee","required","",1,"form-control",3,"placeholder","ngModel","ngbTypeahead","resultTemplate","inputFormatter","ngModelChange"],[1,"form-group"],[1,"input-group"],["placeholder","dd-mm-yyyy","name","startDate","required","","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange","click"],["startDatePicker","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text","bg-transparent",3,"click"],[1,"calendar-icon","icon-sm"],["placeholder","dd-mm-yyyy","name","endDate","required","","ngbDatepicker","",1,"form-control",3,"ngModel","minDate","ngModelChange","click"],["endDatePicker","ngbDatepicker"],["for","contractMinHoursMonth"],["type","text","name","contractMinHoursMonth","id","contractMinHoursMonth","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","contractMaxHoursMonth"],["type","text","name","contractMaxHoursMonth","id","contractMaxHoursMonth","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","hourlyRate"],["type","text","required","","name","hourlyRate","id","hourlyRate",1,"form-control",3,"ngModel","ngModelChange"],["for","companyAccountID"],["name","companyAccountID","id","companyAccountID","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","contractAssignmentDetail"],["type","text","name","contractAssignmentDetail","id","contractAssignmentDetail","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-right","pt-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"profile-img-cam"],["alt","Text",3,"src"],[1,"meta-data","d-flex","flex-column"],[3,"result","term"],[1,"w-100"],[1,"logo-cam"],["alt","Text",1,"img-fluid",3,"src"]],template:function(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275elementStart"](1,"h5",1),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"button",2),y["\u0275\u0275listener"]("click",function(){return t.onCancel()}),y["\u0275\u0275elementStart"](4,"span",3),y["\u0275\u0275text"](5,"\xd7"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"div",4),y["\u0275\u0275elementStart"](7,"form",5,6),y["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),y["\u0275\u0275elementStart"](9,"p"),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"div",7),y["\u0275\u0275elementStart"](13,"label",8),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](16,j,5,5,"ng-template",null,9,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275elementStart"](18,"input",10),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.mentor=e}),y["\u0275\u0275pipe"](19,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](20,B,3,1,"div",11),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](21,"div",7),y["\u0275\u0275elementStart"](22,"label",12),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](25,k,4,3,"ng-template",null,13,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275elementStart"](27,"input",14),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.mentee=e})("ngModelChange",function(){return t.onMenteeSelect()}),y["\u0275\u0275pipe"](28,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](29,H,3,1,"div",11),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"div",15),y["\u0275\u0275elementStart"](31,"label"),y["\u0275\u0275text"](32),y["\u0275\u0275pipe"](33,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](34,"div",16),y["\u0275\u0275elementStart"](35,"input",17,18),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.startDateModel=e})("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275reference"](36).toggle()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](37,"div",19),y["\u0275\u0275elementStart"](38,"span",20),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275reference"](36).toggle()}),y["\u0275\u0275element"](39,"span",21),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](40,"div",15),y["\u0275\u0275elementStart"](41,"label"),y["\u0275\u0275text"](42),y["\u0275\u0275pipe"](43,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](44,"div",16),y["\u0275\u0275elementStart"](45,"input",22,23),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.endDateModel=e})("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275reference"](46).toggle()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](47,"div",19),y["\u0275\u0275elementStart"](48,"span",20),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275reference"](46).toggle()}),y["\u0275\u0275element"](49,"span",21),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](50,"div",15),y["\u0275\u0275elementStart"](51,"label",24),y["\u0275\u0275text"](52),y["\u0275\u0275pipe"](53,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](54,"input",25),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.contractAssignment.minHours=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](55,"div",15),y["\u0275\u0275elementStart"](56,"label",26),y["\u0275\u0275text"](57),y["\u0275\u0275pipe"](58,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](59,"input",27),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.contractAssignment.maxHours=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](60,"div",15),y["\u0275\u0275elementStart"](61,"label",28),y["\u0275\u0275text"](62),y["\u0275\u0275pipe"](63,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](64,"input",29),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.contractAssignment.hourlyRate=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](65,"div",15),y["\u0275\u0275elementStart"](66,"label",30),y["\u0275\u0275text"](67),y["\u0275\u0275pipe"](68,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](69,"select",31),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.contractAssignment.companyAccountID=e}),y["\u0275\u0275elementStart"](70,"option",32),y["\u0275\u0275text"](71),y["\u0275\u0275pipe"](72,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](73,U,2,2,"option",33),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](74,"div",15),y["\u0275\u0275elementStart"](75,"label",34),y["\u0275\u0275text"](76),y["\u0275\u0275pipe"](77,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](78,"textarea",35),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.contractAssignment.contractAssignmentDetail=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](79,"div",36),y["\u0275\u0275elementStart"](80,"button",37),y["\u0275\u0275text"](81),y["\u0275\u0275pipe"](82,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](8),n=y["\u0275\u0275reference"](17),i=y["\u0275\u0275reference"](26);y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",null!=t.contractAssignment&&t.contractAssignment.contractAssignmentID?"Edit Contract Assignment":"Add Contract Assignment"," "),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("avnonLoader",t.portfolioLoading||t.contractMembersLoading||t.loading||t.contractLoading),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,37,"PEOPLE.COMPLETE-THE MENTORING-ASSIGNMENT-INFO")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](15,39,"PEOPLE.MENTOR")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("placeholder",y["\u0275\u0275pipeBind1"](19,41,"PEOPLE.MENTOR"))("ngModel",t.mentor)("ngbTypeahead",t.mentorSearch)("resultTemplate",n)("inputFormatter",t.mentorInputFilter),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",t.noMentors),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](24,43,"PEOPLE.MENTEE-COMPANY")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("placeholder",y["\u0275\u0275pipeBind1"](28,45,"PEOPLE.MENTOR"))("ngModel",t.mentee)("ngbTypeahead",t.menteeSearch)("resultTemplate",i)("inputFormatter",t.menteeInputFilter),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",t.noMentee),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](33,47,"PEOPLE.ASSIGNMENT-START-DATE")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngModel",t.startDateModel),y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](43,49,"PEOPLE.ASSIGNMENT-END-DATE")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngModel",t.endDateModel)("minDate",t.startDateModel),y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](53,51,"PEOPLE.MIN-HOURS-PER-MONTH")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",t.contractAssignment.minHours),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](58,53,"PEOPLE.MAX-HOURS-PER-MONTH"),"Max hours per month (if applicable)"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",t.contractAssignment.maxHours),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](63,55,"PEOPLE.HOURLY-RATE")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",t.contractAssignment.hourlyRate),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](68,57,"PEOPLE.MASTER-BUDGET-ACCOUNT")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",t.contractAssignment.companyAccountID),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngValue",null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("-- ",y["\u0275\u0275pipeBind1"](72,59,"COMMON.PLEASE-SELECT")," --"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",t.accounts),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](77,61,"PEOPLE.MENTORING-FOCUS-AREA")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",t.contractAssignment.contractAssignmentDetail),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("disabled",!e.valid||t.loading||t.contractMembersLoading||t.portfolioLoading||t.contractLoading),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](82,63,"COMMON.SUBMIT")," ")}},directives:[L.a,P.E,P.r,P.s,P.b,S.E,P.A,P.q,P.t,i.n,S.o,P.B,P.v,P.D,i.m,S.n],pipes:[R.c,$.a],styles:[".form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ed0012}  ngb-typeahead-window{width:100%;overflow-y:auto;max-height:380px}  ngb-typeahead-window .dropdown-item{display:flex;align-items:center}  ngb-typeahead-window .dropdown-item .logo-cam{width:64px;height:64px;display:flex;align-items:center}  ngb-typeahead-window .dropdown-item .logo-cam img{max-width:64px;max-height:64px;border-radius:3px}  ngb-typeahead-window .dropdown-item .profile-img-cam{width:32px;height:32px;display:flex;align-items:center}  ngb-typeahead-window .dropdown-item .profile-img-cam img{max-width:32px;max-height:32px;border-radius:3px}  ngb-typeahead-window .dropdown-item .meta-data{display:flex;flex-direction:column;margin-left:12px}.modal-body[_ngcontent-%COMP%]{max-height:74vh;overflow-y:auto;overflow-x:hidden}"]}),e})()}}]);