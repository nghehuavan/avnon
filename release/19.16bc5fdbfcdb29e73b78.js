(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"f+9o":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("fXoL"),i=n("tk/3");let o=(()=>{class e{constructor(e){this.http=e,this.BaseURI="https://api.incubatorportal.com/api"}getCompanyTrainingPlan(e,t,n,r,i,o,a){return this.http.get(this.BaseURI+"/training/plan?masterCompanyID="+e+"&companyID="+t+"&contactID="+n+"&courseID="+r+"&periodID="+i+"&referenceID="+o+"&trainingPlanCategoryID="+a)}insertTrainingPlan(e){return this.http.post(this.BaseURI+"/training/plan",e)}updateTrainingPlan(e){return this.http.put(this.BaseURI+"/training/plan",e)}deleteTrainingPlan(e){return this.http.delete(`${this.BaseURI}/training/plan/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](i.b))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},wr0u:function(e,t,n){"use strict";n.r(t),n.d(t,"CourseModule",function(){return se});var r=n("ofXK"),i=n("3Pt+"),o=n("tyNb"),a=n("AytR"),s=n("fXoL"),c=n("hpld"),l=n("Jn3s");function u(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",12),s["\u0275\u0275elementStart"](1,"div",13),s["\u0275\u0275element"](2,"img",14),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]().$implicit,t=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("src",e.courseBanner?t.apiBlobUrl+"512px/"+e.courseBanner:"assets/img/program-banner.jpg",s["\u0275\u0275sanitizeUrl"])}}function d(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",9),s["\u0275\u0275listener"]("click",function(){s["\u0275\u0275restoreView"](e);const n=t.$implicit;return s["\u0275\u0275nextContext"]().showCourseProfile(n)}),s["\u0275\u0275elementStart"](1,"h2"),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"p"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"p",10),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](7,u,3,1,"div",11),s["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.courseTitle),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.courseCategory),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.courseIntroduction),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==e?null:e.courseBanner)}}let m=(()=>{class e{constructor(e,t,n){this.courseService=e,this.router=t,this.location=n,this.companyID=+localStorage.getItem("CID"),this.courses=[],this.apiBlobUrl=a.a.apiBlobUrl+"/"}ngOnInit(){this.fillCourses()}fillCourses(){this.loading=!0,this.courseService.getCourses(this.companyID).subscribe(e=>{this.courses=e,this.loading=!1})}addCourse(){this.router.navigate(["courses/add"])}showCourseProfile(e){this.router.navigate(["courses/profile",e.courseID])}goBack(){this.location.back()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](c.a),s["\u0275\u0275directiveInject"](o.c),s["\u0275\u0275directiveInject"](r.j))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-courses"]],decls:13,vars:3,consts:[[3,"avnonLoader"],[1,"page-title"],[1,"cursor-pointer","text-primary","display-inline","mr-2",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline"],[1,"filter-container","d-flex","w-100","align-items-center","border-bottom"],[1,"ml-auto","cursor-pointer",3,"click"],[1,"plus-ico-2"],["class","entry",3,"click",4,"ngFor","ngForOf"],[1,"entry",3,"click"],[1,"mt-2"],["class","entry-content",4,"ngIf"],[1,"entry-content"],[1,"entry-media"],[1,"img-fluid",3,"src"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"span",2),s["\u0275\u0275listener"]("click",function(){return t.goBack()}),s["\u0275\u0275element"](3,"i",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"h1",4),s["\u0275\u0275text"](5,"Courses"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",5),s["\u0275\u0275elementStart"](7,"span"),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"a",6),s["\u0275\u0275listener"]("click",function(){return t.addCourse()}),s["\u0275\u0275element"](10,"span",7),s["\u0275\u0275text"](11,"Add "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](12,d,8,4,"div",8),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("avnonLoader",t.loading),s["\u0275\u0275advance"](8),s["\u0275\u0275textInterpolate1"]("There are ",t.courses.length," course(s)"),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngForOf",t.courses))},directives:[l.a,r.m,r.n],styles:[".course-container[_ngcontent-%COMP%]{margin-top:55px;min-height:calc(100vh - 55px)}"]}),e})();var p=n("OzGw"),f=n("kmKP"),v=n("1kSV");const g=function(e){return["/courses/profile",e]},h=function(){return{exact:!0}},I=function(e){return["/courses/profile",e,"history"]},C=function(e){return["/courses/profile",e,"plan"]},S=function(e){return["/courses/profile",e,"documents"]};let y=(()=>{class e{constructor(e,t,n,r,i){this.userService=e,this.router=t,this.courseService=n,this.modal=r,this.location=i,this.blobUrl=a.a.apiBlobUrl+"/",this.user=this.userService.user.getValue(),this.contactID=this.user.contactID,this.companyID=this.user.companyID}ngOnInit(){}delete(){const e=this.modal.open(p.a);e.componentInstance.objectType="Course",e.componentInstance.objectDetails=this.course.courseTitle+" Course",e.result.then(e=>{"Yes"===e&&this.courseService.deleteCourse(this.course.courseID).subscribe(()=>{this.router.navigate(["/courses"])})})}edit(){this.router.navigate(["/course/edit",this.course.companyID])}back(){this.location.back()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](f.a),s["\u0275\u0275directiveInject"](o.c),s["\u0275\u0275directiveInject"](c.a),s["\u0275\u0275directiveInject"](v.p),s["\u0275\u0275directiveInject"](r.j))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-course-header"]],inputs:{course:"course"},decls:47,vars:24,consts:[[1,"page-title"],[1,"cursor-pointer","text-primary","display-inline","mr-2",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline"],[1,"entry","border-none"],[1,"media","avatar","avatar-48","avatar-48-square"],["alt","Avatar",1,"img-fluid","img-48",3,"src"],[1,"mt-1"],[1,"meta"],[1,"bottom-actions","d-flex","justify-content-end","align-items-center"],[1,"actions"],[1,"dropdown"],["type","button","id","dd1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-30","mr-3","mt-3"],[1,"ico","dots-ico","dots-ico--gray"],["aria-labelledby","dd1",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"profile-overview","pb-0","pt-0","mt-0"],[1,"p-23"],[1,"icon-list","pl-3","pr-3","mt-3"],[1,"text-muted","other","mt-2","mr-4"],[1,"fas","fa-list-alt","mr-1"],[1,"tabs"],[1,"nav","nav-fill","justify-content-center"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink","routerLinkActiveOptions"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275elementStart"](1,"div",0),s["\u0275\u0275elementStart"](2,"span",1),s["\u0275\u0275listener"]("click",function(){return t.back()}),s["\u0275\u0275element"](3,"i",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"h1",3),s["\u0275\u0275text"](5,"Course"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",4),s["\u0275\u0275elementStart"](7,"span",5),s["\u0275\u0275element"](8,"img",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"h2",7),s["\u0275\u0275elementStart"](10,"a"),s["\u0275\u0275text"](11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"span",8),s["\u0275\u0275text"](13," Industry "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"div",9),s["\u0275\u0275elementStart"](15,"div",10),s["\u0275\u0275elementStart"](16,"div",11),s["\u0275\u0275elementStart"](17,"button",12),s["\u0275\u0275element"](18,"span",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"ul",14),s["\u0275\u0275elementStart"](20,"li"),s["\u0275\u0275elementStart"](21,"a",15),s["\u0275\u0275listener"]("click",function(){return t.edit()}),s["\u0275\u0275text"](22,"Edit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"li"),s["\u0275\u0275elementStart"](24,"a",15),s["\u0275\u0275listener"]("click",function(){return t.delete()}),s["\u0275\u0275text"](25,"Delete"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"div",16),s["\u0275\u0275elementStart"](27,"p",17),s["\u0275\u0275text"](28),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](29,"div",18),s["\u0275\u0275elementStart"](30,"span",19),s["\u0275\u0275element"](31,"i",20),s["\u0275\u0275text"](32),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](33,"div",21),s["\u0275\u0275elementStart"](34,"ul",22),s["\u0275\u0275elementStart"](35,"li",23),s["\u0275\u0275elementStart"](36,"a",24),s["\u0275\u0275text"](37,"Profile"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](38,"li",23),s["\u0275\u0275elementStart"](39,"a",24),s["\u0275\u0275text"](40,"History"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](41,"li",23),s["\u0275\u0275elementStart"](42,"a",24),s["\u0275\u0275text"](43,"Plan"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](44,"li",23),s["\u0275\u0275elementStart"](45,"a",24),s["\u0275\u0275text"](46,"Documents"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("src",t.course.companyLogo?t.blobUrl+"256px/"+t.course.companyLogo:"assets/img/placeholder.jpg",s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",(null==t.course?null:t.course.companyName)||"Company Name"," "),s["\u0275\u0275advance"](17),s["\u0275\u0275textInterpolate1"](" ",null==t.course?null:t.course.courseTitle," "),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate1"](" ",t.course.courseClassification," "),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction1"](12,g,t.course.courseID))("routerLinkActiveOptions",s["\u0275\u0275pureFunction0"](14,h)),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction1"](15,I,t.course.courseID))("routerLinkActiveOptions",s["\u0275\u0275pureFunction0"](17,h)),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction1"](18,C,t.course.courseID))("routerLinkActiveOptions",s["\u0275\u0275pureFunction0"](20,h)),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction1"](21,S,t.course.courseID))("routerLinkActiveOptions",s["\u0275\u0275pureFunction0"](23,h)))},directives:[o.f,o.e],styles:[".stage-name[_ngcontent-%COMP%]{font-size:23px!important}"]}),e})();function x(e,t){if(1&e&&s["\u0275\u0275element"](0,"app-course-header",1),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("course",e.course)}}let b=(()=>{class e{constructor(e,t){this.courseService=e,this.activatedRoute=t}ngOnInit(){this.activatedRoute.params.subscribe(e=>{this.courseID=+e.courseID,this.fillCourse()})}fillCourse(){this.courseService.getCourses(0,this.courseID).subscribe(e=>{this.course=e[0]})}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](c.a),s["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-course-detail"]],decls:2,vars:1,consts:[[3,"course",4,"ngIf"],[3,"course"]],template:function(e,t){1&e&&(s["\u0275\u0275template"](0,x,1,1,"app-course-header",0),s["\u0275\u0275element"](1,"router-outlet")),2&e&&s["\u0275\u0275property"]("ngIf",t.course)},directives:[r.n,o.h,y],styles:[".course-content[_ngcontent-%COMP%]{min-height:calc(100vh - 55px);margin-top:55px}"]}),e})(),E=(()=>{class e{constructor(e,t,n){this.courseService=e,this.activatedRoute=t,this.userService=n,this.user=this.userService.user.getValue()}ngOnInit(){this.activatedRoute.params.subscribe(e=>{this.courseID=+e.courseID,this.fillCourse()})}fillCourse(){this.course=null,this.loading=!0,this.courseService.getCourses(0,this.courseID).subscribe(e=>{this.course=e[0],this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](c.a),s["\u0275\u0275directiveInject"](o.a),s["\u0275\u0275directiveInject"](f.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-course-profile"]],decls:3,vars:2,consts:[[1,"w-100","d-flex","flex-column","filter-container",3,"avnonLoader"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("avnonLoader",t.loading),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](null==t.course?null:t.course.courseOverview))},directives:[l.a],styles:[""]}),e})(),D=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-course-enrollments"]],decls:2,vars:0,template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p"),s["\u0275\u0275text"](1,"course-enrollments works!"),s["\u0275\u0275elementEnd"]())},styles:[""]}),e})();var k=n("qe9b");let w=(()=>{class e{constructor(e){this.activatedRoute=e}ngOnInit(){this.courseID=+this.activatedRoute.parent.snapshot.params.courseID}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-course-documents"]],decls:1,vars:2,consts:[[1,"w-100",3,"referenceID","documentCategoryID"]],template:function(e,t){1&e&&s["\u0275\u0275element"](0,"app-documents-files",0),2&e&&s["\u0275\u0275property"]("referenceID",t.courseID)("documentCategoryID",8)},directives:[k.a],styles:[""]}),e})();var O=n("cxbk"),j=n("f+9o"),P=n("SdWN"),F=n("0mlJ");function M(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span",14),s["\u0275\u0275text"](1," Pending "),s["\u0275\u0275elementEnd"]())}const T=function(e){return["/event",e]};function B(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"span",15),s["\u0275\u0275text"](2," Completed "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"a",16),s["\u0275\u0275text"](4),s["\u0275\u0275pipe"](5,"date"),s["\u0275\u0275pipe"](6,"dateObject"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]().$implicit;s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction1"](7,T,e.eventID)),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind2"](5,2,s["\u0275\u0275pipeBind1"](6,5,e.endDate),"dd MMM yyyy"))}}function L(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",6),s["\u0275\u0275listener"]("click",function(){s["\u0275\u0275restoreView"](e);const n=t.$implicit;return s["\u0275\u0275nextContext"]().goToContact(n.contactID)}),s["\u0275\u0275element"](1,"img",7),s["\u0275\u0275pipe"](2,"avatar"),s["\u0275\u0275elementStart"](3,"div",8),s["\u0275\u0275elementStart"](4,"div",9),s["\u0275\u0275elementStart"](5,"h3",10),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"div",11),s["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),s["\u0275\u0275template"](8,M,2,0,"span",12),s["\u0275\u0275template"](9,B,7,9,"ng-container",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("src",s["\u0275\u0275pipeBind1"](2,5,e.profilePhoto),s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate2"](" ",e.firstname," ",e.surname," "),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",!e.eventID),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.eventID)}}const R=function(e){return{active:e}};let U=(()=>{class e{constructor(e,t,n){this.trainingPlanService=e,this.activatedRoute=t,this.router=n,this.trainingPlan=[],this.blobUrl=O.a.apiBlobUrl+"/",this.filterID=1,this.filtered=[],this.pendingCount=0,this.completedCount=0}ngOnInit(){this.activatedRoute.parent.params.subscribe(e=>{this.courseID=+e.courseID,this.getPlan()})}getPlan(){this.loading=!0,this.trainingPlanService.getCompanyTrainingPlan(0,0,0,this.courseID,0,0,0).subscribe(e=>{this.trainingPlan=e,this.filtered=e.filter(e=>!e.eventID),this.completedCount=e.filter(e=>e.eventID).length,this.pendingCount=e.filter(e=>!e.eventID).length,this.loading=!1},()=>this.loading=!1)}filter(e){this.filterID=e,this.filtered=this.trainingPlan.filter(2===e?e=>e.eventID:e=>!e.eventID)}goToContact(e){this.router.navigate(["/explore/people",e])}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](j.a),s["\u0275\u0275directiveInject"](o.a),s["\u0275\u0275directiveInject"](o.c))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-course-plan"]],decls:12,vars:10,consts:[[1,"section","section-overview",3,"avnonLoader"],[1,"d-flex","flex-column","float-left","w-100"],[1,"d-flex","filter-applicants","border-bottom","filter-container","align-items-center"],[1,"btn","btn-rounded","btn-rounded-32","mr-2","btn-sm",3,"ngClass","click"],[1,"badge","badge-primary"],["class","common-list-item flex-row d-flex w-100 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"common-list-item","flex-row","d-flex","w-100","cursor-pointer",3,"click"],["alt","network",1,"avatar","avatar-48",3,"src"],[1,"d-flex","flex-column","ml-2","flex-grow-1","mr-1"],[1,"d-flex","w-100","mb-1"],[1,"mb-0","mr-2"],[1,"d-flex","flex-column","align-items-start",3,"click"],["class","tag tag-orange",4,"ngIf"],[4,"ngIf"],[1,"tag","tag-orange"],[1,"tag","tag-green","mb-1"],[1,"ml-2",3,"routerLink"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275elementStart"](3,"a",3),s["\u0275\u0275listener"]("click",function(){return t.filter(1)}),s["\u0275\u0275text"](4," Pending "),s["\u0275\u0275elementStart"](5,"span",4),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"a",3),s["\u0275\u0275listener"]("click",function(){return t.filter(2)}),s["\u0275\u0275text"](8," Completed "),s["\u0275\u0275elementStart"](9,"span",4),s["\u0275\u0275text"](10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](11,L,10,7,"div",5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("avnonLoader",t.loading),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction1"](6,R,1===t.filterID)),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",t.pendingCount," "),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction1"](8,R,2===t.filterID)),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",t.completedCount," "),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",t.filtered))},directives:[l.a,r.l,r.m,r.n,o.f],pipes:[P.a,r.e,F.a],styles:[".avatar-60[_ngcontent-%COMP%]{height:60px;object-fit:cover}.filter-applicants[_ngcontent-%COMP%]{flex-wrap:wrap}.filter-applicants[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:relative;border:1px solid #c8c8c8}.filter-applicants[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{border:1px solid #406fe4!important;color:#406fe4}.filter-applicants[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#406fe4!important}.filter-applicants[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-size:14px}.meta[_ngcontent-%COMP%]{font-size:15px}.tag[_ngcontent-%COMP%]{top:0!important}"]}),e})();var V=n("8J6U"),_=n("6BoG");function q(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p"),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]().$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](e.venueName)}}function A(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",4),s["\u0275\u0275listener"]("click",function(){s["\u0275\u0275restoreView"](e);const n=t.$implicit;return s["\u0275\u0275nextContext"]().navigateToEvent(n)}),s["\u0275\u0275elementStart"](1,"h2"),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"span",5),s["\u0275\u0275text"](4),s["\u0275\u0275pipe"](5,"date"),s["\u0275\u0275pipe"](6,"dateObject"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](7,q,2,1,"p",6),s["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.eventTitle),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind2"](5,3,s["\u0275\u0275pipeBind1"](6,6,e.startTime),"dd MMM yyyy, HH:mm")," "),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",e.venueName)}}const N=[{path:":courseID",component:b,children:[{path:"",component:E},{path:"enrollments",component:D},{path:"documents",component:w},{path:"plan",component:U},{path:"history",component:(()=>{class e{constructor(e,t,n){this.activatedRoute=e,this.router=t,this.eventService=n,this.events=[]}ngOnInit(){this.courseID=this.activatedRoute.parent.snapshot.params.courseID,this.initEvents()}initEvents(){this.loading=!0,this.eventService.selectEvents({CompanyID:0,CourseID:this.courseID,EventSubCategoryID:0,EventCategoryID:1,ReferenceID:0,EventID:0,ContactID:0,ScheduledByID:0}).subscribe(e=>{this.events=Object(V.j)(e,"eventID"),this.loading=!1})}navigateToEvent(e){this.router.navigate(["event",e.eventID])}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](o.a),s["\u0275\u0275directiveInject"](o.c),s["\u0275\u0275directiveInject"](_.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-course-history"]],decls:6,vars:3,consts:[[1,"d-flex","flex-column","w-100",3,"avnonLoader"],[1,"filter-container","d-flex","w-100","align-items-center","border-bottom"],[1,"w-100","d-flex","flex-column"],["class","entry",3,"click",4,"ngFor","ngForOf"],[1,"entry",3,"click"],[1,"meta","m-0"],[4,"ngIf"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"span"),s["\u0275\u0275text"](3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",2),s["\u0275\u0275template"](5,A,8,8,"div",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("avnonLoader",t.loading),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("There are ",t.events.length," event(s) "),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",t.events))},directives:[l.a,r.m,r.n],pipes:[r.e,F.a],styles:[""]}),e})()}]}];let $=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.g.forChild(N)],o.g]}),e})();var z=n("oAWB"),G=n("j4PG"),H=n("GKkB"),J=n("pr+S"),K=n("6pDZ");let X=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.c,$,z.a,G.a,H.a,v.l,J.a,K.a,G.a]]}),e})();var W=n("eIep"),Y=n("sCZr"),Z=n("5eHb");function Q(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",23),s["\u0275\u0275element"](1,"i",24),s["\u0275\u0275text"](2," Package upload failed, please try again. "),s["\u0275\u0275elementEnd"]())}function ee(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"option",25),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275property"]("ngValue",e.courseClassificationID),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.courseClassification,"")}}const te=function(e){return{"ng-invalid ng-touched":e}};function ne(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",9),s["\u0275\u0275elementStart"](1,"label",26),s["\u0275\u0275text"](2,"SCORM Package file"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"input",27),s["\u0275\u0275listener"]("change",function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().onPackagePicked(t)}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction1"](1,te,e.form.controls.file.touched&&e.form.controls.file.invalid))}}function re(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"option",25),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275property"]("ngValue",e.courseCategoryID),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("",e.courseCategory," ")}}const ie=[{path:"",component:m},{path:"profile",loadChildren:()=>X},{path:"add",component:(()=>{class e{constructor(e,t,n,r,i,o){this.courseService=e,this.formBuilder=t,this.toastrService=n,this.userService=r,this.location=i,this.router=o,this.categories=[],this.classifications=[],this.packageFile=[],this.course=new Y.a,this.companyID=this.userService.user.getValue().companyID||0}ngOnInit(){this.initForm(),this.getCategories(),this.getClassifications()}getCategories(){this.courseService.getCourseCategory().subscribe(e=>{this.categories=e})}getClassifications(){this.courseService.getCourseClassification().subscribe(e=>{this.classifications=e})}initForm(){this.form=this.formBuilder.group({courseTitle:["",[i.C.required]],courseClassificationID:["",[i.C.required]],courseCategoryID:["",[i.C.required]],courseOverview:["",[i.C.required]],companyID:[this.companyID],file:[]})}submit(){if(this.form.invalid)return void Object(V.g)(this.form);const e=this.form.value;1===e.courseClassificationID&&(e.courseDuration=0,e.courseCost=0,e.courseCategoryID=0),delete e.file,this.sendingRequest=!0,this.courseService.saveCourse(e).subscribe(t=>{2!==e.courseClassificationID?(this.toastrService.success("Course saved"),this.sendingRequest=!1,this.router.navigate(["/courses"])):this.generateImportUrl(t.inOut_CourseID)},()=>{this.sendingRequest=!1})}deleteCourse(e){this.courseService.deleteCourse(e).subscribe(()=>{this.showFailedUploadHint=!0,this.sendingRequest=!1},()=>{this.sendingRequest=!1})}onPackagePicked(e){const t=e.target.files;this.packageFile.push(t.item(0)),this.form.controls.file.setValue(t.item(0))}onClassificationSelect(){2===this.form.value.courseClassificationID?this.form.controls.file.setValidators([i.C.required]):(this.form.controls.file.setValidators(null),this.form.controls.file.markAsUntouched()),this.form.controls.file.updateValueAndValidity()}generateImportUrl(e){this.courseService.generateScormImportUrl(e).pipe(Object(W.a)(e=>{const t=new FormData,n=this.packageFile[0];return a.a.production&&(e.inOut_ImportUrl=e.inOut_ImportUrl.replace("http","https")),t.append("file",n,n.name),this.courseService.uploadPackageToScorm(e.inOut_ImportUrl,t)})).subscribe(t=>{this.updateScormTitle({courseID:e,title:this.form.value.courseTitle,xmlToken:t})},()=>{this.deleteCourse(e)})}updateScormTitle(e){this.courseService.updateScormTitle(e).subscribe(()=>{this.sendingRequest=!1,this.toastrService.success("Course saved"),this.router.navigate(["/courses"])},()=>{this.sendingRequest=!1})}back(){this.location.back()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](c.a),s["\u0275\u0275directiveInject"](i.e),s["\u0275\u0275directiveInject"](Z.b),s["\u0275\u0275directiveInject"](f.a),s["\u0275\u0275directiveInject"](r.j),s["\u0275\u0275directiveInject"](o.c))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-course-add"]],decls:37,vars:8,consts:[[1,"add-content",3,"avnonLoader"],[1,"page-title"],[1,"cursor-pointer","text-primary","display-inline","mr-2",3,"click"],[1,"fas","fa-long-arrow-alt-left"],[1,"display-inline"],[1,"form-section","pl-3","pr-3","pt-3"],[1,"text-secondary"],["class","alert alert-danger",4,"ngIf"],[3,"formGroup","submit"],[1,"form-group"],["for","courseTitle"],["type","text","id","courseTitle","formControlName","courseTitle",1,"form-control"],["for","courseClassificationID"],["id","courseClassificationID","formControlName","courseClassificationID",1,"custom-select",3,"change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],["for","courseCategoryID"],["id","courseCategoryID","formControlName","courseCategoryID",1,"custom-select"],["for","courseOverview"],["id","courseOverview","rows","3","formControlName","courseOverview",1,"form-control"],[1,"form-group","bordered-form-group","text-right"],[1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle"],[3,"ngValue"],["for","packageFile"],["type","file","id","packageFile",1,"form-control",3,"ngClass","change"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"span",2),s["\u0275\u0275listener"]("click",function(){return t.back()}),s["\u0275\u0275element"](3,"i",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"h1",4),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",5),s["\u0275\u0275elementStart"](7,"p",6),s["\u0275\u0275text"](8," Please complete the form below to add a course to the library. All the fields are required "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](9,Q,3,0,"div",7),s["\u0275\u0275elementStart"](10,"form",8),s["\u0275\u0275listener"]("submit",function(){return t.submit()}),s["\u0275\u0275elementStart"](11,"div",9),s["\u0275\u0275elementStart"](12,"label",10),s["\u0275\u0275text"](13,"Course Title"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](14,"input",11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"div",9),s["\u0275\u0275elementStart"](16,"label",12),s["\u0275\u0275text"](17,"Classification"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"select",13),s["\u0275\u0275listener"]("change",function(){return t.onClassificationSelect()}),s["\u0275\u0275elementStart"](19,"option",14),s["\u0275\u0275text"](20,"Select"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](21,ee,2,2,"option",15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](22,ne,4,3,"div",16),s["\u0275\u0275elementStart"](23,"div",9),s["\u0275\u0275elementStart"](24,"label",17),s["\u0275\u0275text"](25,"Category"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"select",18),s["\u0275\u0275elementStart"](27,"option",14),s["\u0275\u0275text"](28,"Select"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](29,re,2,2,"option",15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](30,"div",9),s["\u0275\u0275elementStart"](31,"label",19),s["\u0275\u0275text"](32,"Course overview"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](33,"textarea",20),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](34,"div",21),s["\u0275\u0275elementStart"](35,"button",22),s["\u0275\u0275text"](36,"Submit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("avnonLoader",t.sendingRequest),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" Course ",null!=t.course&&t.course.courseID?"Edit":"Add"," "),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",t.showFailedUploadHint),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("formGroup",t.form),s["\u0275\u0275advance"](11),s["\u0275\u0275property"]("ngForOf",t.classifications),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",2===t.form.value.courseClassificationID),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngForOf",t.categories),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("disabled",t.sendingRequest))},directives:[l.a,r.n,i.E,i.r,i.j,i.b,i.q,i.h,i.B,i.v,i.D,r.m,r.l],styles:[".add-content[_ngcontent-%COMP%]{margin-top:55px;min-height:calc(100vh - 55px)}"]}),e})()}];let oe=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.g.forChild(ie)],o.g]}),e})();var ae=n("sYmb");let se=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.c,i.l,i.z,oe,G.a,ae.b]]}),e})()}}]);