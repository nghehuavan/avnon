(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{ZXZF:function(e,t,n){"use strict";n.r(t),n.d(t,"CustomerSatisfactionModule",function(){return v});var i=n("ofXK"),o=n("tyNb"),r=n("WZWj"),a=n("8J6U"),c=n("eIep"),s=n("fXoL"),m=n("SCsZ"),l=n("Hu2X"),d=n("5eHb"),p=n("Jn3s"),u=n("3Pt+");function h(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"div",16),s["\u0275\u0275elementStart"](2,"input",17),s["\u0275\u0275listener"]("change",function(){s["\u0275\u0275restoreView"](e);const n=t.$implicit;return s["\u0275\u0275nextContext"]().sentiment.sentimentRatingID=n}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"label",18),s["\u0275\u0275text"](4,"\xa0"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.$implicit,n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](2),s["\u0275\u0275propertyInterpolate1"]("id","rating-",e,""),s["\u0275\u0275propertyInterpolate1"]("name","rating-",e,""),s["\u0275\u0275property"]("checked",n.sentiment.sentimentRatingID===e),s["\u0275\u0275advance"](1),s["\u0275\u0275propertyInterpolate1"]("for","rating-",e,"")}}const f=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o){this.sentimentService=e,this.activatedRoute=t,this.companyService=n,this.toastrService=i,this.router=o,this.sentiment=new r.a,this.ratings=[1,2,3,4,5]}ngOnInit(){this.activatedRoute.queryParams.subscribe(e=>{this.companyConnectID=+Object(a.e)(e.ref),this.contactID=+Object(a.e)(e.contact)}),this.initData()}initData(){this.loading=!0,this.companyService.getCompanyConnect(0,0,0,this.companyConnectID).pipe(Object(c.a)(e=>(this.customer=e[0],this.sentiment.sentimentCategoryID=2,this.sentiment.referenceID=this.companyConnectID,this.sentiment.contactID=this.contactID,this.sentiment.comment="",this.sentiment.createdByCompanyID=this.customer.createdByCompanyID,this.sentiment.datePosted=Object(a.a)(new Date),this.companyService.getCompanyProfile(this.customer.createdByCompanyID)))).subscribe(e=>{this.company=e,this.loading=!1})}submit(){this.loading=!0,this.sentiment.datePosted=Object(a.a)(new Date),this.sentimentService.addSentiment(this.sentiment).subscribe(()=>{this.loading=!1,this.toastrService.success("Thanks, your feedback has been submitted"),this.router.navigate(["/"])})}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](m.a),s["\u0275\u0275directiveInject"](o.a),s["\u0275\u0275directiveInject"](l.a),s["\u0275\u0275directiveInject"](d.b),s["\u0275\u0275directiveInject"](o.c))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-customer-satisfaction"]],decls:23,vars:5,consts:[[1,"d-flex","flex-column",3,"avnonLoader"],[1,"page-title"],[1,"display-inline"],[1,"pl-3","pr-3","pt-2"],[1,"pl-3","pr-3","mt-3",3,"submit"],["f","ngForm"],[1,"form-group","d-flex","flex-column"],[1,"d-flex"],[4,"ngFor","ngForOf"],[1,"meta","mr-4"],[1,"meta","ml-4","pl-4"],[1,"form-group"],["for","comment"],["name","comment","id","comment","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","text-right"],[1,"btn","btn-primary",3,"disabled"],[1,"custom-control","custom-radio","custom-control-inline","mr-2"],["type","radio",1,"custom-control-input",3,"id","name","checked","change"],[1,"custom-control-label",3,"for"]],template:function(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"h1",2),s["\u0275\u0275text"](3,"Feedback Form"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"p",3),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"form",4,5),s["\u0275\u0275listener"]("submit",function(){return t.submit()}),s["\u0275\u0275elementStart"](8,"div",6),s["\u0275\u0275elementStart"](9,"div",7),s["\u0275\u0275template"](10,h,5,4,"ng-container",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"div",7),s["\u0275\u0275elementStart"](12,"span",9),s["\u0275\u0275text"](13,"Really Bad"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"span",10),s["\u0275\u0275text"](15,"Really Good"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",11),s["\u0275\u0275elementStart"](17,"label",12),s["\u0275\u0275text"](18,"Please provide any comments or suggestions on how we can improve our products & services"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"textarea",13),s["\u0275\u0275listener"]("ngModelChange",function(e){return t.sentiment.comment=e}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"div",14),s["\u0275\u0275elementStart"](21,"button",15),s["\u0275\u0275text"](22,"Submit"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275reference"](7);s["\u0275\u0275property"]("avnonLoader",t.loading),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" How would you rate the quality of the product & services you've received from ",null==t.company?null:t.company.companyName," over the past month? "),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngForOf",t.ratings),s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("ngModel",t.sentiment.comment),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("disabled",e.invalid||t.loading)}},directives:[p.a,u.E,u.r,u.s,i.m,u.b,u.A,u.q,u.t],styles:[".btn-light[_ngcontent-%COMP%]{border-color:#a5a5a5;color:#a5a5a5}"]}),e})()}];let g=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.g.forChild(f)],o.g]}),e})();var y=n("j4PG");let v=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,g,y.a,u.l,u.z]]}),e})()}}]);